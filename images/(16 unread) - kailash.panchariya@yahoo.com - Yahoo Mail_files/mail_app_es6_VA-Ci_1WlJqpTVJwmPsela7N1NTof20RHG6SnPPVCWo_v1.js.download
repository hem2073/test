!function(e){function t(t){for(var n,o,i=t[0],c=t[1],l=t[2],u=0,m=[];u<i.length;u++)a[o=i[u]]&&m.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(d&&d(t);m.length;)m.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],n=!0,i=1;i<s.length;i++){0!==a[s[i]]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},a={4:0},r=[];function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.e=function(e){var t=[],s=a[e];if(0!==s)if(s)t.push(s[2]);else{var n=new Promise(function(t,n){s=a[e]=[t,n]});t.push(s[2]=n);var r,i=document.createElement("script");i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.src=o.p+window.ymailManifest[e],r=function(t){i.onerror=i.onload=null,clearTimeout(c);var s=a[e];if(0!==s){if(s){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+n+": "+r+")");o.type=n,o.request=r,s[1](o)}a[e]=void 0}};var c=setTimeout(function(){r({type:"timeout",target:i})},12e4);i.onerror=i.onload=r,document.head.appendChild(i)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;r.push([654,0]),s()}([function(e,t,s){"use strict";s.d(t,"ge",function(){return o}),s.d(t,"ne",function(){return i}),s.d(t,"le",function(){return c}),s.d(t,"me",function(){return l}),s.d(t,"ke",function(){return d}),s.d(t,"yb",function(){return u}),s.d(t,"he",function(){return m}),s.d(t,"W",function(){return p}),s.d(t,"Pb",function(){return _}),s.d(t,"r",function(){return h}),s.d(t,"eb",function(){return E}),s.d(t,"Kc",function(){return g}),s.d(t,"Q",function(){return b}),s.d(t,"kb",function(){return I}),s.d(t,"Cc",function(){return f}),s.d(t,"tc",function(){return S}),s.d(t,"sc",function(){return A}),s.d(t,"rc",function(){return T}),s.d(t,"hc",function(){return C}),s.d(t,"gc",function(){return O}),s.d(t,"Zd",function(){return R}),s.d(t,"J",function(){return N}),s.d(t,"cb",function(){return M}),s.d(t,"ub",function(){return D}),s.d(t,"Hc",function(){return y}),s.d(t,"Jd",function(){return L}),s.d(t,"zd",function(){return v}),s.d(t,"yd",function(){return P}),s.d(t,"wd",function(){return F}),s.d(t,"Eb",function(){return x}),s.d(t,"cd",function(){return w}),s.d(t,"sb",function(){return k}),s.d(t,"Kd",function(){return H}),s.d(t,"I",function(){return U}),s.d(t,"Rc",function(){return j}),s.d(t,"t",function(){return G}),s.d(t,"hd",function(){return B}),s.d(t,"zb",function(){return V}),s.d(t,"u",function(){return W}),s.d(t,"lb",function(){return Z}),s.d(t,"Db",function(){return Y}),s.d(t,"K",function(){return X}),s.d(t,"ic",function(){return $}),s.d(t,"pd",function(){return Q}),s.d(t,"oc",function(){return J}),s.d(t,"pc",function(){return ee}),s.d(t,"nc",function(){return te}),s.d(t,"Yb",function(){return ne}),s.d(t,"bc",function(){return ae}),s.d(t,"Uc",function(){return re}),s.d(t,"ee",function(){return oe}),s.d(t,"V",function(){return ie}),s.d(t,"w",function(){return ce}),s.d(t,"Ub",function(){return le}),s.d(t,"Wd",function(){return de}),s.d(t,"U",function(){return ue}),s.d(t,"Tb",function(){return me}),s.d(t,"wb",function(){return pe}),s.d(t,"kc",function(){return _e}),s.d(t,"Zc",function(){return he}),s.d(t,"Ld",function(){return Ee}),s.d(t,"Md",function(){return ge}),s.d(t,"Ac",function(){return be}),s.d(t,"Bc",function(){return Ie}),s.d(t,"b",function(){return fe}),s.d(t,"Nc",function(){return Se}),s.d(t,"uc",function(){return Te}),s.d(t,"Wb",function(){return Ce}),s.d(t,"mc",function(){return Oe}),s.d(t,"lc",function(){return Re}),s.d(t,"ld",function(){return Me}),s.d(t,"H",function(){return De}),s.d(t,"Cd",function(){return ye}),s.d(t,"gd",function(){return Le}),s.d(t,"fd",function(){return ve}),s.d(t,"Xc",function(){return Pe}),s.d(t,"Yc",function(){return Fe}),s.d(t,"fe",function(){return xe}),s.d(t,"Wc",function(){return we}),s.d(t,"ce",function(){return ke}),s.d(t,"g",function(){return He}),s.d(t,"id",function(){return Ue}),s.d(t,"Xb",function(){return Ge}),s.d(t,"e",function(){return Be}),s.d(t,"Qc",function(){return Ve}),s.d(t,"f",function(){return We}),s.d(t,"je",function(){return qe}),s.d(t,"Zb",function(){return ze}),s.d(t,"ac",function(){return Ze}),s.d(t,"Fb",function(){return Ke}),s.d(t,"Td",function(){return Ye}),s.d(t,"Gb",function(){return Xe}),s.d(t,"vd",function(){return $e}),s.d(t,"Qd",function(){return Qe}),s.d(t,"Y",function(){return Je}),s.d(t,"Gd",function(){return et}),s.d(t,"Hd",function(){return tt}),s.d(t,"Fd",function(){return st}),s.d(t,"Sd",function(){return nt}),s.d(t,"Rd",function(){return at}),s.d(t,"P",function(){return rt}),s.d(t,"Gc",function(){return ot}),s.d(t,"ud",function(){return it}),s.d(t,"ec",function(){return ct}),s.d(t,"ab",function(){return lt}),s.d(t,"Fc",function(){return dt}),s.d(t,"h",function(){return ut}),s.d(t,"fc",function(){return mt}),s.d(t,"qc",function(){return pt}),s.d(t,"cc",function(){return _t}),s.d(t,"s",function(){return ht}),s.d(t,"kd",function(){return Et}),s.d(t,"jd",function(){return gt}),s.d(t,"ob",function(){return bt}),s.d(t,"qb",function(){return It}),s.d(t,"pb",function(){return ft}),s.d(t,"rb",function(){return St}),s.d(t,"L",function(){return At}),s.d(t,"n",function(){return Tt}),s.d(t,"o",function(){return Ct}),s.d(t,"Vd",function(){return Ot}),s.d(t,"z",function(){return Rt}),s.d(t,"qd",function(){return Nt}),s.d(t,"xd",function(){return Mt}),s.d(t,"Hb",function(){return Dt}),s.d(t,"Bb",function(){return yt}),s.d(t,"tb",function(){return Lt}),s.d(t,"y",function(){return vt}),s.d(t,"wc",function(){return Pt}),s.d(t,"Ic",function(){return Ft}),s.d(t,"q",function(){return xt}),s.d(t,"ib",function(){return wt}),s.d(t,"Ab",function(){return kt}),s.d(t,"G",function(){return Ht}),s.d(t,"hb",function(){return Ut}),s.d(t,"Bd",function(){return jt}),s.d(t,"Ad",function(){return Gt}),s.d(t,"R",function(){return Bt}),s.d(t,"vc",function(){return Vt}),s.d(t,"A",function(){return Wt}),s.d(t,"p",function(){return qt}),s.d(t,"bd",function(){return zt}),s.d(t,"xb",function(){return Zt}),s.d(t,"zc",function(){return Kt}),s.d(t,"de",function(){return Yt}),s.d(t,"Pd",function(){return Xt}),s.d(t,"mb",function(){return $t}),s.d(t,"nd",function(){return Qt}),s.d(t,"yc",function(){return Jt}),s.d(t,"xc",function(){return es}),s.d(t,"jb",function(){return ts}),s.d(t,"v",function(){return ss}),s.d(t,"Dd",function(){return ns}),s.d(t,"X",function(){return as}),s.d(t,"Ec",function(){return rs}),s.d(t,"Vb",function(){return os}),s.d(t,"Ob",function(){return is}),s.d(t,"x",function(){return cs}),s.d(t,"Ib",function(){return ls}),s.d(t,"ed",function(){return ds}),s.d(t,"dd",function(){return us}),s.d(t,"Cb",function(){return ms}),s.d(t,"dc",function(){return ps}),s.d(t,"Z",function(){return _s}),s.d(t,"Qb",function(){return hs}),s.d(t,"Sb",function(){return Es}),s.d(t,"md",function(){return gs}),s.d(t,"Yd",function(){return bs}),s.d(t,"ie",function(){return Is}),s.d(t,"Ud",function(){return fs}),s.d(t,"vb",function(){return Ss}),s.d(t,"Xd",function(){return As}),s.d(t,"Od",function(){return Ts}),s.d(t,"db",function(){return Cs}),s.d(t,"nb",function(){return Os}),s.d(t,"l",function(){return Rs}),s.d(t,"m",function(){return Ns}),s.d(t,"Dc",function(){return Ms}),s.d(t,"D",function(){return Ds}),s.d(t,"E",function(){return ys}),s.d(t,"B",function(){return Ls}),s.d(t,"Rb",function(){return vs}),s.d(t,"Oc",function(){return Ps}),s.d(t,"Pc",function(){return Fs}),s.d(t,"Vc",function(){return xs}),s.d(t,"F",function(){return ws}),s.d(t,"i",function(){return ks}),s.d(t,"j",function(){return Hs}),s.d(t,"N",function(){return Us}),s.d(t,"fb",function(){return js}),s.d(t,"rd",function(){return Gs}),s.d(t,"Sc",function(){return Bs}),s.d(t,"M",function(){return Vs}),s.d(t,"c",function(){return Ws}),s.d(t,"Jb",function(){return qs}),s.d(t,"Nb",function(){return zs}),s.d(t,"S",function(){return Zs}),s.d(t,"k",function(){return Ks}),s.d(t,"Nd",function(){return Ys}),s.d(t,"ad",function(){return Xs}),s.d(t,"be",function(){return $s}),s.d(t,"Id",function(){return Qs}),s.d(t,"C",function(){return Js}),s.d(t,"bb",function(){return en}),s.d(t,"Lc",function(){return tn}),s.d(t,"od",function(){return sn}),s.d(t,"Jc",function(){return nn}),s.d(t,"jc",function(){return an}),s.d(t,"ae",function(){return rn}),s.d(t,"O",function(){return on}),s.d(t,"td",function(){return cn}),s.d(t,"d",function(){return ln}),s.d(t,"Ed",function(){return dn}),s.d(t,"Tc",function(){return un}),s.d(t,"sd",function(){return mn}),s.d(t,"a",function(){return pn}),s.d(t,"T",function(){return _n}),s.d(t,"Mc",function(){return hn}),s.d(t,"Lb",function(){return En}),s.d(t,"Mb",function(){return gn}),s.d(t,"Kb",function(){return bn}),s.d(t,"gb",function(){return In});var n=s(228),a=s(8),r=s(71);const o="YMailNorrin",i="YMailNorrinLaunch",c="YMailNoble",l="YMailNodin",d="YahooMailNeo",u=959521194,m=(e="us",t="en-US")=>`https://login.yahoo.com/?display=login&.intl=${e}&.lang=${t}&.src=ym&done=https%3A%2F%2Fmail.yahoo.com%2Fd&prefill=0`,p=2,_=3,h={MAIL_APP:"MAIL_APP",MOBILE_APP:"MOBILE_APP",BASIC_MAIL_APP:"BASIC_MAIL_APP",BASIC_MOBILE_APP:"BASIC_MOBILE_APP"},E="EMPTY_SEARCH_QUERY",g="/img/grocery.png",b="STORE_FORWARD",I={IC:"ic"},f=Object(a.c)(["MESSAGE","COMPOSE","SEARCH","NAVIGATION","V3_MAIL_READER","MAIL_READER","PREVIEW","SPONSORED_MESSAGE","TUTORIAL"]),S=(Object(a.c)(["ALERT","CONFIRM","PROMPT"]),Object(a.c)(["NORMAL","ADVISORY","WARNING","POSITIVE","NEGATIVE","PENDING","FOWARDING_WARNING"])),A={ALERT_DIALOG:"alertdialog",STATUS:"status",ALERT:"alert"},T={LOW:1,MEDIUM:2,HIGH:3},C=Object(a.c)(["READ","STAR","SPAM","HAM","MOVE","DELETE","ANSWER","FORWARD","DECO"]),O=Object(a.c)(["SUCCESS","ASYNC","FAIL","PARTIAL"]),R=Object(a.c)(["LAUNCH","DOCUMENT_FETCH","COMPOSE_SUGGESTIONS_FETCH","SEARCH_SUGGESTIONS_FETCH","IMPORTANT_CONTACTS_FETCH","VIDEO_CHANNELS_METADATA_FETCH","VIDEO_CHANNEL_FETCH","COMPOSE","MESSAGE_ITEM_TO_FETCH","MESSAGE_ITEM_TO_UPDATE","LIST_TO_UPDATE","GEMINI_AD_ASSET","SETTINGS_TO_CHANGE","BLOCKED_SENDERS_TO_FETCH","BUSINESS_LISTING","GEO_LOCATION","GEMINI_AD","RELATED_SEARCHES_TO_FETCH","PAYMENTS_CONTENT_TO_FETCH","ASYNC_TASK_STATUS","OLYMPIC_CONTENT_TO_FETCH","COMPONENT_UI_STATE","CONTACT_CARD","GIFS_TO_FETCH","GIF_CATEGORY_TO_FETCH","CONTACT_LIST_TO_FETCH","ACCOUNT_TO_UPDATE","BASENAME_TO_CREATE","FOLDER","RSVP_FETCH","VACATION_RESPONSE_SETTINGS","MORE_ITEMS_TO_FETCH","RAW_MESSAGE","RELATED_COUPONS_TO_FETCH","PARENT_MESSAGE_TO_FETCH","COUPON_RECOMMENDATIONS_TO_FETCH","COUPONS_TO_FETCH","CONVERSATION_MODE_TO_UPDATE","TOP_COUPONS_TO_FETCH","PLA_ADS_TO_FETCH","TOP_RETAILERS_TO_FETCH","TOP_DEAL_CATEGORIES_TO_FETCH","YAHOO_DEALS_TO_FETCH","RECENT_SEARCH_DELETE","CONTACTS_LIST","CONTACTS_CATEGORY_LIST","CONTACT_DETAILS","EDIT_CONTACT","CONTACT_SAVE","CONTACT_PHOTO_UPLOAD","SOCIAL_ACCOUNT_IMPORT","SOCIAL_ACCOUNT_AUTH_URL","SOCIAL_ACCOUNT_STATUS","CONTACT_CREATE","CONTACT_DELETE","ACTIVATE_OFFER","ACTIVATED_OFFERS","MORE_ACTIVATED_OFFERS","MORE_OFFERS","OFFERS","RETAILER_LINK","RETAILER_UNLINK","RETAILERS","SAVINGS","SR_RETAILERS","PENSIEVE_ITEM_TO_DELETE","COUPON_SEARCH","ACCOUNT_DELETE","ACCOUNT_ADD","SAVED_SEARCH","LOCATION_TO_UPDATE","CONVERSATION_MODE_TO_UPDATE","ACCOUNT_TO_REAUTH","ALIAS_EMAIL_TO_CREATE","CONFIRM_EMAIL_TO_RESEND","SHOPLIFT_AD_TO_FETCH","COMPOSE_ATTRIBUTES_TO_FETCH","POST_LUNCH_TO_SYNC","FETCH_PRIMARY_ACCOUNT","LINK_ENHANCER_TO_FETCH"]),N={Modes:Object(a.c)(["NEW","REPLY","REPLY_ALL","FORWARD","EDIT","SPONSORED_FORWARD"])},M={Status:Object(a.c)(["DOES_NOT_EXIST","INIT","EDITED","SAVING","SAVED","SAVED_PARTIAL","SAVE_FAILED","SENDING","SEND_FAILED","SENT","CAPTCHAING"])},D=Object(a.c)(["INBOX","BULK","DRAFT","SENT","TRASH","ARCHIVE","TOKENCACHE","USER","STAGING","SYNC","NOTES","DELETED","CHATS","INVISIBLE","NOT_SEARCHABLE","EXTERNAL_ALL","ALERTSTORE","CARD"]),y=Object(a.c)([D.INBOX,D.DRAFT,D.SENT,D.TRASH,D.BULK,D.ARCHIVE,D.TOKENCACHE,D.USER,D.STAGING,D.SYNC,D.NOTES,D.DELETED,D.CHATS]),L=Object(a.c)([D.INBOX,D.DRAFT,D.SENT,D.ARCHIVE,D.TRASH,D.BULK]),v=Object(a.c)(["UNREAD","STARRED","DOCUMENTS","PHOTOS","PHOTOS_EMAIL","PHOTOS_MOBILE","TUTORIAL","COUPONS","RECEIPTS","TRAVEL","TRAVEL_PAST","TRAVEL_EMAILS","PEOPLE","FINANCE","SOCIAL","SHOPPING","SHOPPING_EMAILS","SHOPPING_YAHOO_DEALS","GROCERIES"]),P=Object(a.c)(["TAB_BAR","SIDE_BAR"]),F={[v.UNREAD]:"is:unread",[v.STARRED]:"is:starred",[v.TRAVEL]:"is:travel",[v.COUPONS]:"is:shopping"},x=[v.PHOTOS,v.DOCUMENTS,v.COUPONS,v.GROCERIES,v.TRAVEL,v.TUTORIAL,v.RECEIPTS],w=Object(a.c)(["USER"]),k=Object.assign(Object(a.c)(["ALL_MAIL"]),D),H={INBOX:"1",DRAFT:"3",SENT:"2",TRASH:"4",SPAM:"6"},U=Object(a.c)(["DOWN","LEFT","NONE"]),j=Object(a.c)(["DOES_NOT_EXIST","REFRESHING","LOADING","LOADED","ERROR"]),G=Object(a.c)(["DELETED","LOADING","LOADED","ERROR","DELETING"]),B=Object(a.c)(["CONTACT","SUBJECT"]),V={TRIPODWEB:"tripodweb"},W={Types:{TEXT:"text",IMAGE:"image",MESSAGE:"message",VIDEO:"video",AUDIO:"audio",APPLICATION:"application"},SubTypes:{ACROBAT:"acrobat",CALENDAR:"calendar",CSS:"css",CSV:"csv",DELIVERY_STATUS:"delivery-status",DOC:"msword",DOCX:"vnd.openxmlformats-officedocument.wordprocessingml.document",DOT:"dot",EXCEL:"excel",FRAMEMAKER:"vnd.framemaker",GDOCX:"vnd.google-apps.document",GIF:"gif",GPPT:"vnd.google-apps.presentation",GXLS:"vnd.google-apps.spreadsheet",GZIP:"x-gzip",HTML:"html",ICS:"ics",MS_WORD:"microsoft_word",MSEXCEL:"msexcel",MSTNEF:"ms-tnef",PDF:"pdf",PLAIN:"plain",PNG:"png",PPT:"vnd.ms-powerpoint",PPTX:"vnd.openxmlformats-officedocument.presentationml.presentation",PPTX_SLIDESHOW:"vnd.openxmlformats-officedocument.presentationml.slideshow",PPTX_TEMPLATE:"vnd.openxmlformats-officedocument.presentationml.template",RFC822:"rfc822",RICHTEXT:"richtext",SC2:"mswor2c sc2",TAR:"x-tar",TIFF:"tiff",VND_MS_WORD:"vnd.ms-word",VND_MSWORD:"vnd.msword",VND_PDF:"vnd.pdf",WINWORD:"winword",WORD:"word",X_COMPRESSED:"x-compressed",X_DOT:"x-dot",X_EXCEL:"x-excel",X_FM:"x-fm",X_FRAMEMAKER:"x-framemaker",X_MAKER:"x-maker",X_MS_EXCEL:"x-dos_ms_excel",X_MS_WORD:"x-msword",X_MSW6:"x-msw6",X_PDF:"x-pdf",X_RTF:"x-rtf",X_SOFFICE:"x-soffice",X_XLS:"x-xls",X_ZIP:"x-zip-compressed",XLS:"vnd.ms-excel",XLS_M:"vnd.ms-excel.sheet.macroEnabled.12",XLS_M_TEMPLATE:"vnd.ms-excel.template.macroEnabled.12",XLS_TEMPLATE:"vnd.openxmlformats-officedocument.spreadsheetml.template",XLSX:"vnd.openxmlformats-officedocument.spreadsheetml.sheet",XML:"xml",ZIP:"zip",ZZ_DOT:"zz-winassoc-dot"},Dispositions:{ATTACHMENT:"attachment",INLINE:"inline"},SimplifiedTypes:{APPLICATION:"application",IMAGE:"image",VIDEO:"video",FILE:"file",AUDIO:"audio",COMPRESSED:"compressed",CAL:"cal",PDF:"pdf",XLS:"xls",DOC:"doc",PPT:"ppt",TEXT:"text",CSV:"csv",TIFF:"tiff"}},q={TIMEZONE:"web.timezone",LAST_OBSERVED_TIMEZONE:"web.lastObservedTimezone"},z=babelHelpers.extends({},{DESKTOP_MAIL_VERSION:"web.ymv",CONVERSATIONS:"web.enableConversations"},{DESKTOP_MAIL_PREVIOUS_VERSION:"web.previousClientVersion",DESKTOP_MAIL_VERSION_HISTORY:"web.clientVersionHistory"}),Z={HAS_ADS:"hasAds",MOBILE_YMV:"ymvMobile",THEME:"web.mailTheme",POSTCARD_THEME:"web.postcardTheme",THEME_MODE:"web.themeMode",INTERSTITIAL_FREQUENCY:"web.interstitialFrequency",SHOW_ALL_SYSTEM_FOLDERS:"web.showAllSystemFolders",CLIENT_BUCKETS:"web.clientBuckets",SCOUT_ONBOARDING:"web.norrinOnboard",IS_UDB_MIGRATION_COMPLETE:"web.isUdbMigrationComplete",BLOCK_IMAGES:"web.blockImages",LEGAL_JURISDICTION:"cp.legalJurisdiction",CONSENT_EVENTS:"cp.consentEvents"},K=(babelHelpers.extends({},Z,q,z),{HAS_ADS:"hasAds",MOBILE_YMV:"ymvMobile",INTERSTITIAL_FREQUENCY:"web.interstitialFrequency",IS_UDB_MIGRATION_COMPLETE:"web.isUdbMigrationComplete",SCOUT_ONBOARDING:"web.norrinOnboard",MOBILE_SHOW_IMAGES:"mobileweb.showImages",MOBILE_THEME:"mobileweb.mailTheme",MOBILE_THEME_MODE:"mobileweb.themeMode",PREFERRED_AD_FORMAT:"adFormatPreference"}),Y=(babelHelpers.extends({},K,q),{PREVIEW_PANE:"web.mailPreviewPane",MAIL_TABS:"web.mailTabs",SNIPPETS:"web.generalSnippet",MSG_LIST_DENSITY:"web.msgsListDensity",DESKTOP_NOTIFICATION:"web.desktopNotification",SHOW_CUSTOM_FOLDERS:"web.showCustomFolders",HIDE_AD:"web.hideAd",EXPANDED_FOLDERS:"web.expandedFolders",STATIONERY_DEFAULT_THEME:"web.stationeryTheme",ACTION_AFTER_MSG_MOVE:"web.actionAfterMsgMove",UNSUBSCRIBE_NOTIFICATION:"web.showUnsubscribeNotification",UNSUBSCRIBE_TIMESTAMP:"web.unsubscribeTimestamp",NUM_UNSUBSCRIBED_ITEMS:"web.numUnsubscribedItems",MARK_AS_READ_INTERVAL:"web.markAsReadInterval",SYSTEM_TABS:"web.systemTabs",EMAIL_SUBSCRIPTIONS:"web.emailSubscriptions",AD_BLOCK_FEATURE_CUE_ID:"web.adBlockFeatureCueId",SUPPRESSED_UPSELLS:"web.suppressedUpsells"}),X={COMPOSE_FONT_FAMILY:"web.composeFontFamily",COMPOSE_FONT_SIZE:"web.composeFontSize",LINK_ENHANCER:"web.enableEnhancerLinkPreview",RECENTLY_USED_EMOJIS:"web.emojiRecentlyUsed"},$={MOBILE_NOTIFICATION:"mobileweb.notifications",MOBILE_SNIPPETS:"mobileweb.snippets",MOBILE_THEME:"mobileweb.mailTheme",MOBILE_THEME_MODE:"mobileweb.themeMode",PREFERRED_AD_FORMAT:"adFormatPreference"},Q=babelHelpers.extends({},X,{VACATION_PREFERENCES:"vacationPreferences",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",MESSAGE_FILTERS:"messageFilters",DEA_BASE_NAME:"disposableAddressesPrefix",MAILBOX_SIZE:"mailboxSize",TWEET:"web.enableTweet"}),J=babelHelpers.extends({},X,{MAILBOX_SIZE:"mailboxSize"}),ee=babelHelpers.extends({},Z,Y,Q,z,q,X),te=babelHelpers.extends({},$,K,q,{MOBILE_CONVERSATIONS:"mobileweb.conversations",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders"}),se=babelHelpers.extends({},{HAS_ADS:"hasAds",ACTION_AFTER_MSG_MOVE:"web.actionAfterMsgMove",SHOW_CUSTOM_FOLDERS:"web.showCustomFolders",TIMEZONE:"web.timezone",BLOCK_IMAGES:"web.blockImages"},{HAS_ADS:"hasAds",VACATION_PREFERENCES:"vacationPreferences",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",DEA_BASE_NAME:"disposableAddressesPrefix"}),ne=babelHelpers.extends({},te,Z,ee,se,{USE_RICH_TEXT:"web.useRichText",ADD_UNKNOWN_CONTACT:"web.addUnknownContact",EXPAND_SMART_VIEWS:"web.showSmartViews",XOBNI:"xobni",KEY_TASKS_PANEL:"web.keyTasksPanel",COMPOSE_SHOW_CC:"web.composeShowCc",COMPOSE_SHOW_BCC:"web.composeShowBcc",CC_ON_SEND:"web.ccOnSend",BCC_ON_SEND:"web.bccOnSend",BREAKING_NEWS:"web.breakingNews",HIDE_LINKEDIN_FOOTER:"web.autoSuggestHideLinkedinFooter",HIDE_LINKEDIN_RECONNECT:"web.hideLinkedinReconnect",SUPRESS_EMPTY_FOLDER_VIDEO:"web.suppressEmptyFolderVideo",SORT_SEARCH_BY:"web.searchSortBy",PEOPLE_NOTIFICATION:"web.peopleNotification",IMPORTANT_NOTIFICATION:"web.importantNotification",CANCEL_DELETE_COUNT:"web.cancelClickOnHoverDeleteCount",CONFIRM_BEFORE_DELETE:"web.confirmBeforeDelete",SHOW_EMAIL_HISTORY:"web.showEmailHistory",MARK_AS_READ_INTERVAL:"web.markAsReadInterval",SHOW_CLOUD_PERMISSION_DIALOG:"web.showCloudFilePermissionsDialog",ONBOARDING:"mailOnBoard",SYSTEM_TABS:"web.systemTabs",POSTCARD_THEME:"web.postcardTheme"}),ae=Object(a.c)(["INTERSTITIAL_FREQUENCY","CLIENT_BUCKETS","PREVIEW_PANE","MAIL_TABS","SNIPPETS","MSG_LIST_DENSITY","LINK_ENHANCER","DESKTOP_NOTIFICATION","MOBILE_NOTIFICATION","COMPOSE_FONT_FAMILY","COMPOSE_FONT_SIZE","EXPANDED_FOLDERS","SHOW_CUSTOM_FOLDERS","HIDE_AD","TWEET","STATIONERY_DEFAULT_THEME","ACTION_AFTER_MSG_MOVE","BLOCK_IMAGES","USE_RICH_TEXT","ADD_UNKNOWN_CONTACT","EXPAND_SMART_VIEWS","KEY_TASKS_PANEL","THEME","THEME_MODE","COMPOSE_SHOW_CC","COMPOSE_SHOW_BCC","CC_ON_SEND","BCC_ON_SEND","BREAKING_NEWS","HIDE_LINKEDIN_FOOTER","HIDE_LINKEDIN_RECONNECT","SUPRESS_EMPTY_FOLDER_VIDEO","SORT_SEARCH_BY","SUPPRESSED_UPSELLS","AD_BLOCK_FEATURE_CUE_ID","PEOPLE_NOTIFICATION","IMPORTANT_NOTIFICATION","CANCEL_DELETE_COUNT","CONFIRM_BEFORE_DELETE","SHOW_EMAIL_HISTORY","MARK_AS_READ_INTERVAL","SHOW_CLOUD_PERMISSION_DIALOG","ONBOARDING","UNSUBSCRIBE_NOTIFICATION","UNSUBSCRIBE_TIMESTAMP","NUM_UNSUBSCRIBED_ITEMS","RECENTLY_USED_EMOJIS","SYSTEM_TABS","EMAIL_SUBSCRIPTIONS","SCOUT_ONBOARDING","MOBILE_SHOW_IMAGES","MOBILE_SNIPPETS","MOBILE_THEME","MOBILE_THEME_MODE","DESKTOP_MAIL_VERSION","DESKTOP_MAIL_PREVIOUS_VERSION","DESKTOP_MAIL_VERSION_HISTORY","POSTCARD_THEME","CONVERSATIONS","TIMEZONE","LAST_OBSERVED_TIMEZONE","IS_UDB_MIGRATION_COMPLETE","PREFERRED_AD_FORMAT"]),re={LIST:"list",BASE:"base",FOLDER:"folder",MESSAGE_FROM_FOLDER_LIST:"message_from_folder_list",MESSAGE_FROM_SEARCH_LIST:"message_from_search_list",MESSAGE_GROUP_LIST_FROM_FOLDER_LIST:"message_group_list_from_folder_list",MESSAGE_FROM_LIST:"message_from_list",NEW_DRAFT:"new_draft",EDIT_DRAFT:"edit_draft",SEARCH:"search",SETTINGS:"settings",CONTACTS:"contacts",CONTACT_DETAILS:"contact_details",CONTACT_DETAILS_FROM_SEARCH:"contact_details_from_search",EDIT_CONTACT:"edit_contact",EDIT_CONTACT_FROM_SEARCH:"edit_contact_from_search",CREATE_CONTACT:"create_contact",SIGNATURES_FROM_SETTINGS:"signatures_from_settings",EDIT_FOLDER:"edit_folder",THEME_CHOOSER:"theme_chooser",ACCOUNT_LIST_FROM_SETTINGS:"account_list_from_settings",ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST:"account_selector_from_account_list",ADD_ACCOUNT_PROVIDER:"add_account_provider",ATTACHMENT:"attachment",SPONSORED_MESSAGE:"sponsored_message",SECURE_COMPOSE:"secure_compose",SECURE_BODY:"secure_body",SECURE_SETTINGS:"secure_settings",TUTORIAL:"tutorial",PHOTO:"photo",MESSAGE:"message",BLOCKED_SENDERS:"blocked_senders",LIST_FOLDERS:"list_folders",LOAD_CONTACT:"load_contact"},oe=(Object(a.c)([re.SETTINGS]),"/d"),ie="/d",ce="/b",le="/m",de="/[dm]",ue=ie+"/log",me=le+"/log",pe=oe+"/heartbeat",_e=oe+"/optout",he="http://yo/norrinjsesearch",Ee="https://www.huffingtonpost.com/static/terms",ge="https://www.shoprunner.com/terms/sr/",be="http://privacy.aol.com/",Ie="https://www.shoprunner.com/about/policies/",fe="https://payments.mail.yahoo.com",Se="/public/js/rapidworker_1.2.js",Ae="https://mail.yahoo.com",Te=Ae+"/neo/b/launch",Ce=Ae+"/neo/m/launch",Oe=Ae+"/d",Re=Oe+"/"+re.TUTORIAL,Ne=["yql","price_grabber_api","location_autosuggest_api","heartbeat","gemini_api","video_api","subscription_api","linkEnhancer","payment_api","oauth","bootcamp_api","udb"].join("|"),Me=(new RegExp("^(?!"+de+"/("+Ne+")/?)"),new RegExp("^"+ie+"(?!/("+Ne+")/?)"),new RegExp("^"+ce+"(?!/("+Ne+")/?)"),new RegExp("^"+le+"(?!/("+Ne+")/?)"),new RegExp("^/bm(?!/("+Ne+")/?)"),{ALL:"all",NONE:"none",READ:"read",UNREAD:"unread",STARRED:"flagged",UNSTARRED:"unflagged"}),De=Object(a.c)(["NONE","ALL","PARTIAL"]),ye={DATE_DESC:"date_desc",DATE_ASC:"date_asc",UNREAD:"unread",STARRED:"flagged",SENDER:"sender",RECIPIENT:"recipient",SUBJECT:"subject",ATTACHMENT:"attachment",RELEVANCE:"relevance",CARD_DATE_DESC:"carddate_desc",CARD_DATE_ASC:"carddate_asc"},Le={DESC:ye.DATE_DESC,ASC:ye.DATE_ASC},ve={DESC:ye.DATE_DESC,ASC:ye.DATE_ASC,ATTACHMENT:ye.ATTACHMENT,RELEVANCE:ye.RELEVANCE},Pe="cardDate",Fe="time asc",xe=28,we=Math.floor(65535*Math.random()),ke="https://data.mail.yahoo.com/xobni",He=Object(a.c)(["FREE","IMAPIN","ALIAS","SENDAS","DEA","PARTNER","POPIN","BIZMAIL","PHONE","EXTERNAL"]),Ue=[He.FREE,He.IMAPIN,He.PARTNER,He.BIZMAIL],je=Object(a.c)(["STORM","ODIN","MUNIN","NORRIN","NOBLE","NODIN"]),Ge={[je.STORM]:"4",[je.ODIN]:"5",[je.NODIN]:"5",[je.NORRIN]:"6"},Be=Object(a.c)(["IMAPIN","ALIAS","SENDAS","DEA"]),Ve=[He.PARTNER,He.FREE,He.IMAPIN,He.BIZMAIL],We=Object(a.c)(["ENABLED","DISABLED","DELETED","PENDING","DELETE_IN_PROGRESS"]),qe=(Object(a.c)(["PLAIN","OAUTH2","PASSKEY"]),Object(a.c)(["DISABLED","DELETED","MAINTENANCE"])),ze=Object(a.c)(["ENABLED","DISABLED","DELETED","MAINTENANCE","MIGRATION","INACTIVE"]),Ze=Object(a.c)(["FREE","EXTERNAL","PHONE","BIZMAIL","PARTNER"]),Ke=Object(a.c)(["MESSAGES","MESSAGE","IMAGES","DOCUMENTS","LINKS","PEOPLE","EXTRACTIONS","ADS","PENCIL_AD","AD_FEEDBACK","GIFS","TIMECHUNK","LOAD_MORE","FOLDER","SMARTVIEW","TRAVEL_CARDS","COUPON_SEPARATOR","TOP_DEALS_HEADER","RECEIPT_SEPARATOR","ZERO_SAVED_GROCERY_STORES","GROCERY_STORES_SEPARATOR","SINGLE_STORE_SEPARATOR","CONTACTS","CONTACTS_SEPARATOR","CONTACTS_CONTROLS","EXPAND_COLLAPSE_CONTACTS","LOADING_INDICATOR","COUPON_CARDS","GROCERY_STORES","OFFER_CARDS","REFUND_CARDS","ZERO_SAVED_COUPONS","CARDS","SEARCH_PLACEHOLDER","COMPOSE","PLAADS","ADS_SM","YAHOO_DEAL_CARDS","YAHOO_DEAL_ACTIVITY_HEADER","YAHOO_DEAL_HEADER","RECEIPT_CARDS","RECOMMENDED_ITEMS"]),Ye={Types:Object(a.c)(["TODAY","YESTERDAY","DAY","MONTH","EARLIER_THIS_WEEK","THIS_WEEK","LAST_WEEK","EARLIER_IN_MONTH","EARLIER_IN_YEAR","THIS_MONTH","THIS_YEAR","YEAR"]),Day:{SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6},Month:{JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11}},Xe=Object(a.c)(["FROM","TO","ALL","RELATED","WITH_KEYWORD","WITH_KEYWORD_RELEVANCE","TO_WITH_RELEVANCE","FROM_WITH_RELEVANCE","ALL_WITH_RELEVANCE","SHOPPING","TRAVEL","FINANCE","SOCIAL","TRAVEL_VIEW_UPCOMING","TRAVEL_VIEW_PAST","SYSTEMFOLDER","CUSTOMFOLDER","FOLDERLABEL","SAVED_COUPON_CARDS","ALL_REFUND_CARDS","ALL_COUPON_CARDS","ALL_RECEIPT_CARDS","LINKED_GROCERY_STORES","UNLINKED_GROCERY_STORES","RECOMMENDED_OFFER_CARDS","ACTIVATED_OFFER_CARDS","GIFS","EMAIL_PHOTOS","MOBILE_PHOTOS","ALL_PHOTOS","RECOMMENDED_ITEMS","PEOPLE","NOT_PEOPLE","TOP_CONTACTS","USER_CREATED_CONTACTS","IMPORTANT_CONTACTS","GROUPS"]),$e=[Xe.PEOPLE,Xe.SHOPPING],Qe=[v.PEOPLE,v.COUPONS],Je={[v.PEOPLE]:"PE",[v.COUPONS]:"SH",[v.SOCIAL]:"SO",[v.FINANCE]:"FI",[v.TRAVEL]:"TR"},et=Object(a.c)(["PEOPLE","KEYWORD","ALL","RECENT"]),tt=Object(a.c)(["PERSON","KEYWORD","WEB_SEARCH","RECENT","HEADER","EMAIL"]),st=Object(a.c)(["PERSON","KEYWORD","RECENT","EMAIL"]),nt=Object(a.c)(["TEXT","NEW_DRAFT","NO_SUBJECT","LOADING","SEARCH_KEYWORD","ERROR","SEARCH_DEFAULT","SETTINGS","PREVIEW","SPONSORED_AD","SMART_VIEW"]),at=Object(a.c)(["NONE","SEARCH","SETTINGS","COMPOSE","SMARTVIEW_PEOPLE","SMARTVIEW_SHOPPING","SMARTVIEW_PHOTOS","SMARTVIEW_DOCUMENTS","SMARTVIEW_COUPONS","SMARTVIEW_GROCERIES","SMARTVIEW_RECEIPTS","SMARTVIEW_TRAVEL","SMARTVIEW_TUTORIAL","EXCLAMATION_ALT"]),rt=Object(a.c)(["UP","DOWN","FIRST","LAST","LEFT","RIGHT"]),ot={NO:0,RIGHT:1,BOTTOM:2},it={ALWAYS:!0,NEVER:!1},ct={SLIM:1,NORMAL:2,RELAXED:3},lt={FAMILY:'"Helvetica Neue", Helvetica, Arial, sans-serif',SIZE:"3",VALUE:r.c.MEDIUM},dt=Object(a.c)(["LAUNCH","CHECK_MAIL","NEIGHBOR"]),ut={GO_BACK_TO_FOLDER:3,SHOW_PREVIOUS_MESSAGE:2,SHOW_NEXT_MESSAGE:1},mt=Object.assign({COMPACT_SLIM:4,COMPACT_NORMAL:5,COMPACT_RELAXED:6,COMPACT_SNIPPET_SLIM:7,COMPACT_SNIPPET_NORMAL:8,COMPACT_SNIPPET_RELAXED:9},ct),pt=Object(a.c)(["BROWSER","PUSH"]),_t=(Object(a.c)(["NONE","PROCESSING_BEGUN","PROCESSING_COMPLETE"]),{IMMEDIATELY:0,AFTER_2_SECONDS:2,AFTER_5_SECONDS:5,NEVER:999}),ht={PAGES_CHUNK_SIZE:3,GAP_BETWEEN_PAGES:12,MAX_SCALE:3,MIN_SCALE:1,SCALE_STEP:.05,TOOLBAR_HEIGHT:54,Movement:Object(a.c)(["PREV","NEXT","ZOOM_IN","ZOOM_OUT"]),Orientation:Object(a.c)(["FIT_TO_WIDTH","FIT_TO_HEIGHT"]),Paddings:{AROUND_PAGE_WIDTH:20,AROUND_PAGE_HEIGHT:20,AROUND_IMG_WIDTH:16,AROUND_IMG_HEIGHT:16},previewableMimeTypes:["application/pdf","application/x-pdf","application/vnd.pdf","text/pdf","text/x-pdf","image/pdf","application/acrobat","application/text","text/css","text/plain","application/xml","text/xml","application/javascript","text/javascript","application/rtf","text/rtf","application/x-rtf","text/richtext","application/msword","application/x-msword","application/doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-word","application/vnd.openxmlformats-officedocument.wordprocessingml","application/vnd.ms-word.document.12","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-excel","application/msexcel","application/x-msexcel","application/excel","application/x-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.formula","application/vnd.oasis.opendocument.presentation"]},Et=Object(a.c)(["FLOW","PINNED","PUSHED"]),gt=.8,bt=Object(a.c)(["MOVETOFOLDER"]),It=Object(a.c)(["ALL"]),ft=Object(a.c)(["SUBJECT","SENDER","TOORCC","BODY"]),St=Object(a.c)(["CONTAINS","NOTCONTAINS","BEGINSWITH","ENDSWITH"]),At=Object(a.c)(["CLEAR_FOLDER","ARCHIVE_FOLDER"]),Tt={FOLDERS:"foldersField",FROM:"fromField",TO:"toField",SUBJECT:"subjectField",KEYWORD:"keywordField",BEFORE:"beforeField",AFTER:"afterField",ATTACHMENT:"attachmentField",PHOTO:"photoField",CALENDAR_INVITE:"calendarInviteField"},Ct={ALL_MAIL:"allMail"},Ot=Object(a.c)(["STAR_CHANGE_ALL_ITEMS","STAR_CHANGE_SELECTED_ITEMS","READ_CHANGE_FOLDER_ITEMS","READ_CHANGE_ALL_ITEMS","READ_CHANGE_SELECTED_ITEMS","DELETE_FOLDER_ITEMS","DELETE_ALL_ITEMS","DELETE_SELECTED_ITEMS","DELETE_ALL_FROM_SENDERS","MOVE_ALL_ITEMS","MOVE_SELECTED_ITEMS","ARCHIVE_FOLDER_ITEMS","ARCHIVE_ALL_ITEMS","ARCHIVE_SELECTED_ITEMS","RESTORE_ALL_ITEMS","RESTORE_SELECTED_ITEMS","SPAM_ALL_ITEMS","SPAM_SELECTED_ITEMS","NOT_SPAM_ALL_ITEMS","NOT_SPAM_SELECTED_ITEMS","UNDO_MOVE","DELETE_DRAFT"]),Rt=Object(a.c)(["INIT","PENDING","COMPLETED","FAILED","ABORTING","ABORTED","ABORT_FAILED"]),Nt={PERSONALIZE_INBOX:"0",ACCOUNTS:"1",SECURITY:"8",NOTIFICATIONS:"2",WRITING_EMAIL:"3",VIEWING_EMAIL:"4",CATEGORIZATION:"5",AUTOMATIC_REPLY:"6",FILTERS:"7",SECURITY_AND_PRIVACY:"8",SOCIAL_ACCOUNTS:"9",ENCRYPTION:"10",MAIL_PRO:"11"},Mt={[v.UNREAD]:"unread",[v.STARRED]:"starred",[v.PHOTOS]:"photos",[v.DOCUMENTS]:"documents",[v.TRAVEL]:"travel",[v.COUPONS]:"coupons",[v.RECEIPTS]:"receipts",[v.PEOPLE]:"people",[v.GROCERIES]:"groceries"},Dt=babelHelpers.extends({},Mt,{CONTACT_DETAILS:"contactDetails",RELATED_COUPONS:"relatedCoupons",COUPON_RECOMMENDATIONS:"couponRecommendations",TOP_COUPONS:"topCoupons"}),yt={TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight"},Lt=Object(a.c)(["MARK_READ","ARCHIVE","DELETE","RENAME_FOLDER","MOVE_FOLDER","DELETE_FOLDER","CREATE_FOLDER","SEPARATOR"]),vt={CARDS:"CARDS",MESSAGES:"MAIN",IMAGES:"IMAGES",DOCUMENTS:"DOCUMENTS",PEOPLE:"PEOPLE",PLA_AD:"AL"},Pt={MAC:"mac",WINDOWS:"windows",IOS:"ios",ANDROID:"android",OTHER:"other"},Ft=Object(a.c)(["MESSAGE","OFFERS"]),xt={NO_REFRESH:0,EMERGENCY_REFRESH:1,PERIODIC_REFRESH:2},wt=Object(a.c)(["LAUNCH_API_ERROR","WRONG_MAILBOX_STATE","LAUNCH_PAGE_NOT_FOUND_ERROR","NO_SCRIPT","UNSUPPORTED_BROWSER","UNSUPPORTED_FBMAILBOT","SERVER_ERROR","REACT_ERROR","DEFAULT","SWITCH_ACCOUNT"]),kt="internal.apis.mail.yahoo.com",Ht="//ws.progrss.yahoo.com",Ut={YAHOO:"yahoo",YAHOO_SB:"yahoosb",GOOGLE:"google",GOOGLE_APP:"googleapp",OUTLOOK:"outlook",AOL:"aol",OATH:"oath",OTHER:"other",OFFICE365:"office365",VERIZON_MEDIA:"verizonmedia"},jt=Object(a.c)(["Facebook","LinkedIn","Twitter","LinkedInTest"]),Gt={[jt.Facebook]:"b9ed13cc-ddec-11de-9c83-001b784d35e1",[jt.LinkedIn]:"f7e0ac2c-98e8-11df-8527-000ffef4f721",[jt.Twitter]:"1ce67640-113b-11df-a7d6-001b784d35e1",[jt.LinkedInTest]:"f8f1ac2c-99e8-11df-8517-000gfef5f721"},Bt=100,Vt=1e3,Wt=Object(a.c)(["STACKED","COLLAPSED","EXPANDED"]),qt={AthenaClient:"athena_client_call",BootcampClient:"bootcamp_client_call",CredstoreClient:"credstore_client_call",GeminiAPIClient:"gemini_api_client_call",GifCategories:"gif_category_content_call",HeartbeatAPIClient:"heartbeat_api_client_call",SubscriptionAPIClient:"subscription_api_client_call",MailAPIClient:"mail_api_client_call",PaymentClient:"payment_client_call",TaiwanCommerceClient:"taiwan_commerce_client_call",RapidClient:"i13n_beacon",UDBClient:"udb_client_call",XobniClient:"xobni_client_call",EmojiSearch:"emoji_search_call",PriceGrabberClient:"price_grabber_client_call",LocationAutoSuggestClient:"location_autosuggest_api_client_call",GeoAPIClient:"geo_api_client",RelatedSearchesAPIClient:"related_searches_api_client",LinkEnhancerClient:"lucy_api_call",TripodAPIClient:"tripod_api_client",ClassicABClient:"classic_ab_client",SearchAdClient:"search_ad_client",DarlaAdClient:"darla_ad_client"},zt=[Ut.YAHOO,Ut.GOOGLE,Ut.GOOGLE_APP,Ut.OUTLOOK,Ut.AOL,Ut.OFFICE365],Zt={[Ut.GOOGLE]:{domainCheck:["gmail","google","googlemail"],imapServer:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"scope=https%3A%2F%2Fmail.google.com%2F+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcontacts+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcalendar+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email"},[Ut.YAHOO]:{domainCheck:["yahoo","ymail","rocketmail"],imapServer:"imaps://yahoo.com",oauthDomain:"yahoo.com",profileCheck:!1},[Ut.OUTLOOK]:{domainCheck:["outlook","hotmail","live","msn"],imapServer:"imaps://outlook.com",oauthDomain:"outlook.com",profileCheck:!0,providerUrl:"https://www.outlook.com",scope:"scope=wl.imap,wl.offline_access,wl.emails,wl.basic,wl.contacts_emails,wl.contacts_phone_numbers"},[Ut.AOL]:{domainCheck:["aol","aim"],imapServer:"imaps://aol.com",oauthDomain:"aol.com",profileCheck:!0,providerUrl:"https://www.aol.com",scope:"scope=offline_access email profile addressbook opencalendar"},[Ut.GOOGLE_APP]:{imapServer:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"scope=https%3A%2F%2Fmail.google.com%2F+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcontacts+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcalendar+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email"},[Ut.OFFICE365]:{domainCheck:["*.onmicrosoft"],imapServer:"imaps://outlook.office365.com",oauthDomain:"office365.com",profileCheck:!0,providerUrl:"https://www.office.com"},[Ut.YAHOO_SB]:{imapServer:"imaps://yahoo.com",oauthDomain:"yahoo.com",profileCheck:!1},[jt.LinkedIn]:{scope:"r_basicprofile r_member_lookup"}},Kt=Object(a.c)(["att.net","bellsouth.net","attworld.com","sky.com","frontiernet.net","frontier.com","myfrontiermail.com","citilink.net","newnorth.net","epix.net","gvni.com","frontiernet.com","ctaz.com","ctaz.net","citilink.com","evansinet.com","globalvalleynetworks.com","xtra.co.nz","mymts.in","ameritech.net","btinternet.com","btopenworld.com","demobroadband.com","ovi.com","flash.net","nl.rogers.com","nvbell.net","pacbell.net","prodigy.net","rogers.com","sbcglobal.net","snet.net","swbell.net","talk21.com","verizon.net","wans.net","ymail.com","rocketmail.com","yahoo-inc.com"]),Yt=Object(a.c)(["ad","ae","af","ag","ai","al","am","an","ao","aq","ar","as","at","au","aw","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cc","cf","cg","ch","ci","ck","cl","cm","cn","co","cr","cs","cu","cv","cx","cy","cz","de","dj","dk","dm","do","dz","ec","ee","eg","eh","es","et","fi","fj","fk","fm","fo","fr","fx","ga","gb","gd","ge","gh","gi","gl","gp","gq","gf","gm","gn","gr","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","in","io","iq","ir","is","it","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","mg","mh","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nt","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pt","pr","pw","py","qa","re","ro","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","st","su","sv","sy","sz","tc","td","tf","tg","th","tj","tk","tm","tn","to","tp","tr","tt","tv","tw","tz","ua","ug","uk","um","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","ye","yu","za","zm","zr","zw"]),Xt=Object(a.c)(["aero","asia","biz","com","edu","gov","info","jobs","mil","mobi","museum","name","net","org","co"]),$t={MAILBOX_SWITCHER:"mailboxSwitcher",DEBUG_UNSYNCED_DATA:"debugUnsyncedData",ADS:"ads",ATTACHMENT_PREVIEW:"attachmentPreview",NO_ADS:"noAds",DARLA_PREFETCH:"darlaPrefetch",DARLA_LOOKAHEAD:"darlaLookAhead",DARLA_SANDBOX:"darlaSandbox",GEMINI_SPONSORED_VIDEO:"geminiSponsoredVideo",AD_FREE_SUPPORTED:"adFreeSupported",COM_SCORE_BEACONING:"comScoreBeaconing",EMPTY_FOLDER_VIDEO:"emptyFolderVideo",MESSAGE_READ_AD_ROTATION:"messageReadAdRotation",MESSAGE_UNREAD_INDICATOR:"messageUnreadIndicator",GEMINI_VIEWABILITY:"geminiViewability",GEMINI_VIEWABILITY_IO:"geminiViewabilityIO",RESIZABLE_PREVIEW_PANE:"previewpaneResizable",MAIL_PRO_ELIGIBLE:"mailProEligible",WIDE_RIGHT_RAIL:"wideRightRail",HIDE_RIGHT_RAIL:"hideRightRail",PREMIUM_AD_DETECTION:"premiumAdDetection",GEMINI_CONTEXTUAL_ADS:"geminiContextualAds",AUTOPLAY_EMPTY_FOLDER_VIDEO:"autoplayEmptyFolderVideo",ROTATE_ADS_ONLINE:"rotateAdsOnline",HIPMUNK_CARD:"hipmunkCard",BOOKING_CARD:"bookingCard",SEATGEEK_CARD:"seatgeekCard",WIDER_MAIL_ELIGIBLE:"widerMailEligible",CLOSE_ICON_PENCIL_AD:"closeIconPencilAd",MAIL_PRO:"mailPro",MAIL_PRO_LINK_IN_SETTINGS_MENU:"mailProLinkInSettingsMenu",ABORT_DARLA_IN_PROGRESS:"abortDarlaInProgress",MON_ADS:"monAds",ADBLOCK_UPSELL:"adBlockUpsell",SHOPPING_CART_AD:"shoppingCartAd",APAC_SHOPPING_CART_AD:"APACShoppingCartAd",SEARCH_AD_BACK_BUCKET:"searchAdBackBucket",SEARCH_AD_ICON_ON_HOVER:"searchAdIconOnHover",HP_EXT_INSTALLED:"hpsetInstalled",RAPID_K8S:"rapidK8s",AUTO_FORWARD_EMAIL:"autoForwardEmail",RIGHT_RAIL_AD_FREE_UPSELL:"rightRailAdFreeUpsell",PENCIL_AD:"pencilAd",SECOND_PENCIL_AD:"secondPencilAd",RELATED_SEARCHES_CARD:"relatedSearchesCard",ADVERTISER_RELATED_SEARCHES:"advertiserRelatedSearches",HOTELS_CARD_PREFILL:"hotelsCardPrefill",VIGLINK:"viglink",CONTACT_CARD_TRACKING:"contactCardTracking",LEFT_RAIL_AD_ARBITRATION:"leftRailAdArbitration",MESSAGE_LIST_AD_CAROUSEL:"messageListAdCarousel",TIMECHUNK_PENCIL_AD:"timechunkPencilAd",FLASH_SALE_AD:"flashSaleAd",FLASH_SALE_AD_IN_SECONDS:"flashSaleAdInSeconds",PLA_SEARCH_ADS:"plaSearchAds",PLA_ADS_ON_COUPON_MESSAGE_READ:"plaAdsOnCouponMessageRead",PLA_ADS_AVAILABLE:"plaAdsAvailable",PLA_ADS_FOR_RECOMMENDATION_EMAILS:"plaAdsForRecommendationEmails",PLA_ADS_ON_RECOMMENDATION_EMAIL_READ:"plaAdsOnRecommendationEmailRead",MESSAGE_READ_AD_ROTATION_V2:"messageReadAdRotationV2",ROTATE_PENCIL_AD_ON_EXPIRE:"rotatePencilAdOnExpire",AOL_VIDEO_PLAYER:"aolVideoPlayer",OATH_VIDEO_PLAYER:"oathVideoPlayer",RIGHT_RAIL_NATIVE_AD:"rightRailNativeAd",RELATED_RETAILERS:"relatedRetailers",RELATED_RETAILERS_EXPANDED:"relatedRetailersExpanded",RELATED_RETAILERS_WITH_LOGO:"relatedRetailersWithLogo",COUPONS_ON_SEARCH_RIGHT_RAIL:"couponsOnSearchRightRail",SUBSCRIPTION_ADS:"subscriptionAds",DEBUG_DARLA:"debugDarla",COUPONS_SMART_VIEW_SEARCH:"couponsSmartViewSearch",SPONSORED_MOMENT:"sponsoredMoment",VIDEO_SPONSORED_MOMENT:"videoSponsoredMoment",AD_BLOCK_COUPONS:"adBlockCoupons",AD_BLOCK_COUPONS_ON_PENCIL_ADS:"adBlockCouponsOnPencilAds",ROTATE_ADS_ON_CHECK_MAIL:"rotateAdsOnCheckMail",AD_BLOCK_VERIFIED_BEACON:"adBlockVerifiedBeacon",AD_VIEWABILITY_TRACKER:"adViewabilityTracker",EBAY_WARRANTY_UPSELL:"ebayWarrantyUpsell",AD_FORMAT_SELECTION:"adFormatSelection",TAIWAN_SHOPPING_VIEW:"taiwanShoppingView",SHOPLIFT_AD:"shopliftAd",COMMERCIAL_ANALYSIS_OF_CONTENT:"commercialAnalysisOfContent",RETAILER_FILTER:"retailerFilter",CATEGORY_FILTER:"categoryFilter",RIGHT_RAIL_UPSELL_VIDEO_AD:"rightRailUpsellVideoAd",FAN_ADS:"fanAds",ENABLE_DEALS_VIEW_CUE:"enableDealsViewCue",MSG_READ_PENCIL_AD_SEND_DOMAIN:"msgReadPencilAdSendDomain",TOOLTIP_EMOJI:"tooltipEmoji",NUKE_DISPLAY_ADS_ON_INACTIVE:"nukeDisplayAdsOnInactive",COMPOSE_V3:"composeV3",LIST_V3:"listV3",MAIL_READER_V3:"mailReaderV3",UPDATE_ITEMS_V3:"updateItemsV3",CEP_FORWARD:"cepForward",PREVIEW_MESSAGE_V3:"previewMessageV3",MESSAGE_READ_CONTACT_CARD:"messageReadContactCard",RSVP_PREFETCH_API:"rsvpPrefetchAPI",RSVP:"rsvp",RSVP_RESPONSE:"rsvpResponse",STATIONERY_THEME_DATES:"stationeryThemeDates",PARSE_RSVP_REPLY_LINKS:"parseRsvpReplyLinks",PHOTO_THEMES:"photoThemes",TOOLBAR_V3:"toolbarV3",RIGHT_RAIL_CONTACT_CARD:"rightRailContactCard",RIGHT_RAIL_PHOTO_CARD:"rightRailPhotosCard",RIGHT_RAIL_DOCS_CARD:"rightRailDocsCard",RIGHT_RAIL_MESSAGES_CARD:"rightRailMessagesCard",SUBSCRIPTION_RECOMMENDATIONS:"subscriptionRecommendations",NODIN_DARLA_AD_BOOST:"nodinDarlaAdBoost",SCOUT_PREDICATE:"scoutPredicate",SCOUT_RECURRING:"scoutRecurring",CONTACTS_PANE_FEATURE:"contactsPaneFeature",CONTACT_SUMMARY:"contactSummary",CONTACTS_PANE_CUE:"contactsPaneCue",SOCIAL_ACCOUNTS:"socialAccounts",LINKEDIN_REAUTH_CUE:"linkedinReauthCue",USE_LINKEDIN_TEST_SPID:"useLinkedinTestSpid",SHOW_LINKEDIN_REAUTH_UPSELL:"showLinkedinReauthUpsell",RELOADING_BAR:"reloadingBar",CALENDAR_TAB:"calendarTab",NOTEPAD_TAB:"notepadTab",CONVERSATIONS:"conversations",CONVERSATIONS_FEATURE:"conversationsFeature",SHOW_COMMS_PROPERTIES:"showCommsProperties",AUTO_OPEN_REAUTH:"autoOpenReauth",ACTION_MODULE:"actionModule",ADD_SEND_ONLY_ACCOUNTS:"addSendOnlyAccounts",DISPOSABLE_ADDRESS:"disposableAddress",SHOW_FORWARD_SETTINGS:"showForwardSettings",INLINE_ATTACHMENT:"inlineAttachment",EMOJI_SEARCH:"emojiSearch",TUTORIAL:"tutorial",COLLAPSIBLE_SYSTEM_FOLDERS:"collapsibleSystemFolders",SETTINGS:"settings",UDB_MIGRATION_COMPLETE:"udbMigrationComplete",SHOW_TWEET:"showTweet",TIMEZONE_CHECK:"timezoneCheck",CHECK_MAIL_PREFETCH:"checkMailPrefetch",RTL:"rtl",IS_RETURNING_USER:"isReturningUser",HAS_MAPPED_THEME:"hasMappedTheme",FETCH_FULL_BODY:"fetchFullBody",THEMES_CUE_V3:"themesCueV3",SSA_BREACH_SECURITY_ALERT:"ssaBreachSecurityAlert",APT_SECURITY_CUE:"aptSecurityCue",NEW_USER_ONBOARDING_CUE:"newUserOnboardingCue",PHOTOS_CUE:"photosCue",STARRED_CUE:"starredCue",SETTINGS_CUE:"settingsCue",SEARCH_CUE:"searchCue",ALL_TABS_PLUS_CUE:"allTabsPlusCue",PEOPLE_SMARTVIEW_CUE:"peopleSmartViewCue",STATIONERY_CUE:"stationeryCue",UPDATE_WIDER_MAIL_CUE:"updateWiderMailCue",ADBLOCK_UPSELL_CUE:"adBlockUpsellCue",RIGHT_RAIL_AD_FREE_UPSELL_CUE:"rightRailAdFreeUpsellCue",EMOJI_CUE:"emojiCue",INBOX_COUPONS_CUE:"inboxCouponsCue",COUPON_CLIPPER_CUE:"couponClipperCue",COUPONS_VIEW_CUE:"couponsViewCue",RELATED_COUPONS:"relatedCoupons",RELATED_COUPONS_EXPANDED:"relatedCouponsExpanded",IS_WIDER_MAIL_EXTN_ENABLED:"isWiderMailExtnEnabled",MSG_READ_EARNY_CARD:"msgReadEarnyCard",QTNT_VIEW_MSG_READ_CARD:"qtntviewMsgReadCard",MSG_READ_QUOTIENT_MODAL:"msgReadQuotientModal",PURCHASES_VIEW_CUE:"purchasesViewCue",SHOPRUNNER_VIEW_CUE:"shopRunnerViewCue",QTNT_VIEW_LEFT_RAIL_CUE:"qtntviewLeftRailCue",QUOTIENT_LINKED_CARD:"quotientLinkedCard",DEALS_VIEW_CUE:"dealsViewCue",SMALL_BIZ_CUE:"smallBizCue",MSG_READ_SHOPRUNNER_CARD:"msgReadShopRunnerCard",MSG_READ_SHOPRUNNER_MODAL:"msgReadSRModal",MSG_READ_SHOPRUNNER_POST_SIGN_UP_CARD:"msgReadShopRunnerPostSignUpCard",SHOPRUNNER:"shoprunner",BROWSER_NOTIFICATIONS:"browserNotifications",DESIGN_CLASSIFIER:"designClassifier",DRAWER:"drawer",MOBILE_MESSAGE_SNIPPETS:"mobileMessageSnippets",DELAY_MOBILE_ONBOARDING:"delayMobileOnboarding",MOBILE_ONBOARDING_CUE:"mobileOnboardingCue",DELAY_MOBILE_ONBOARDING_CUE:"delayMobileOnboardingCue",MOBILE_SEARCH_SUGGESTIONS:"mobileSearchSuggestions",MOBILE_SIGNATURE:"mobileSignature",MOBILE_THEMING:"mobileTheming",MOBILE_VIRTUAL_LIST:"mobileVirtualList",MOBILE_EDIT_RECIPIENTS:"mobileEditRecipients",PUSH_NOTIFICATIONS_CUE_PTR:"pshNotifctnsCueOnPTR",PUSH_NOTIFICATIONS_CUE_LAUNCH:"pshNotifctnsCueOnLnch",PUSH_NOTIFICATIONS_CUE_COMPOSE:"pshNotifctnsCueOnCmps",LOADING_FALLBACK:"loadingFallback",MOBILE_MESSAGE_READ_NAVIGATION:"mobileMessageReadNavigation",MESSAGE_READ_HOME_BUTTON:"messageReadHomeButton",LANDSHARK_CUE:"landsharkCue",BLOCK_SENDER_CUE:"blockSenderCue",CONVERSATIONS_CUE:"conversationsCue",COUPON_CARD_EXTRACTIONS:"couponCardExtractions",BOOTCAMP_COUPONS:"bootcampCoupons",COUPON_SELF_EXTRACTION:"couponSelfExtraction",COUPON_RECOMMENDATIONS:"couponRecommendations",MULTI_COUPON_RECOMMENDATIONS:"couponRecMulti",COUPON_REC_WITH_ADS:"couponRecWithAds",COUPON_REC_WITH_BOLD_ADS:"couponRecWithBoldAds",COUPON_REC_WITH_TOP_ADS:"couponRecWithTopAds",COUPON_REC_VENDOR:"couponRecVendor",COUPONS_VIEW:"couponsView",COUPON_STORE_LOCATOR:"couponStoreLocator",COUPONS_AUTO_CLIP:"couponsAutoClip",CPN_ICON_MSG_LIST:"cpnIconMsgList",SHOW_RECOMMENDATIONS_MODAL:"showRecommendationsModal",FLIGHT_CARD_EXTRACTIONS:"flightCardExtractions",TRAVEL_VIEW:"travelView",AUTOTAG:"autotag",EARNY_CARD_EXTRACTIONS:"earnyCardExtractions",RECEIPTS_VIEW:"receiptsView",BULK_DELETE_MSG_EARNY_UPSELL:"bulkDeleteMsgEarnyUpsell",BULK_DELETE_MSG_EARNY_CUE:"blkDeleteMsgErnyCue",DISPLAY_EARNY_DIALOG:"displayEarnyDialogOnDelete",MSG_READ_DELETE_EARNY_CUE:"msgReadDeleteEarnyCue",QUOTIENT:"quotient",GROCERIES_VIEW:"groceriesView",QUOTIENT_TEXT_VARIANT:"quotientTextVariant",EMOJI:"emoji",PRELOAD_EMOJI:"preloadEmoji",GIF:"gif",STATIONERY:"stationery",RECENTLY_USED_EMOJI:"recentlyUsedEmoji",EXCEPTION_NOTIFICATION:"exceptionNotification",MKTG_BEACON:"marketingBeaconing",NEWUSER_MKTG_BEACON:"newUserMarketingBeaconing",VACATION_RESPONSE_STATIONERY:"vacationResponseStationery",VACATION_RESPONSE_V2:"vacationResponseV2",DELETE_FROM_PHOTOS_VIEW:"deleteFromPhotosView",DELETE_FROM_DOCUMENTS_VIEW:"deleteFromDocumentsView",BLOCK_SENDERS:"blockSenders",GEO_LOCATION:"geoLocation",SMARTVIEW_CATEGORIES_ENABLED:"smartViewCategoriesEnabled",SMARTVIEW_CATEGORIES_ALL:"allSmartViews",SMARTVIEW_CATEGORIES_PEOPLE:"peopleSmartView",SMARTVIEW_CATEGORIES_PEOPLE_V2:"peopleSmartViewV2",SMARTVIEW_CATEGORIES_SHOPPING:"shoppingSmartView",STARRED_MAIL_ENHANCED:"starredMailEnhanced",SHOW_TABS:"showTabs",PENSIEVE:"pensieve",SERVICE_WORKER_CACHING:"serviceWorkerCaching",PUSH_NOTIFICATIONS:"pushNotifications",SHOULD_SW_SUBSCRIBE:"shouldServiceWorkerSubscribe",SHOW_ABOUT_OUR_ADS_LINK:"showAboutOurAdsLink",SHOW_ABOUT_YAHOO_MAIL_LINK:"showAboutYahooMailLink",SHOW_GIVE_FEEDBACK_LINK:"showGiveFeedbackLink",SHOW_OPT_OUT_LINK_MORE_SETTINGS:"optOutLinkInMoreSettings",SHOW_FORWARDING_NOTIFICATION:"showForwardingNotification",SHOW_RECENT_SUGGESTIONS:"showRecentSuggestions",SHOW_EMAIL_SEARCH_SUGGESTIONS:"showEmailSearchSuggestions",SHOW_EMPTY_SEARCH_SUGGESTIONS:"showEmptySearchSuggestions",SEARCH_SUGGESTIONS_V2:"searchSuggestionsV2",FILTER_COMMERCIAL_IMAGES:"filterCommercialImages",EXTERNAL_CSS:"externalCss",ENABLE_EARNY_UPSELLS:"enableEarnyUpsells",DISPOSABLE_ADDRESS_DELETE_ONLY:"disposableAddressDeleteOnly",SHOW_SOCIAL_ACCOUNTS_TAB_IF_NONE_CONNECTED:"showSocialAccountsTabIfNoneConnected",SHOW_RIGHT_RAIL_HELP_LINKS:"showRightRailHelpLinks",ALLOW_USERNAME_AND_PHONE_REGISTRATION:"allowUsernameAndPhoneReg",INLINE_IMAGES_PROXIED:"inlineImagesProxied",CLICK_URL_LOGGING:"clickUrlLogging",DEALS_VIEW_V2:"dealsViewV2",MESSAGE_OP_PERF:"messageOpPerf",SWITCH_TO_NORRIN:"switchToNorrin",BIZMAIL_USER:"bizmailUser",DOCUMENT_PREVIEW_LIGHT:"documentPreviewLight",NODIN_JS_ENHANCE:"nodinJSEnhance",OFFICE365:"office365"},Qt={SUPPRESSED_UPSELLS:"suppressedUpsells",APP_ROOT_PATH:"appRootPath",THEME:"theme",THEME_MODE:"themeMode",TEXTUAL_SUGGESTIONS:"textualSuggestions",CLIENT_WIDTH:"clientWidth",ORIENTATION:"orientation",PREVIEW_PANE:"previewpane",MSG_LIST_DENSITY:"messageListDensity",LIST_ITEM_HEIGHT:"listItemHeight",SNIPPETS:"snippets",COMPOSE_FONT_FAMILY:"composeFontFamily",COMPOSE_FONT_SIZE:"composeFontSize",COMPOSE_SAVE_INTERVAL:"composeSaveInterval",DESKTOP_NOTIFICATION:"desktopNotification",MOBILE_NOTIFICATION:"mobileNotification",MOBILE_ONBOARDING_VERSION:"mobileOnboardingVersion",V3_ONBOARDING_VARIATION:"v3OnboardingVariation",MARK_AS_READ_INTERVAL:"markAsReadInterval",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",SHOW_IMAGES:"showImages",LINK_ENHANCR:"linkEnhancer",VACATION_PREFERENCES:"vacationPreferences",MESSAGE_FILTERS:"messageFilters",MAIL_TABS:"multiTask",CONVERSATIONS:"conversations",ACTION_AFTER_MSG_MOVE:"actionAfterMsgMove",SHOW_CUSTOM_FOLDERS:"showCustomFolders",EXPANDED_FOLDERS:"expandedFolders",STATIONERY_DEFAULT_THEME:"stationeryDefaultTheme",TOGGLE_CONV_RELOAD_DELAY:"toggleConversationReloadDelayMS",SHOW_ALL_SYSTEM_FOLDERS:"showAllSystemFolders",RECENTLY_USED_EMOJIS:"recentlyUsedEmojis",SYSTEM_TABS:"systemTabs",SENDING_EMAIL_CONFIRM_STATUS:"sendingConfirmEmail",DEA_BASE_NAME:"disposableAddressesPrefix",MAILBOX_SIZE:"mailboxSize",SEARCH_SOURCE_TAG:"searchSourceTag",SEARCH_FETCH_COUNT:"searchFetchCount",SEARCH_FIRST_PAGE_COUNT:"searchFirstPageCount",SPACE_IDS:"spaceids",AD_BLOCK_FEATURE_CUE_ID:"adBlockFeatureCueId",HP_EXT_STORE_URL:"homepageExtStoreURL",ACTIONABLE_RIGHT_RAIL_CONTENT:"actionableRightRailContent",THROTTLE_API_LIST:"throttleAPIList",SCOUT_ONBOARDING:"scoutOnboarding",EMPTY_FOLDER_VIDEO_CHANNELS:"emptyFolderVideoChannels",HIDE_AD:"hideAd",TIME_TO_WAIT_SINCE_LAST_AD_CALL:"timeToWaitSinceLastAdCall",GEMINI_AD_COUNT:"geminiAdCount",GEMINI_SECTION_IDS:"geminiSectionIds",GEMINI_SECTION_IDS_TO_CACHE:"sectionIdsToCache",GEMINI_FORCE_FILTER:"geminiForceFilter",AD_FREE_MAIL_URL:"adFreeMailUrl",ABOUT_AD_URL:"aboutAdsUrl",PRIVACY_URL:"privacyUrl",TERMS_URL:"termsUrl",HELP_URL:"helpUrl",HELPER_COMMUNITY_URL:"mailHelperCommunityUrl",ITEM_LIST_PAGE_THRESHOLD:"itemListPageThreshold",MESSAGE_READ_AD_ROTATION_INTERVAL:"messageReadAdRotationInterval",MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL:"messageReadAdRotationIdleInterval",WIDER_MAIL_EXTENSION:"widerMailExtension",UNSUBSCRIBE_NOTIFICATION:"unsubscribeNotification",UNSUBSCRIBE_TIMESTAMP:"unsubscribeTimestamp",NUM_UNSUBSCRIBED_ITEMS:"numUnsubscribedItems",MAIL_PRO_MONTHLY_PRICE:"mailProMonthlyPrice",MAIL_PRO_YEARLY_PRICE:"mailProYearlyPrice",NOTIFICATION_MODE:"notificationMode",GEMINI_VIDEO_AD_ID:"geminiVideoAdId",GEMINI_VIDEO_AD_SITE:"geminiVideoAdSite",GEMINI_VIDEO_AD_EXP_NAME:"geminiVideoAdExpName",CHROME_EXTENSION_WHITELIST:"chromeExtensionWhitelist",RELATED_SEARCHES_CARD_STYLE:"relatedSearchesCardStyle",VIDEO_PLAYER_URL:"videoPlayerUrl",AOL_VIDEO_PLAYER_URL:"aolVideoPlayerUrl",AOL_VIDEO_PLAYER_IFRAME_SRC:"aolVideoPlayerIframeSrc",OATH_VIDEO_PLAYER_URL:"oathVideoPlayerUrl",SECOND_PENCIL_AD_DEPTH:"secondPencilAdDepth",PENCIL_AD_EXPIRE_TIME:"pencilAdExpireTime",VIGLINK_BLACKLIST:"viglinkBlacklist",PLA_SEARCH_ADS_BUCKET_ID:"plaSearchAdsBucketId",PENCIL_AD_VERSION:"pencilAdVersion",RIGHT_RAIL_UPSELL_VERSION:"rightRailUpsellVersion",AB_BLOCK_COUPONS_ON_PENCIL_AD_VERSION:"adBlockCouponsOnPencilAdVersion",PLA_ADS_ON_MESSAGE_READ_CONFIGURATION:"plaAdsOnMessageReadConfiguration",PARTNER_ATTRIBUTION_URL:"partnerAttributionUrl",EBAY_WARRANTY_UPSELL_POSITION:"ebayWarrantyUpsellPosition",PREFERRED_AD_FORMAT:"preferredAdFormat",AD_BLOCK_COUPONS_SORT_ORDER:"adBlockCouponsSortOrder",RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION:"rightRailUpsellVideoAdDuration",RIGHT_RAIL_UPSELL_CUE_INTERVAL:"rightRailUpsellCueInterval",ADBLOCK_UPSELL_CUE_INTERVAL:"adBlockUpsellCueInterval",FAN_ADS_SETTINGS:"fanAdsSettings",LEFT_RAIL_CUE_RETAILER_ID:"leftRailCueRetailerId",NUM_MESSAGE_GROUPS_TO_PREFETCH:"numMessageGroupsToPrefetch",NEIGHBOR_PREFETCH_COUNT:"neighborPrefetchCount",SYNC_TIME:"syncTime",ASYNC_TASK_POLL_INTERVAL:"asyncTaskPollInterval",CHECK_MAIL_INTERVAL:"checkMailInterval",SYNC_DATA_INTERVAL:"syncDataInterval",MAIL_URL:"mailURL",CALENDAR_URL:"calendarURL",NOTEPAD_URL:"notePadURL",FEEDBACK_URL:"feedbackURL",BUFFER_SIZE:"bufferSize",PREVIEWABLE_INLINE_ATTACHMENT_SIZE:"previewableInlineAttachmentSize",MESSAGE_INITIAL_RENDER_COUNT:"messageInitialRenderCount",STATIONERY_RESTRICTED_THEMES:"stationeryRestrictedThemes",MESSAGE_FETCH_COUNT:"messageFetchCount",MESSAGE_FETCH_COUNT_INITIAL:"messageFetchCountInitial",COUPON_CARDS_FETCH_COUNT:"couponCardsFetchCount",COUPON_RECOMMENDATIONS_FETCH_COUNT:"couponRecommendationsFetchCount",COUPON_STORE_LOCATOR_COLLAPSED:"couponStoreLocatorCollapsed",YAHOO_MAPS_URL:"yahooMapsUrl",CARD_GROUPS_FETCH_COUNT:"cardGroupsFetchCount",LINK_ENHANCER_URL_BLACK_LIST:"linkEnhancerUrlBlacklist",APT_SECURITY_HELP_URL:"aptSecurityHelpURL",MEDIAN_TIME_TO_LOAD_EVENT:"medianTimeToLoadEvent",NOTIFICATION_TTL:"notificationTTL",EMAIL_SUBSCRIPTIONS:"emailSubscriptions",COMPOSE_THROTTLE_COUNT:"composeThrottleCount",NOTIFICATION:"notification",MESSAGE_DESTINATION_LABEL_TYPE:"messageDestinationLabelType",STAR_ANIMATION:"starAnimation",GUIDED_STAR_ANIMATION:"guidedStarAnimation",HAS_GUIDED_STAR_ANIMATION:"hasGuidedStarAnimation",SERVICE_WORKER_CACHE_CONFIG:"serviceWorkerCacheConfig",PARTNER_BRAND:"partnerBrand",HAS_WIDE_LOGO:"hasWideLogo",QUOTIENT_DEBUG_FLAG:"quotientDebugFlag",PUSH_NOTIFICATIONS_EXPERIMENT:"pushNotificationsExperiment",IMAPIN:"imapin",MSG_READ_SHOPRUNNER_VARIANT:"msgReadSRVariant",INTERSTITIAL_FREQUENCY:"interstitialFrequency",RELEVENT_ADS_URL:"relevantAdsURL",LEGAL_INFO_URL:"legalInfoURL",PRIVACY_INFO_URL:"privacyInfoURL",BASIC_MAIL_HELP_URL:"basicMailHelpURL",ACCOUNT_INFO_URL:"accountInfoURL",SIGN_OUT_URL:"signOutURL",HOME_URL:"homeURL",DELETE_DEBOUNCE_TIME:"deleteDebounceTime",LOGO_URL:"logoUrl",BASIC_MAIL_THEME:"basicMailTheme"},Jt=Object(a.c)(["LANDSCAPE","PORTRAIT"]),es="__setOauthStatus",ts=["fullscreen","target","sponsoredForward"],ss=["to_list","cc_list","bcc_list","editMode","editAccount","sortOrder","action","offset","mrdparam","toB","unblockNow","fid","confirmAction","categoryId","mailboxId"],ns=Object(a.c)(["featured","everyday","birthday","seasonal"]),as=32e3,rs=Object(a.c)(["NotInitialized","Initializing","Initialized"]),os="999+",is=999,cs={TUMBLR:"www@tumblr",TENOR:"www@tenor"},ls=Object(a.c)(["IDLE","START","FINISH"]),ds=Object(a.c)(["ReservationPackage","FlightReservation","CheckInAction","Coupon","Order","Recommendation"]),us={SUBSCRIBE_ACTION:"SubscribeAction"},ms=Object(a.c)(["FOLDER_ACCESS_FAILED","MESSAGE_ACCESS_FAILED","COMPOSE_ACCESS_FAILED","SETTINGS_FAILED_TO_LOAD"]),ps=Object(a.c)(["CPN","FLR","POE","ORD","TAG","EML","CRD","USB","PKG"]),_s=Object(a.c)(["NORMAL"]),hs=200,Es=864e5,gs=Object(a.c)(["NONE","ERROR","VALIDATING","RESOLVED"]),bs=Object(a.c)(["ade","adp","bat","chm","cmd","com","cpl","exe","hta","ins","isp","jar","js","jse","lib","lnk","mde","msc","msi","msp","mst","pif","reg","scr","sct","shb","sys","vb","vbe","vbs","vxd","wsc","wsf","wsh"]),Is=Object(n.h)("SLN15987"),fs={LEFT:"left",RIGHT:"right"},Ss={MESSAGE_LIST:"messageList",MESSAGE_LIST_2:"messageList2",MESSAGE_LIST_SM:"messageListSM",MESSAGE_READ:"messageRead",COUPON_REC:"couponRec",SHOPPING_CART:"shoppingCart",SUBSCRIPTION:"subscription",RIGHT_RAIL_UPSELL:"rightRailUpsell",MESSAGE_LIST_CAROUSEL:"messageListCarousel",MESSAGE_LIST_2_FALLBACK:"messageList2Fallback"},As=200,Ts=10*As,Cs=Oe+"/earnyOauth",Os={OFFENSIVE:"offensive",NOT_RELEVANT:"notRelevant",KEEP_SEEING:"keepSeeing",SOMETHING_ELSE:"somethingElse"},Rs={UI_1:1,UI_3:3,UI_4:4},Ns=[Rs.UI_1,Rs.UI_4,Rs.UI_3,Rs.UI_4],Ms={bucket_1:"CMUSMNPLAMR01",bucket_2:"CMUSMNPLAMR02",bucket_3:"CMUSMNPLAMR03",bucket_4:"CMUSMNPLAMR04",bucket_5:"CMUSMNPLAMR05",bucket_6:"CMUSMNPLAMR06"},Ds="0a131ca69834ba58632792a2d7122797",ys="91835879f027bd9de92f72e355cd359a",Ls="fb3da3418dae370da3c415cf613a8b86",vs="283181fd71e977feed2e8d123174599b",Ps="b9f7df97e47bf35bcf240bd1f927e19c",Fs="4b03a58c27ad649096a7378ac1cf478b",xs="6d7834a7a25b042ce22226d4eba2a515",ws="343c782b962f0bb7cca8668692203a8d",ks={RECOMMENDED:"recommended",RANDOM:"random",EXPIRATION:"expiration"},Hs={[ks.RECOMMENDED]:"ff5541571bc615a3d2a1d34bdc59037b",[ks.RANDOM]:"7650b21ea963a334ebec9c8cf42d1486",[ks.EXPIRATION]:"0904c6f3d4922940a711bb6d59490b79"},Us={EARNY:"earny",SHOPRUNNER:"shoprunner",TRIPOD:"tripod"},js={LOADING:"loading",CONNECT:"connect",CREDIT:"credit",PAYMENT:"payment",DONE:"done",DISCONNECTED:"disconnected"},Gs={SR_MERCHANT_PROMOTION:"sr_merchant_promotion",SR_MERCHANT_RECEIPT:"sr_merchant_receipt",SIMILAR_MERCHANT_PROMOTION:"similar_merchant_promotion",SIMILAR_MERCHANT_RECEIPT:"similar_merchant_receipt",PURCHASES_VIEW:"purchase_view"},Bs=Object(a.c)(["CONTACTS_PANE"]),Vs=Object(a.c)(["CONTACTS_LIST","CONTACT_DETAILS","EDIT_CONTACT"]),Ws=-1,qs=4,zs=10,Zs="default",Ks=Object(a.c)(["STARTED","SUBMITTED","ENDED"]),Ys=Object(a.c)(["LIGHT","DARK"]),Xs={SLIDEUP:"slideUp",GUIDEDSTAR:"guidedStars"},$s=Object(a.c)(["SAVE_VACATION_RESPONSE","PREVENT_ROUTE_CHANGE"]),Qs=(Object(a.c)(["INVALID_EMAIL","INVALID_PROVIDER","DUPLICATE_EMAIL","NONE"]),{ATT:"AT&T",BT:"British Telecom",FRONTIER:"Frontier",ROGERS:"Rogers",SKY:"Sky",VERIZON:"Verizon"}),Js="ycorp",en="defaultPurchasesCue",tn={PERCENT:"PercentOff",AMOUNT:"AmountOff"},sn={filters:500,blockedSenders:1e3},nn={DEFAULT:"default",PTRV01:"ptrv01",PTRV02:"ptrv02",LAUNCHV01:"launchv01",COMPOSEV01:"composev01"},an={DEFAULT_OFF:"defaultOff",DEFAULT_ON:"defaultOn",NOTIFS_FIRST:"notifsFirst",NOTIFS_NATIVE:"notifsNative",ONBOARDING_DELAY:"onboardingDelay"},rn={ORB:"orb",LIST:"list"},on=Object(a.c)(["1800flowers.com","abercrombie.com","ae.com","aeropostale.com","bananarepublic.com","bananarepublicfactory.com","barnesandnoble.com","bathandbodyworks.com","beallsflorida.com","bedbathandbeyond.com","emailbedbathandbeyond.com","belkemail.com","bestbuy.com","bradsdeals.com","carters.com","childrensplace.com","chilis.com","christopherandbanks.com","costco.com","crocs-email.com","cvs.com","dcsg.com","dominos.com","dsw.com","dunkindonuts.com","eddiebauer.com","email-PetSmart.com","expediamail.com","express.com","famousfootwear.com","fbmta.com","forever21.com","frys.com","gap.com","gapfactory.com","gilt.com","gnc.com","groupon.com","gymboree.com","hollisterco.com","homedepot.com","hotels.com","jcpenney.com","jcpenneyportraits.com","joann.com","kohls.com","lids.com","livingsocial.com","loccitane.com","lowes.com","macys.com","mail-dunkindonutsshop.com","marcospizza.net","maurices.com","michaels.com","fandango.com","neimanmarcusemail.com","nflshop.com","nordstrom.com","nordstromrack.com","nyandcompany.com","officedepot.com","oldnavy.com","olivegarden.com","orbitz.com","oshkosh.com","overstock.com","panerabreadnews.com","payless.com","petco.com","petsmart.com","pmall.com","potterybarn.com","potterybarnkids.com","sallybeauty.com","sears.com","searshomeservices.com","shoprite.com","shopyourwayrewards.com","shutterfly.com","southwest.com","spencersonline.com","staples.com","target.com","toysrus.com","ulta.com","underarmour.com","victoriassecret.com","vistaprint.com","walgreens.com","walmart.com","wayfair.com","westelm.com","williams-sonoma.com","zazzle.com","amazon.com","big5sportinggoods.com","biglots.com","llbean.com","pizzahutoffers.com","shopbonton.com","baskinrobbins.com","sephora.com","stagestores.com","bloomingdales.com","elfcosmetics.com","fragrancenet.com","buybuybaby.com","charlotterusse.com"]),cn=Object(a.c)(["amazon.com","macys.com","wayfair.com","jossandmain.com","zulily.com","wayfair.ca","trivago.com","opticsplanet.com","joybird.com","redbubble.com","revolve.com","nordstromrack.com","ncl.com","birchlane.com","allmodern.com","shopdisney.com","webstaurantstore.com","novica.com","ihg.com","jcpenney.com","modcloth.com","victoriasecret.com","brilliantearth.com","slidebelts.com"]),ln=Object(a.c)(["nike.com.hk","nike.hk","play-asia.com","food123.com.tw","buy123.com.tw","caco.com.tw","obdesign.com.tw","shopping99.com","uv100.com.tw","s3.com.tw","gomaji.com","candybox.com.tw","brands.com.tw","andenhud.com.tw","etmall.com.tw","momoshop.com.tw","miu-star.com.tw","twhg.com.tw","mdmmd.com.tw","101.com.tw","tkec.com.tw","levi.com.tw","suitangtang.com","supercolor.com.tw","airspace.com.tw","watsons.com.tw","citiesocial.com","17life.com","utsavfashion.com","titan.co.in"]),dn=Object(a.c)(["washingtonpost.com","nbcnews.com","foxnews.com","newsmax.com","newsmax.com","welcomefinancial-news.com","newyorker.com","thebay.com","trumptrainnews.com","thedailypressnews.com","laposte.net","americanactionnews.com","myhearstnewspaper.com","metronewsupdate.com","conservativenews.com","cntraveler.com","bizjournals.com","newyorktimes.com","nwitimes.com","huffingtonpost.com","latimes.com","huffpost.com","thetimes.co.uk","latimes.com","nypost.com","latimes.com","washingtontimesnews.com","westernjournalism.com","nytimes.com"]),un=Object(a.c)(["AttachmentUi","ContactsPane","ContactCard","MessageBrief","PhotoBrief","DocumentBrief","AdBlockCoupons","SubscriptionAds","RightRailNativeAd","RelatedSearchesCard","RelatedCoupons","RelatedRetailers","SearchRightRailCoupons","TravelCardsGroup","PlaAds","RightPaneAds","EbayWarrantyUpsell","ShopliftAd","SavedDeals","RetailerFilter"]),mn=Object(a.c)(["wayfair.com"]),pn=["imaps://gmail.com:993","imaps://gmail.com"],_n=10,hn=Object(a.c)(["Phone","LoyaltyNumber"]),En=5,gn=15,bn=3,In=((-1).toString(),{TOP:"top",RIGHT:"right"})},,function(e,t,s){"use strict";s.d(t,"Oe",function(){return n}),s.d(t,"Re",function(){return a}),s.d(t,"nk",function(){return r}),s.d(t,"mk",function(){return o}),s.d(t,"R",function(){return i}),s.d(t,"hb",function(){return c}),s.d(t,"Db",function(){return l}),s.d(t,"ui",function(){return d}),s.d(t,"Se",function(){return u}),s.d(t,"Fe",function(){return m}),s.d(t,"s",function(){return p}),s.d(t,"Sj",function(){return _}),s.d(t,"Le",function(){return h}),s.d(t,"qj",function(){return E}),s.d(t,"Vg",function(){return g}),s.d(t,"Bg",function(){return b}),s.d(t,"Cg",function(){return I}),s.d(t,"xb",function(){return f}),s.d(t,"vb",function(){return S}),s.d(t,"Md",function(){return A}),s.d(t,"mj",function(){return T}),s.d(t,"Fh",function(){return C}),s.d(t,"Ue",function(){return O}),s.d(t,"Te",function(){return R}),s.d(t,"Dg",function(){return N}),s.d(t,"Zg",function(){return M}),s.d(t,"Yg",function(){return D}),s.d(t,"Id",function(){return y}),s.d(t,"Jd",function(){return L}),s.d(t,"lj",function(){return v}),s.d(t,"nc",function(){return P}),s.d(t,"oc",function(){return F}),s.d(t,"mc",function(){return x}),s.d(t,"Qf",function(){return w}),s.d(t,"vi",function(){return k}),s.d(t,"Ye",function(){return H}),s.d(t,"Ze",function(){return U}),s.d(t,"Xe",function(){return j}),s.d(t,"We",function(){return G}),s.d(t,"ef",function(){return B}),s.d(t,"df",function(){return V}),s.d(t,"cf",function(){return W}),s.d(t,"ff",function(){return q}),s.d(t,"af",function(){return z}),s.d(t,"bf",function(){return Z}),s.d(t,"Qc",function(){return K}),s.d(t,"Pc",function(){return Y}),s.d(t,"L",function(){return X}),s.d(t,"Wg",function(){return $}),s.d(t,"Xg",function(){return Q}),s.d(t,"Rc",function(){return J}),s.d(t,"oe",function(){return ee}),s.d(t,"He",function(){return te}),s.d(t,"ne",function(){return se}),s.d(t,"me",function(){return ne}),s.d(t,"pe",function(){return ae}),s.d(t,"Ng",function(){return re}),s.d(t,"I",function(){return oe}),s.d(t,"J",function(){return ie}),s.d(t,"H",function(){return ce}),s.d(t,"re",function(){return le}),s.d(t,"qe",function(){return de}),s.d(t,"ke",function(){return ue}),s.d(t,"ti",function(){return me}),s.d(t,"si",function(){return pe}),s.d(t,"Rd",function(){return _e}),s.d(t,"Qd",function(){return he}),s.d(t,"F",function(){return Ee}),s.d(t,"ee",function(){return ge}),s.d(t,"Ke",function(){return be}),s.d(t,"Je",function(){return Ie}),s.d(t,"kj",function(){return fe}),s.d(t,"jj",function(){return Se}),s.d(t,"Xj",function(){return Ae}),s.d(t,"Yj",function(){return Te}),s.d(t,"Wj",function(){return Ce}),s.d(t,"ak",function(){return Oe}),s.d(t,"bk",function(){return Re}),s.d(t,"Vj",function(){return Ne}),s.d(t,"Zj",function(){return Me}),s.d(t,"Uf",function(){return De}),s.d(t,"Vf",function(){return ye}),s.d(t,"Tf",function(){return Le}),s.d(t,"xf",function(){return ve}),s.d(t,"yf",function(){return Pe}),s.d(t,"wf",function(){return Fe}),s.d(t,"Ki",function(){return xe}),s.d(t,"Li",function(){return we}),s.d(t,"Ji",function(){return ke}),s.d(t,"Y",function(){return He}),s.d(t,"Vh",function(){return Ue}),s.d(t,"Xh",function(){return je}),s.d(t,"Wh",function(){return Ge}),s.d(t,"Zc",function(){return Be}),s.d(t,"Yc",function(){return Ve}),s.d(t,"ic",function(){return We}),s.d(t,"jc",function(){return qe}),s.d(t,"Wc",function(){return ze}),s.d(t,"Xc",function(){return Ze}),s.d(t,"Vc",function(){return Ke}),s.d(t,"hc",function(){return Ye}),s.d(t,"Rb",function(){return Xe}),s.d(t,"ij",function(){return $e}),s.d(t,"pk",function(){return Qe}),s.d(t,"ok",function(){return Je}),s.d(t,"Bb",function(){return et}),s.d(t,"Cb",function(){return tt}),s.d(t,"yb",function(){return st}),s.d(t,"Hh",function(){return nt}),s.d(t,"Ee",function(){return at}),s.d(t,"Eb",function(){return rt}),s.d(t,"dh",function(){return ot}),s.d(t,"Rj",function(){return it}),s.d(t,"tf",function(){return ct}),s.d(t,"Ce",function(){return lt}),s.d(t,"De",function(){return dt}),s.d(t,"Be",function(){return ut}),s.d(t,"Ae",function(){return mt}),s.d(t,"ze",function(){return pt}),s.d(t,"ye",function(){return _t}),s.d(t,"ig",function(){return ht}),s.d(t,"jg",function(){return Et}),s.d(t,"kg",function(){return gt}),s.d(t,"jh",function(){return bt}),s.d(t,"ih",function(){return It}),s.d(t,"mh",function(){return ft}),s.d(t,"Bd",function(){return St}),s.d(t,"wb",function(){return At}),s.d(t,"yj",function(){return Tt}),s.d(t,"xj",function(){return Ct}),s.d(t,"og",function(){return Ot}),s.d(t,"ng",function(){return Rt}),s.d(t,"Jf",function(){return Nt}),s.d(t,"If",function(){return Mt}),s.d(t,"Hf",function(){return Dt}),s.d(t,"Cf",function(){return yt}),s.d(t,"Bf",function(){return Lt}),s.d(t,"zf",function(){return vt}),s.d(t,"Af",function(){return Pt}),s.d(t,"Ff",function(){return Ft}),s.d(t,"U",function(){return xt}),s.d(t,"rb",function(){return wt}),s.d(t,"qb",function(){return kt}),s.d(t,"pb",function(){return Ht}),s.d(t,"Rf",function(){return Ut}),s.d(t,"Sf",function(){return jt}),s.d(t,"Df",function(){return Gt}),s.d(t,"id",function(){return Bt}),s.d(t,"hd",function(){return Vt}),s.d(t,"Ti",function(){return Wt}),s.d(t,"Ui",function(){return qt}),s.d(t,"Si",function(){return zt}),s.d(t,"gh",function(){return Zt}),s.d(t,"hh",function(){return Kt}),s.d(t,"fh",function(){return Yt}),s.d(t,"Bj",function(){return Xt}),s.d(t,"Cj",function(){return $t}),s.d(t,"Aj",function(){return Qt}),s.d(t,"Qj",function(){return Jt}),s.d(t,"Pj",function(){return es}),s.d(t,"je",function(){return ts}),s.d(t,"W",function(){return ss}),s.d(t,"S",function(){return ns}),s.d(t,"P",function(){return as}),s.d(t,"Qe",function(){return rs}),s.d(t,"eg",function(){return os}),s.d(t,"dg",function(){return is}),s.d(t,"Kf",function(){return cs}),s.d(t,"Pe",function(){return ls}),s.d(t,"zc",function(){return ds}),s.d(t,"Vi",function(){return us}),s.d(t,"Q",function(){return ms}),s.d(t,"Zi",function(){return ps}),s.d(t,"aj",function(){return _s}),s.d(t,"Wi",function(){return hs}),s.d(t,"bj",function(){return Es}),s.d(t,"Yi",function(){return gs}),s.d(t,"Xi",function(){return bs}),s.d(t,"sj",function(){return Is}),s.d(t,"nb",function(){return fs}),s.d(t,"mb",function(){return Ss}),s.d(t,"Kc",function(){return As}),s.d(t,"Lc",function(){return Ts}),s.d(t,"Jc",function(){return Cs}),s.d(t,"bd",function(){return Os}),s.d(t,"cd",function(){return Rs}),s.d(t,"ad",function(){return Ns}),s.d(t,"th",function(){return Ms}),s.d(t,"uh",function(){return Ds}),s.d(t,"sh",function(){return ys}),s.d(t,"le",function(){return Ls}),s.d(t,"gd",function(){return vs}),s.d(t,"Lh",function(){return Ps}),s.d(t,"Kh",function(){return Fs}),s.d(t,"Ph",function(){return xs}),s.d(t,"Mh",function(){return ws}),s.d(t,"Oh",function(){return ks}),s.d(t,"Nh",function(){return Hs}),s.d(t,"qg",function(){return Us}),s.d(t,"rg",function(){return js}),s.d(t,"pg",function(){return Gs}),s.d(t,"cg",function(){return Bs}),s.d(t,"ed",function(){return Vs}),s.d(t,"fd",function(){return Ws}),s.d(t,"dd",function(){return qs}),s.d(t,"Z",function(){return zs}),s.d(t,"ab",function(){return Zs}),s.d(t,"mg",function(){return Ks}),s.d(t,"lg",function(){return Ys}),s.d(t,"hj",function(){return Xs}),s.d(t,"gj",function(){return $s}),s.d(t,"fj",function(){return Qs}),s.d(t,"Qh",function(){return Js}),s.d(t,"ge",function(){return en}),s.d(t,"he",function(){return tn}),s.d(t,"Rg",function(){return sn}),s.d(t,"kh",function(){return nn}),s.d(t,"lh",function(){return an}),s.d(t,"kd",function(){return rn}),s.d(t,"ld",function(){return on}),s.d(t,"jd",function(){return cn}),s.d(t,"lc",function(){return ln}),s.d(t,"kc",function(){return dn}),s.d(t,"V",function(){return un}),s.d(t,"T",function(){return mn}),s.d(t,"X",function(){return pn}),s.d(t,"vd",function(){return _n}),s.d(t,"td",function(){return hn}),s.d(t,"ud",function(){return En}),s.d(t,"ii",function(){return gn}),s.d(t,"hi",function(){return bn}),s.d(t,"ki",function(){return In}),s.d(t,"ji",function(){return fn}),s.d(t,"pi",function(){return Sn}),s.d(t,"qi",function(){return An}),s.d(t,"oi",function(){return Tn}),s.d(t,"mi",function(){return Cn}),s.d(t,"ni",function(){return On}),s.d(t,"fi",function(){return Rn}),s.d(t,"gi",function(){return Nn}),s.d(t,"ei",function(){return Mn}),s.d(t,"ai",function(){return Dn}),s.d(t,"Zh",function(){return yn}),s.d(t,"Yh",function(){return Ln}),s.d(t,"ci",function(){return vn}),s.d(t,"di",function(){return Pn}),s.d(t,"bi",function(){return Fn}),s.d(t,"Ub",function(){return xn}),s.d(t,"Vb",function(){return wn}),s.d(t,"Tb",function(){return kn}),s.d(t,"Ne",function(){return Hn}),s.d(t,"Me",function(){return Un}),s.d(t,"wg",function(){return jn}),s.d(t,"xg",function(){return Gn}),s.d(t,"yg",function(){return Bn}),s.d(t,"Wd",function(){return Vn}),s.d(t,"Xd",function(){return Wn}),s.d(t,"Vd",function(){return qn}),s.d(t,"de",function(){return zn}),s.d(t,"Zd",function(){return Zn}),s.d(t,"Yd",function(){return Kn}),s.d(t,"Ud",function(){return Yn}),s.d(t,"Td",function(){return Xn}),s.d(t,"Sd",function(){return $n}),s.d(t,"ae",function(){return Qn}),s.d(t,"jb",function(){return Jn}),s.d(t,"kb",function(){return ea}),s.d(t,"ib",function(){return ta}),s.d(t,"Ri",function(){return sa}),s.d(t,"Pi",function(){return na}),s.d(t,"Qi",function(){return aa}),s.d(t,"Oi",function(){return ra}),s.d(t,"cb",function(){return oa}),s.d(t,"fb",function(){return ia}),s.d(t,"gb",function(){return ca}),s.d(t,"eb",function(){return la}),s.d(t,"db",function(){return da}),s.d(t,"Nf",function(){return ua}),s.d(t,"Of",function(){return ma}),s.d(t,"Mf",function(){return pa}),s.d(t,"Lf",function(){return _a}),s.d(t,"yd",function(){return ha}),s.d(t,"wd",function(){return Ea}),s.d(t,"xd",function(){return ga}),s.d(t,"Fg",function(){return ba}),s.d(t,"Gg",function(){return Ia}),s.d(t,"Hg",function(){return fa}),s.d(t,"Eg",function(){return Sa}),s.d(t,"b",function(){return Aa}),s.d(t,"E",function(){return Ta}),s.d(t,"Ge",function(){return Ca}),s.d(t,"bh",function(){return Oa}),s.d(t,"a",function(){return Ra}),s.d(t,"fe",function(){return Na}),s.d(t,"li",function(){return Ma}),s.d(t,"pj",function(){return Da}),s.d(t,"q",function(){return ya}),s.d(t,"r",function(){return La}),s.d(t,"p",function(){return va}),s.d(t,"d",function(){return Pa}),s.d(t,"c",function(){return Fa}),s.d(t,"n",function(){return xa}),s.d(t,"o",function(){return wa}),s.d(t,"m",function(){return ka}),s.d(t,"h",function(){return Ha}),s.d(t,"j",function(){return Ua}),s.d(t,"f",function(){return ja}),s.d(t,"g",function(){return Ga}),s.d(t,"w",function(){return Ba}),s.d(t,"k",function(){return Va}),s.d(t,"i",function(){return Wa}),s.d(t,"l",function(){return qa}),s.d(t,"e",function(){return za}),s.d(t,"Gb",function(){return Za}),s.d(t,"Hb",function(){return Ka}),s.d(t,"Fb",function(){return Ya}),s.d(t,"Ah",function(){return Xa}),s.d(t,"ie",function(){return $a}),s.d(t,"u",function(){return Qa}),s.d(t,"v",function(){return Ja}),s.d(t,"t",function(){return er}),s.d(t,"Ef",function(){return tr}),s.d(t,"Uj",function(){return sr}),s.d(t,"Gf",function(){return nr}),s.d(t,"Fi",function(){return ar}),s.d(t,"Gi",function(){return rr}),s.d(t,"Bi",function(){return or}),s.d(t,"Ci",function(){return ir}),s.d(t,"Ai",function(){return cr}),s.d(t,"zi",function(){return lr}),s.d(t,"yi",function(){return dr}),s.d(t,"wi",function(){return ur}),s.d(t,"xi",function(){return mr}),s.d(t,"Ei",function(){return pr}),s.d(t,"Di",function(){return _r}),s.d(t,"qd",function(){return hr}),s.d(t,"rd",function(){return Er}),s.d(t,"pd",function(){return gr}),s.d(t,"sd",function(){return br}),s.d(t,"N",function(){return Ir}),s.d(t,"O",function(){return fr}),s.d(t,"M",function(){return Sr}),s.d(t,"Kj",function(){return Ar}),s.d(t,"Lj",function(){return Tr}),s.d(t,"Hj",function(){return Cr}),s.d(t,"Jj",function(){return Or}),s.d(t,"Ij",function(){return Rr}),s.d(t,"Gj",function(){return Nr}),s.d(t,"tb",function(){return Mr}),s.d(t,"ub",function(){return Dr}),s.d(t,"sb",function(){return yr}),s.d(t,"zj",function(){return Lr}),s.d(t,"Hd",function(){return vr}),s.d(t,"uf",function(){return Pr}),s.d(t,"vf",function(){return Fr}),s.d(t,"ob",function(){return xr}),s.d(t,"hk",function(){return wr}),s.d(t,"gk",function(){return kr}),s.d(t,"dk",function(){return Hr}),s.d(t,"ck",function(){return Ur}),s.d(t,"fk",function(){return jr}),s.d(t,"ek",function(){return Gr}),s.d(t,"jk",function(){return Br}),s.d(t,"ik",function(){return Vr}),s.d(t,"Gd",function(){return Wr}),s.d(t,"ac",function(){return qr}),s.d(t,"Zb",function(){return zr}),s.d(t,"Yb",function(){return Zr}),s.d(t,"ec",function(){return Kr}),s.d(t,"fc",function(){return Yr}),s.d(t,"dc",function(){return Xr}),s.d(t,"cc",function(){return $r}),s.d(t,"bc",function(){return Qr}),s.d(t,"Hc",function(){return Jr}),s.d(t,"Ic",function(){return eo}),s.d(t,"Tc",function(){return to}),s.d(t,"Uc",function(){return so}),s.d(t,"Sc",function(){return no}),s.d(t,"Pf",function(){return ao}),s.d(t,"Ed",function(){return ro}),s.d(t,"Fd",function(){return oo}),s.d(t,"Dd",function(){return io}),s.d(t,"Wb",function(){return co}),s.d(t,"be",function(){return lo}),s.d(t,"ce",function(){return uo}),s.d(t,"sf",function(){return mo}),s.d(t,"Mg",function(){return po}),s.d(t,"Lg",function(){return _o}),s.d(t,"we",function(){return ho}),s.d(t,"xe",function(){return Eo}),s.d(t,"ve",function(){return go}),s.d(t,"vh",function(){return bo}),s.d(t,"xh",function(){return Io}),s.d(t,"wh",function(){return fo}),s.d(t,"Gh",function(){return So}),s.d(t,"Ad",function(){return Ao}),s.d(t,"zd",function(){return To}),s.d(t,"Qg",function(){return Co}),s.d(t,"Pg",function(){return Oo}),s.d(t,"Og",function(){return Ro}),s.d(t,"ug",function(){return No}),s.d(t,"qf",function(){return Mo}),s.d(t,"pf",function(){return Do}),s.d(t,"rf",function(){return yo}),s.d(t,"of",function(){return Lo}),s.d(t,"nf",function(){return vo}),s.d(t,"Nc",function(){return Po}),s.d(t,"Oc",function(){return Fo}),s.d(t,"Mc",function(){return xo}),s.d(t,"nd",function(){return wo}),s.d(t,"od",function(){return ko}),s.d(t,"md",function(){return Ho}),s.d(t,"tg",function(){return Uo}),s.d(t,"Ie",function(){return jo}),s.d(t,"vg",function(){return Go}),s.d(t,"Sh",function(){return Bo}),s.d(t,"sg",function(){return Vo}),s.d(t,"bb",function(){return Wo}),s.d(t,"Kd",function(){return qo}),s.d(t,"Ld",function(){return zo}),s.d(t,"Oj",function(){return Zo}),s.d(t,"Nj",function(){return Ko}),s.d(t,"te",function(){return Yo}),s.d(t,"ue",function(){return Xo}),s.d(t,"se",function(){return $o}),s.d(t,"Gc",function(){return Qo}),s.d(t,"qc",function(){return Jo}),s.d(t,"vc",function(){return ei}),s.d(t,"rc",function(){return ti}),s.d(t,"wc",function(){return si}),s.d(t,"pc",function(){return ni}),s.d(t,"uc",function(){return ai}),s.d(t,"Jg",function(){return ri}),s.d(t,"Kg",function(){return oi}),s.d(t,"Ig",function(){return ii}),s.d(t,"Cc",function(){return ci}),s.d(t,"Bc",function(){return li}),s.d(t,"Ac",function(){return di}),s.d(t,"Zf",function(){return ui}),s.d(t,"ag",function(){return mi}),s.d(t,"bg",function(){return pi}),s.d(t,"tc",function(){return _i}),s.d(t,"sc",function(){return hi}),s.d(t,"oj",function(){return Ei}),s.d(t,"nj",function(){return gi}),s.d(t,"Od",function(){return bi}),s.d(t,"Pd",function(){return Ii}),s.d(t,"Nd",function(){return fi}),s.d(t,"Uh",function(){return Si}),s.d(t,"Th",function(){return Ai}),s.d(t,"Fc",function(){return Ti}),s.d(t,"Ec",function(){return Ci}),s.d(t,"Rh",function(){return Oi}),s.d(t,"z",function(){return Ri}),s.d(t,"A",function(){return Ni}),s.d(t,"B",function(){return Mi}),s.d(t,"x",function(){return Di}),s.d(t,"y",function(){return yi}),s.d(t,"gf",function(){return Li}),s.d(t,"hf",function(){return vi}),s.d(t,"if",function(){return Pi}),s.d(t,"jf",function(){return Fi}),s.d(t,"kf",function(){return xi}),s.d(t,"Ve",function(){return wi}),s.d(t,"Wf",function(){return ki}),s.d(t,"Xf",function(){return Hi}),s.d(t,"Yf",function(){return Ui}),s.d(t,"fg",function(){return ji}),s.d(t,"gg",function(){return Gi}),s.d(t,"hg",function(){return Bi}),s.d(t,"zg",function(){return Vi}),s.d(t,"Ag",function(){return Wi}),s.d(t,"ah",function(){return qi}),s.d(t,"eh",function(){return zi}),s.d(t,"yh",function(){return Zi}),s.d(t,"zh",function(){return Ki}),s.d(t,"Ih",function(){return Yi}),s.d(t,"Jh",function(){return Xi}),s.d(t,"Dj",function(){return $i}),s.d(t,"Ej",function(){return Qi}),s.d(t,"Fj",function(){return Ji}),s.d(t,"Mi",function(){return ec}),s.d(t,"Ni",function(){return tc}),s.d(t,"mf",function(){return sc}),s.d(t,"lf",function(){return nc}),s.d(t,"D",function(){return ac}),s.d(t,"C",function(){return rc}),s.d(t,"dj",function(){return oc}),s.d(t,"cj",function(){return ic}),s.d(t,"ej",function(){return cc}),s.d(t,"Bh",function(){return lc}),s.d(t,"Ob",function(){return dc}),s.d(t,"Jb",function(){return uc}),s.d(t,"Ib",function(){return mc}),s.d(t,"lb",function(){return pc}),s.d(t,"Lb",function(){return _c}),s.d(t,"Kb",function(){return hc}),s.d(t,"Mb",function(){return Ec}),s.d(t,"Xb",function(){return gc}),s.d(t,"Pb",function(){return bc}),s.d(t,"Sb",function(){return Ic}),s.d(t,"gc",function(){return fc}),s.d(t,"Qb",function(){return Sc}),s.d(t,"Nb",function(){return Ac}),s.d(t,"rh",function(){return Tc}),s.d(t,"qh",function(){return Cc}),s.d(t,"ph",function(){return Oc}),s.d(t,"nh",function(){return Rc}),s.d(t,"ch",function(){return Nc}),s.d(t,"lk",function(){return Mc}),s.d(t,"oh",function(){return Dc}),s.d(t,"ri",function(){return yc}),s.d(t,"kk",function(){return Lc}),s.d(t,"Hi",function(){return vc}),s.d(t,"Ii",function(){return Pc}),s.d(t,"G",function(){return Fc}),s.d(t,"xc",function(){return xc}),s.d(t,"yc",function(){return wc}),s.d(t,"Dc",function(){return kc}),s.d(t,"rj",function(){return Hc}),s.d(t,"Cd",function(){return Uc}),s.d(t,"K",function(){return jc}),s.d(t,"Mj",function(){return Gc}),s.d(t,"qk",function(){return Bc}),s.d(t,"Ug",function(){return Vc}),s.d(t,"Tg",function(){return Wc}),s.d(t,"Sg",function(){return qc}),s.d(t,"Ab",function(){return zc}),s.d(t,"zb",function(){return Zc}),s.d(t,"wj",function(){return Kc}),s.d(t,"vj",function(){return Yc}),s.d(t,"uj",function(){return Xc}),s.d(t,"tj",function(){return $c}),s.d(t,"Tj",function(){return Qc}),s.d(t,"Eh",function(){return Jc}),s.d(t,"Dh",function(){return el}),s.d(t,"Ch",function(){return tl});const n="INITIAL_STATE",a="LAUNCH_COMPLETED",r="WINDOW_RESIZING",o="WINDOW_RESIZED",i="APPLICATION_VISIBILITY_DID_CHANGE",c="CANCEL_APP_RELOAD",l="CONFIRM_APP_RELOAD",d="SHOW_APP_RELOAD",u="LAUNCH_ERROR",m="HEADER_NAVIGATION_SELECTED",p="ACCOUNT_MENU_SHOWN",_="USER_LOGGED_OUT",h="HOME_BUTTON_CLICKED",E="TIMEZONE_CHANGE_DETECTED",g="PREFERRED_TIMEZONE_CHANGE_REJECTED",b="ONLINE_STATUS_CHANGED",I="OPEN_PAGE_REQUESTED",f="CLOSE_PAGE_REQUESTED",S="CLOSE_ALL_PAGES_REQUESTED",A="EXTERNAL_LINK_CLICKED",T="SYNC_DATA",C="ROTATE_AD_ON_LIST_SCROLL",O="LAUNCH_PAGE_REQUESTED",R="LAUNCH_FAILED",N="OPEN_TABS_MENU",M="PREVIEW_MESSAGE_REQUESTED",D="PREVIEW_MESSAGE_CLOSED",y="EXPAND_ACCOUNT_LIST",L="EXPAND_MAILBOXES_LIST",v="SWITCH_MAILBOX",P="CONVERSATIONS_CHANGE_REQUESTED",F="CONVERSATIONS_CHANGE_SUCCEEDED",x="CONVERSATIONS_CHANGE_FAILED",w="MESSAGE_READ_SHOW_IMAGES_REQUESTED",k="SIGNATURE_STATUS_CHANGE_REQUESTED",H="LINK_ENHANCER_FETCH_REQUESTED",U="LINK_ENHANCER_FETCH_SUCCEEDED",j="LINK_ENHANCER_FETCH_FAILED",G="LINK_ENHANCER_ADD_LINK",B="LINK_ENHANCER_RESIZE_LINK",V="LINK_ENHANCER_REMOVE_LINK",W="LINK_ENHANCER_OPEN_LINK",q="LINK_ENHANCER_SHARE_LINK",z="LINK_ENHANCER_MOVE_LINK_BOTTOM",Z="LINK_ENHANCER_MOVE_LINK_INLINE",K="DARLA_ADS_RECEIVED",Y="DARLA_ADS_FAILED",X="AD_ROTATION_SKIPPED",$="PREMIUM_AD_STARTED",Q="PREMIUM_AD_STOPPED",J="DARLA_AD_RENDERED",ee="GEMINI_AD_RENDERED",te="HIDE_RIGHT_PANE_ADS",se="GEMINI_AD_RECEIVED",ne="GEMINI_AD_FAILED",ae="GEMINI_AD_REQUESTED",re="PENCIL_AD_CLICKED",oe="AD_FEEDBACK_STARTED",ie="AD_FEEDBACK_SUBMITTED",ce="AD_FEEDBACK_CLOSED",le="GEMINI_SPONSORED_ASSET_RECEIVED",de="GEMINI_SPONSORED_ASSET_FAILED",ue="FLASH_SALE_AD_ENDED",me="SHOPLIFT_AD_FETCH_SUCCEEDED",pe="SHOPLIFT_AD_FETCH_FAILED",_e="FAN_AD_LOAD_SUCCESS",he="FAN_AD_LOAD_ERROR",Ee="ADFREE_UPSELL_CANCEL",ge="FEEDBACK_PANEL_GIVE_FEEDBACK",be="HOMEPAGE_EXTENSION_PANEL",Ie="HOMEPAGE_EXTENSION_CLOSED",fe="SUPPRESSED_UPSELL_SAVE_SUCCEEDED",Se="SUPPRESSED_UPSELL_SAVE_FAILED",Ae="V3_MESSAGE_SAVE_REQUESTED",Te="V3_MESSAGE_SAVE_SUCCEEDED",Ce="V3_MESSAGE_SAVE_FAILED",Oe="V3_MESSAGE_SEND_REQUESTED",Re="V3_MESSAGE_SEND_SUCCEEDED",Ne="V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED",Me="V3_MESSAGE_SEND_FAILED",De="MESSAGE_SAVE_REQUESTED",ye="MESSAGE_SAVE_SUCCEEDED",Le="MESSAGE_SAVE_FAILED",ve="MESSAGE_AUTO_SAVE_REQUESTED",Pe="MESSAGE_AUTO_SAVE_SUCCEEDED",Fe="MESSAGE_AUTO_SAVE_FAILED",xe="SPONSORED_SAVE_TO_INBOX_REQUESTED",we="SPONSORED_SAVE_TO_INBOX_SUCCEEDED",ke="SPONSORED_SAVE_TO_INBOX_FAILED",He="AUTOTAG_DROPDOWN_CLOSED",Ue="SEND",je="SEND_SUCCESS",Ge="SEND_FAILURE",Be="DELETE_DRAFT_SUCCEEDED",Ve="DELETE_DRAFT_FAILED",We="CONTACT_SUGGESTIONS_REQUESTED",qe="CONTACT_SUGGESTIONS_SUCCEEDED",ze="DELETE_CONTACT_SUGGESTIONS_REQUESTED",Ze="DELETE_CONTACT_SUGGESTIONS_SUCCEEDED",Ke="DELETE_CONTACT_SUGGESTIONS_FAILED",Ye="CONTACT_SUGGESTIONS_FAILED",Xe="CONTACT_ADDED",$e="SUGGESTION_ADDED",Qe="XOBNIFIED_RESPONDED",Je="XOBNIFIED_FAILED",et="COMPOSE_NO_ADDRESS_DETECTED",tt="COMPOSE_RECIPIENT_LIMIT_EXCEEDED",st="COMPOSE_ADDRESSING_FAILED",nt="RTE_MORE_MENU_SHOWN",at="HANDLE_RTE_TOOLBAR_ACTIONS",rt="CONFIRM_DELETE_DIALOG_CLOSED",ot="QUOTED_TEXT_EXPANDED",it="UPLOAD_PROGRESS_RECEIVED",ct="MAILTO_ACTION_REQUESTED",lt="GIF_FETCH_REQUESTED",dt="GIF_FETCH_SUCCEEDED",ut="GIF_FETCH_FAILED",mt="GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED",pt="GIF_CATEGORIES_CONTENT_FETCH_REQUESTED",_t="GIF_CATEGORIES_CONTENT_FETCH_FAILED",ht="MORE_RECEIPTS_REQUESTED",Et="MORE_RECEIPTS_REQUEST_FAILED",gt="MORE_RECEIPTS_SUCCESS",bt="RECEIPTS_LIST_SUCCEEDED",It="RECEIPTS_LIST_FAILED",ft="REFUND_ESTIMATE_UPSELL_CLICKED",St="EARNY_UPSELL_CLICKED",At="CLOSE_DELETE_MSG_EARNY_DIALOG",Tt="TRAVEL_LIST_SUCCEEDED",Ct="TRAVEL_LIST_FAILED",Ot="MORE_TRAVEL_ITEMS_SUCCEEDED",Rt="MORE_TRAVEL_ITEMS_FAILED",Nt="MESSAGE_GROUP_WITH_BODIES_RECEIVED",Mt="MESSAGE_GROUP_WITH_BODIES_FAILED",Dt="MESSAGE_GROUP_OPENED",yt="MESSAGE_BODIES_REQUESTED",Lt="MESSAGE_BODIES_RECEIVED",vt="MESSAGE_BODIES_FAILED",Pt="MESSAGE_BODIES_OPEN_GROUP_RECEIVED",Ft="MESSAGE_CARD_FOCUSED",xt="ATTACHMENT_PREVIEW_FAILED",wt="CHECK_MAIL_RECEIVED_WITH_UPDATES",kt="CHECK_MAIL_RECEIVED_WITH_NO_UPDATES",Ht="CHECK_MAIL_FAILED",Ut="MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED",jt="MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED",Gt="MESSAGE_BODY_LINK_CLICKED",Bt="DELETE_PREVIEW_REQUESTED",Vt="DELETE_PREVIEW_CLOSED",Wt="STAR_CHANGE_REQUESTED",qt="STAR_CHANGE_SUCCEEDED",zt="STAR_CHANGE_FAILED",Zt="READ_CHANGE_REQUESTED",Kt="READ_CHANGE_SUCCEEDED",Yt="READ_CHANGE_FAILED",Xt="UNDO_MOVE_REQUESTED",$t="UNDO_MOVE_SUCCEEDED",Qt="UNDO_MOVE_FAILED",Jt="UPDATE_ITEMS_SUCCEEDED",es="UPDATE_ITEMS_FAILED",ts="FILE_ATTACHMENT_ADDED",ss="ATTACHMENT_REMOVED",ns="ATTACHMENT_DOWNLOADED",as="ALL_ATTACHMENTS_DOWNLOADED",rs="ITEM_LIST_PAGE_SCROLLED",os="MORE_MESSAGES_REQUEST_SUCCESS",is="MORE_MESSAGES_REQUEST_FAILED",cs="MESSAGE_LIST_TOOLBAR_MENU_SHOWN",ls="ITEMS_DRAG_STARTED",ds="COUPON_ICON_MSG_LIST_CLICKED",us="STREAM_CURSOR_MOVED",ms="ALL_STREAM_ITEMS_SELECTED",ps="STREAM_ITEMS_SELECTION_CLEARED",_s="STREAM_ITEM_TOGGLED",hs="STREAM_ITEMS_MULTIPLE_TOGGLE",Es="STREAM_SELECT_CURSOR_MOVED",gs="STREAM_ITEMS_SELECTION_CHANGED",bs="STREAM_ITEMS_RANGE_SELECTED",Is="TOGGLE_LIST_VISIBILITY",fs="CHANGE_FOLDER_SUCCEEDED",Ss="CHANGE_FOLDER_FAILED",As="CREATE_FOLDER_REQUESTED",Ts="CREATE_FOLDER_SUCCEEDED",Cs="CREATE_FOLDER_FAILED",Os="DELETE_FOLDER_REQUESTED",Rs="DELETE_FOLDER_SUCCEEDED",Ns="DELETE_FOLDER_FAILED",Ms="RENAME_FOLDER_REQUESTED",Ds="RENAME_FOLDER_SUCCEEDED",ys="RENAME_FOLDER_FAILED",Ls="FOLDER_CONTEXT_MENU_REQUESTED",vs="DELETE_NON_EMPTY_FOLDER_REQUESTED",Ps="SEARCH_INPUT_FOCUSED",Fs="SEARCH_INPUT_BLURRED",xs="SEARCH_LIST_ITEMS_REQUESTED",ws="SEARCH_LIST_ITEMS_BLOCK_RECEIVED",ks="SEARCH_LIST_ITEMS_RECEIVED",Hs="SEARCH_LIST_ITEMS_FAILED",Us="MOVE_ITEMS_REQUESTED",js="MOVE_ITEMS_SUCCEEDED",Gs="MOVE_ITEMS_FAILED",Bs="MORE_ITEMS_REQUESTED",Vs="DELETE_ITEMS_REQUESTED",Ws="DELETE_ITEMS_SUCCEEDED",qs="DELETE_ITEMS_FAILED",zs="BLOCK_SENDERS_REQUESTED",Zs="BLOCK_SENDERS_WITH_DELETE_REQUESTED",Ks="MORE_SEARCH_LIST_ITEMS_RECEIVED",Ys="MORE_SEARCH_LIST_ITEMS_FAILED",Xs="SUGGESTIONS_REQUESTED",$s="SUGGESTIONS_RECEIVED",Qs="SUGGESTIONS_FAILED",Js="SEARCH_PLA_AD_CLICKED",en="FETCH_PLA_ADS_BY_KEYWORD",tn="FETCH_PLA_ADS_BY_KEYWORD_RECEIVED",sn="PLA_ADS_BY_KEYWORD_FETCH_FAILED",nn="RECENT_SEARCHES_FAILED",an="RECENT_SEARCHES_SUCCEEDED",rn="DELETE_RECENT_SEARCH_REQUESTED",on="DELETE_RECENT_SEARCH_SUCCEEDED",cn="DELETE_RECENT_SEARCH_FAILED",ln="CONTENT_PROVIDERS_SUCCEEDED",dn="CONTENT_PROVIDERS_FAILED",un="ATTACHMENT_PREVIEW_SWITCH_TO_FULL_SCREEN",mn="ATTACHMENT_OPENED",pn="ATTACHMENT_ZOOMED",_n="DOCUMENT_FETCH_SUCCEEDED",hn="DOCUMENT_FETCH_FAILED",En="DOCUMENT_FETCH_REQUESTED",gn="SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED",bn="SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED",In="SETTINGS_MENU_REQUESTED",fn="SETTINGS_MENU_CLOSED",Sn="SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED",An="SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED",Tn="SETTINGS_SAVE_VACATION_PREFERENCES_FAILED",Cn="SETTINGS_SAVE_FILTERS_REQUESTED",On="SETTINGS_SAVE_FILTERS_SUCCEEDED",Rn="SETTINGS_LOCATION_CHANGE_REQUESTED",Nn="SETTINGS_LOCATION_CHANGE_SUCCEEDED",Mn="SETTINGS_LOCATION_CHANGE_FAILED",Dn="SETTINGS_BLOCKED_SENDERS_REQUESTED",yn="SETTINGS_BLOCKED_SENDERS_RECEIVED",Ln="SETTINGS_BLOCKED_SENDERS_FETCH_FAILED",vn="SETTINGS_CHANGE_REQUESTED",Pn="SETTINGS_CHANGE_SUCCEEDED",Fn="SETTINGS_CHANGE_FAILED",xn="CONTACT_DETAIL_FETCH_REQUESTED",wn="CONTACT_DETAIL_FETCH_SUCCEEDED",kn="CONTACT_DETAIL_FETCH_FAILED",Hn="IMPORTANT_CONTACTS_FETCH_SUCCEEDED",Un="IMPORTANT_CONTACTS_FETCH_FAILED",jn="NOTIFICATION_CLOSED",Gn="NOTIFICATION_PAUSED",Bn="NOTIFICATION_RESUME",Vn="FEATURE_CUE_MARK_AS_SHOWN_REQUESTED",Wn="FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED",qn="FEATURE_CUE_MARK_AS_SHOWN_FAILED",zn="FEATURE_TRY_NOW_REQUESTED",Zn="FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED",Kn="FEATURE_CUE_MARK_AS_SUCCESS_FAILED",Yn="FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED",Xn="FEATURE_CUE_MARK_AS_CLOSE_FAILED",$n="FEATURE_CLOSED",Qn="FEATURE_CUE_NOTIFICATION_CLOSED",Jn="CARD_MARK_AS_SHOWN_REQUESTED",ea="CARD_TRY_NOW_REQUESTED",ta="CARD_CLOSED",sa="SSA_BREACH_ALERT_SHOWN",na="SSA_BREACH_ALERT_MARK_AS_ACTED_REQUESTED",aa="SSA_BREACH_ALERT_MARK_AS_ACTED_SUCCEEDED",ra="SSA_BREACH_ALERT_AS_ACTED_FAILED",oa="BROWSER_NOTIFICATIONS_DISPLAYED",ia="BULK_PROGRESS_INITIATED",ca="BULK_PROGRESS_RECEIVED",la="BULK_CANCEL_REQUESTED",da="BULK_CANCEL_FAILED",ua="MESSAGE_PRINT_REQUESTED",ma="MESSAGE_PRINT_SUCCEEDED",pa="MESSAGE_PRINT_CLOSED",_a="MESSAGE_PRINT_CANCELED",ha="DOWNLOAD_REQUESTED",Ea="DOWNLOAD_COMPLETED",ga="DOWNLOAD_FAILED",ba="OPT_OUT_OF_NORRIN",Ia="OPT_OUT_REQUESTED",fa="OPT_OUT_SUBMIT_FEEDBACK",Sa="OPT_OUT_CANCEL_FEEDBACK",Aa="ABOUT_YAHOO_MAIL_PAGE_REQUESTED",Ta="ADFREE_MAIL_PAGE_REQUESTED",Ca="HELP_PAGE_REQUESTED",Oa="PRIVACY_TERMS_PAGE_REQUESTED",Ra="ABOUT_OUR_ADS_PAGE_REQUESTED",Na="FEEDBACK_SUBMITTED",Ma="SETTINGS_POPOVER_AUTOOPEN_CHANGED",Da="THEME_MODE_CHANGE_REQUESTED",ya="ACCOUNT_DETAILS_CHANGE_REQUESTED",La="ACCOUNT_DETAILS_CHANGE_SUCCEEDED",va="ACCOUNT_DETAILS_CHANGE_FAILED",Pa="ACCOUNTS_OAUTH_TOKEN_REMOVE_SUCCEEDED",Fa="ACCOUNTS_OAUTH_TOKEN_REMOVE_FAILED",xa="ACCOUNT_DELETE_REQUESTED",wa="ACCOUNT_DELETE_SUCCEEDED",ka="ACCOUNT_DELETE_FAILED",Ha="ACCOUNT_ADD_REQUESTED",Ua="ACCOUNT_ADD_SUCCEEDED",ja="ACCOUNT_ADD_FAILED",Ga="ACCOUNT_ADD_FINISHED",Ba="ACCOUNT_SETTINGS_CANCEL",Va="ACCOUNT_ADD_WIZARD_OPENED",Wa="ACCOUNT_ADD_SELECT_PROVIDER",qa="ACCOUNT_DELETE_CONFIRMED",za="ACCOUNT_ADD_AUTHORIZED",Za="CONFIRM_EMAIL_RESEND_REQUESTED",Ka="CONFIRM_EMAIL_RESEND_SUCCEEDED",Ya="CONFIRM_EMAIL_RESEND_FAILED",Xa="REVIEW_FORWARD_EMAIL",$a="FETCH_PRIMARY_ACCOUNT",Qa="ACCOUNT_REAUTH_REQUESTED",Ja="ACCOUNT_REAUTH_SUCCEEDED",er="ACCOUNT_REAUTH_FAILED",tr="MESSAGE_CARD_EXPANSION_CHANGED",sr="V3_MESSAGE_CARD_EXPANSION_CHANGED",nr="MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED",ar="SOCIAL_ACCOUNTS_STATUS_RECEIVED",rr="SOCIAL_ACCOUNT_STATUS_FETCH_FAILED",or="SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED",ir="SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED",cr="SOCIAL_ACCOUNTS_DISCONNECT_FAILED",lr="SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED",dr="SOCIAL_ACCOUNTS_CONNECT_FAILED",ur="SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED",mr="SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED",pr="SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED",_r="SOCIAL_ACCOUNTS_IMPORT_FAILED",hr="DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED",Er="DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED",gr="DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED",br="DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED",Ir="ALIAS_EMAIL_CREATE_REQUESTED",fr="ALIAS_EMAIL_CREATE_SUCCEEDED",Sr="ALIAS_EMAIL_CREATE_FAILED",Ar="UNSUBSCRIBE_MULTIPLE_LISTS_CLEANED",Tr="UNSUBSCRIBE_SINGLE_LIST_CLEANED",Cr="UNSUBSCRIBE_DIALOG_CLOSED",Or="UNSUBSCRIBE_EMAIL_REQUESTED",Rr="UNSUBSCRIBE_DISPLAY_LIST",Nr="UNSUBSCRIBE_ACTION_TAKEN",Mr="CHECK_UNSUBSCRIBE_MAIL_REQUESTED",Dr="CHECK_UNSUBSCRIBE_MAIL_SUCCEEDED",yr="CHECK_UNSUBSCRIBE_MAIL_FAILED",Lr="TUTORIAL_VIDEO_PLAYED",vr="EXCEPTION_OCCURRED",Pr="MESSAGES_UNSUBSCRIBE_CONTENT_RECEIVED",Fr="MESSAGES_UNSUBSCRIBE_CONTENT_REQUESTED",xr="CHANNEL_CHANGED",wr="VIDEO_PLAYER_OPENED",kr="VIDEO_PLAYER_CLOSED",Hr="VIDEO_CHANNELS_METADATA_RECEIVED",Ur="VIDEO_CHANNELS_METADATA_FAILED",jr="VIDEO_CHANNEL_RECEIVED",Gr="VIDEO_CHANNEL_FAILED",Br="VIDEO_PLAYER_PLAYED",Vr="VIDEO_PLAYER_PAUSED",Wr="EMPTY_FOLDER_VIDEO_FETCH_CHANNEL",qr="CONTACT_GROUPS_REQUESTED",zr="CONTACT_GROUPS_RECEIVED",Zr="CONTACT_GROUPS_FAILED",Kr="CONTACT_SAVE_REQUESTED",Yr="CONTACT_SAVE_SUCCEEDED",Xr="CONTACT_SAVE_FAILED",$r="CONTACT_PHOTO_UPLOAD_SUCCEEDED",Qr="CONTACT_PHOTO_UPLOAD_FAILED",Jr="CREATE_CONTACT_FAILED",eo="CREATE_CONTACT_SUCCEEDED",to="DELETE_CONTACT_REQUESTED",so="DELETE_CONTACT_SUCCEEDED",no="DELETE_CONTACT_FAILED",ao="MESSAGE_READ_AD_ROTATION_TIMER",ro="EMOJI_PICKER_CLOSED",oo="EMOJI_PICKER_OPENED",io="EMOJI_CATEGORY_CHANGED",co="CONTACT_DRAG_DROP",lo="FEATURE_DISABLED",uo="FEATURE_ENABLED",mo="MAILBOX_NOT_SYNCING",po="PAYMENTS_FETCH_RECEIVED",_o="PAYMENTS_FETCH_FAILED",ho="GET_INVITE_INFO_REQUESTED",Eo="GET_INVITE_INFO_SUCCEEDED",go="GET_INVITE_INFO_FAILED",bo="RESPOND_TO_INVITE",Io="RESPOND_TO_INVITE_SUCCEEDED",fo="RESPOND_TO_INVITE_FAILED",So="RSVP_NAVIGATE_TO_CALENDAR",Ao="DRAWER_OPENED",To="DRAWER_CLOSED",Co="PENSIEVE_DELETE_SUCCESS",Oo="PENSIEVE_DELETE_REQUESTED",Ro="PENSIEVE_DELETE_FAILED",No="NAVIGATE_TO_MAIL_PRO",Mo="LOCATION_SUGGEST_REQUESTED",Do="LOCATION_SUGGEST_FAILED",yo="LOCATION_SUGGEST_SUCCEEDED",Lo="LIST_SAVED_SEARCH_SUCCEEDED",vo="LIST_SAVED_SEARCH_FAILED",Po="CREATE_SAVED_SEARCH_REQUESTED",Fo="CREATE_SAVED_SEARCH_SUCCEEDED",xo="CREATE_SAVED_SEARCH_FAILED",wo="DELETE_SAVED_SEARCH_REQUESTED",ko="DELETE_SAVED_SEARCH_SUCCEEDED",Ho="DELETE_SAVED_SEARCH_FAILED",Uo="NAVIGATE_TO_HIPMUNK",jo="HIPMUNK_CARD_RENDERED",Go="NAVIGATE_TO_SEATGEEK",Bo="SEATGEEK_CARD_RENDERED",Vo="NAVIGATE_TO_BOOKING",Wo="BOOKING_CARD_RENDERED",qo="EXPIRING_COUPON_CLIPPER_SHOWN",zo="EXPIRING_COUPON_EXPAND_STATE_CHANGED",Zo="UPDATE_BUSINESS_LISTING_SUCCEEDED",Ko="UPDATE_BUSINESS_LISTING_FAILED",Yo="GEO_LOCATION_UPDATE_REQUESTED",Xo="GEO_LOCATION_UPDATE_SUCCEEDED",$o="GEO_LOCATION_UPDATE_FAILED",Qo="COUPON_STORE_LOCATOR_SHOWN",Jo="COUPONS_ADD_TAG_DECO_REQUESTED",ei="COUPONS_REMOVE_TAG_DECO_REQUESTED",ti="COUPONS_ADD_TAG_DECO_SUCCEEDED",si="COUPONS_REMOVE_TAG_DECO_SUCCEEDED",ni="COUPONS_ADD_TAG_DECO_FAILED",ai="COUPONS_REMOVE_TAG_DECO_FAILED",ri="PARENT_MESSAGE_METADATA_REQUESTED",oi="PARENT_MESSAGE_METADATA_SUCCEEDED",ii="PARENT_MESSAGE_METADATA_FAILED",ci="COUPON_RECOMMENDATIONS_OPENED",li="COUPON_RECOMMENDATIONS_CLOSED",di="COUPON_RECOMMENDATIONS_AD_CLICKED",ui="MORE_COUPONS_REQUESTED",mi="MORE_COUPONS_REQUEST_FAILED",pi="MORE_COUPONS_SUCCESS",_i="COUPONS_LIST_SUCCEEDED",hi="COUPONS_LIST_FAILED",Ei="TAIWAN_COMMERCE_DEALS_SUCCEEDED",gi="TAIWAN_COMMERCE_DEALS_FAILED",bi="EXTRACT_COUPON_REQUESTED",Ii="EXTRACT_COUPON_SUCCEEDED",fi="EXTRACT_COUPON_FAILED",Si="SELF_EXTRACT_COUPON_MODAL_OPENED",Ai="SELF_EXTRACT_COUPON_MODAL_CLOSED",Ti="COUPON_SEARCH_SUCCEEDED",Ci="COUPON_SEARCH_FAILED",Oi="SEARCH_RIGHT_RAIL_COUPONS_TOGGLED",Ri="ACTIVATE_OFFER_FAILED",Ni="ACTIVATE_OFFER_REQUESTED",Mi="ACTIVATE_OFFER_SUCCEEDED",Di="ACTIVATED_OFFERS_LIST_FAILED",yi="ACTIVATED_OFFERS_LIST_SUCCEEDED",Li="LINK_MODAL_CLOSED",vi="LINK_MODAL_OPENED",Pi="LINK_RETAILER_FAILED",Fi="LINK_RETAILER_REQUESTED",xi="LINK_RETAILER_SUCCEEDED",wi="LINKED_CARD_SHOWN",ki="MORE_ACTIVATED_OFFERS_LIST_FAILED",Hi="MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED",Ui="MORE_ACTIVATED_OFFERS_REQUESTED",ji="MORE_OFFERS_LIST_FAILED",Gi="MORE_OFFERS_LIST_SUCCEEDED",Bi="MORE_OFFERS_REQUESTED",Vi="OFFERS_LIST_FAILED",Wi="OFFERS_LIST_SUCCEEDED",qi="PRINT_OFFERS_REQUESTED",zi="QUOTIENT_MODAL_SHOWN",Zi="RETAILERS_LIST_FAILED",Ki="RETAILERS_LIST_SUCCEEDED",Yi="SAVINGS_LIST_FAILED",Xi="SAVINGS_LIST_SUCCEEDED",$i="UNLINK_RETAILER_FAILED",Qi="UNLINK_RETAILER_REQUESTED",Ji="UNLINK_RETAILER_SUCCEEDED",ec="SR_RETAILERS_LIST_FAILED",tc="SR_RETAILERS_LIST_SUCCEEDED",sc="LINK_SR_MODAL_OPENED",nc="LINK_SR_MODAL_CLOSED",ac="ADBLOCK_UPSELL_OPTION_CLICKED",rc="ADBLOCK_DETECTED",oc="SUBSCRIPTION_SELECTED",ic="SUBSCRIPTION_FAILURE",cc="SUBSCRIPTION_SUCCESS",lc="RIGHT_RAIL_COMMS_ICON_CLICKED",dc="CONTACTS_PANE_LIST_FILTER_CHANGED",uc="CONTACTS_LIST_FETCH_SUCCEEDED",mc="CONTACTS_LIST_FETCH_FAILED",pc="CATEGORY_LIST_EXPANSION_TOGGLED",_c="CONTACTS_PANE_CONTACT_CLICKED",hc="CONTACTS_PANE_BACK_BUTTON_CLICKED",Ec="CONTACTS_PANE_EDIT_BUTTON_CLICKED",gc="CONTACT_EDIT_CANCELLED",bc="CONTACTS_PANE_SEARCHED",Ic="CONTACT_CREATE_CLICKED",fc="CONTACT_SEARCH_CLOSED",Sc="CONTACTS_PANE_VIEW_LIST",Ac="CONTACTS_PANE_GROUP_CHANGED",Tc="RELATED_SEARCHES_FETCH_SUCCEEDED",Cc="RELATED_SEARCHES_FETCH_FAILED",Oc="RELATED_SEARCHES_CARD_CLICKED",Rc="RELATED_COUPONS_TOGGLED",Nc="PUSH_NOTIFICATIONS_REQUEST_GRANTED",Mc="VIGLINK_CLICKED",Dc="RELATED_RETAILERS_TOGGLED",yc="SHOPLIFT_AD_CLICKED",Lc="VIEW_RAW_MESSAGE",vc="SPONSORED_MOMENT_CLICKED",Pc="SPONSORED_MOMENT_CLOSED",Fc="AD_BLOCK_COUPON_CLICKED",xc="COUPONS_SEARCH_TOP_DEAL_CLICKED",wc="COUPON_CLICKED_FROM_PENCIL",kc="COUPON_RENDERED_ON_PENCIL",Hc="TOGGLE_DETAIL_PANE_EXPANSION",Uc="EBAY_WARRANTY_UPSELL_CLICKED",jc="AD_FORMAT_SELECTION_CLOSED",Gc="UPDATE_AD_FORMAT_SELECTION_CLICKED",Bc="YAHOO_DEAL_CARD_CLICKED",Vc="POST_LAUNCH_SYNC_SUCCEEDED",Wc="POST_LAUNCH_SYNC_FAILED",qc="POST_LAUNCH_ATTRIBUTES_RECEIVED",zc="COMPOSE_ATTRIBUTES_RECEIVED",Zc="COMPOSE_ATTRIBUTES_FETCH_FAILED",Kc="TOP_RETAILERS_REQUEST_SUCCEEDED",Yc="TOP_RETAILERS_REQUEST_FAILED",Xc="TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED",$c="TOP_DEAL_CATEGORIES_REQUEST_FAILED",Qc="USER_NAME_PHONE_REG_UPSELL_LOADED",Jc="RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED",el="RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED",tl="RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED"},function(e,t,s){"use strict";s.d(t,"b",function(){return c}),s.d(t,"d",function(){return l}),s.d(t,"c",function(){return d}),s.d(t,"a",function(){return m});var n=s(8),a=s(25),r=s(10);const o=Object(n.c)(["ADD","ALIGN_CENTER","ALIGN_LEFT","APP_HIDDEN","ARCHIVE","ARROW_RIGHT_DOC","ARROW_UP","ATTACH","ATTACHMENT","ATTACH_CAL","ATTACH_DOC","ATTACH_DOC_48","ATTACH_GENERIC_48","ATTACH_ICS_48","ATTACH_IMAGE","ATTACH_IMAGE_48","ATTACH_MOVIE_48","ATTACH_PDF_48","ATTACH_PPT_48","ATTACH_SOUND_48","ATTACH_XLS_48","ATTACH_ZIP_48","ATTENTION","BELL","BIG_STAR","BOLD","CALENDAR","CALENDAR_EMPTY","CALENDAR_SETTINGS","CAL_ACCEPT","CAL_DECLINE","CAL_MAYBE","CHECKBOX_OFF","CHECKBOX_ON","CHECKMARK","CHEVRON_UP","CIRCLE","CLEAR","CLOCK","CLOCK_OUTLINE","CLOSE","CLOSE_MINI","COLLAPSE_LIST","COMPOSE","COMPOSE_EMOJI","CONTACT_CARD","CONTRACT","DEALS","DELETE","DEVICE_PHONE","CAR","DOCUMENTS_S","DOWNLOAD","DRAFTS","EMOJI_FOOD_AND_DRINK","ENTER","EXCLAMATION_ALT","EXPAND","EXPAND_LIST","FEEDBACK","FOLDER","FORWARD","GETAWAYFILL","GIF_BOX","GUEST_LIST","HOME","INBOX","INDENT","INFO","INPUT_ARROW_DOWN","ITALIC","LINK","LIST_ORDERED","LIST_ORDERED_FLIPPED","LIST_UNORDERED","LOCATION_MARKER","MESSENGER","MINUS","MIXED_CHECKBOX","MORE","MOVE_TO_FOLDER","NOTEPAD","NO_INTERNET","NONE_BELL","ORB","OUTDENT","PEOPLE","POP_OUT","PRINTER","READ","REFRESH","REPLY","REPLY_ALL","RESTORE_TO_INBOX","RICHTEXT_OFF","RICHTEXT_ON","SCISSORS","SEARCH","SEARCH_MAIL","SEARCH_MINI","SEARCH_WEB","SELECTED","SENT","SETTINGS","SHARE_SOCIAL","SHOPPING","SPAM","SPONSORED","STAR","STATIONERY","STRIKETHROUGH","TAB_IMAGES","TEXT","TEXT_COLOR","TRAVEL","TRUSTED","TUMBLR","VIDEO_CALL","YBADGE","TAP_TO_TOP","SIDEBAR","BIG_STAR","SOLID_CIRCLE","HOTELS","TICKETS","THEATERS","CONCERTS","SPORTS","FACEBOOK","FLICKR","FLICKR_MONOCHROME","TWITTER","LINKEDIN","BASKET","CAMERA_FILL","TAG_FILL"]),i=Object(n.c)(["BELL","CONTRACT","EXCLAMATION_ALT","EXPAND","INBOX","SETTINGS","HOME","CONTACT_CARD","ADD_CONTACT","CHEVRON_UP","ARROW_RIGHT_DOC","MORE","FOLDER","REPLY","REPLY_ALL","FORWARD","STAR","CIRCLE","READ","ATTACHMENT","ATTACH_CAL","ATTACH_DOC","ATTACH_IMAGE","ARROW_UP","CHECKBOX_OFF","CHECKBOX_ON","CHECKMARK","MONOCHROME_MIXED_CHECKBOX","CLOSE","SEARCH","ORB","SENT","COMPOSE","DELETE","MOVE_TO_FOLDER","ARCHIVE","SPAM","TAB_IMAGES","NOTSPAM","ADD","DRAFTS","SIDEBAR","BIG_STAR","SOLID_CIRCLE","FEEDBACK","ATTACH","SEARCH_MAIL","SPONSORED","ATTENTION","YBADGE","ATTACH_IMAGE_48","ATTACH_MOVIE_48","ATTACH_GENERIC_48","ATTACH_SOUND_48","ATTACH_PDF_48","ATTACH_PPT_48","ATTACH_XLS_48","ATTACH_ZIP_48","ATTACH_DOC_48","ATTACH_ICS_48","EXCLAMATION_ALT","NO_INTERNET","TAB_IMAGES","SEARCH_MINI","FACEBOOK","FLICKR","FLICKR_MONOCHROME","TWITTER","LINKEDIN","CAMERA_FILL","BLOCK_PEOPLE","BLOCK_PEOPLE_FILL","NONE_BELL","INFO","PHONE","COMMENT_FILL","CONVERSATIONS_FILL","CAL_DECLINE"]),c=babelHelpers.extends({},o,i),l=Object(n.c)(["XXXS","XXS","XS","S","M","L","XL","XXL","XXXL"]);Object.assign(l,{AVATAR_SIZE_40:r.AVATAR_SIZE_40});const d=Object(n.c)(["D0","D45","D90","D180","D270"]),u=Object(n.c)(Object.keys(a.g).map(e=>`THEME_GRADIENT_${e}`)),m=Object.assign(Object(n.c)(["NORMAL","FIRST_LEVEL_GRAY","FIRST_LEVEL_ORANGE","NORMAL_LESS_DIM","IMPROVED_GRAY_DARK","SECOND_LEVEL_GRAY","DARK","WHITE","INHERITED","INVERTED","INVERTED_DIM","INVERTED_LESS_DIM","INVERTED_MORE_DIM","SELECTED","PRIMARY_HOVER","SELECTED_DARK_THEME_MODE","STARRING","STARRED","STARRED_DARK","SMARTVIEW_DARK","DISABLED","LESS_IMPORTANT","FAINT","TRANSPARENT","HEADING","GRAD_RED","GRAD_BLUE","COOL_FAINT","ADVISORY","WARNING","WARNING_GRAD_RED","SUCCESS","ATTACH_GENERIC","ATTACH_MEDIA","ATTACH_CAL","ATTACH_EXCEL","ATTACH_DOC","ATTACH_SLIDE","ATTACH_PDF","ATTACH_COMPRESSED","YBADGE","TOUCH_PRIMARY","SMARTVIEW_PEOPLE","SMARTVIEW_SHOPPING","FACEBOOK_ENABLED","TWITTER_ENABLED","LINKEDIN_ENABLED","ICON_HOVER_BGCOLOR","PURPLE"]),u)},,function(e,t,s){"use strict";s.d(t,"d",function(){return a}),s.d(t,"a",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"g",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"b",function(){return l}),s.d(t,"c",function(){return d});var n=s(8);const a=Object(n.c)(["click","nav","shortcut","keydown","callout"]),r=Object(n.c)(["SEARCH_SUGGESTION","SEARCH_ZERO_RESULTS","AD_ROTATION_SKIPPED","PREMIUM_AD_STARTED","PREMIUM_AD_STOPPED","DARLA_AD_RENDERED","GEMINI_AD_RENDERED"]),o={MOBILE_ONBOARDING_WELCOME:"welcomeOnbrdng",MOBILE_ONBOARDING_PAGINATED_CONTENT:"pgntdCntntOnbrdng",MOBILE_ONBOARDING_NOTIFICATIONS:"notifsOnbrdng",MOBILE_ONBOARDING_FOLDERS:"folderOnbrdng",MOBILE_ONBOARDING_SWIPING:"swipeOnbrdng",MOBILE_ONBOARDING_COMPOSE:"composeOnbrdng",MOBILE_ONBOARDING_THEMING:"thmOnbrdng",MOBILE_ONBOARDING_SNIPPETS:"snptsOnbrdng",MOBILE_ONBOARDING_BLOCK_IMAGES:"blkImgsOnbrdng",MOBILE_ONBOARDING_CONVERSATIONS:"cnvrstnsOnbrdng",MOBILE_ONBOARDING_DONE:"doneOnbrdng",MOBILE_ONBOARDING_NOTIFICATIONS_ON:"notifsOnbrdngOn",MOBILE_ONBOARDING_NOTIFICATIONS_OFF:"notifsOnbrdngOff",CONVERSATIONS_CUE_TAP:"cue_conversationsCue_tap",TOOLBAR_SELECTALL_MSG:"tlbrSlctAllMsg",TOOLBAR_SELECT_NONE:"tlbrSlctNone",TOOLBAR_BULK_CONTEXT_MENU:"tlbrBlkCtxtMenu",TOOLBAR_BULK_CONTEXT_ALL:"tlbrBlkCtxtAll",TOOLBAR_BULK_CONTEXT_NONE:"tlbrBlkCtxtNone",TOOLBAR_BULK_CONTEXT_READ:"tlbrBlkCtxtRd",TOOLBAR_BULK_CONTEXT_UNREAD:"tlbrBlkCtxtUnrd",TOOLBAR_BULK_CONTEXT_STARRED:"tlbrBlkCtxtStrrd",TOOLBAR_BULK_CONTEXT_UNSTARRED:"tlbrBlkCtxtUnStrrd",TOOLBAR_REPLY:"tlbrReply",TOOLBAR_REPLYALL:"tlbrReplyAll",TOOLBAR_FORWARD:"tlbrForward",TOOLBAR_DELETE:"tlbrDel",TOOLBAR_ARCHIVE:"tlbrArchv",TOOLBAR_RESTORE:"tlbrRstr",TOOLBAR_MOVE:"tlbrMov",TOOLBAR_MOVE_MENU:"tlbrMovMenu",DRAG_DROP_MOVE:"dndMov",TOOLBAR_SPAM:"tlbrSpam",TOOLBAR_NOT_SPAM:"tlbrNotSpam",TOOLBAR_MORE_MENU:"tlbrMoreMenu",TOOLBAR_MARK_READ:"tlbrMrkRd",TOOLBAR_MARK_UNREAD:"tlbrMrkUnRd",TOOLBAR_MARK_STARRED:"tlbrMrkStrrd",TOOLBAR_MARK_UNSTARRED:"tlbrMrkUStrrd",TOOLBAR_VIEW_RAW:"tlbrRaw",TOOLBAR_PRINT:"tlbrPrint",TOOLBAR_SORT_MENU:"tlbrSrtMenu",TOOLBAR_SORT_NEW:"tlbrSrtNew",TOOLBAR_SORT_OLD:"tlbrSrtOld",TOOLBAR_SORT_UNREAD:"tlbrSrtUnrd",TOOLBAR_SORT_STARRED:"tlbrSrtStrrd",TOOLBAR_CLOSE_MSG:"tlbrCloseMsg",TOOLBAR_BACK_TO_LIST:"tlbrBackToLst",QUICK_REPLY:"qckReply",QUICK_REPLYALL:"qckReplyAll",QUICK_FORWARD:"qckForward",CONTACT_SEARCH:"cntctSrch",SUBJECT_SEARCH:"subSrch",MSG_GRP_HDR_MARK_READ:"msgHdrMrkGrpRd",MSG_GRP_HDR_MARK_UNREAD:"msgHdrMrkGrpUnRd",MSG_GRP_HDR_MARK_STAR:"msgHdrMrkGrpStrrd",MSG_GRP_HDR_MARK_UNSTAR:"msgHdrMrkGrpUnStrrd",MSG_HDR_MARK_READ:"msgHdrMrkRd",MSG_HDR_MARK_UNREAD:"msgHdrMrkUnRd",MSG_HDR_MARK_STAR:"msgHdrMrkStrrd",MSG_HDR_MARK_UNSTAR:"msgHdrMrkUnStrrd",MSG_HDR_PRINT:"msgHdrPrint",MSG_HDR_PREV:"msgHdrPrev",MSG_HDR_NEXT:"msgHdrNext",MSG_REPLY:"msgReply",MSG_REPLY_ALL:"msgReplyAll",MSG_FORWARD:"msgForward",SHOW_IMG:"showImg",SHOW_IMG_ALWAYS:"showImgAlws",OPEN_LINK:"openlnk",OPEN_DOC_PREVIEW:"openDocPrvw",ZOOM_IN_ATTACHMENT_PREVIEW:"zoomInDocPrvw",ZOOM_OUT_ATTACHMENT_PREVIEW:"zoomOutDocPrvw",OPEN_LIGHTBOX_ATTACHMENT_PREVIEW:"fullscrnDocPrvw",DOWNLOAD_ATTACHMENT:"dwnldattmt",DOWNLOAD_ATTACHMENT_ALL:"dwnldattmtAll",ATTACHMENT_LIGHTBOX_OPEN:"openattmlghtbx",ATTACHMENT_LIGHTBOX_IMAGE_DOWNLOAD:"dwnldimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_SHARE:"shareimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_CLOSE:"closeimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_MESSAGE:"nextimglghtbxinmsg",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_GROUP:"nextImgPrvwingroup",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_LIST:"nextImgPrvwinlist",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_MESSAGE:"previmglghtbxinmsg",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_GROUP:"prevImgPrvwingroup",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_LIST:"prevImgPrvwinlist",ATTACHMENT_LIGHTBOX_IMAGE_ZOOM:"zoomimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_OPEN:"openimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_MSG:"rdmsgimglghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_DOWNLOAD:"dwnlddoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_SHARE:"sharedoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_CLOSE:"closedoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_MESSAGE:"nextdoclghtbxinmsg",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_GROUP:"nextDocPrvwingroup",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_LIST:"nextDocPrvwinlist",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_MESSAGE:"prevdoclghtbxinmsg",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_GROUP:"prevDocPrvwingroup",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_LIST:"prevDocPrvwinlist",ATTACHMENT_LIGHTBOX_DOCUMENT_ZOOM:"zoomdoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_OPEN:"opendoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_MSG:"rdmsgdoclghtbx",ATTACHMENT_PREVIEW_DOCUMENT_DOWNLOAD:"dnlwdDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_SHARE:"shareDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_CLOSE:"closeDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_NEXT_IN_MESSAGE:"nextDocPrvwinmsg",ATTACHMENT_PREVIEW_DOCUMENT_PREV_IN_MESSAGE:"prevDocPrvwinmsg",ATTACHMENT_PREVIEW_DOCUMENT_ZOOM:"zoomDocPrvw",ATTACHMENT_PREVIEW_IMAGE_DOWNLOAD:"dnlwdImgPrvw",ATTACHMENT_PREVIEW_IMAGE_SHARE:"shareImgPrvw",ATTACHMENT_PREVIEW_IMAGE_CLOSE:"closeImgPrvw",ATTACHMENT_PREVIEW_IMAGE_NEXT_IN_MESSAGE:"nextImgPrvwinmsg",ATTACHMENT_PREVIEW_IMAGE_PREV_IN_MESSAGE:"prevImgPrvwinmsg",ATTACHMENT_PREVIEW_IMAGE_ZOOM:"zoomImgPrvw",ATTACHMENT_ACTION_UNKNOWN:"attmUnknown",DOC_OPEN:"opendoc",DOC_READ_MSG:"rdmsgdoc",DOC_DELETE_PREVIEW_OPEN:"preDelDocOp",DOC_DELETE_PREVIEW_CLOSE:"preDelDocCls",DOC_DELETE_PREVIEW_READ_MSG:"preDelRdMsgDoc",DOC_MESSAGE_DELETE:"msgDelDoc",DOC_OPEN_LINK:"openlnkdoc",DOC_SHARE:"sharedoc",RIGHT_RAIL_DOC_OPEN:"opendocrail",RIGHT_RAIL_DOC_OPEN_ALL:"openalldocrail",PHOTO_OPEN:"openimg",PHOTO_READ_MSG:"rdmsgimg",PHOTO_DELETE_PREVIEW_OPEN:"preDelImgOp",PHOTO_DELETE_PREVIEW_CLOSE:"preDelImgCls",PHOTO_DELETE_PREVIEW_READ_MSG:"preDelRdMsgImg",PHOTO_MESSAGE_DELETE:"msgDelImg",PHOTO_DOWNLOAD:"dwnldimg",PHOTO_SHARE:"shareimg",RIGHT_RAIL_PHOTO_OPEN:"openimgrail",RIGHT_RAIL_PHOTO_OPEN_ALL:"opendocrail",PENSIEVE_PHOTO_OPEN:"openpensieveimg",TRAVEL_READ_MSG:"rdmsgtrv",OPEN_MSG:"openMsg",SELECT_MSG:"slctMsg",MARK_MSG_READ:"mrkMsgRd",MARK_MSG_UNREAD:"mrkMsgUnRd",MARK_MSG_STARRED:"mrkMsgStrrd",MARK_MSG_UNSTARRED:"mrkMsgUnStrrd",MSG_LIST_DEL:"msgLstDel",RIGHT_RAIL_MSG_OPEN:"openmsgrail",RIGHT_RAIL_MSG_OPEN_ALL:"openallmsgrail",TOGGLE_LIST_VISIBILITY:"toggleListView",UNDO_DELETE_ACTION:"undoDel",UNDO_ARCHIVE_ACTION:"undoArchv",UNDO_MOVE_ACTION:"undoMov",VIEW_MSG_LINK:"viewMsgLnk",AUTO_FORWARD_LINK:"autoFwdLnk",LAUNCH:"launch",YMAIL_LOGO:"logo",MAIL_ICON:"inbxBtn",CONTACTS_ICON:"cntctBtn",CALENDAR_ICON:"clndrBtn",NOTEPAD_ICON:"ntpdBtn",MESSENGER_ICON:"mssgnrBtn",SETTINGS_GEAR_ICON:"sttgsBtn",SETTINGS_LABEL:"sttgsLabelBtn",SEARCH_BAR:"clickSrchBar",ADVANCED_SEARCH:"advncdSrch",SEARCH_BUTTON:"mailSrch",SEARCH_PEOPLE_SUGGEST:"mailSrchPeopleSuggst",SEARCH_KWRD_SUGGEST:"mailSrchKwrdSuggst",SEARCH_EMAIL_SUGGEST:"mailSrchEmailSuggst",SEARCH_RECENT_SUGGEST:"mailSrchRecentSuggst",SEARCH_EMPTY_PEOPLE_SUGGEST:"mailSrchEmptyPeopleSuggst",SEARCH_EMPTY_KWRD_SUGGEST:"mailSrchEmptyKwrdSuggst",SEARCH_EMPTY_EMAIL_SUGGEST:"mailSrchEmptyEmailSuggst",SEARCH_EMPTY_RECENT_SUGGEST:"mailSrchEmptyRecentSuggst",SEARCH_SUGGESTION_SHOWN:"srchsuggst",SEARCH_EMAIL_SUGGESTION_SHOWN:"showedEmailSnippets",ADVANCED_SEARCH_BUTTON:"advncdMailSrch",ACCOUNT_SETTINGS:"sttgsMenu",SIGNOUT:"signout",HOME_BUTTON:"homeBtn",SIDEBAR_BUTTON:"sidebarBtn",MARKETING_BEACON:"mktgBeacn",NEWUSER_MARKETING_BEACON:"newUserMktgBeacn",UNREAD_SMARTVIEW:"unrdSmrtvw",STARRED_SMARTVIEW:"strrdSmrtvw",PHOTO_SMARTVIEW:"photoSmrtvw",DOCUMENT_SMARTVIEW:"docSmrtvw",TUTORIAL_SMARTVIEW:"tutrlSmrtvw",COUPONS_SMARTVIEW:"cpnSmrtvw",RECEIPTS_SMARTVIEW:"rcptSmrtvw",TRAVEL_SMARTVIEW:"trvSmrtvw",INBOX_FOLDER:"inboxFldr",DRAFT_FOLDER:"draftFldr",SENT_FOLDER:"sentFldr",ARCHIVE_FOLDER:"archiveFldr",BULK_FOLDER:"spamFldr",TRASH_FOLDER:"trashFldr",USER_FOLDER:"usrFldr",ADD_FOLDER:"addFldr",FOLDER_CONTEXTMENU:"fldrContxtMenu",FOLDER_CONTEXTMENU_ALL_READ:"ctxtMenuFldrAllRd",FOLDER_CONTEXTMENU_ALL_ARCHIVE:"ctxtMenuFldrAllArch",FOLDER_CONTEXTMENU_ALL_DELETE:"ctxtMenuFldrAllDel",FOLDER_CONTEXTMENU_RENAME:"ctxtMenuFldrAllRen",FOLDER_CONTEXTMENU_MOVE:"ctxtMenuFldrAllMov",FOLDER_CONTEXTMENU_DELETE:"ctxtMenuDelFldr",FOLDER_CONTEXTMENU_EMPTY:"ctxtMenuEmpty",FOLDER_EMPTY:"fldrEmpty",MAILBOX_SWITCH:"mboxSwitch",COLLAPSE_MAILBOX_SWITCHER:"cllpsMboxSwtchr",EXPAND_MAILBOX_SWITCHER:"expndMboxSwtchr",ACCOUNT_SWITCH:"accntSwitch",COLLAPSE_ACCOUNT_SWITCHER:"cllpsAccntSwtchr",EXPAND_ACCOUNT_SWITCHER:"expndAccntSwtchr",EDIT_IMAP_ACCOUNT:"editImapAccnt",FIX_IMAP_ACCOUNT:"fixImapAccnt",CONFIRM_DELETE_ACCOUNT:"cnfmDelAccnt",DELETE_ACCOUNT:"delAccnt",ADD_ACCOUNT:"addAccnt",SELECT_YAHOO_ACCOUNT:"slctYahooAccnt",SELECT_OUTLOOK_ACCOUNT:"slctOutlookAccnt",SELECT_AOL_ACCOUNT:"slctAolAccnt",SELECT_GOOGLE_ACCOUNT:"slctGoogleAccnt",SELECT_OTHER_ACCOUNT:"slctOtherAccnt",AUTHORIZE_IMAP_ACCOUNT:"cnnctAccnt",CONNECT_ACCOUNT_SUCCESS:"cnnctAccntSuccess",CANCEL_ADD_ACCOUNT:"cancelAddAccnt",CANCEL_EDIT_DEA:"cancelEditDea",CANCEL_ADD_DEA:"cancelAddDea",CANCEL_ADD_BASE:"cancelAddBase",THEME_CHANGED:"thmSttgs",SETTINGS_POPUP_THEME:"themesClrSttgsPop",SETTINGS_THEME:"themesClrSttgs",SETTINGS_POPUP_THEME_MODE:"themesModeSttgsPop",SETTINGS_THEME_MODE:"themesModeSttgs",SETTINGS_POPUP_PREVIEW_PANE:"prvpSttgsPop",SETTINGS_PREVIEW_PANE:"prvpSttgs",SETTINGS_POPUP_MSG_LIST_DENSITY:"dnstySttsPop",SETTINGS_MSG_LIST_DENSITY:"dnstyStts",SETTINGS_POPUP_TAB_SETTING:"tabSttgsPop",SETTINGS_TAB_SETTING:"tabSttgs",SETTINGS_POPUP_SNIPPET:"snpptsSttgsPop",SETTINGS_SNIPPET:"snpptsSttgs",SETTINGS_POPUP_MORE:"moreSttgsPop",SETTINGS_POPUP_SWITCH_TO_CLASSIC:"swtchSttgsPop",SETTINGS_POPUP_PRIVACY:"prvcySttgsPop",SETTINGS_HELP:"hlpSttgs",SETTINGS_POPUP_FEEDBACK:"fdbckSttgsPop",SETTINGS_FEEDBACK:"fdbckSttgs",SETTINGS_LEFT_RAIL_PERSONALIZE_INBOX:"inbxSttgs",SETTINGS_LEFT_RAIL_ACCOUNTS:"accntSttgs",SETTINGS_LEFT_RAIL_NOTIFICATIONS:"notfctnSttgs",SETTINGS_LEFT_RAIL_WRITING_EMAILS:"writeSttgs",SETTINGS_LEFT_RAIL_VIEWING_EMAILS:"viewSttgs",SETTINGS_LEFT_RAIL_CATEGORIZATION:"ctgrySttgs",SETTINGS_LEFT_RAIL_AUTOMATIC_REPLY:"replySttgs",SETTINGS_LEFT_RAIL_FILTERS:"filtrSttgs",SETTINGS_LEFT_RAIL_ABOUT:"aboutSttgs",SETTINGS_LEFT_RAIL_ABOUT_ADS:"aboutAdsSttgs",SETTINGS_LEFT_RAIL_AD_FREE:"adFrSttgs",SETTINGS_LEFT_RAIL_PRIVACY:"privcySttgs",SETTINGS_TERMS:"termsSttgs",SETTINGS_LEFT_RAIL_SECURITY_AND_PRIVACY:"secPrivSttgs",SETTINGS_LEFT_RAIL_ENCRYPTION:"cryptSttgs",SETTINGS_LEFT_RAIL_SOCIAL_ACCOUNTS:"socialSttgs",SETTINGS_NOTIFICATIONS:"setNtfctn",SETTINGS_CONVERSATION:"setConvstn",SETTINGS_AUTOMATIC_REPLY:"saveReplySttgs",SETTINGS_CANCEL_EDIT_AUTOMATIC_REPLY:"cancelEditReplySttgs",SETTINGS_UNSUBSCRIBE_ENABLE:"unsub_enable",SETTINGS_UNSUBSCRIBE_DISABLE:"unsub_disable",SETTINGS_CANCEL_EDIT_ACCOUNT:"cancelEditAccnt",SETTINGS_LINK_ENHANCER:"linkEnhancerSttgs",SETTINGS_CATEGORIZATION_CHANGE:"chgCtgrySttgs",SETTINGS_CATEGORIZATION_ORDER:"ordCtgrySttgs",SETTINGS_COLLAPSE_SYSTEM_FOLDERS:"cllpsSysFldrs",SETTINGS_EXPAND_SYSTEM_FOLDERS:"expndSysFldrs",SETTINGS_LEFT_RAIL_MAIL_PRO:"mailProSttgs",SETTINGS_BLOCK_IMAGES:"showImgSttgs",SETTINGS_MOBILE_NOTIFICATION:"mobNtfctn",SETTINGS_OPT_OUT:"optOutSttgs",SETTINGS_SIGNATURE:"sigSttgs",SETTINGS_ACCOUNTS:"acctSttngs",SETTINGS_DISABLE_FORWARDING:"delAutoFwd",SETTINGS_ENABLE_FORWARDING:"addAutoFwd",SETTINGS_BLOCKED_SENDERS:"blkSdrSttgs",OPT_OUT_SUBMIT_FEEDBACK:"optOutSbmt",OPT_OUT_CANCEL_FEEDBACK:"optOutCncl",COMPOSE_BUTTON:"cmpsBtn",CANCEL_COMPOSE:"cancelCmp",CONTACT_SUGGEST:"contctsuggst",DELETE_CONTACT_SUGGEST:"delcontctsuggst",SELECT_CONTACT:"slctcontct",SHOW_HOVER_CARD:"showHvrcrd",COMPOSE_ADD_ATTACHMENT:"compsAddAttmnt",COMPOSE_DRAG_ATTACHMENT:"dragAttmnt",DELETE_DRAFT:"delDraft",SEND:"send",COMPOSE_AUTO_OPEN_STATIONERY_POPUP:"compsAutoOpnStnryPop",COMPOSE_OPEN_STATIONERY_POPUP:"compsOpnStnryPop",COMPOSE_CLOSE_STATIONERY_POPUP:"compsClsStnryPop",COMPOSE_ADD_STATIONERY:"compsAddStnry",COMPOSE_CLEAR_STATIONERY:"compsClrStnry",COMPOSE_CLEAR_DEFAULT_STATIONERY:"compsClrDfltStnry",COMPOSE_ADD_LINK:"compAddLink",COMPOSE_BOLD:"compsBold",COMPOSE_ITALIC:"compsItalic",COMPOSE_CHOOSE_COLOR:"compsClr",COMPOSE_CHOOSE_FONT:"compsFnt",COMPOSE_OPEN_MORE_MENU:"compMoreMnu",COMPOSE_CHOOSE_LIST_TYPE:"compsLst",COMPOSE_ALIGN_TEXT:"compsAlgn",COMPOSE_STRIKETHROUGH_TEXT:"compsStrikeThrough",COMPOSE_SHOW_CC_BCC:"compsshowCC",COMPOSE_HIDE_CC_BCC:"compsHideCC",GIF_SEARCH:"compsGifSrch",GIF_CATEGORY:"compsGifCtgry",GIF_ADD:"compsAddGif",GIF_OPEN:"openGifCntxt",GIF_CHANGE_SIZE:"changeGifsz",GIF_SEND_AS_ATTACHMENT:"sendGifAttmnt",GIF_DOWNLOAD:"dnwldGif",GIF_REMOVE:"removeGif",EMOJI_CLOSE:"closeEmjiPckr",EMOJI_OPEN:"openEmjiPckr",EMOJI_ADD:"compsAddEmoji",EMOJI_CATEGORY_CHANGED:"emjiCtgryChngd",DRAG_CONTACT:"dragCntct",EMERGENCY_RELOAD_SHOWED:"emReloadShwd",EMERGENCY_RELOAD_ACCEPTED:"emReloadAcptd",EMERGENCY_RELOAD_CANCELED:"emReloadCncld",EMERGENCY_RELOAD_CLOSED:"emReloadClsd",PERIODIC_RELOAD_SHOWED:"peReloadShwd",PERIODIC_RELOAD_ACCEPTED:"peReloadAcptd",FILTER_MESSAGES:"fltrMsg",FILTER_IMAGES:"fltrPhoto",FILTER_DOCUMENTS:"fltrDocs",FILTER_FROM:"fltrFrom",FILTER_TO:"fltrTo",FILTER_ALL:"fltrAll",FILTER_PEOPLE:"fltrPeople",FILTER_NOT_PEOPLE:"fltrNotPeople",FILTER_TRAVEL_VIEW_UPCOMING:"fltrTrUpc",FILTER_TRAVEL_VIEW_PAST:"fltrTrPst",FILTER_EMAIL_PHOTOS:"fltrPhotoEml",FILTER_MOBILE_PHOTOS:"fltrPhotoMob",FILTER_PHOTOS:"fltrPhoto",UNSUB_DISPLAYED:"unsub_disp",UNSUB_UNSUB_CLICKED:"unsub_unsub",UNSUB_HIDE:"unsub_hide",UNSUB_UNDO:"unsub_undo",UNSUB_DONE:"unsub_done",UNSUB_DISMISS:"unsub_dismiss",UNSUB_UNDO_BATCH_DELETE:"unsub_undoBatchDel",UNSUB_MAILTO_SEND:"unsub_mailToSend",UNSUB_MAILTO_CANCEL:"unsub_mailToCancel",UNSUB_TAB_GO:"unsub_tabGo",UNSUB_TAB_CANCEL:"unsub_tabCancel",UNSUB_ALL_DONE:"unsub_allDone",UNSUB_DISABLE:"unsub_disable",SUBSCRIPTION_SHOWN:"subscriptionShown",SUBSCRIPTION_SELECTED:"subscriptionSelect",SUBSCRIPTION_SUCCESS:"subscriptionSuccess",SUBSCRIPTION_RETRY:"subscriptionRetry",SUBSCRIPTION_RETRY_SUCCESS:"subscriptionRetrySuccess",COUPON_STORE_UPDATE_LOCATION:"cpnStrLctrUpdtLctn",COUPON_STORE_LOCATOR_SHOWN:"cpnStrLctrShwn",COUPON_STORE_LOCATOR_COLLAPSED:"cpnStrLctrCllpsd",MULTI_COUPON_CLIPPER_SHOWN:"cpnClprMltiShwn",SINGLE_COUPON_CLIPPER_SHOWN:"cpnClprSnglShwn",SELF_EXTRACTION_COUPON_CLIPPER_SHOWN:"cpnSlfExtrnShwn",COUPON_CLIPPED:"cpnClipped",COUPON_UNCLIPPED:"cpnUnclipped",COUPON_CLIPPER_EXPANDED:"cpnClprExpnd",COUPON_CLIPPER_SHRUNK:"cpnClprShrnk",COUPON_OPENED:"cpnOpen",RECEIPT_OPENED:"rcptOpn",COUPON_REC_OPENED:"cpnRecOpened",COUPON_REC_CLOSED:"cpnRecClosed",COUPON_ICON_CLICKED:"cpnIcnClicked",COUPON_SELF_EXTRACTION_MODAL_OPENED:"cpnSlfExtrnOpnd",COUPON_SELF_EXTRACTION_MODAL_CLOSED:"cpnSlfExtrnClsd",COUPON_SELF_EXTRACTION_MODAL_CANCELLED:"cpnSlfExtrnCncld",COUPON_SELF_EXTRACTION_MODAL_SAVE:"cpnSlfExtrnSv",COUPON_AUTO_CLIP_TURNED_ON:"cpnAutoClipped",COUPON_AUTO_CLIP_TURNED_OFF:"cpnAutoUnclipped",FEEDBACK_PANEL_GIVE_FEEDBACK:"fbpFbk",HOMEPAGE_EXTENSION_SHOWN:"hpextShown",HOMEPAGE_EXTENSION_CLICKED:"hpextClicked",HOMEPAGE_EXTENSION_CLOSED:"hpextClosed",TUTORIAL_VIDEO:"tutorialVid",ABNORMAL_ZOOM_DIALOG_CLOSED:"zoomDiagClosed",HIDE_RIGHT_RAIL_AD:"hideRightRailAd",NAVIGATE_TO_HIPMUNK:"navigateToHipmunk",HIPMUNK_CARD_RENDERED:"hipmunkCardRendered",NAVIGATE_TO_SEATGEEK:"navigateToSeatgeek",SEATGEEK_CARD_RENDERED:"seatgeekCardRendered",BOOKING_CARD_RENDERED:"bookingCardRendered",NAVIGATE_TO_BOOKING:"navigateToBooking",ADFREE_UPSELL_ACCEPT:"adFreeAcptd",ADFREE_UPSELL_CANCEL:"adFreeCncld",GET_RR_WIDER_MAIL_EXTENSION:"rrWiderMailGetExtension",RR_WIDER_MAIL_INSTALL_SUCCESS:"rrWiderMailInstallSuccess",RR_WIDER_MAIL_INSTALL_FAILURE:"rrWiderMailInstallFailure",LINK_ENHANCER_ADD_LINK:"addEnLnk",LINK_ENHANCER_RESIZE_LINK:"resizeEnLnk",LINK_ENHANCER_REMOVE_LINK:"removeEnLnk",LINK_ENHANCER_OPEN_LINK:"openEnLnk",LINK_ENHANCER_SHARE_LINK:"shareEnLnk",LINK_ENHANCER_MOVE_LINK_BOTTOM:"moveEnLnkBottom",LINK_ENHANCER_MOVE_LINK_INLINE:"moveEnLnkInline",PENCIL_AD_CLICKED:"pencilAdClicked",PENCIL_AD_FEEDBACK_OPEN:"pencilAdFeedbackOpen",PENCIL_AD_FEEDBACK_SUBMITTED:"pencilAdFeedbackSubmitted",PENCIL_AD_FEEDBACK_CLOSED:"pencilAdFeedbackClosed",SEARCH_AD_FETCHED:"searchAdFetched",COUPON_OPENED_FROM_PENCIL:"couponOpenedFromPencil",COUPON_CLIPPED_FROM_PENCIL:"couponClippedFromPencil",COUPON_CLICKED_FROM_PENCIL:"couponClickedFromPencil",COUPON_RENDERED_ON_PENCIL:"couponRenderedOnPencil",NAVIGATE_TO_MAIL_PRO_MONTHLY:"navigateToMailProUrlMonthly",NAVIGATE_TO_MAIL_PRO_YEARLY:"navigateToMailProUrlYearly",NAVIGATE_TO_MAIL_PRO_ACTIVE_USER:"navigateToMailProUrlActiveUser",NAVIGATE_TO_MAIL_PRO_PASTDUE_USER:"navigateToMailProUrlPastDueUser",NAVIGATE_TO_MAIL_PRO_FROM_ERROR_PAGE:"navigateToMailProUrlFromErrorPage",NAVIGATE_TO_TRY_MAIL_PRO_FOR_FREE:"navigateToTryMailProForFree",TABS_MENU_OPEN:"tabsMenuOpen",TABS_MENU_CLOSE:"tabsMenuClose",SEARCH_PLA_AD_ITEM_CLICKED:"searchPlaAdItemClicked",SEARCH_PLA_AD_FETCHED:"searchPlaAdFetched",PLA_ADS_BY_KEYWORD_RECEIVED_OPEN_PAGE:"plaAdsByKeywordReceivedOpenPage",PLA_ADS_BY_KEYWORD_RECEIVED_USER_CLICK:"plaAdsByKeywordReceivedUserClick",PLA_ADS_BY_KEYWORD_FETCH_FAILED:"plaAdsByKeywordFetchFailed",PLA_GPT_CATEGORY_CLICKED:"plaGptCategoryClicked",RSVP_CALENDAR_RESPONSE:"rsvpCalendarResponse",RSVP_NAVIGATE_TO_CALENDAR:"rsvpNavigateToCalendar",RSVP_LOADED:"rsvpModuleLoaded",RELATED_SEARCHES_CARD_CLICKED:"relatedSearchesCardClicked",RELATED_COUPONS_CLICKED:"relatedCouponsClicked",RELATED_COUPONS_TOGGLED:"relatedCouponsToggled",SEARCH_RIGHT_RAIL_COUPONS_CLICKED:"searchRightRailCouponsClicked",SEARCH_RIGHT_RAIL_COUPONS_TOGGLED:"searchRightRailCouponsToggled",FEATURE_VIEWED:"featureViewed",ADBLOCK_DETECTED:"adblockDetected",ADBLOCK_UI_UPDATE:"adblockUIUpdate",PUSH_NOTIFICATION_RECEIVED:"pushNotificationReceived",PUSH_NOTIFICATION_OPENED:"pushNotificationOpened",PUSH_NOTIFICATIONS_REQUEST_GRANTED:"pushNotificationsRequestGranted",PUSH_NOTIFICATIONS_REQUEST_REJECTED:"pushNotificationsRequestRejected",PUSH_NOTIFICATION_ACTION_DELETE:"pushNotificationActionDelete",PUSH_NOTIFICATION_ACTION_MARK_AS_READ:"pushNotificationActionMarkAsRead",PULL_TO_REFRESH:"pullToRefresh",NAVIGATE_TO_FOLDER:"navigateToFolder",CHECK_MAIL:"checkMail",MANUAL_SAVE_DRAFT:"manualSaveDraft",CONTACT_CARD_EMAIL_CLICKED:"contactCardEmailClicked",CONTACT_CARD_AVATAR_CLICKED:"contactCardAvatarClicked",CONTACT_CARD_URL_CLICKED:"contactCardUrlClicked",CONTACT_CARD_LOAD_FAILED:"contactCardLoadFailed",OPEN_CONTACT_LIST:"openCntctLst",OPEN_CONTACT:"openCntct",CONTACTS_PANE_ICON_ON:"cntctIconOn",CONTACTS_PANE_ICON_OFF:"cntctIconOff",TOP_VIEW:"cntctsPaneTopView",USER_CREATED_VIEW:"cntctsPaneUserView",PEOPLE_VIEW:"cntctsPanePeopleView",BUSINESS_VIEW:"cntctsPaneBusinessView",TOGGLE_ALPHA_SECTION:"toggleAlphaSctn",CONTACT_DETAILS_BACK:"contactDetailsBack",OPEN_EDIT_CONTACT:"openEditContact",CHANGE_USER_GROUP:"changeUserGroup",CONTACT_EDIT_SAVE:"contactEditSave",CONTACT_CREATE_SAVE:"contactCreateSave",CONTACT_EDIT_CANCEL:"contactEditCancel",CONTACT_CREATE_CANCEL:"contactCreateCancel",SEARCH_CONTACTS:"searchContacts",CLEAR_CONTACTS_SEARCH:"clearContactsSearch",OPEN_CREATE_CONTACT:"openCreateContact",CONFIRM_DELETE_CONTACT:"confirmDeleteContact",CONTACT_ITEM_EMAIL_CLICKED:"contactListEmailClicked",CONTACT_DETAILS_EMAIL_CLICKED:"contactDetailsEmailClicked",COUPON_VIGLINK_CLICKED:"couponViglinkClicked",COUPON_CARD_VIGLINK_CLICKED:"couponMsgReadCardClicked",COUPON_LIST_VIGLINK_CLICKED:"couponSmrtViewCardClicked",MESSAGE_READ_AVATAR_CLICKED:"MsgReadCardLogoClicked",SHOPPING_COUPONS_VIEW_CLICKED:"shoppingCouponsVwClicked",SHOPPING_EMAILS_VIEW_CLICKED:"shoppingEmailsVwClicked",SHOPPING_YAHOO_DEALS_VIEW_CLICKED:"shoppingYahooDealsVwClicked",YAHOO_DEAL_CARD_CLICKED:"yahooDealCardClicked",REFUND_ESTIMATE_UPSELL:"rfndEstmtUpsell",EARNY_UPSELL:"earnyUpsell",EARNY_CONNECTED:"earny_connected",QTNT_HEADER_VIEW:"qtnt_header_view",QTNT_ONBOARD_COMPLETE:"qtnt_onboard_complete",QTNT_ONBOARD_FAILURE:"qtnt_onboard_failure",QTNT_SMARTVIEW_ACTION:"qtnt_smartview_action",QTNTVIEW_HEADER_ACTION:"qtntview_header_action",QTNTVIEW_LEFTRAIL:"qtntview_leftrail",QTNTVIEW_SMARTVIEW_ACTION:"qtntview_smartview_action",SHOPRUNNER_SUCCESS:"shoprunner_successs",SHOPRUNNER_CLOSED:"shoprunner_closed",SHOPRUNNER_SUCCESS_VARIANT2:"shoprunner_successs_variant2",BLOCK_SENDERS_SUBMIT:"blkSdrSbmt",BLOCK_SENDERS_WITH_DELETE_SUBMIT:"blkSdrDelSbmt",UNBLOCK_SENDERS_SUBMIT:"unblkSdrSbmt",RELATED_RETAILERS_TOGGLED:"relatedRetailersToggled",RELATED_RETAILERS_CLICKED:"relatedRetailersClicked",SPONSORED_MOMENT_CLICKED:"sponsoredMomentClicked",SPONSORED_MOMENT_CLOSED:"sponsoredMomentClosed",AD_BLOCK_COUPON_CLICKED:"adBlockCouponClicked",COUPONS_SEARCH_TOP_RETAILER_CLICKED:"couponsSearchTopRetailerClicked",COUPONS_SEARCH_TOP_DEAL_CLICKED:"couponsSearchTopDealClicked",COUPONS_SEARCH_RECENT_SEARCH_CLICKED:"couponsSearchRecentSearchClicked",EBAY_WARRANTY_UPSELL_CLICKED:"ebayWarrantyUpsellClicked",AD_FORMAT_SELECTION_UPDATED:"adFormatSelectionUpdated",AD_FORMAT_SELECTION_CLOSED:"adFormatSelectionClosed",UPDATE_AD_FORMAT_SELECTION_CLICKED:"updateAdFormatSelectionClicked",SHOPLIFT_AD_CLICKED:"shopliftAdClicked",RETAILER_FILTER_CLICKED:"retailerFilterClicked",CATEGORY_FILTER_CLICKED:"categoryFilterClicked",USERNAME_PHONE_REG_ONBOARDING:"userNamePhoneRegOnbrdng",USERNAME_PHONE_REG_ADD_ACCOUNT:"userNamePhoneRegAddAcct",RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED:"rightRailUpsellVideoAdStarted",RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED:"rightRailUpsellVideoAdFinished",RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED:"rightRailUpsellVideoAdClicked",FAN_AD_LOAD_SUCCESS:"fanAdLoadSuccess",FAN_AD_LOAD_ERROR:"fanAdLoadError"},i={LAUNCH:"launch",ONBOARDING:"onboarding",LEFTRAIL_COMPOSE:"leftr_comp",COMPOSE_CLOSE:"comp_cls",COMPOSE_CONTACTS:"comp_contcts",COMPOSE_TOOLBAR:"comp_toolbr",COMPOSE_MSG:"comp_msg",RTE_TOOLBAR:"rte_toolbr",MSG_READ_ATTACHMENT:"msgrd_attm",MSG_BODY:"msg_body",ATTM_PREVIEW:"attm_prvw",MSG_READ_TOOLBAR:"msgrd_toolbar",QUICK_COMPOSE:"quickComp",MSG_READ_AD:"msgrd_ad",MSG_HEADER:"msgrd_header",MSG_LIST:"msglst",MSG_LIST_MSG:"msglst_msg",MSG_LIST_TOOLBAR:"msglst_toolbr",MSG_LIST_TOOLBAR_POPUP:"msglst_toolbr_pop",MSG_LIST_BULK_ACTION:"msglst_blkactn",MSG_LIST_SORT:"msglst_srt",MSG_LIST_NOTIFICATION:"msglst_notf",MSG_LIST_AD:"msglst_ad",DOC_LIST:"doc_vw",PHOTO_LIST:"photo_vw",COUPONS_LIST:"coupons_vw",RECEIPTS_LIST:"receipts_vw",TRAVEL_LIST:"travel_vw",SHOPPING_VIEW:"shopping_vw",INBOX_FILTERS:"inbox_filters",ATTACHMENT_LIGHTBOX:"attm_lghtbx",FEATURE_CUE:"feature_cue",FEATURE_CARD:"feature_card",HEADER:"hdr",HEADER_NAV:"hdr_nav",HEADER_SEARCH:"hdr_srch",HEADER_SETTINGS:"hdr_sttngs",HEADER_LIST:"hdr_list",LEFTRAIL_SMARTVIEW:"leftr_smrtvw",LEFTRAIL_SYSFOLDER:"leftr_systfldr",LEFTRAIL_USERFOLDER:"leftr_usrfldr",LEFTRAIL_CONTEXTMENU:"leftr_contxtmnu",LEFTRAIL_ACCOUNTS:"leftr_acct",LEFTRAIL_FOLDER:"leftr_fldr",LEFTRAIL_MAILBOXES:"leftr_mboxes",RIGHT_RAIL:"rightrail",RIGHT_RAIL_WIDER_MAIL_UPSELL:"rrWMailUpsell",RIGHT_RAIL_TRAVEL_CARD:"rightRailTravelCard",RIGHT_RAIL_PLA_CARD:"rightRailPlaCard",SETTINGS_POPUP:"sttgspop",SETTINGS_MAIN:"sttgsMain",SETTINGS_LEFT_RAIL:"sttgsLftr",SETTINGS_INBOX_TAB:"sttgsInbx",SETTINGS_ACCOUNTS_TAB:"sttgsAccnts",SETTINGS_NOTIFICATIONS_TAB:"sttgsNtfctn",SETTINGS_VIEWING_EMAIL_TAB:"sttgsView",SETTINGS_AUTOMATIC_REPLY_TAB:"sttgsReply",SETTINGS_WRITING_EMAIL_TAB:"sttgsWrite",SETTINGS_CATEGORIZATION_TAB:"sttgsCtgry",CPN_STORE_LOCATOR:"cpnStoreLctr",CPN_RECOMMENDATION:"cpnRec",CPN_RECOMMENDATION_SMRTVW:"cpnRecSmrtVw",COUPON_SELF_EXTRACTION_MODAL:"cpnSlfExtrnMdl",PERIODIC_RELOAD:"periodic_rld",EMERGENCY_RELOAD:"emergency_rld",VIDEO_PLAYER:"video_player",UNSUB_PANE:"unsub_pane",FEEDBACK_PANEL:"feedback_panel",HOMEPAGE_EXT_PANEL:"hpext",TUTORIALS:"tutorials",ADFREE_UPSELL_DIALOG:"adFreeDlg",NOTIFICATION_ACTION:"NtfctnActn",MAIL_PRO_SETTINGS:"mailProSettings",TABS_MENU:"tabsMenu",RSVP_CARD:"rsvp_card",RIGHT_RAIL_RELATED_SEARCHES_CARD:"rr_related_searches_card",FEATURE_VIEWABILITY:"feature_viewability",CONTACTS_PANE:"contacts_pane",CONTACT_CARD:"contact_card",TOP_CONTACTS_TAB:"top_contacts_tab",PEOPLE_CONTACTS_TAB:"people_contacts_tab",BUSINESS_CONTACTS_TAB:"business_contacts_tab",USER_CREATED_CONTACTS_TAB:"user_created_contacts_tab",CONTACTS_PANE_SEARCH:"contacts_pane_search",RELATED_CONTACTS:"related_contacts",CONTACTS_OVERFLOW_MENU:"contacts_overflow_menu",CONTENT_PROVIDERS:"content_providers",COUPONS_SEARCH_PANE:"coupons_search_pane",EBAY_WARRANTY_UPSELL:"ebay_warranty_upsell",AD_FEEDBACK:"ad_feedback",QUOTIENT:"quotient",SHOPRUNNER:"shopRunner",USERNAME_PHONE_REG:"userName_Phone_reg",FAN_AD:"fan_ad"},c=Object(n.c)(["reply","replyAll","forward","delete","archive","move","open_msg","dwnld_attmnt","print_attmnt","launch","search","create_fldr","mark_read","mark_unread","mark_star","mark_unstar","mark_spam","rename_fldr","move_fldr","delete_fldr","add_attmnt","compose","send"]),l={TRAVEL_UPCOMING:"trvUpcEmpty",TRAVEL_PAST:"trvPstEmpty",SEARCH:"search_zero_results"},d={CHANGE:"change"}},,function(e,t,s){"use strict";s.d(t,"a",function(){return p}),s.d(t,"t",function(){return C}),s.d(t,"u",function(){return O}),s.d(t,"m",function(){return R}),s.d(t,"s",function(){return N}),s.d(t,"i",function(){return M}),s.d(t,"j",function(){return D}),s.d(t,"o",function(){return y}),s.d(t,"y",function(){return L}),s.d(t,"P",function(){return P}),s.d(t,"O",function(){return F}),s.d(t,"w",function(){return x}),s.d(t,"z",function(){return w}),s.d(t,"h",function(){return k}),s.d(t,"D",function(){return H}),s.d(t,"r",function(){return U}),s.d(t,"q",function(){return j}),s.d(t,"v",function(){return G}),s.d(t,"g",function(){return B}),s.d(t,"x",function(){return V}),s.d(t,"l",function(){return W}),s.d(t,"p",function(){return q}),s.d(t,"n",function(){return z}),s.d(t,"M",function(){return Z}),s.d(t,"Q",function(){return K}),s.d(t,"S",function(){return Y}),s.d(t,"R",function(){return X}),s.d(t,"d",function(){return $}),s.d(t,"f",function(){return Q}),s.d(t,"e",function(){return J}),s.d(t,"G",function(){return ee}),s.d(t,"A",function(){return te}),s.d(t,"B",function(){return se}),s.d(t,"J",function(){return ne}),s.d(t,"I",function(){return ae}),s.d(t,"E",function(){return re}),s.d(t,"K",function(){return oe}),s.d(t,"L",function(){return ie}),s.d(t,"C",function(){return ce}),s.d(t,"k",function(){return le}),s.d(t,"N",function(){return de}),s.d(t,"H",function(){return ue}),s.d(t,"F",function(){return me}),s.d(t,"c",function(){return pe}),s.d(t,"b",function(){return _e}),s.d(t,"T",function(){return he});var n=s(223),a=s.n(n),r=s(44),o=s.n(r),i=s(0),c=s(266),l=s(24),d=s(32),u=s.n(d),m=s(8);const p="DEFAULT_MESSAGES_METADATA_CACHEKEY",_=/^folders=([0-9]+)$/,h=/^is\:(starred|flagged|unread|read)$/gi;function E({name:e="",referrer:t="",keyword:s="",excludefolders:n=[],folders:a=[],accountIds:r=[],emailAddresses:o=[],listContentType:c=i.Fb.MESSAGES,listFilter:l=i.Gb.WITH_KEYWORD,sortOrder:d=i.Cd.DATE_DESC,contactIds:u=[]}){return{name:e,referrer:t,keyword:s,folders:[].concat(a),accountIds:[].concat(r),emailAddresses:[].concat(o),excludefolders:[].concat(n),listContentType:c,listFilter:l,sortOrder:d,contactIds:[].concat(u)}}const g=E(Object.create(null)),b=Object.keys(g).sort(),I=b.map(e=>g[e]),f=JSON.stringify(b.map(()=>""));function S(e){const t=JSON.parse(e);return Array.isArray(t)?E(t.reduce(function(e,t,s){return e[b[s]]=t||I[s],e},Object.create(null))):E(t)}const A=function(e){return JSON.stringify(b.map(function(t,s){return!e[t]||e[t]===I[s]||Array.isArray(e[t])&&e[t].length<=0?"":Array.isArray(I[s])&&!Array.isArray(e[t])?[e[t]]:e[t]}))},T=Object(l.b)()?a()(S):S;function C(e){const{query:t,fid:s,serializedListId:n}=e.params||{};let a={};if(n)return O(n);if(t)a=o.a.parse(t);else if(s){a=o.a.parse(s);const{folders:e=[s]}=a;a.folders=e}else e.query&&(a=e.query);return A(a)}function O(e){let t={};t=o.a.parse(e)||{};const s=parseInt(e,10)?e:t.folders;return s&&(t.folders=[s]),A(t)}function R(e){const{folders:t}=T(e);if(1===t.length)return t[0]}function N(e,t=i.Cd.DATE_DESC){return A({folders:[e],sortOrder:t})}const M=e=>A({listContentType:i.Fb.CONTACTS,listFilter:e}),D=e=>A({listContentType:i.Fb.CONTACTS,keyword:e}),y=e=>A({listContentType:i.Fb.CONTACTS,listFilter:i.Gb.IMPORTANT_CONTACTS,keyword:e}),L=e=>A({listContentType:i.Fb.PEOPLE,referrer:i.Hb.CONTACT_DETAILS,emailAddresses:[e]});function v(e){const{keyword:t=""}=T(e);return t.split(" ").filter(e=>e.trim().match(h))}function P(e){return v(e).length>0}function F(e,t){const s=v(e);let n=!0;return s.forEach(e=>{if(n)switch(e){case"is:unread":n=!t.read;break;case"is:read":n=!!t.read;break;case"is:starred":case"is:flagged":n=!!t.flagged}}),n}function x(e){if(!e)return p;const{keyword:t}=T(e);return t&&U(e)===i.Gb.WITH_KEYWORD?e:p}function w(e){const t=T(e);return t.name||t.keyword||""}function k(e,t=!1){const s=T(e),n=j(e);let a=U(e);const r=V(e),{MESSAGES:o,IMAGES:c,DOCUMENTS:l,PEOPLE:d,PLA_AD:u,CARDS:m}=i.y;let p=[o,c,l,d].join(",");const _=oe(e);let h="";if(t&&(p+=","+u),_)switch(n){case i.Fb.MESSAGES:p=o;break;case i.Fb.IMAGES:p=c,h=a;break;case i.Fb.DOCUMENTS:p=l}else if(ee(e))r===i.Hb.CONTACT_DETAILS&&(a=i.Gb.FROM,p=[d,c,l,m].join(","));else switch(n){case i.Fb.MESSAGES:p=[o,d].join(","),t&&(p+=","+u);break;case i.Fb.IMAGES:p=[c,d].join(",");break;case i.Fb.DOCUMENTS:p=[l,d].join(",")}const E=Object.assign({},s,{listFilter:a,expand:p});return _&&[i.Fb.IMAGES,i.Fb.DOCUMENTS].indexOf(n)>-1&&(E.keyword=""),h&&(E.filters=h),E}function H(e){return T(e).sortOrder}function U(e){return T(e).listFilter}function j(e){return T(e).listContentType}function G(e){return T(e).name}function B(e){return T(e).accountIds}function V(e){return T(e).referrer}function W(e){return T(e).excludefolders}function q(e){return T(e).keyword}function z(e){const{folders:t,keyword:s}=T(e),n=Object(c.d)(s);return t.length?{folderIds:t,folderNames:[]}:{folderIds:[],folderNames:n[c.a.FOLDERS]||[]}}function Z(e){return e!==f}function K(e,t={}){return A(Object.assign({},T(e),t))}function Y(e){const t=T(e),s=E({}),n={},{emailAddresses:a=[],listFilter:r=i.Gb.WITH_KEYWORD}=t;return a.length>0&&r===i.Gb.WITH_KEYWORD&&(t.listFilter=i.Gb.FROM),Object.keys(t).filter(e=>Array.isArray(t[e])?t[e].length>0:t[e]&&t[e]!==s[e]).map(e=>{n[e]=t[e]}),o.a.stringify(n)}function X(e){return Y(e).replace(_,"$1")}function $(e){return A(e)}const Q=$,J=e=>{let{referrer:t="",listFilter:s=i.Gb.ALL_COUPON_CARDS}=e,n=babelHelpers.objectWithoutProperties(e,["referrer","listFilter"]);return""===t?"":Q(babelHelpers.extends({listContentType:i.Fb.COUPON_CARDS,listFilter:s,referrer:t},n))};function ee(e){const{emailAddresses:t=[]}=T(e);return t.length>0}function te(e){const t=U(e);return i.vd.indexOf(t)>-1?t:null}function se(e){return te(C(e))}function ne(e){const t=C(e);return e.name===i.Uc.LIST&&re(t)&&!!se(e)}function ae(e){const t=C(e);return(e.name===i.Uc.LIST||e.name===i.Uc.SEARCH)&&re(t)}function re(e){const t=V(e);return!!t&&Object(m.e)(i.xd).indexOf(t)>-1}function oe(e){return re(e)&&!te(e)}function ie(e){const t=ce(C(e));return e.name===i.Uc.SEARCH&&[i.zd.UNREAD,i.zd.STARRED].indexOf(t)>-1}function ce(e){if(!oe(e))return;const t=v(e),s=t.length;for(let e=0;e<s;e++){const s=t[e];if("is:unread"===s)return i.zd.UNREAD;if("is:starred"===s)return i.zd.STARRED}}function le(e){const{emailAddresses:t=[]}=T(e);return t[0]}function de(e,t){const{keyword:s=""}=T(e);return-1!==(Object(c.d)(s).is||[]).indexOf(t)}function ue(e){const{referrer:t,keyword:s,emailAddresses:n,folders:a}=T(e);return!!(t||s||n&&n.length||a&&0===a.length)}function me(e){const t=j(e);return t===i.Fb.REFUND_CARDS||t===i.Fb.COUPON_CARDS||t===i.Fb.GROCERY_STORES||t===i.Fb.TRAVEL_CARDS||t===i.Fb.OFFER_CARDS||t===i.Fb.YAHOO_DEAL_CARDS}const pe=(e,t)=>t.reduce((e,t)=>-1!==e.indexOf(t)?e:[...e,t],[...e]);function _e(e,t,s){if(-1!==t.indexOf(s))return t;return H(e)===i.Cd.DATE_DESC?[s,...t]:[...t,s]}const he=(e,t,s)=>{const{itemIds:n,totalHits:a,hasMoreItems:r}=t.lists[s];return 0!==n.length&&r?n.length>e.length?n:n.length<e.length&&n.length===a?n:u()(e.slice(0,n.length),n)?e:((e,t)=>{const s=e.findIndex(e=>e===t[t.length-1]);return pe(t,e.slice(s+1,e.length))})(e,n):n.length===e.length&&u()(e,n)?e:n}},function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"c",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"e",function(){return c});const n=Object.prototype.hasOwnProperty;function a(e,t,s){if(!t||!e)return s;if("string"==typeof t&&(t=t.split(".")),1===t.length)return n.call(e,t[0])?e[t[0]]:s;return(e=e[t.splice(0,1)[0]])?a(e,t,s):s}function r(e){var t={};return("[object Array]"===Object.prototype.toString.call(e)?e:Object.keys(e)).forEach(function(e){null===e?t.null=null:void 0===e?t.undefined=void 0:t[e]=e.toString()}),t}function o(e){return!e||0===Object.keys(e).length}function i(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const s=Object.keys(e),n=Object.keys(t);return s.length===n.length&&s.every(s=>e[s]===t[s])}function c(e){return Object.keys(e).map(t=>e[t])}},function(e,t,s){"use strict";var n=s(347),a=s.n(n),r=s(63),o=s.n(r),i=s(26),c=s(168);const l="100%",d="320px",u="360px",m=640,p=1112;var _=s(4),h=s(10),E=s(8);Object(_.h)({adFormatSelectionPrompt:{id:"ad.adFormatSelectionPrompt",defaultMessage:"Choose your ad format"},adFormatSelectionHeader:{id:"ad.adFormatSelectionHeader",defaultMessage:"Don't like this ad format?"},adFormatSelectionAction:{id:"ad.adFormatSelectionAction",defaultMessage:"Set"},sponsoredMomentDescription:{id:"ad.adFormatSelectionSMDescription",defaultMessage:"Image ad below your newest messages"},pencilAdDescription:{id:"ad.adFormatSelectionPencilDescription",defaultMessage:"Text ad above your messages"},adFreeDescription:{id:"ad.adFormatSelectionAdFreeDescription",defaultMessage:"Ad free subscription"},adFreeAction:{id:"ad.adFormatSelectionAdFreeAction",defaultMessage:"Upgrade to Mail Pro"}});const g=Object(E.c)(["PENCIL_AD","SPONSORED_MOMENT","AD_FREE","UNSET"]),b={[g.UNSET]:0,[g.PENCIL_AD]:1,[g.SPONSORED_MOMENT]:2};var I=s(65),f=s(255),S=s(0),A=s(2),T=s(14),C=s(76),O=s(104),R=s(45),N=s(33),M=s(7),D=s(47),y=s(16),L=s(70),v=s(53),P=s(32),F=s.n(P);const x=Object(i.c)({amountUnit:(e="",t)=>{const{type:s,offer:n}=t;switch(s){case A.y:case A.Xf:case A.B:return n.amountUnit;default:return e}},brandName:(e="",t)=>{const{type:s,offer:n}=t;switch(s){case A.y:case A.Xf:case A.B:return n.brandName;default:return e}},description:(e="",t)=>{const{type:s,offer:n}=t;switch(s){case A.y:case A.Xf:case A.B:return n.description;default:return e}},discountType:(e="",t)=>{const{type:s,offer:n}=t;switch(s){case A.y:case A.Xf:case A.B:return n.discountType;default:return e}},expiryTimestamp:(e=0,t)=>{const{type:s,offer:n}=t;switch(s){case A.y:case A.Xf:case A.B:return n.expiryTimestamp;default:return e}},imageUrl:(e="",t)=>{const{type:s,offer:n}=t;switch(s){case A.y:case A.Xf:case A.B:return n.imageUrl||"";default:return e}},offerId:(e="",t)=>{const{type:s,offer:n}=t;switch(s){case A.y:case A.Xf:case A.B:return n.offerId;default:return e}},value:(e="",t)=>{const{type:s,offer:n}=t;switch(s){case A.y:case A.Xf:case A.B:return n.value;default:return e}}});var w=function(e={},{type:t,offers:s}){switch(t){case A.y:case A.Xf:{const n=(s||[]).filter(t=>!F()(e[t.offerId],t));return n.length?n.reduce((e,s)=>babelHelpers.extends({},e,{[s.offerId]:x(e[s.id],{type:t,offer:s})}),babelHelpers.extends({},e)):e}case A.B:{if(!s)return e;const n=s.reduce((s,n)=>babelHelpers.extends({},s,{[n.offerId]:x(e[n.offerId],{type:t,offer:n})}),{});return Object.keys(n).length?babelHelpers.extends({},e,n):e}default:return e}};var k=s(77);var H=Object(i.c)({contacts:(e={},t)=>{switch(t.type){case A.Zb:return babelHelpers.extends({},t.response.contacts,e);case A.Vb:return babelHelpers.extends({},e,{[t.email]:babelHelpers.extends({},t.contactDetails)})}return e},contactBlackList:(e=[],t)=>{switch(t.type){case A.Xc:return[...e,t.contactInfo]}return e},contactCategories:(e={},t)=>{switch(t.type){case A.Zb:return babelHelpers.extends({},e,t.response.categoryIdToGroupNameAndContacts)}return e},contactCategoriesStatus:(e=S.Rc.DOES_NOT_EXIST,t)=>{switch(t.type){case A.ac:return S.Rc.LOADING;case A.Zb:return S.Rc.LOADED;case A.Yb:return S.Rc.ERROR}return e}});const U=(e,t,s)=>{const{getSetting:n,isFeatureEnabled:a,getAdsSelectors:r}=t,o=a(S.mb.ROTATE_PENCIL_AD_ON_EXPIRE),i=n(S.nd.PENCIL_AD_EXPIRE_TIME),{getGeminiAds:c,getAdRotationId:l}=r(),d=c(s)||[],u=l();return s?d.filter((e,t)=>!o||u-e.timestamp<i||t===d.length-1):[]},j=(e,t,s)=>{const{ads:n}=U(0,t,s)[0]||{};return(n&&n.length>0?n[0]:n)||te},G=(e,t,s)=>{const{ads:n}=U(0,t,s)[0]||{};return(n&&1===n.length&&!n[0].creativeId?n[0]:n)||[]},B=(e,t)=>{const{getSetting:s,isFeatureEnabled:n}=t,a=n(S.mb.SPONSORED_MOMENT),r=s(S.nd.GEMINI_SECTION_IDS),o=j(0,t,r[S.vb.MESSAGE_LIST_SM]);return a&&o.creativeId?o:null},V=({hasRightPane:e,feedbackStatus:t})=>t===S.k.STARTED?e?h.MESSAGE_LIST_COMPACT_FEEDBACK_FORM_HEIGHT:h.MESSAGE_LIST_FEEDBACK_FORM_HEIGHT:t===S.k.SUBMITTED?e?h.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT:h.MESSAGE_LIST_GEMINI_AD_HEIGHT_M:void 0,W=(e,{useGeminiAdHeight:t,hasRightPane:s})=>t?s?h.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT:h.MESSAGE_LIST_GEMINI_AD_HEIGHT_M:e,q=(e,t,s,n)=>{const{getSetting:a,getAdsSelectors:r,isFeatureEnabled:o}=e,i=a(S.nd.PREVIEW_PANE)===S.Gc.RIGHT,c=r(),{getAdFeedbackStatus:l}=c,d=l(),u=o(S.mb.FAN_ADS)&&!s,m="heightOptimizationBackBucketExp"===a(S.nd.PENCIL_AD_VERSION),p=o(S.mb.SEARCH_AD_BACK_BUCKET)&&s,_=u||m||p,h=d[n],E=h===S.k.STARTED||h===S.k.SUBMITTED,g=Object(M.f)({listContentType:E?S.Fb.AD_FEEDBACK:S.Fb.PENCIL_AD});return E?{id:[g,S.Fb.AD_FEEDBACK,n].join("-"),listId:g,sectionId:n,listItemHeight:V({hasRightPane:i,feedbackStatus:h})}:{id:[g,S.Fb.PENCIL_AD,n].join("-"),listId:g,sectionId:n,listItemHeight:W(t,{useGeminiAdHeight:_,hasRightPane:i})}};var z=s(186),Z=s(5);const{MESSAGE_FROM_SEARCH_LIST:K,MESSAGE_FROM_FOLDER_LIST:Y,SPONSORED_MESSAGE:X}=S.Uc,{STARTED:$,SUBMITTED:Q,ENDED:J}=S.k,ee=Object(E.c)([5564699]),te={creativeId:"",pencilAd:{adHeadline:"",adSummary:"",adImg:"",adSource:"",clickUrl:"",creativeId:"",type:"",adFeedbackBeacon:"",rules:{},actionUrls:{},impressionTrackingUrls:[],carouselAssets:[]},nativeAd:{contentType:"",url:"",usageType:"",geminiSponsoredAsset:"",actionUrls:{},embeddedLandingUrls:{}},timestamp:0},se=Object(i.c)({ads:(e={spaceId:"",positions:[]},t)=>{switch(t.type){case A.Qc:return{spaceId:t.spaceId,positions:t.positions}}return e},errorMessage:(e="",t)=>{switch(t.type){case A.Pc:return t.error}return e}}),ne=Object(i.c)({timestamp:(e=0,t)=>{switch(t.type){case A.Ef:case A.Uj:return t.actionTimestamp;case A.ed:case A.qg:if(t.fromMessageGroupView)return t.actionTimestamp;break;case A.Ff:if(t.messageReadAdRotationActive&&Object(E.a)(t,"card.folderType",null)===S.ub.DRAFT)return 0;if((!t.messageReadAdRotationActive||t.actionTimestamp>t.messageReadAdRotationTimestamp+t.messageReadAdRotationIdleInterval)&&Object(E.a)(t,"card.folderType",null)!==S.ub.DRAFT)return t.actionTimestamp;break;case A.R:return t.isVisible&&t.messageReadAdRotationActive?t.actionTimestamp:0;case A.Cg:return t.route.name===K||t.route.name===Y?t.actionTimestamp:0;case A.Rf:case A.He:return 0}return e},timestampV2:(e=0,t)=>{switch(t.type){case A.Pf:return t.actionTimestamp}return e},active:(e=!1,t)=>{switch(t.type){case A.Ef:case A.Uj:return!0;case A.ed:case A.qg:if(t.fromMessageGroupView)return!0;break;case A.Ff:if(t.messageReadAdRotationActive&&Object(E.a)(t,"card.folderType",null)===S.ub.DRAFT)return!1;if((!t.messageReadAdRotationActive||t.actionTimestamp>t.messageReadAdRotationTimestamp+t.messageReadAdRotationIdleInterval)&&Object(E.a)(t,"card.folderType",null)!==S.ub.DRAFT)return!0;break;case A.R:return!(!t.isVisible||!t.messageReadAdRotationActive)||e;case A.Cg:return t.route.name===K||t.route.name===Y;case A.Rf:return!1}return e}}),ae=e=>{const t=Object.keys(e).reduce((e,t)=>babelHelpers.extends({},e,{[t]:e[t]===Q?J:null}),e);return F()(e,t)?e:t},re=Object(i.c)({searchPlaAds:(e={},t)=>{switch(t.type){case A.Mh:if(Object(E.a)(t,"response.PLAADS",null))return babelHelpers.extends({},e,{[t.listId]:Object(E.a)(t,"response.PLAADS.WITH_KEYWORD.items",null)})}return e},currentGptItem:(e=null,t)=>{switch(t.type){case A.ge:return t.keyword;case A.he:case A.Rg:return t.originalKeyword;case A.Cg:case A.Zg:return null}return e},plaAdsOnMessageRead:(e={},t)=>{switch(t.type){case A.he:return babelHelpers.extends({},e,{[t.keyword]:Object(E.a)(t,"plaAds",[])})}return e}});var oe=Object(i.c)({adRotationId:(e=0,t)=>{if(C.a[t.type])return t.actionTimestamp;switch(t.type){case A.R:if(t.isVisible)return t.actionTimestamp;break;case A.Cg:if(t.route.name!==X)return t.actionTimestamp;break;case A.Vi:if(t.previewPane!==S.Gc.NO)return t.actionTimestamp;break;case A.Bg:if(t.online&&t.rotateAdsOnline)return t.actionTimestamp;break;case A.mj:if(t.forceSync&&Object(E.a)(t,"i13nModel.mKey",null)===Z.e.PULL_TO_REFRESH)return t.actionTimestamp;break;case A.rb:case A.qb:if(t.rotateAds)return t.actionTimestamp}return e},darla:se,geminiAds:(e={},t)=>{switch(t.type){case A.J:return t.sectionId&&e[t.sectionId]?babelHelpers.extends({},e,{[t.sectionId]:[e[t.sectionId][0]]}):e;case A.Oe:case A.ne:if(t.geminiAd)return Object.keys(t.geminiAd).reduce((e,s)=>ee[s]?babelHelpers.extends({},e,{[s]:[{ads:t.geminiAd[s],timestamp:t.actionTimestamp}]}):(e[s]=[...e[s]||[],{ads:t.geminiAd[s],timestamp:t.actionTimestamp}].filter(e=>t.actionTimestamp-e.timestamp<6e5),e),babelHelpers.extends({},e));break;case A.pe:{const{sectionIds:s={}}=t;return Object(E.e)(s).reduce((e,s)=>(e[s]&&(e[s]=e[s].length>1?e[s].slice(1).filter(e=>t.actionTimestamp-e.timestamp<6e5):e[s].filter(e=>t.actionTimestamp-e.timestamp<6e5)),e),babelHelpers.extends({},e))}}return e},geminiError:(e=null,t)=>{switch(t.type){case A.ne:return null;case A.me:return t.error}return e},searchAds:(e={},t)=>{switch(t.type){case A.Mh:if(Object(E.a)(t,"response.ADS",null))return babelHelpers.extends({},e,{[t.listId]:Object(E.a)(t,"response.ADS.WITH_KEYWORD.items.0",null)})}return e},plaAds:re,adFeedback:(e={},t)=>{if(C.a[t.type]&&t.type!==A.H)return ae(e);switch(t.type){case A.R:if(t.isVisible)return ae(e);break;case A.Cg:if(t.route.name!==X)return ae(e);break;case A.Vi:if(t.previewPane!==S.Gc.NO)return ae(e);break;case A.Bg:if(t.online&&t.rotateAdsOnline)return ae(e);break;case A.I:return babelHelpers.extends({},e,{[t.sectionId]:$});case A.J:return babelHelpers.extends({},e,{[t.sectionId]:Q});case A.H:return babelHelpers.extends({},e,{[t.sectionId]:e[t.sectionId]===Q?J:null})}return e},messageReadAdRotation:ne,geminiCategories:(e=[],t)=>{switch(t.type){case A.Cg:case A.Zg:if(t.geminiCategories&&t.geminiCategories.length)return t.geminiCategories}return e},sponsoredAds:(e={},t)=>{switch(t.type){case A.Cg:return t.sponsoredAd?babelHelpers.extends({},e,{[Object(E.a)(t,"sponsoredAd.creativeId")]:t.sponsoredAd}):e;case A.re:{const s=e[t.creativeId]&&babelHelpers.extends({},e[t.creativeId].nativeAd,{geminiSponsoredAsset:t.asset});return babelHelpers.extends({},e,{[t.creativeId]:babelHelpers.extends({},e[t.creativeId],{nativeAd:s})})}}return e},relatedSearches:(e={},t)=>{switch(t.type){case A.rh:return t.queries}return e},isAdBlocked:(e=!1,t)=>{switch(t.type){case A.C:return!0}return e},couponOnPencilState:(e=-1,t)=>{switch(t.type){case A.tc:if(Object(M.x)(t.listId)===S.Hb.TOP_COUPONS&&-1===e)return 0}if(Object(C.d)(t)){const{numberOfRotation:s}=t;if(s>=0){if(0===s&&0===e)return 1;if(0===s&&e>0)return 2;if(e>=0&&e<s)return++e;if(0!==s&&e>=s)return 0}}return e},isSponsoredMomentClosed:(e=!1,t)=>{switch(t.type){case A.Ii:return!0}return e},shopliftAds:(e={},t)=>{switch(t.type){case A.ti:return babelHelpers.extends({},e,{[t.groupId]:t.items})}return e},fanAdRenderTime:(e=Date.now(),t)=>{switch(t.type){case A.Rd:case A.Re:return t.actionTimestamp;case A.Qd:return 0}return e}});var ie=s(43),ce=s(36),le=s.n(ce);const{Dispositions:de}=S.u;var ue=function(e={},t){const{type:s,listData:n={},message:a}=t;switch(s){case A.Oe:case A.rb:case A.nb:case A.Cj:case A.eg:case A.Jf:case A.mg:case A.Mh:case A.Oh:case A.yf:case A.Yj:case A.Vj:case A.Bf:case A.Af:case A.Cg:case A.Vf:{const t=a?a.attachments.reduce((e,t)=>babelHelpers.extends({},e,{[t.id]:t}),{}):n.attachments;if(!t)return e;const s=function(e,t){return Object.keys(t).reduce((s,n)=>{const a=t[n],r=e[n]||{};return(e[n]||{}).contentId&&e[n].disposition===a.disposition||(s[n]=a),r.disposition&&r.disposition!==a.disposition&&(s[n]=babelHelpers.extends({},r,{disposition:a.disposition})),s},{})}(e,t);return Object.keys(s).length?babelHelpers.extends({},e,s):e}case A.Wj:{const{newContentIds:s=[]}=t;if(!s.length)return e;const n=s.map(e=>({contentId:e}));return babelHelpers.extends({},e,n)}case A.Pg:{const{streamItems:s}=t;return le()(e,s.map(e=>e.id))}case A.X:{const{id:s,newZoomLevel:n}=t,a=e[s];return a?babelHelpers.extends({},e,{[s]:babelHelpers.extends({},a,{previewerUiState:babelHelpers.extends({},a.previewerUiState,{zoomLevel:n})})}):e}default:return e}};const me={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};var pe=(e={},{type:t="",senderEmail:s="",nearbyListing:n={}}={})=>{switch(t){case A.Oj:{const{name:t="",latlong:a="",address:{street:r="",city:o=""}={},hours_status:{hours:i={}}={},phone:c="",distance_in_miles:l=""}=n,d=a?Date.now():1/0,u=Object.keys(i).sort((e,t)=>me[e]-me[t]).map(e=>i[e]);return babelHelpers.extends({},e,{[s]:{name:t,latlong:a,streetAddress:r,city:o,hours:u,phone:c,distance:l,lastUpdated:d}})}case A.ue:return Object.keys(e).reduce((t,s)=>babelHelpers.extends({},t,{[s]:babelHelpers.extends({},e[s],{lastUpdated:0})}),{});default:return e}};const _e=Object(i.c)({startTime:(e=0,t)=>{switch(t.type){case A.xe:return Object(E.a)(t,"inviteInfo.startTime",e);default:return e}},endTime:(e=0,t)=>{switch(t.type){case A.xe:return Object(E.a)(t,"inviteInfo.endTime",e);default:return e}},location:(e="",t)=>{switch(t.type){case A.xe:return Object(E.a)(t,"inviteInfo.location",e);default:return e}},summary:(e="",t)=>{switch(t.type){case A.xe:return Object(E.a)(t,"inviteInfo.summary",e);default:return e}},state:(e="",t)=>{switch(t.type){case A.xe:return Object(E.a)(t,"inviteInfo.state",e);default:return e}},firstAttendeeStatus:(e=[],t)=>{switch(t.type){case A.xe:return Object(E.a)(t,"inviteInfo.firstAttendeeStatus",e);default:return e}},organizerEmail:(e=[],t)=>{switch(t.type){case A.xe:return Object(E.a)(t,"inviteInfo.organizerEmail",e);default:return e}},isSameDay:(e=!1,t)=>{switch(t.type){case A.xe:return Object(E.a)(t,"inviteInfo.isSameDay",e);default:return e}},attendees:(e=[],t)=>{switch(t.type){case A.xe:return Object(E.a)(t,"inviteInfo.attendees",e);default:return e}},videoLink:(e="",t)=>{switch(t.type){case A.xe:return Object(E.a)(t,"inviteInfo.videoLink",e);default:return e}},firstAttendeeEmail:(e=null,t)=>{switch(t.type){case A.xe:return Object(E.a)(t,"inviteInfo.firstAttendeeEmail","");default:return e}},response:(e="",t)=>{switch(t.type){case A.xe:return Object(E.a)(t,"inviteInfo.response",e);case A.xh:case A.wh:return t.response;default:return e}},messageId:(e="",t)=>{switch(t.type){case A.xe:return Object(E.a)(t,"messageId",e);default:return e}},status:(e=null,t)=>{switch(t.type){case A.ve:return"ERROR";case A.we:return"LOADING";case A.xe:return"READY";default:return e}},uid:(e="",t)=>{switch(t.type){case A.xe:return Object(E.a)(t,"inviteInfo.uid",e);default:return e}},email:(e="",t)=>{switch(t.type){case A.xe:return Object(E.a)(t,"inviteInfo.email",e);default:return e}}});var he=(e={},t)=>{switch(t.type){case A.xe:case A.ve:case A.we:case A.vh:case A.xh:case A.wh:return babelHelpers.extends({},e,{[t.messageId]:_e(e[t.messageId],t)});default:return e}};const Ee=(e=[],t)=>{const{type:s,cardGroup:n=[]}=t;switch(s){case A.Bf:case A.Af:case A.Jf:case A.Pd:case A.yj:case A.og:return F()(n,e)?e:n;default:return e}};var ge=function(e={},t){const{type:s,listData:n={}}=t;switch(s){case A.Bf:case A.Af:case A.Jf:case A.Pd:case A.yj:case A.og:{const{groupIdToMessageIdsMap:t}=n;if(!t)return e;const a=Object.keys(t).filter(s=>!F()(t[s],e[s])).reduce((n,a)=>babelHelpers.extends({},n,{[a]:Ee(e[a],{type:s,cardGroup:t[a]})}),{});return Object.keys(a).length?babelHelpers.extends({},e,a):e}default:return e}};const be=(e=[],t)=>{const{cards:s,type:n}=t;switch(n){case A.bg:case A.kg:case A.Bf:case A.Af:case A.Jf:case A.tc:case A.Pd:case A.jh:case A.yj:case A.Mh:case A.og:case A.Oe:return F()(s,e)?e:s;default:return e}};var Ie=function(e={},t){const{listData:s={},type:n}=t;switch(n){case A.bg:case A.kg:case A.Bf:case A.Af:case A.Jf:case A.tc:case A.Pd:case A.jh:case A.yj:case A.Mh:case A.og:case A.Oe:{if(!s.messageIdToSchemaIdsMap)return e;const t=Object.keys(s.messageIdToSchemaIdsMap).filter(t=>!F()(e[t],s.messageIdToSchemaIdsMap[t])).reduce((t,a)=>babelHelpers.extends({},t,{[a]:be(e[a],{type:n,cards:s.messageIdToSchemaIdsMap[a]})}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}default:return e}};var fe=Object(i.c)({composeAttributesStatus:(e=S.Rc.LOADING,t)=>{const{route:s}=t;switch(t.type){case A.Re:return s.name===S.Uc.NEW_DRAFT||s.name===S.Uc.EDIT_DRAFT?S.Rc.LOADED:e;case A.Ab:case A.ii:return S.Rc.LOADED;case A.hi:case A.zb:return S.Rc.ERROR;default:return e}}});var Se=s(71),Ae=s(23);const Te=Object(i.c)({mailToLink:(e=null,t)=>{switch(t.type){case A.Cg:{const{mailtoAttr:s}=t;return s||e}}return e},stationeryTheme:(e=Ae.NO_STATIONERY,t)=>{const{unsyncedDataItem:s={}}=t,{userInputtedValues:n={}}=s;switch(t.type){case A.Cg:if(t.stationeryTheme)return t.stationeryTheme}return n.stationeryTheme||e},composeUndoStack:(e=[],t)=>{const{unsyncedDataItem:s={}}=t,{userInputtedValues:n={}}=s;switch(t.type){case A.Yj:return[]}return n.undoStack||e},composeRedoStack:(e=[],t)=>{const{unsyncedDataItem:s={}}=t,{userInputtedValues:n={}}=s;switch(t.type){case A.Yj:return[]}return n.redoStack||e},composeUiState:(e=null,t)=>{const{unsyncedDataItem:s={}}=t,{userInputtedValues:n={}}=s;switch(t.type){case A.dh:return Object.assign({},e,{isQuotedTextExpanded:!0})}return n.uiState||e},lastAutotagQuery:(e="",t)=>{switch(t.type){case A.ic:return t.query}return e},attachmentProgress:(e={},t)=>{switch(t.type){case A.Rj:{const s=babelHelpers.extends({},e);return t.newFileContentIds.forEach(e=>s[e]=t.percent),s}}return e},sendStatus:(e=null,t)=>{switch(t.type){case A.Jj:case A.ak:return e!==Se.g.SENT?Se.g.SENDING:e;case A.bk:case A.Vj:return Se.g.SENT;case A.Wj:return t.error&&"ES-2001"===t.error.errorCode?Se.g.SENT:e;case A.Zj:return t.error&&"ES-2001"===t.error.errorCode?Se.g.SENT:Se.g.SEND_FAILED}return e},composeFieldToFocus:(e=Se.a.TO,t)=>{switch(t.type){case A.Cg:return t.isReplyingMessageSubjectEdited?Se.a.SUBJECT:e;case A.Rf:{const{inForwardToMessageId:e}=t;return e?Se.a.TO:Se.a.EDITOR}case A.Zj:return Se.a.EDITOR}return e},doComposeFromRouteQueryParams:(e=!1,t)=>{switch(t.type){case A.Oe:return!!t.mrdParams;case A.Cg:return!1}return e},forwardCreativeId:(e=null,t)=>{switch(t.type){case A.Cg:return t.forwardCreativeId||null}return e},forwardAttachmentIds:(e=[],t)=>{switch(t.type){case A.Cg:return t.attachments?t.attachments.map(({id:e})=>e):e}return e},inReplyToMessageId:(e=null,t)=>{switch(t.type){case A.Oe:case A.Cj:case A.rb:case A.nb:case A.eg:case A.mg:case A.Mh:case A.Oh:case A.De:case A.Jf:{const{inReplyTo:e={}}=t,{messageReference:s={}}=e;return e.replied&&s.id?s.id:null}case A.Rf:return t.inReplyToMessageId||null;case A.Cg:return t.isReplyingMessageSubjectEdited?null:e}return e},inReplyAllToMessageId:(e=null,t)=>{switch(t.type){case A.Rf:return t.inReplyAllToMessageId||null;case A.Cg:return t.isReplyingMessageSubjectEdited?null:e}return e},inForwardToMessageId:(e=null,t)=>{switch(t.type){case A.Oe:case A.Cj:case A.rb:case A.nb:case A.eg:case A.mg:case A.Mh:case A.Oh:case A.De:case A.Jf:{const{inReplyTo:e={}}=t,{messageReference:s={}}=e;return e.forwarded&&s.id?s.id:null}case A.Rf:return t.inForwardToMessageId||null;case A.Cg:return t.isReplyingMessageSubjectEdited?null:e}return e},draftMessageId:(e=null,t)=>{switch(t.type){case A.Oe:case A.Cj:case A.rb:case A.nb:case A.eg:case A.mg:case A.Mh:case A.Oh:case A.De:case A.Jf:return t.draftMessageId||null;case A.yf:case A.Vf:case A.Yj:case A.Vj:return t.message.id;case A.Cg:return t.isReplyingMessageSubjectEdited?null:e}return e},fatalErrorCount:(e=0,t)=>{switch(t.type){case A.Tf:case A.Wj:case A.wf:return t.error&&/^(E(S|C|T|P)-|EMPTY_RESPONSE)/.test(t.error.errorCode)?e+1:e;case A.Vf:case A.Yj:case A.yf:case A.Vj:return 0}return e},lastSaveTimeStamp:(e=0,t)=>{switch(t.type){case A.Yj:case A.Vj:return t.lastEditedTimeStamp||t.actionTimestamp}return e},lastOpenTimeStamp:(e=0,t)=>{switch(t.type){case A.Cg:return t.actionTimestamp||e}return e},isAutotagDisabled:(e=!1)=>e,composeParams:(e=null,t)=>{switch(t.type){case A.Cg:{const{composeParams:s={}}=t;if(Object.keys(s).length>0)return babelHelpers.extends({},e,s)}}return e}});var Ce=(e={},t)=>{switch(t.type){case A.Tf:case A.wf:case A.Xj:case A.Wj:case A.ak:case A.Zj:case A.bk:case A.Vj:case A.yf:case A.Vf:case A.Yj:case A.dh:case A.Rj:case A.Rf:if(t.csid)return babelHelpers.extends({},e,{[t.csid]:Te(e[t.csid],t)});break;case A.Y:return babelHelpers.extends({},e,{[t.csid]:babelHelpers.extends({},e[t.csid],{isAutotagDisabled:!0})});case A.mj:case A.Bg:case A.R:case A.Cg:{const{unsyncedData:s=[]}=t,n=s.filter(e=>e.type===S.Zd.COMPOSE);if(n.length){const s=n.map(s=>({[s.id]:Te(e[s.id],{type:t.type,isReplyingMessageSubjectEdited:t.isReplyingMessageSubjectEdited,unsyncedDataItem:s})}));return babelHelpers.extends({},e,t.csid?{[t.csid]:Te(e[t.csid],t)}:{},Object.assign.apply({},s))}if(t.csid)return babelHelpers.extends({},e,{[t.csid]:Te(e[t.csid],t)});break}case A.Oe:case A.Cj:case A.rb:case A.nb:case A.eg:case A.mg:case A.Mh:case A.Oh:case A.De:case A.Jf:{const{mrdParams:s={},draftData:n={}}=t;if(s.csid)return babelHelpers.extends({},e,{[s.csid]:Te(e[s.csid],t)});if(n.csid)return babelHelpers.extends({},e,{[n.csid]:Te(e[n.csid],t)});if(t.listData&&t.listData.messages){const s=t.unsyncedData.filter(e=>e.type===S.Zd.COMPOSE).map(e=>e.id),n=Object(E.e)(t.listData.messages||[]).filter(e=>-1===s.indexOf(e.csid)).map(s=>({[s.csid]:Te(e[s.csid],babelHelpers.extends({},t,{draftMessageId:s.id,inReplyTo:s.inReplyTo}))}));return n.length?babelHelpers.extends({},e,Object.assign.apply({},n)):e}if(t.csid)return babelHelpers.extends({},e,{[t.csid]:Te(e[t.csid],t)});break}case A.ed:if(t.csid)return le()(e,t.csid);if(t.itemsToUpdate)return le()(e,t.itemsToUpdate.filter(e=>!e.destinationFolder&&e.isAffected).map(({csid:e})=>e).filter(Boolean));break;case A.ic:case A.Jj:if(t.csid)return babelHelpers.extends({},e,{[t.csid]:Te(e[t.csid],t)})}return e};var Oe=Object(i.c)({composeSuggestions:function(e={},t){switch(t.type){case A.jc:return babelHelpers.extends({},e,{[t.query]:t.contacts})}return e},composeSuggestionsFromImportantContacts:function(e={},t){switch(t.type){case A.ic:return babelHelpers.extends({},e,{[t.query]:t.contacts},t.nextContacts);case A.Cg:return{}}return e}});var Re=s(486),Ne=s.n(Re);const Me={name:"",emails:[],emailType:{},phonesWithType:[],addressesWithType:[]},De=(e=Me,t)=>{switch(t.type){case A.fc:case A.cc:case A.Jb:return babelHelpers.extends({},e,t.contact);case A.Ne:{const{contact:s}=t;return babelHelpers.extends({},e,{name:s.name,emails:Ne()(e.emails,s.emails),id:s.xobniId})}case A.Mh:{const e=t.contact,{xobniId:s}=e,n=babelHelpers.objectWithoutProperties(e,["xobniId"]);return babelHelpers.extends({},n,{id:s})}default:return e}};var ye=s(487),Le=s.n(ye);const ve={COMPOSE_FROM_CONTACTS_PANE:[Z.e.CONTACT_ITEM_EMAIL_CLICKED,Z.e.CONTACT_DETAILS_EMAIL_CLICKED],REPLACE_ATTACHMENT_WITH_RIGHT_RAIL:[Z.e.CONTACTS_PANE_ICON_ON]},Pe=e=>e.type===S.M.CONTACTS_LIST?e:babelHelpers.extends({},e,{type:S.M.CONTACTS_LIST,id:null});var Fe=Object(i.c)({byId:(e={},t)=>{switch(t.type){case A.Jb:{const s=babelHelpers.extends({},e);return t.contacts.forEach(({contacts:n})=>{n.forEach(n=>{s[n.id]=De(e[n.id],{type:t.type,contact:n})})}),s}case A.Mh:{const{listData:s={}}=t,n=Object.keys(s.people||{});if(!n.length)return e;const a=babelHelpers.extends({},e);return n.forEach(s=>{a[s]=De(e[s],{type:t.type,contact:t.listData.people[s]})}),a}case A.Ne:{const s=babelHelpers.extends({},e);return t.contacts.forEach(n=>{const{xobniId:a}=n;s[a]=De(e[a],{type:t.type,contact:n})}),s}case A.cc:case A.fc:{const s=babelHelpers.extends({},e);return s[t.contact.id]=De(e[t.contact.id],{type:t.type,contact:t.contact}),s}case A.Uc:return le()(e,[t.contact.id]);default:return e}},idByEmail:(e={},t)=>{switch(t.type){case A.Mh:{const{listData:s={}}=t,{people:n}=s;return n?(e=babelHelpers.extends({},e),Object(E.e)(n).forEach(({xobniId:t,id:s})=>{e[s]=t}),e):e}case A.Ne:return babelHelpers.extends({},e,t.contactEmailToId);case A.cc:case A.fc:{const s=babelHelpers.extends({},e),{id:n,emails:a=[]}=t.contact;return a.forEach(e=>s[e]=n),s}case A.Jb:return Le()(t.contacts,e=>e.contacts).reduce((e,t)=>{const s={};return t.emails.forEach(e=>s[e]=t.id),babelHelpers.extends({},e,s)},babelHelpers.extends({},e));case A.Uc:return t.contact.emails.reduce((e,t)=>{const{[t]:s}=e;return babelHelpers.objectWithoutProperties(e,[t])},babelHelpers.extends({},e));default:return e}},selectedPaneFilter:(e=S.Gb.USER_CREATED_CONTACTS,t)=>{switch(t.type){case A.Ob:return t.listFilter;default:return e}},contactsPaneView:(e={},t)=>{const{type:s}=t;switch(s){case A.Bh:if(t.name===S.Sc.CONTACTS_PANE)return Pe(e);break;case A.Cg:case A.Zg:{const{uiContext:{mKey:s}={},route:{name:n}={}}=t;if(n===S.Uc.NEW_DRAFT)break;if(!s||-1===ve.COMPOSE_FROM_CONTACTS_PANE.indexOf(s))return Pe(e);break}case A.Kb:case A.Xb:case A.ec:switch(e.type){case S.M.EDIT_CONTACT:return babelHelpers.extends({},e,{type:S.M.CONTACT_DETAILS});case S.M.CONTACT_DETAILS:case S.M.CREATE_CONTACT:return Pe(e)}break;case A.Mb:switch(e.type){case S.M.CONTACT_DETAILS:return babelHelpers.extends({},e,{type:S.M.EDIT_CONTACT})}break;case A.Sb:return babelHelpers.extends({},e,{type:S.M.CREATE_CONTACT});case A.Lb:return babelHelpers.extends({},e,{type:S.M.CONTACT_DETAILS,id:t.id});case A.Uc:if(e.type===S.M.CONTACT_DETAILS&&e.id===t.contact.id)return Pe(e);break;case A.Qb:return Pe(e)}return e},selectedUserGroup:(e={[S.Gb.USER_CREATED_CONTACTS]:S.S},t)=>{switch(t.type){case A.Nb:return babelHelpers.extends({},e,{[S.Gb.USER_CREATED_CONTACTS]:t.value});default:return e}}});var xe=(e={},{type:t,contentProviders:s={}})=>{switch(t){case A.lc:return babelHelpers.extends({},e,s)}return e};const we=(e={})=>({doesContentProviderExist:t=>void 0!==e[t],isContentProviderConnected:t=>e[t].isConnected,isCreditCardConnectedWithEarny:t=>e[t].connectionDetails&&e[t].connectionDetails.ccpp,isAmazonConnectedWithEarny:t=>e[t].connectionDetails&&e[t].connectionDetails.amazon,isPaymentConnectedWithEarny:t=>e[t].connectionDetails&&e[t].connectionDetails.payment,isContentProviderDisconnected:t=>void 0!==e[t].isConnected&&!e[t].isConnected,getEarnyUpgrade:t=>{const s=!we(e).doesContentProviderExist(t)&&!1,n=(!we(e).doesContentProviderExist(t)||!we(e).isContentProviderConnected(t)&&!we(e).isContentProviderDisconnected(t))&&S.fb.CONNECT,a=we(e).doesContentProviderExist(t)&&!we(e).isCreditCardConnectedWithEarny(t)&&!we(e).isContentProviderDisconnected(t)&&S.fb.CREDIT,r=we(e).doesContentProviderExist(t)&&!we(e).isPaymentConnectedWithEarny(t)&&!we(e).isContentProviderDisconnected(t)&&S.fb.PAYMENT,o=we(e).doesContentProviderExist(t)&&we(e).isPaymentConnectedWithEarny(t)&&!we(e).isContentProviderDisconnected(t)&&S.fb.DONE;return s||n||a||r||o||S.fb.CONNECT}}),ke=Object(i.c)({imageUrl:(e=null,t)=>{const{type:s,card:n}=t;switch(s){case A.Bf:case A.Af:case A.Jf:case A.Pd:case A.tc:case A.bg:case A.Mh:return n.imageUrl||e;default:return e}},validThrough:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.Bf:case A.Af:case A.Jf:case A.Pd:case A.tc:case A.bg:case A.Mh:return n.validThrough;default:return e}},isInferredDate:(e=!1,t)=>{const{type:s,card:n}=t;switch(s){case A.Bf:case A.Af:case A.Jf:case A.Pd:case A.tc:case A.bg:case A.Mh:return n.isInferredDate||!1;default:return e}},savedSearchQuery:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.Bf:case A.Af:case A.Jf:case A.Pd:case A.tc:case A.bg:case A.Mh:return n.savedSearchQuery?n.savedSearchQuery:e;default:return e}},dealLink:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.Bf:case A.Af:case A.Jf:case A.Pd:case A.tc:case A.bg:case A.Mh:return n.dealLink?n.dealLink:e;default:return e}},description:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.Bf:case A.Af:case A.Jf:case A.Pd:case A.tc:case A.bg:case A.Mh:return n.description;default:return e}},clipped:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.Bf:case A.Af:case A.Jf:case A.Pd:case A.tc:case A.bg:case A.qc:case A.vc:case A.Mh:return n.clipped;default:return e}},from:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.Bf:case A.Af:case A.Jf:case A.Pd:case A.tc:case A.bg:case A.Mh:return n.from;default:return e}},gptCategory:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.Bf:case A.Af:case A.Jf:case A.Pd:case A.tc:case A.bg:return n.gptCategory;default:return e}},retailer:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.Bf:case A.Af:case A.Jf:case A.Pd:case A.tc:case A.bg:return n.retailer;default:return e}},cardConversationId:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.Bf:case A.Af:case A.Jf:case A.Pd:case A.tc:case A.bg:case A.Mh:return n.cardConversationId;default:return e}}});var He=function(e={},t){const{listData:s={},type:n}=t;switch(n){case A.bg:case A.Bf:case A.Af:case A.Jf:case A.Pd:case A.Mh:case A.tc:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter(t=>s.schemaCards[t].type===S.ed.Coupon&&!F()(e[t],le()(s.schemaCards[t],["id","type"]))).reduce((t,a)=>babelHelpers.extends({},t,{[a]:ke(e[a],{type:n,card:s.schemaCards[a]})}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}case A.vc:case A.qc:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).reduce((t,a)=>babelHelpers.extends({},t,{[a]:ke(e[a],{type:n,card:s.schemaCards[a]})}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}default:return e}};const Ue=(e={})=>({getImageUrl:t=>e[t].imageUrl,getValidThroughDate:t=>e[t].validThrough,isInferredDate:t=>e[t].isInferredDate,getSavedSearchQuery:t=>e[t].savedSearchQuery,getDealLink:t=>e[t].dealLink,getDescription:t=>e[t].description,getFromAddress:t=>e[t].from,isClipped:t=>e[t].clipped,getCardConversationId:t=>e[t].cardConversationId,getCoupons:()=>e,getGptCategory:t=>e[t].gptCategory,getRetailer:t=>e[t].retailer});var je=Object(i.c)({topRetailers:(e=null,t)=>{switch(t.type){case A.wj:return t.topRetailers}return e},topDealCategories:(e=null,t)=>{switch(t.type){case A.uj:return t.topDealCategories}return e}});var Ge=Object(i.c)({isDetailPaneExpanded:(e=!1,t)=>{switch(t.type){case A.rj:return!e;case A.Cg:case A.fd:case A.rg:return!1;default:return e}}});const Be=Object(i.c)({content:(e=null,t)=>{switch(t.type){case A.vd:return t.page.content}return e},status:(e=S.Rc.DOES_NOT_EXIST,t)=>{switch(t.type){case A.vd:return t.page.state;case A.ud:return S.Rc.LOADING}return e}}),Ve=(e,t)=>`${e}-${t}`,We=Object(i.c)({pages:(e={},t)=>{const{startPage:s,endPage:n}=t,a={};switch(t.type){case A.vd:return babelHelpers.extends({},e,Object.keys(t.response.pages).reduce((s,n)=>(s[n]=Be(e[n],babelHelpers.extends({},t,{page:t.response.pages[n]})),s),{}));case A.ud:for(let r=s;r<=n;r++)a[r]=Be(e[r],t);return babelHelpers.extends({},e,a)}return e},height:(e=null,t)=>{switch(t.type){case A.vd:return t.response.height||e}return e},width:(e=null,t)=>{switch(t.type){case A.vd:return t.response.width||e}return e},numPages:(e=0,t)=>{switch(t.type){case A.vd:return t.response.numPages||e}return e},exceptions:(e={},t)=>{switch(t.type){case A.vd:return t.response.exceptions||e}return e},sheets:(e={},t)=>{switch(t.type){case A.vd:return t.response.sheets||e}return e},status:(e=S.Rc.DOES_NOT_EXIST,t)=>{switch(t.type){case A.ud:return e!==S.Rc.LOADED?S.Rc.LOADING:e;case A.vd:return S.Rc.LOADED;case A.td:return S.Rc.ERROR}return e},error:(e={},t)=>{const{error:s={}}=t,{info:n={}}=s.data||{},{documentError:a={}}=n;switch(t.type){case A.vd:case A.ud:return{};case A.td:return a}return e},retryCount:(e={},t)=>{switch(t.type){case A.vd:case A.td:{const s=Ve(t.startPage,t.endPage);return babelHelpers.extends({},e,{[s]:(e[s]||0)+1})}}return e}});var qe=(e={},t)=>{switch(t.type){case A.ud:case A.vd:case A.td:return babelHelpers.extends({},e,{[t.documentId]:We(e[t.documentId],t)})}return e};var ze=function(e=[],t){switch(t.type){case A.yd:case A.S:case A.P:return function(e,t){return t.downloadId=`download-${Object(T.f)()}`,e.concat(t)}(e,t.download);case A.wd:case A.xd:return function(e,t){return e.filter(e=>e.downloadId!==t)}(e,t.downloadId);default:return e}};const Ze={clientWidth:0,clientHeight:0,innerWidth:0,innerHeight:0,contentAndRightRailWidth:0,contentAndRightRailHeight:0,ybarHeight:0};var Ke=Object(i.c)({app:(e=null,t)=>{switch(t.type){case A.Ue:return t.app||e;default:return e}},isInternalIP:(e=!1,t)=>{switch(t.type){case A.Oe:return t.internal;default:return e}},isAMT:(e=!1,t)=>{switch(t.type){case A.Ue:return t.isAMT||!1;default:return e}},applicationVisibility:(e=!0,t)=>{switch(t.type){case A.R:return t.isVisible}return e},applicationLastVisibleTimeStamp:(e=null,t)=>{switch(t.type){case A.R:return t.isVisible?null:t.actionTimestamp}return e},buildRefreshStatus:(e=S.q.NO_REFRESH,t)=>{switch(t.type){case A.R:if(t.heartbeatRefresh&&t.isVisible){const e=(t.actionTimestamp-t.applicationLastVisibleTimeStamp)/6e4;if(t.emergencyRefresh&&e>t.appRefreshIdleInterval.emergencyRefresh)return S.q.EMERGENCY_REFRESH;const s=864e5,n=15,a=Math.round(t.elapsedTimeFromSessionStart)/s;if(e>t.appRefreshIdleInterval.periodicRefresh&&a>=n)return S.q.PERIODIC_REFRESH}return e;case A.hb:return S.q.NO_REFRESH;default:return e}},isXobnified:(e=null,t)=>{switch(t.type){case A.pk:return t.isXobnified;default:return e}},timeZoneName:(e="UTC",t)=>{switch(t.type){case A.Ue:return t.clientParams&&t.clientParams.timezone||t.timezone&&t.timezone.name||"UTC";default:return e}},geoLocation:(e="",{type:t="",latlong:s=""})=>{switch(t){case A.ue:return s;default:return e}},timezoneUpdating:(e=!1,t)=>{switch(t.type){case A.fi:return t.isUpdating||e;default:return e}},windowDimensions:(e=Ze,t)=>{switch(t.type){case A.Ue:return t.clientParams&&t.clientParams.windowInnerWidth&&t.clientParams.windowInnerHeight?babelHelpers.extends({},e,{innerWidth:t.clientParams.windowInnerWidth,innerHeight:t.clientParams.windowInnerHeight}):e;case A.nk:return{clientWidth:t.clientWidth,clientHeight:t.clientHeight,contentAndRightRailHeight:t.contentAndRightRailHeight,contentAndRightRailWidth:t.contentAndRightRailWidth,innerWidth:t.innerWidth,innerHeight:t.innerHeight,ybarHeight:t.ybarHeight};default:return e}},pageDirection:(e="ltr",t)=>{switch(t.type){case A.Ue:return t.pageDirection||e;default:return e}},browser:(e={},t)=>{switch(t.type){case A.Ue:return{browserName:t.browserName,browserVersion:t.browserVersion};default:return e}}});var Ye=s(350),Xe=s.n(Ye),$e=s(25),Qe=s(24),Je=s(91);var et=(e,t)=>{const{getFeaturesSelectors:s,isMobileRoute:n}=t,{getSetting:a}=s(),r=a(S.nd.PREVIEW_PANE)===S.Gc.RIGHT,o=a(S.nd.MSG_LIST_DENSITY),i=a(S.nd.SNIPPETS);if(n())return i?h.MOBILE_SNIPPET_MESSAGE_LIST_ITEM_HEIGHT:h.MOBILE_MESSAGE_LIST_ITEM_HEIGHT;switch(o){case S.ec.SLIM:return r?i?h.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_SLIM_HEIGHT:h.MESSAGE_LIST_ITEM_COMPACT_SLIM_HEIGHT:h.MESSAGE_LIST_ITEM_SLIM_HEIGHT;case S.ec.RELAXED:return r?i?h.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_RELAXED_HEIGHT:h.MESSAGE_LIST_ITEM_COMPACT_RELAXED_HEIGHT:h.MESSAGE_LIST_ITEM_RELAXED_HEIGHT;default:return r?i?h.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_NORMAL_HEIGHT:h.MESSAGE_LIST_ITEM_COMPACT_NORMAL_HEIGHT:h.MESSAGE_LIST_ITEM_NORMAL_HEIGHT}};var tt=e=>{const{getAction:t}=e,s=t();return s.type===A.Ti&&!s.isStarred};var st=e=>{if(!Object(Qe.b)()||!window.performance||!window.performance.timing)return!1;return window.performance.timing.loadEventStart-window.performance.timing.navigationStart>e};var nt=e=>{const{getRoute:t,getSmartViewTypeFromRoute:s}=e,n=t();return(Object(M.I)(n)?s(n):null)===S.zd.COUPONS?Object(M.F)(Object(M.t)(n)):n.name===S.Uc.LIST&&!Object(M.J)(n)},at=s(41);var rt=(e,t)=>{const{getRoute:s,getSetting:n,hasMultipleRootAccounts:a}=t,r=s(),o=Object(M.t)(r);return n(S.nd.PREVIEW_PANE)===S.Gc.RIGHT?at.l.NONE:Object(M.K)(o)||Object(M.J)(r)?at.l.FOLDER:r.name===S.Uc.SEARCH?a()?at.l.ACCOUNT:at.l.FOLDER:at.l.NONE},ot=s(86);var it=e=>{const{getFeaturesSelectors:t,isMobileRoute:s}=e,n=s(),{getSetting:a}=t();return a(n?S.nd.MOBILE_NOTIFICATION:S.nd.DESKTOP_NOTIFICATION)};var ct=(e,t)=>{const{getRoute:s,isMobileRoute:n}=t;if(n())return S.Gc.NO;const a=Object(M.t)(s());return Object(M.q)(a)===S.Fb.MESSAGES?e:S.Gc.NO},lt=s(427);function dt(e,t){return e.length?function(e,t){return e.find(e=>{const s=Object(L.a)(e);return s&&s.name===t})}(e,t):null}var ut=(e,t)=>{const s=[],{getFeaturesSelectors:n}=t,a=n().isEnabled(S.mb.SMARTVIEW_CATEGORIES_ALL),r=n().isEnabled(S.mb.SMARTVIEW_CATEGORIES_PEOPLE),o=n().isEnabled(S.mb.SMARTVIEW_CATEGORIES_PEOPLE_V2),i=n().isEnabled(S.mb.SMARTVIEW_CATEGORIES_SHOPPING),c=`${S.Y[S.zd.PEOPLE]}:1`,l=`${S.Y[S.zd.PEOPLE]}:0`,d=`${S.Y[S.zd.COUPONS]}:1`;if(!(a||r||o||i))return[];if(r||o||i){if(r||o){const t=dt(e,S.zd.PEOPLE);s.push(t?Object(L.a)(t):r?Object(L.a)(c):Object(L.a)(l))}if(i){const t=dt(e,S.zd.COUPONS);s.push(t?Object(L.a)(t):Object(L.a)(d))}}else e.forEach(e=>{const t=Object(L.a)(e);t&&s.push(t)}),S.Qd.forEach(e=>{s.find(({name:t})=>t===e)||s.push({name:e,status:0})});return s};const mt=(e,t)=>{const{getFeaturesSelectors:s}=t,n=s().isEnabled(S.mb.PHOTO_THEMES),a=e[S.nd.THEME];return!$e.g[a]||!n&&Object($e.m)(a)},pt=Object(E.c)(["luv.southwest.com","sg.booking.com","mail.hotels.com","booking.com","email.travelzoo.com","e.delta.com","h1.hilton.com","airbnb.com","email-marriott.com","united.com","email.jetblue.com","frontier.com","mailer.orbitz.com","news.united.com","save.spirit-airlines.com","aa.com","your.choicehotels.com","carnivalcruiselineemail.com","res.hilton.com","ifly.alaskaair.com"]);var _t=(e,t)=>{const{getRouteParams:s,getRouteName:n,getRoute:a,getMessageGroupsSelectors:r,getMessagesSelectors:o,getSmartViewTypeFromRoute:i}=t,{doesMessageGroupIdExist:c,getMessageIdsFromMessageGroupId:l}=r(),{doesMessageIdExist:d,getFromAddresses:u}=o(),m=n(),p=m===S.Uc.MESSAGE_FROM_FOLDER_LIST||m===S.Uc.MESSAGE_FROM_SEARCH_LIST,_=a(),h=Object(M.I)(_)&&i(_)===S.zd.TRAVEL,{groupId:g}=s()||{},b=c(g)&&l(g)[0],I=d(b)&&u(b)[0];return Object(Je.c)(e,t,!0)&&(p&&function(e){if(!e)return!1;const t=Object(E.a)(e,"email",""),s=t.slice(t.indexOf("@")+1).toLowerCase();return!!pt[s]}(I)||h)};var ht=(e,t)=>{const{getRoute:s,getListsSelectors:n}=t,{doesListExist:a}=n(),r=Object(M.t)(s()),o=Object(M.q)(r)===S.Fb.TRAVEL_CARDS;return a(r)&&o&&e};const Et={start:Date.parse("2017-09-24T04:55:00-07:00"),end:Date.parse("2017-09-24T10:00:00-07:00")};const gt=(e,t=!1)=>(s=t,n)=>{switch(n.type){case A.Ue:case A.Oe:case A.ii:case A.Zh:case A.Sg:case A.Ab:return void 0!==n.features[e]?n.features[e]:s;case A.Sd:case A.be:case A.de:case A.ae:case A.Pi:{const{fromFeature:t,name:a}=n;if((t||a)===e)return!1;const{nextFeatureCues:r=[]}=n;return-1!==r.indexOf(e)||s}case A.ce:case A.ci:case A.mi:case A.th:case A.Zd:case A.Ud:case A.kj:case A.Xd:{const{name:t,value:a}=n;return void 0===t||void 0===a?s:t===e?a:s}case A.Z:case A.ab:{const{name:t,blockSenders:a}=n;return void 0===t||void 0===a?s:t===e?a:s}case A.pi:{const{value:t}=n;return e===S.nd.VACATION_PREFERENCES?t:s}case A.pj:case A.Cg:{const{nextFeature:t}=n;if(t===e)return!0;if(n.updatedSettingAttributes){const{updatedSettingAttributes:t}=n,a=Array.isArray(t)?t.find(t=>t.name===e):t,{name:r,value:o}=a||{};return void 0===r||void 0===o?s:r===e?o:s}return s}default:{const{nextFeature:t}=n;return t===e||s}}},bt=(e=null,t)=>{switch(t.type){case A.hf:return Object(E.a)(t,"retailerId",e);case A.gf:return null;default:return e}},It={[S.mb.PHOTOS_CUE]:!1,[S.mb.STARRED_CUE]:!1,[S.mb.SETTINGS_CUE]:!1,[S.mb.SEARCH_CUE]:!1,[S.mb.ALL_TABS_PLUS_CUE]:!1,[S.mb.PEOPLE_SMARTVIEW_CUE]:!1,[S.mb.STATIONERY_CUE]:!1,[S.mb.EMOJI_CUE]:!1,[S.mb.COUPON_STORE_LOCATOR]:!1,[S.nd.COUPON_STORE_LOCATOR_COLLAPSED]:!1,[S.mb.GEO_LOCATION]:!1,[S.nd.YAHOO_MAPS_URL]:"",[S.mb.COUPON_CLIPPER_CUE]:!1,[S.mb.INBOX_COUPONS_CUE]:!1,[S.mb.THEMES_CUE_V3]:!1,[S.mb.SSA_BREACH_SECURITY_ALERT]:!1,[S.mb.APT_SECURITY_CUE]:!1,[S.mb.NEW_USER_ONBOARDING_CUE]:!1,[S.mb.UPDATE_WIDER_MAIL_CUE]:!1,[S.mb.COUPONS_VIEW_CUE]:!1,[S.mb.MSG_READ_EARNY_CARD]:!1,[S.nd.QUOTIENT_DEBUG_FLAG]:!1,[S.nd.MSG_READ_SHOPRUNNER_VARIANT]:"srVariant2",[S.nd.LEFT_RAIL_CUE_RETAILER_ID]:"",[S.mb.QTNT_VIEW_MSG_READ_CARD]:!1,[S.mb.PURCHASES_VIEW_CUE]:!1,[S.mb.SHOPRUNNER_VIEW_CUE]:!1,[S.mb.QTNT_VIEW_LEFT_RAIL_CUE]:!1,[S.mb.BULK_DELETE_MSG_EARNY_CUE]:!1,[S.mb.MSG_READ_DELETE_EARNY_CUE]:!1,[S.mb.ADBLOCK_UPSELL_CUE]:!1,[S.mb.RIGHT_RAIL_AD_FREE_UPSELL_CUE]:!1,[S.mb.COUPONS_VIEW_LAUNCH_CUE]:!1,[S.mb.IS_WIDER_MAIL_EXTN_ENABLED]:!1,[S.mb.CONVERSATIONS_FEATURE]:!0,[S.mb.CONVERSATIONS]:!0,[S.nd.IMAPIN]:!1,canAddImapInAccount:!1,canRemoveImapInAccount:!1,[S.mb.OFFICE365]:!1,[S.mb.AUTO_OPEN_REAUTH]:!1,linkAccountList:!1,[S.mb.COLLAPSIBLE_SYSTEM_FOLDERS]:!1,[S.nd.SHOW_ALL_SYSTEM_FOLDERS]:!1,addAliasAccount:!1,[S.nd.SNIPPETS]:!1,[S.nd.SHOW_IMAGES]:!1,[S.nd.DESKTOP_NOTIFICATION]:0,[S.nd.MOBILE_NOTIFICATION]:!1,[S.nd.MAIL_TABS]:!1,[S.nd.EMAIL_SUBSCRIPTIONS]:[],[S.nd.MARK_AS_READ_INTERVAL]:S.cc.IMMEDIATELY,[S.nd.THEME]:$e.g.DEFAULT,[S.nd.THEME_MODE]:$e.f.LIGHT,[S.nd.CLIENT_WIDTH]:0,[S.nd.ORIENTATION]:"portrait",[S.nd.PREVIEW_PANE]:S.Gc.NO,[S.nd.MSG_LIST_DENSITY]:S.ec.NORMAL,[S.nd.COMPOSE_FONT_SIZE]:S.ab.SIZE,[S.nd.COMPOSE_FONT_FAMILY]:S.ab.FAMILY,focusBasedVisibilityDetection:!1,[S.nd.DELIVERY_BLOCKED_SENDERS]:[],[S.nd.LINK_ENHANCR]:!1,[S.nd.VACATION_PREFERENCES]:{enabled:!1},[S.nd.DEA_BASE_NAME]:null,[S.nd.LIST_ITEM_HEIGHT]:32,[S.nd.MESSAGE_FILTERS]:[],[S.nd.ACTION_AFTER_MSG_MOVE]:S.h.GO_BACK_TO_FOLDER,[S.nd.SHOW_CUSTOM_FOLDERS]:!0,[S.nd.SUPPRESSED_UPSELLS]:[],[S.nd.EXPANDED_FOLDERS]:[],[S.nd.STATIONERY_DEFAULT_THEME]:"",[S.nd.TOGGLE_CONV_RELOAD_DELAY]:300,[S.mb.RESIZABLE_PREVIEW_PANE]:!0,[S.nd.RECENTLY_USED_EMOJIS]:[],[S.mb.EMOJI_SEARCH]:!1,[S.nd.SYSTEM_TABS]:[],[S.mb.COMPOSE_V3]:!1,[S.mb.OPTIMISTIC_SEND]:!1,[S.mb.LIST_V3]:!1,[S.mb.MAIL_READER_V3]:!1,[S.mb.UPDATE_ITEMS_V3]:!1,[S.mb.CEP_FORWARD]:!1,[S.mb.DEBUG_UNSYNCED_DATA]:!1,[S.mb.RSVP_PREFETCH_API]:!1,[S.mb.RSVP]:!1,[S.mb.RSVP_RESPONSE]:!1,[S.mb.STATIONERY_THEME_DATES]:!1,[S.mb.PARSE_RSVP_REPLY_LINKS]:!1,[S.nd.SEARCH_SOURCE_TAG]:"yahoo_mail_nextgen_search",[S.nd.SEARCH_FETCH_COUNT]:25,[S.nd.SEARCH_FIRST_PAGE_COUNT]:25,[S.nd.MEDIAN_TIME_TO_LOAD_EVENT]:3500,[S.nd.SPACE_IDS]:{},[S.mb.SUBSCRIPTION_RECOMMENDATIONS]:!1,[S.mb.DEALS_VIEW_CUE]:!1,[S.mb.SMALL_BIZ_CUE]:!1,[S.mb.TOOLBAR_V3]:!1,[S.mb.RIGHT_RAIL_CONTACT_CARD]:!1,[S.mb.RIGHT_RAIL_PHOTO_CARD]:!1,[S.mb.RIGHT_RAIL_DOCS_CARD]:!1,[S.mb.RIGHT_RAIL_MESSAGES_CARD]:!1,[S.nd.AD_BLOCK_FEATURE_CUE_ID]:1,[S.mb.CONTACTS_PANE_FEATURE]:!1,[S.mb.CONTACTS_PANE_CUE]:!1,[S.mb.SOCIAL_ACCOUNTS]:!1,[S.mb.LINKEDIN_REAUTH_CUE]:!1,[S.mb.USE_LINKEDIN_TEST_SPID]:!1,[S.mb.MESSAGE_UNREAD_INDICATOR]:!1,[S.nd.THROTTLE_API_LIST]:{},[S.mb.ADS]:!0,[S.mb.NO_ADS]:!1,[S.mb.DARLA_PREFETCH]:!0,[S.mb.DARLA_LOOKAHEAD]:!0,[S.mb.DARLA_SANDBOX]:!0,[S.mb.GEMINI_SPONSORED_VIDEO]:!1,[S.mb.AD_FREE_SUPPORTED]:!1,[S.mb.COM_SCORE_BEACONING]:!1,[S.mb.EMPTY_FOLDER_VIDEO]:!1,[S.mb.MESSAGE_READ_AD_ROTATION]:!0,[S.mb.GEMINI_VIEWABILITY]:!0,[S.mb.GEMINI_VIEWABILITY_IO]:!1,[S.nd.HIDE_AD]:!1,[S.mb.MAIL_PRO_ELIGIBLE]:!1,[S.mb.MESSAGE_READ_CONTACT_CARD]:!1,[S.mb.WIDE_RIGHT_RAIL]:!1,[S.mb.PREMIUM_AD_DETECTION]:!1,[S.mb.GEMINI_CONTEXTUAL_ADS]:!1,[S.mb.NUKE_DISPLAY_ADS_ON_INACTIVE]:!1,[S.mb.ROTATE_ADS_ONLINE]:!1,[S.mb.CLOSE_ICON_PENCIL_AD]:!1,[S.mb.HIPMUNK_CARD]:!1,[S.mb.BOOKING_CARD]:!1,[S.mb.SEATGEEK_CARD]:!1,[S.mb.WIDER_MAIL_ELIGIBLE]:!1,[S.mb.MAIL_PRO]:!1,[S.mb.MAIL_PRO_LINK_IN_SETTINGS_MENU]:!1,[S.mb.ADBLOCK_UPSELL]:!1,[S.mb.SHOPPING_CART_AD]:!1,[S.mb.APAC_SHOPPING_CART_AD]:!1,[S.mb.SEARCH_AD_BACK_BUCKET]:!1,[S.mb.SEARCH_AD_ICON_ON_HOVER]:!1,[S.mb.HP_EXT_INSTALLED]:!1,[S.mb.AUTO_FORWARD_EMAIL]:!1,[S.nd.HP_EXT_STORE_URL]:"",[S.mb.RIGHT_RAIL_AD_FREE_UPSELL]:!1,[S.mb.PENCIL_AD]:!1,[S.mb.SECOND_PENCIL_AD]:!1,[S.mb.HOTELS_CARD_PREFILL]:!1,[S.mb.RELATED_SEARCHES_CARD]:!1,[S.mb.RELATED_RETAILERS]:!1,[S.mb.RELATED_RETAILERS_EXPANDED]:!1,[S.mb.RELATED_RETAILERS_WITH_LOGO]:!1,[S.mb.SUBSCRIPTION_ADS]:!1,[S.mb.ADVERTISER_RELATED_SEARCHES]:!1,[S.mb.LEFT_RAIL_AD_ARBITRATION]:!1,[S.mb.MESSAGE_LIST_AD_CAROUSEL]:!1,[S.mb.TIMECHUNK_PENCIL_AD]:!1,[S.mb.FLASH_SALE_AD]:!1,[S.mb.FLASH_SALE_AD_IN_SECONDS]:!1,[S.mb.PLA_SEARCH_ADS]:!1,[S.mb.PLA_ADS_ON_COUPON_MESSAGE_READ]:!1,[S.nd.PLA_SEARCH_ADS_BUCKET_ID]:"",[S.nd.PLA_ADS_ON_MESSAGE_READ_CONFIGURATION]:"",[S.mb.PLA_ADS_FOR_RECOMMENDATION_EMAILS]:!1,[S.mb.PLA_ADS_ON_RECOMMENDATION_EMAIL_READ]:!1,[S.mb.MESSAGE_READ_AD_ROTATION_V2]:!1,[S.mb.ROTATE_PENCIL_AD_ON_EXPIRE]:!1,[S.mb.AOL_VIDEO_PLAYER]:!1,[S.mb.OATH_VIDEO_PLAYER]:!1,[S.mb.RIGHT_RAIL_NATIVE_AD]:!1,[S.mb.SPONSORED_MOMENT]:!1,[S.mb.VIDEO_SPONSORED_MOMENT]:!1,[S.mb.VIGLINK]:!1,[S.mb.CONTACT_CARD_TRACKING]:!1,[S.mb.DEBUG_DARLA]:!1,[S.mb.AD_BLOCK_COUPONS]:!1,[S.mb.AD_BLOCK_COUPONS_ON_PENCIL_ADS]:!1,[S.mb.ROTATE_ADS_ON_CHECK_MAIL]:!1,[S.mb.COUPONS_SMART_VIEW_SEARCH]:!1,[S.mb.AD_BLOCK_VERIFIED_BEACON]:!1,[S.nd.PARTNER_ATTRIBUTION_URL]:"",[S.mb.AD_VIEWABILITY_TRACKER]:!1,[S.mb.EBAY_WARRANTY_UPSELL]:!1,[S.mb.AD_FORMAT_SELECTION]:!1,[S.mb.TAIWAN_SHOPPING_VIEW]:!1,[S.mb.SHOPLIFT_AD]:!1,[S.mb.DEALS_VIEW_V2]:!1,[S.mb.RETAILER_FILTER]:!1,[S.mb.CATEGORY_FILTER]:!1,[S.mb.MESSAGE_OP_PERF]:!1,[S.mb.RIGHT_RAIL_UPSELL_VIDEO_AD]:!1,[S.mb.ENABLE_DEALS_VIEW_CUE]:!1,[S.mb.MSG_READ_PENCIL_AD_SEND_DOMAIN]:!1,[S.mb.BIZMAIL_USER]:!1,[S.nd.EMPTY_FOLDER_VIDEO_CHANNELS]:{},[S.nd.TIME_TO_WAIT_SINCE_LAST_AD_CALL]:0,[S.nd.GEMINI_AD_COUNT]:{pencilAd:1,carouselAd:5},[S.nd.GEMINI_SECTION_IDS]:{},[S.nd.GEMINI_FORCE_FILTER]:!1,[S.nd.AD_FREE_MAIL_URL]:"",[S.nd.ABOUT_AD_URL]:"",[S.mb.SHOW_ABOUT_OUR_ADS_LINK]:!0,[S.mb.SHOW_ABOUT_YAHOO_MAIL_LINK]:!0,[S.mb.SHOW_GIVE_FEEDBACK_LINK]:!0,[S.mb.SHOW_OPT_OUT_LINK_MORE_SETTINGS]:!1,[S.nd.PRIVACY_URL]:"",[S.nd.TERMS_URL]:"",[S.nd.HELPER_COMMUNITY_URL]:"",[S.nd.ITEM_LIST_PAGE_THRESHOLD]:0,[S.nd.MESSAGE_READ_AD_ROTATION_INTERVAL]:0,[S.nd.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL]:0,[S.nd.WIDER_MAIL_EXTENSION]:{},[S.nd.UNSUBSCRIBE_NOTIFICATION]:!0,[S.nd.UNSUBSCRIBE_TIMESTAMP]:Date.now(),[S.nd.NUM_UNSUBSCRIBED_ITEMS]:0,[S.nd.MAIL_PRO_MONTHLY_PRICE]:"$3.49",[S.nd.MAIL_PRO_YEARLY_PRICE]:"$34.99",[S.nd.GEMINI_VIDEO_AD_ID]:"",[S.nd.GEMINI_VIDEO_AD_SITE]:"",[S.nd.GEMINI_VIDEO_AD_EXP_NAME]:"",[S.nd.CHROME_EXTENSION_WHITELIST]:[],[S.mb.ABORT_DARLA_IN_PROGRESS]:!1,[S.nd.RELATED_SEARCHES_CARD_STYLE]:"default",[S.mb.MON_ADS]:!1,[S.nd.VIDEO_PLAYER_URL]:"https://yep.video.yahoo.com/js/3/videoplayer-min.js?r=nextgen-desktop",[S.nd.AOL_VIDEO_PLAYER_URL]:"https://cdn.vidible.tv/prod/player/js/latest/iframe-api.min.js",[S.nd.AOL_VIDEO_PLAYER_IFRAME_SRC]:"https://delivery.vidible.tv/htmlembed/pid=5aaad183c74d475e29adfe4c/5aaacba1841fad0ac9a8566b.html?m.loadingplaceholder=1",[S.nd.OATH_VIDEO_PLAYER_URL]:"https://yep.video.yahoo.com/oath/js/1/oath-player.js",[S.nd.SECOND_PENCIL_AD_DEPTH]:10,[S.nd.PENCIL_AD_EXPIRE_TIME]:7e3,[S.mb.COUPONS_ON_SEARCH_RIGHT_RAIL]:!1,[S.nd.VIGLINK_BLACKLIST]:[],[S.nd.PENCIL_AD_VERSION]:"default",[S.nd.RIGHT_RAIL_UPSELL_VERSION]:"default",[S.nd.AB_BLOCK_COUPONS_ON_PENCIL_AD_VERSION]:"default",[S.nd.EBAY_WARRANTY_UPSELL_POSITION]:"top",[S.nd.PREFERRED_AD_FORMAT]:0,[S.nd.AD_BLOCK_COUPONS_SORT_ORDER]:"recommended",[S.mb.COMMERCIAL_ANALYSIS_OF_CONTENT]:!1,[S.nd.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION]:30,[S.nd.RIGHT_RAIL_UPSELL_CUE_INTERVAL]:36e5,[S.nd.ADBLOCK_UPSELL_CUE_INTERVAL]:1728e5,[S.nd.DELETE_DEBOUNCE_TIME]:500,[S.mb.FAN_ADS]:!1,[S.nd.FAN_ADS_SETTINGS]:{},[S.mb.NODIN_DARLA_AD_BOOST]:!1,[S.nd.NUM_MESSAGE_GROUPS_TO_PREFETCH]:10,[S.nd.NEIGHBOR_PREFETCH_COUNT]:0,documentTitleStandardDuration:3e3,documentTitleNotificationDuration:5e3,bulkActionDialogThreshold:50,[S.mb.SHOW_RECENT_SUGGESTIONS]:!1,[S.mb.SHOW_EMAIL_SEARCH_SUGGESTIONS]:!1,[S.mb.SEARCH_SUGGESTIONS_V2]:!1,[S.mb.SHOW_EMPTY_SEARCH_SUGGESTIONS]:!1,[S.mb.FILTER_COMMERCIAL_IMAGES]:!1,deaSuggestionJWS:!1,[S.mb.ATTACHMENT_PREVIEW]:!0,[S.mb.AUTOTAG]:!1,[S.mb.EXTERNAL_CSS]:!1,[S.mb.SWITCH_TO_NORRIN]:!1,[S.mb.DOCUMENT_PREVIEW_LIGHT]:!1,[S.mb.NODIN_JS_ENHANCE]:!1,messageScrollLoadThreshold:10,[S.nd.PARTNER_BRAND]:"",[S.mb.RAPID_K8S]:!1,[S.nd.LOGO_URL]:"https://s1.yimg.com/rz/d/yahoo_mail_en-US_s_f_w_bestfit_mail.png",secureCryptoMode:0,unsubscribe:!1,unsubscribeFromMessage:!1,ybar:!0,[S.mb.CONTACT_SUMMARY]:!1,[S.nd.COMPOSE_SAVE_INTERVAL]:2e4,rteFormattingToolbar:!0,[S.mb.MKTG_BEACON]:!1,[S.mb.NEWUSER_MKTG_BEACON]:!1,[S.mb.SMARTVIEW_CATEGORIES_ALL]:!1,[S.mb.SMARTVIEW_CATEGORIES_PEOPLE]:!1,[S.mb.SMARTVIEW_CATEGORIES_PEOPLE_V2]:!1,[S.mb.SMARTVIEW_CATEGORIES_SHOPPING]:!1,udb:!0,theming:!0,[S.mb.PHOTO_THEMES]:!1,norrinOptOut:!0,optOutSurvey:!0,[S.nd.HELP_URL]:"https://help.yahoo.com/kb/index?page=product&y=PROD_MAIL_WEB&locale=en_US",asyncTaskPollCount:200,unsubInterval:648e5,[S.mb.FETCH_FULL_BODY]:!1,peopleNotifications:!1,[S.mb.PUSH_NOTIFICATIONS]:!1,[S.mb.BROWSER_NOTIFICATIONS]:!1,dragDropPill:!0,offlineChecking:!0,promptToSync:!0,appRefreshIdleInterval:{emergencyRefresh:30,periodicRefresh:120},heartbeatRefresh:!0,[S.nd.APP_ROOT_PATH]:"/d",[S.mb.TOOLTIP_EMOJI]:!1,[S.mb.CALENDAR_TAB]:!1,[S.mb.NOTEPAD_TAB]:!1,newMailVideoId:{onboarding:"ebcb9733-fa01-3cb9-a57d-4254ab9c969a",searchOnboarding:"ad93243f-aae2-32e5-8505-b70ea1b35216",personalizeInbox:"1fae6609-d76d-3b9a-adc6-afe490d2ca10",emailOrganization:"92a2f4f4-00c6-38f5-894d-ebcb34d6b9c9"},selectAll:!1,[S.mb.LOADING_FALLBACK]:!1,[S.mb.RELOADING_BAR]:!1,[S.mb.SHOW_COMMS_PROPERTIES]:!1,[S.mb.ACTION_MODULE]:!1,[S.nd.SYNC_TIME]:20,[S.mb.DISPOSABLE_ADDRESS]:!0,[S.mb.ADD_SEND_ONLY_ACCOUNTS]:!0,[S.nd.ASYNC_TASK_POLL_INTERVAL]:2e3,[S.nd.CHECK_MAIL_INTERVAL]:3e4,[S.nd.SYNC_DATA_INTERVAL]:3e4,[S.nd.MAIL_URL]:"https://mail.yahoo.com",[S.nd.CALENDAR_URL]:"https://calendar.yahoo.com",[S.nd.NOTEPAD_URL]:"https://calendar.yahoo.com/?view=notepad",[S.mb.INLINE_ATTACHMENT]:!0,[S.nd.FEEDBACK_URL]:"https://yahoo.uservoice.com/forums/600772?auth=yahoo",[S.mb.TUTORIAL]:!0,[S.mb.SETTINGS]:!0,[S.mb.UDB_MIGRATION_COMPLETE]:!1,[S.nd.BUFFER_SIZE]:35,[S.nd.PREVIEWABLE_INLINE_ATTACHMENT_SIZE]:51200,restoreToInbox:!1,[S.nd.MESSAGE_INITIAL_RENDER_COUNT]:15,[S.mb.SHOW_TWEET]:!1,[S.nd.STATIONERY_RESTRICTED_THEMES]:!1,[S.mb.TIMEZONE_CHECK]:!0,[S.mb.CHECK_MAIL_PREFETCH]:!1,[S.nd.MESSAGE_FETCH_COUNT]:100,[S.nd.MESSAGE_FETCH_COUNT_INITIAL]:40,[S.nd.COUPON_CARDS_FETCH_COUNT]:25,[S.mb.BOOTCAMP_COUPONS]:!1,[S.nd.COUPON_RECOMMENDATIONS_FETCH_COUNT]:150,[S.mb.COUPON_REC_WITH_ADS]:!1,[S.mb.COUPON_REC_WITH_BOLD_ADS]:!1,[S.mb.COUPON_REC_WITH_TOP_ADS]:!1,[S.mb.RELATED_COUPONS]:!1,[S.mb.RELATED_COUPONS_EXPANDED]:!1,[S.nd.CARD_GROUPS_FETCH_COUNT]:10,[S.nd.LINK_ENHANCER_URL_BLACK_LIST]:[],[S.mb.RTL]:!1,[S.nd.APT_SECURITY_HELP_URL]:"https://help.yahoo.com/kb/index?page=content&y=PROD_ACCT&locale=en_US&id=SLN26995&actp=email",[S.mb.IS_RETURNING_USER]:!1,[S.mb.HAS_MAPPED_THEME]:!1,[S.mb.COUPON_CARD_EXTRACTIONS]:!1,[S.mb.COUPON_SELF_EXTRACTION]:!1,[S.mb.COUPONS_AUTO_CLIP]:!1,[S.mb.COUPON_RECOMMENDATIONS]:!1,[S.mb.COUPON_REC_VENDOR]:!1,[S.mb.MULTI_COUPON_RECOMMENDATIONS]:!1,[S.mb.CPN_ICON_MSG_LIST]:!1,[S.mb.EARNY_CARD_EXTRACTIONS]:!1,[S.mb.ENABLE_EARNY_UPSELLS]:!1,[S.mb.BULK_DELETE_MSG_EARNY_UPSELL]:!1,[S.mb.FLIGHT_CARD_EXTRACTIONS]:!1,[S.mb.COUPONS_VIEW]:!1,[S.mb.GROCERIES_VIEW]:!1,[S.mb.RECEIPTS_VIEW]:!1,[S.mb.TRAVEL_VIEW]:!1,[S.mb.EMOJI]:!0,[S.mb.PRELOAD_EMOJI]:!1,[S.mb.GIF]:!0,[S.mb.STATIONERY]:!0,[S.mb.VACATION_RESPONSE_STATIONERY]:!1,[S.mb.VACATION_RESPONSE_V2]:!1,[S.mb.RECENTLY_USED_EMOJI]:!1,[S.mb.EXCEPTION_NOTIFICATION]:!1,[S.nd.NOTIFICATION_TTL]:5e3,[S.mb.QUOTIENT]:!1,[S.mb.SHOPRUNNER]:!1,[S.nd.COMPOSE_THROTTLE_COUNT]:Number.MAX_VALUE,[S.mb.SCOUT]:!0,[S.mb.SCOUT_PREDICATE]:!0,[S.mb.SCOUT_RECURRING]:!0,[S.nd.SCOUT_ONBOARDING]:[],[S.mb.DELETE_FROM_PHOTOS_VIEW]:!1,[S.mb.DELETE_FROM_DOCUMENTS_VIEW]:!1,[S.mb.QUOTIENT_TEXT_VARIANT]:!1,[S.mb.MSG_READ_SHOPRUNNER_CARD]:!1,[S.mb.MSG_READ_SHOPRUNNER_POST_SIGN_UP_CARD]:!1,[S.mb.BLOCK_SENDERS]:!1,[S.mb.MOBILE_MESSAGE_SNIPPETS]:!1,[S.mb.DELAY_MOBILE_ONBOARDING]:!1,[S.nd.MOBILE_ONBOARDING_VERSION]:1,[S.nd.V3_ONBOARDING_VARIATION]:gt(S.nd.V3_ONBOARDING_VARIATION,S.ae.ORB),[S.nd.MOBILE_ONBOARDING_EXPERIMENT]:S.jc.DEFAULT_OFF,[S.mb.MOBILE_ONBOARDING_CUE]:!1,[S.mb.DELAY_MOBILE_ONBOARDING_CUE]:!1,[S.mb.DESIGN_CLASSIFIER]:!1,[S.mb.MOBILE_SEARCH_SUGGESTIONS]:!1,[S.mb.MOBILE_SIGNATURE]:!1,[S.mb.MOBILE_THEMING]:!1,[S.mb.MOBILE_VIRTUAL_LIST]:!1,[S.mb.MOBILE_EDIT_RECIPIENTS]:!1,[S.mb.SHOULD_SW_SUBSCRIBE]:!1,[S.mb.PUSH_NOTIFICATIONS_CUE_PTR]:!1,[S.mb.PUSH_NOTIFICATIONS_CUE_LAUNCH]:!1,[S.mb.PUSH_NOTIFICATIONS_CUE_COMPOSE]:!1,[S.nd.PUSH_NOTIFICATIONS_EXPERIMENT]:S.Jc.DEFAULT,[S.mb.MOBILE_MESSAGE_READ_NAVIGATION]:!1,[S.mb.MESSAGE_READ_HOME_BUTTON]:!1,[S.mb.BLOCK_SENDER_CUE]:!1,[S.mb.LANDSHARK_CUE]:!1,[S.mb.MAILBOX_SWITCHER]:!1,landsharkCreative:!1,showInvisibleLandshark:!1,[S.mb.CONVERSATIONS_CUE]:!1,[S.mb.SERVICE_WORKER_CACHING]:!1,[S.nd.SERVICE_WORKER_CACHE_CONFIG]:[],[S.mb.STARRED_MAIL_ENHANCED]:!1,[S.nd.STAR_ANIMATION]:{},[S.nd.GUIDED_STAR_ANIMATION]:{},[S.nd.HAS_GUIDED_STAR_ANIMATION]:!1,[S.mb.SHOW_TABS]:!1,[S.mb.PENSIEVE]:!1,[S.nd.HAS_WIDE_LOGO]:!1,[S.mb.SHOW_FORWARDING_NOTIFICATION]:!1,[S.mb.DISPOSABLE_ADDRESS_DELETE_ONLY]:!1,[S.mb.SHOW_SOCIAL_ACCOUNTS_TAB_IF_NONE_CONNECTED]:!0,[S.mb.SHOW_RIGHT_RAIL_HELP_LINKS]:!0,[S.mb.ALLOW_USERNAME_AND_PHONE_REGISTRATION]:!1,[S.mb.INLINE_IMAGES_PROXIED]:!1,[S.mb.CLICK_URL_LOGGING]:!1,[S.nd.BASIC_MAIL_FEEDBACK_URL]:"",[S.nd.RELEVENT_ADS_URL]:"",[S.nd.LEGAL_INFO_URL]:"",[S.nd.PRIVACY_INFO_URL]:"",[S.nd.BASIC_MAIL_HELP_URL]:"",[S.nd.ACCOUNT_INFO_URL]:"",[S.nd.SIGN_OUT_URL]:"",[S.nd.HOME_URL]:"",[S.nd.BASIC_MAIL_THEME]:"DEFAULT"},ft={drawer:(e=!1,t)=>{switch(t.type){case A.Ad:return!0;case A.zd:return!1;default:return e}},autoOpenSettingsPopover:(e=!1,t)=>{switch(t.type){case A.li:return t.status||e;default:return e}},sendingEmailConfirmStatus:(e=!1,t)=>{switch(t.type){case A.Gb:return!0;case A.Hb:case A.Fb:return!1;default:return e}},actionableRightRailContent:(e,t)=>{const{type:s,name:n}=t;switch(e||(e={currentView:null,historyViews:[]}),s){case A.Bh:if(!Xe()(Object.keys(S.Sc).filter(e=>null!==e),n))break;return babelHelpers.extends({},e,{currentView:e.currentView!==n?n:null});case A.Cg:case A.Zg:{const{uiContext:{mKey:s}={},route:{name:n}={}}=t;if(n===S.Uc.NEW_DRAFT)return e;if(s){if(-1!==ve.COMPOSE_FROM_CONTACTS_PANE.indexOf(s))return e;if(-1!==ve.REPLACE_ATTACHMENT_WITH_RIGHT_RAIL.indexOf(s)&&Xe()(Object.keys(S.Sc),n))return babelHelpers.extends({},e,{currentView:n})}return babelHelpers.extends({},e,{currentView:null})}}return e},hideRightPaneAds:(e=!1,t)=>{if((t.type!==A.mk||!t.autoRightRailCollapsed)&&C.a[t.type])return!1;switch(t.type){case A.R:case A.Cg:return!1;case A.He:return!0}return e},autoRightRailCollapsed:(e=!1,t)=>!(t.type!==A.He||!t.onWindowExpand&&!t.onMessageSend)||e,[S.mb.MSG_READ_QUOTIENT_MODAL]:bt,[S.nd.LEFT_RAIL_CUE_RETAILER_ID]:bt,[S.mb.MSG_READ_SHOPRUNNER_MODAL]:(e=!1,t)=>{switch(t.type){case A.mf:return!0;case A.lf:return!1;default:return e}},[S.mb.DISPLAY_EARNY_DIALOG]:(e=!1,t)=>{const{type:s,enableEarnyBulkDeleteUpsell:n}=t;switch(s){case A.ed:return!!n;case A.wb:return!1;default:return e}},[S.mb.SHOW_RECOMMENDATIONS_MODAL]:(e=!0,t)=>{switch(t.type){case A.Bc:return!1;default:return e}}};Object.keys(It).forEach(e=>{ft[e]=gt(e,It[e])});var St=Object(i.c)(ft);function At(e,t){return babelHelpers.extends({},e,{[t]:Object.assign({},e[t],{isShown:!0})})}function Tt(e,t){return babelHelpers.extends({},e,{[t]:Object.assign({},e[t],{isKeySaved:!0})})}var Ct=(e={},t)=>{switch(t.type){case A.Oe:{const{nextFeature:e,featureCues:s={}}=t;return e?At(s,e):s}case A.Sd:case A.Wd:case A.Pi:{const{name:s}=t;return s&&(e[s]||void 0===e[s])?At(e,s):e}case A.Xd:{const{feature:s}=t;return s&&e[s]&&!e[s].isPersistent?Tt(e,s):e}case A.Zd:case A.Ud:{const{feature:s}=t;return s&&e[s]?Tt(e,s):e}default:{const{nextFeature:s}=t;return s?At(e,s):e}}};const Ot=Object(i.c)({providerName:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.providerName;default:return e}},providerIataCode:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.providerIataCode;default:return e}},providerUrl:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.providerUrl;default:return e}},departureAirportName:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.departureAirportName;default:return e}},departureAirportDesc:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.departureAirportDesc;default:return e}},departureAirportCode:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.departureAirportCode;default:return e}},departureTime:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.departureTime;default:return e}},departureTerminal:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.departureTerminal;default:return e}},arrivalAirportName:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.arrivalAirportName;default:return e}},arrivalAirportDesc:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.arrivalAirportDesc;default:return e}},arrivalAirportCode:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.arrivalAirportCode;default:return e}},arrivalTime:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.arrivalTime;default:return e}},arrivalTerminal:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.arrivalTerminal;default:return e}},reservationId:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.reservationId;default:return e}},flightNumber:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.flightNumber;default:return e}},passengers:(e=[],t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.passengers;default:return e}},checkInUrl:(e="",t)=>{const{type:s,card:n}=t;switch(s){case A.yj:case A.og:return n.checkInUrl;default:return e}}});var Rt=function(e={},t){const{listData:s,type:n}=t;switch(n){case A.yj:case A.og:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter(t=>s.schemaCards[t].type===S.ed.FlightReservation&&!F()(e[t],s.schemaCards[t])).reduce((t,a)=>babelHelpers.extends({},t,{[a]:Ot(e[a],{type:n,card:s.schemaCards[a]})}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}default:return e}};var Nt=s(85);const Mt=Object(i.c)({id:(e="",t)=>{const{type:s,folder:n}=t;switch(s){case A.Oe:case A.rb:case A.nb:case A.Cj:case A.Mh:case A.Oh:case A.Lc:return n.id}return e},name:(e="",t)=>{const{type:s,folder:n}=t;switch(s){case A.Oe:case A.rb:case A.nb:case A.Cj:case A.Mh:case A.Oh:return n.name;case A.Lc:case A.uh:return n.name.substr(n.name.lastIndexOf("/")+1)}return e},path:(e="",t)=>{const{type:s,folder:n}=t;switch(s){case A.Oe:case A.rb:case A.nb:case A.Cj:case A.Mh:case A.Oh:return n&&n.path?n.path:e;case A.Lc:case A.uh:return n&&n.name?n.name:e}return e},accountId:(e="",t)=>{const{type:s,folder:n}=t;switch(s){case A.Oe:case A.rb:case A.nb:case A.Cj:case A.Mh:case A.Oh:case A.Lc:return n.accountId}return e},types:(e=[],t)=>{const{type:s,folder:n}=t;switch(s){case A.Oe:case A.rb:case A.nb:case A.Cj:case A.Mh:case A.Oh:case A.Lc:return F()(e,n.types)?e:n.types}return e},isSystem:(e=!1,t)=>{const{type:s,folder:n}=t;switch(s){case A.Oe:case A.rb:case A.nb:case A.Cj:case A.Mh:case A.Oh:case A.Lc:return n.isSystem}return e},total:(e=0,t)=>{const{type:s,folder:n,isDestinationFolder:a}=t;switch(s){case A.Oe:case A.rb:case A.nb:case A.Cj:case A.Mh:case A.Oh:case A.Lc:return n.total;case A.qg:case A.ed:case A.Vj:case A.bk:return a?e+1:e-1;case A.Yj:return t.draftMessageId?e:e+1}return e},unread:(e=0,t)=>{const{type:s,folder:n,isDestinationFolder:a,flags:r={}}=t;switch(s){case A.Oe:case A.rb:case A.nb:case A.Cj:case A.Mh:case A.Oh:case A.Lc:return n.unread;case A.gh:return r.read?e+1:e-1;case A.qg:case A.ed:case A.Vj:case A.bk:return a?r.read?e:e+1:r.read?e:e-1;default:return e}},highestModSeq:(e=-1,t)=>{const{type:s,folder:n}=t;switch(s){case A.Oe:case A.rb:case A.nb:case A.Cj:case A.Mh:case A.Oh:case A.Lc:return n.highestModSeq}return e},uidNext:(e=-1,t)=>{const{type:s,folder:n}=t;switch(s){case A.Oe:case A.rb:case A.nb:case A.Cj:case A.Mh:case A.Oh:case A.Lc:return n.uidNext}return e},level:(e=0,t)=>{const{type:s,folder:n,folderNameMap:a}=t;switch(s){case A.Oe:case A.rb:case A.nb:case A.Cj:case A.Mh:case A.Oh:return n.level;case A.Lc:return Object(N.j)(n,a).length||0}return e}});var Dt=function(e={},t){switch(t.type){case A.Oe:case A.Lc:case A.uh:{const s=Object.keys(t.folderMap||{}).map(e=>t.folderMap[e]).filter(t=>!F()(e[t.id],t));return s.length?s.reduce((s,n)=>babelHelpers.extends({},s,{[n.id]:Mt(s[n.id],{type:t.type,folder:n,folderNameMap:e})}),babelHelpers.extends({},e)):e}case A.rb:case A.nb:case A.Cj:case A.Mh:case A.Oh:{const{folderMap:s={}}=t,n=Object.keys(s);if(!n.length)return e;const a=n.map(e=>s[e]).filter(t=>!F()(e[t.id],t)),r=Object.keys(e).filter(e=>!s[e]);return a.length||r.length?a.reduce((e,s)=>babelHelpers.extends({},e,{[s.id]:Mt(e[s.id],{type:t.type,folder:s})}),le()(e,r)):e}case A.cd:return le()(e,[t.folderId]);case A.qg:case A.ed:case A.Vj:case A.bk:case A.gh:{const{itemsToUpdate:s=[]}=t,n=s.filter(e=>e.isAffected);return n.length?n.reduce((e,{flags:s,folder:n,destinationFolder:a})=>babelHelpers.extends({},e,{[n.id]:Mt(e[n.id],{type:t.type,folder:n,flags:babelHelpers.extends({},s,{read:"boolean"==typeof t.isRead?t.isRead:s.read})})},a?{[a.id]:Mt(e[a.id],{type:t.type,folder:n,isDestinationFolder:!0,flags:s})}:{}),babelHelpers.extends({},e)):e}case A.Yj:{const{draftFolderId:s}=t;return s?babelHelpers.extends({},le()(e,[s]),{[s]:Mt(e[s],{type:t.type,folder:e[s],folderNameMap:e,draftMessageId:t.draftMessageId})}):e}default:return e}};const yt=(e=S.Rc.DOES_NOT_EXIST,t)=>{switch(t.type){case A.Ce:return S.Rc.LOADING;case A.De:return S.Rc.LOADED;case A.Be:return S.Rc.ERROR;default:return e}};var Lt=Object(i.c)({categories:(e={},t)=>{switch(t.type){case A.Ae:return t.categories.reduce((e,t)=>babelHelpers.extends({},e,{[t.categoryId]:{category:t}}),{});case A.Be:case A.Ce:case A.De:{const{query:s,preloadItems:n}=t;return n?babelHelpers.extends({},e,{[s]:babelHelpers.extends({},e[s],{status:yt(e[s].status,t)})}):e}default:return e}},categoriesStatus:(e=S.Rc.DOES_NOT_EXIST,t)=>{switch(t.type){case A.Ae:return S.Rc.LOADED;case A.ze:return S.Rc.LOADING;case A.ye:return S.Rc.ERROR;default:return e}},categoryIds:(e=[],t)=>{switch(t.type){case A.Ae:return t.categories.map(e=>e.categoryId);default:return e}}});var vt=(e={},t)=>{switch(t.type){case A.Ae:case A.De:{const{listData:{gifItems:s={}}}=t;return babelHelpers.extends({},e,s)}default:return e}};var Pt=s(374);const Ft=({now:e,timezone:t})=>(({now:e,timezone:t})=>{const s=S.Td.Types,n=(e,t,s)=>({type:e,value:t,timestamp:s}),a=(e,t)=>n(e,t,t),{weekday:r,month:o,year:i,startOfPastHour:c,startOfPastDay:l,startOfMonth:d,startOfYear:u}=Object(R.h)({time:e,timezone:t}),m=[n(s.TODAY,0,c(0)),n(s.YESTERDAY,0,l(1)),n(s.THIS_WEEK,0,l(r)),n(s.LAST_WEEK,0,l(7+r)),n(s.THIS_MONTH,o,d(o))];for(let e=2;e<r+1;e++)m.push(n(s.DAY,r-e,l(e)));for(let e=0;e<6&&!(o-e-1<0);e++)m.push(n(s.MONTH,o-e-1,d(o-e-1)));m.push(a(s.THIS_YEAR,u(i)));for(let e=0;e<i-1970&&!(i-e-1<0);e++)m.push(a(s.YEAR,u(i-e-1)));return m.sort((e,t)=>t.timestamp-e.timestamp)})({now:e,timezone:t}).map(e=>({listId:Object(M.f)({listContentType:S.Fb.TIMECHUNK}),type:e.type,value:e.value,predicate:t=>t.timestamp>e.timestamp})),xt=({now:e,timezone:t})=>(({now:e,timezone:t})=>{const s=S.Td.Types,n=(e,t)=>((e,t,s)=>({type:e,value:t,timestamp:s}))(e,t,t),{year:a,startOfYear:r}=Object(R.h)({time:e,timezone:t}),o=[];for(let e=0;e<20;e++)o.push(n(s.YEAR,r(a+e)));return o.sort((e,t)=>t.timestamp-e.timestamp)})({now:e,timezone:t}).map(e=>({listId:Object(M.f)({listContentType:S.Fb.TIMECHUNK}),type:e.type,value:e.value,predicate:t=>t.timestamp>e.timestamp})),wt=(e=[],t=[],s=(e=>!(e.length<2)&&e[0].timestamp<e[e.length-1].timestamp))=>{let n=[...e],a=0;if(0===t.length)return e;const r=s(e);r&&n.reverse();const o=t.reduce((e,{type:t,value:s,listId:o,predicate:i})=>{const c=n.filter(e=>i(e,a));return n=n.slice(a=c.length),a?e.concat({type:t,value:s,ts:new Date(s),listId:o,items:r?c.reverse():c}):e},[]);return r&&o.reverse(),o},kt=(e=[])=>e.reduce((e,{items:t,listId:s,type:n,value:a})=>e.concat({id:[s,n,a].join("-"),type:n,value:a,listId:s}).concat(t),[]),Ht=(e,t,s)=>{const{id:n,listId:a}=e;if(Object(M.q)(a)!==S.Fb.MESSAGES)return!1;const r=s.getStreamSelectionType(t),o=s.getMessageIdsFromMessageGroupId(n);switch(r){case S.ld.READ:return!o.some(e=>!s.getMessageFlags(e).read);case S.ld.STARRED:return o.some(e=>s.getMessageFlags(e).flagged);case S.ld.UNREAD:return o.some(e=>!s.getMessageFlags(e).read);case S.ld.UNSTARRED:return!o.some(e=>s.getMessageFlags(e).flagged);case S.ld.ALL:return!0;default:return!1}};var Ut=s(269);const jt=(e,t)=>(e=>e.map(e=>e.folderType===S.ub.DRAFT?babelHelpers.extends({},e,{expansionState:S.A.EXPANDED}):babelHelpers.extends({},e,{expansionState:S.A.COLLAPSED})))(e).map(e=>e.messageId===t?babelHelpers.extends({},e,{expansionState:S.A.EXPANDED}):e),Gt=(e,t)=>{const{getMessageFlags:s}=t,n=(e=>{const{getRouteParams:t,getHashParams:s,getRoute:n}=e,a=t(),r=n(),o=a.attachmentId&&"1"!==r.query.fullscreen,i=s();return o?Object(D.f)(r.params.attachmentId):i.messageId||null})(t);if(n)return jt(e,n);const a=e.filter(e=>e.folderType!==S.ub.DRAFT).pop(),r=e.filter(e=>e.messageId).some(e=>!s(e.messageId).read),o=e.map(e=>e.folderType===S.ub.DRAFT||!s(e.messageId).read||!r&&s(e.messageId).flagged||e.messageId===a.messageId?babelHelpers.extends({},e,{expansionState:S.A.EXPANDED}):babelHelpers.extends({},e,{expansionState:S.A.COLLAPSED}));return o.map((e,t)=>{if(e.expansionState===S.A.EXPANDED)return e;const s=t+1<o.length?o[t+1]:void 0;return 0===t||s&&s.expansionState===S.A.EXPANDED?e:babelHelpers.extends({},e,{expansionState:S.A.STACKED})})},Bt=Object(E.e)(S.Cd),Vt=Object(E.e)(S.fd),Wt=Object(E.e)(S.gd),qt=[S.Cd.DATE_DESC,S.Cd.DATE_ASC,S.Cd.STARRED,S.Cd.SUBJECT],zt=[S.Cd.DATE_DESC,S.Cd.DATE_ASC,S.Cd.UNREAD,S.Cd.STARRED];var Zt=s(428);var Kt=function(e=[],t){switch(t.type){case A.Ne:return t.contacts}return e};var Yt=Object(i.c)({type:(e="",t)=>{const{type:s,launchError:n,mailboxAttributes:a}=t;switch(s){case A.Oe:return n||(a&&!a.success?S.Cb.SETTINGS_FAILED_TO_LOAD:e);case A.Te:return"";default:return e}}});var Xt=(e=!1,t)=>{const{listId:s,type:n}=t;switch(n){case A.Oe:case A.nb:case A.rb:case A.Cj:case A.eg:case A.mg:case A.Mh:case A.Oh:case A.bg:case A.tc:case A.kg:case A.jh:case A.De:case A.yj:case A.og:case A.Ae:case A.zh:case A.Ag:case A.gg:case A.y:case A.Xf:return void 0!==t.listData.lists[s].hasMoreItems?t.listData.lists[s].hasMoreItems:e;default:return e}};var $t=(e=[],t)=>{const{listId:s,type:n}=t;switch(n){case A.Uc:{const{itemsToRemove:s=[]}=t;return s.length?e.filter(e=>-1===s.indexOf(e)):e}case A.Pg:{const{itemsToUpdate:s=[]}=t,n=s.filter(e=>e.isAffected).map(e=>e.id);return n.length?e.filter(e=>-1===n.indexOf(e)):e}case A.Oe:case A.eg:case A.De:case A.bg:case A.tc:case A.gg:case A.Xf:case A.kg:case A.Ae:case A.og:case A.qc:case A.Ne:case A.kf:case A.Fj:case A.mg:case A.B:{const{itemIds:n}=t.listData.lists[s];return F()(e,n)?e:Object(M.c)(e,n)}case A.vc:{const s=t.itemsToUpdate.filter(e=>e.isAffected&&Object(M.r)(t.listToUpdate.listId)!==S.Gb.ALL_COUPON_CARDS).map(e=>e.id);return s.length?e.filter(e=>-1===s.indexOf(e)):e}case A.Oh:case A.Mh:case A.nb:case A.rb:case A.Cj:case A.jh:case A.Jb:case A.yj:case A.zh:{const{listData:s,listId:n}=t;return Object(M.T)(e,s,n)}case A.gh:{const{listToUpdate:s,itemsToUpdate:n,isRead:a}=t;if(!s)return e;const{listId:r}=s,o=Object(Nt.a)(n,r,a?[]:["unread"]);return o.length?e.filter(e=>-1===o.indexOf(e)):e}case A.Ti:{const{listToUpdate:s,itemsToUpdate:n,isStarred:a}=t;if(!s)return e;const{listId:r}=s,o=Object(Nt.a)(n,r,a?["flagged","starred"]:[]);return o.length?e.filter(e=>-1===o.indexOf(e)):e}case A.Yj:{const{itemsToUpdate:s=[]}=t;return s.length?e.map(e=>{const t=s.find(t=>t.isAffected&&t.id===e);return t?t.newId:e}):e}case A.ed:case A.ab:case A.qg:case A.Vj:case A.bk:case A.Xh:{const{listToUpdate:s,itemsToUpdate:n=[],conversationsMode:a,message:r}=t;if(!s)return e;const{folderIds:o=[]}=s;let i=Object(Nt.b)(n,o);const c=(i=n.reduce((e,{attachmentIds:t=[]})=>e.concat(t),i)).length?e.filter(e=>-1===i.indexOf(e)):e,l=Object(M.s)(t.destinationFolderId);if(s.listId===l&&r){const e=a?r.conversationId:r.id;return Object(M.b)(l,c,e)}return c}case A.Ag:case A.y:{const{itemIds:e}=t.listData.lists[s];return e||{}}default:return e}};var Qt=(e=null,t)=>{const{listId:s,type:n}=t;switch(n){case A.Oe:case A.nb:case A.rb:case A.Cj:case A.eg:case A.mg:case A.Mh:case A.Oh:case A.bg:case A.tc:case A.kg:case A.jh:case A.De:case A.yj:case A.og:case A.Ae:return void 0!==t.listData.lists[s].lmv3Query?t.listData.lists[s].lmv3Query:e;default:return e}};var Jt=(e="",t)=>{const{listId:s,type:n}=t;switch(n){case A.Oe:case A.nb:case A.rb:case A.Cj:case A.tc:case A.eg:case A.mg:case A.Mh:case A.Oh:case A.De:case A.Ae:return t.listData.lists[s].nextItemsUrl||"";default:return e}};var es=(e="",t)=>{const{listId:s,type:n}=t;switch(n){case A.Ag:case A.gg:return t.listData.lists[s].offerType||e;default:return e}};var ts=(e=0,t)=>{const{listId:s,type:n}=t;switch(n){case A.bg:case A.tc:case A.kg:case A.jh:case A.Ag:case A.gg:case A.y:case A.Xf:case A.De:case A.Ae:return t.listData.lists[s].offset||e;default:return e}};var ss=(e=S.Rc.DOES_NOT_EXIST,t)=>{switch(t.type){case A.Oe:return-1===[S.Uc.FOLDER,S.Uc.LIST,S.Uc.SEARCH,S.Uc.BASE].indexOf(t.route.name)?e:S.Rc.LOADED;case A.De:case A.Ae:case A.nb:case A.rb:case A.Mh:case A.tc:case A.jh:case A.yj:case A.bg:case A.kg:case A.Jb:case A.Ne:case A.zh:case A.Ag:case A.gg:case A.y:case A.Xf:case A.oj:return S.Rc.LOADED;case A.Ce:return S.Rc.LOADING;case A.sc:case A.ih:case A.jg:case A.ag:case A.Be:case A.mb:case A.Nh:case A.xj:case A.Ib:case A.Me:case A.yh:case A.zg:case A.fg:case A.x:case A.Wf:case A.nj:return S.Rc.ERROR;default:return e}};var ns=(e=[],t)=>{const{listId:s,type:n}=t;switch(n){case A.Oe:case A.nb:case A.rb:case A.Cj:case A.eg:case A.mg:case A.Mh:case A.Oh:case A.bg:case A.tc:case A.kg:case A.jh:case A.De:case A.yj:case A.og:case A.Ae:{if(void 0===t.listData.lists[s].suggestedWords)return e;const{suggestedWords:n=[]}=t.listData.lists[s],[a]=n;return(a||{}).suggested||e}default:return e}};var as=(e=null,t)=>{const{listId:s,type:n}=t;switch(n){case A.Oe:case A.nb:case A.rb:case A.Cj:case A.eg:case A.mg:case A.Mh:case A.Oh:case A.bg:case A.tc:case A.kg:case A.jh:case A.De:case A.yj:case A.og:case A.Ae:case A.Jb:return void 0!==t.listData.lists[s].totalHits?t.listData.lists[s].totalHits:e;case A.Uc:return e?e-1:e;default:return e}};var rs=(e=!1,t)=>{const{type:s}=t;switch(s){case A.sj:return!e;default:return e}};const os=Object(i.c)({itemIds:$t,nextItemsUrl:Jt,offset:ts,hasMoreItems:Xt,offerType:es,status:ss,lmv3Query:Qt,totalHits:as,suggestedWords:ns,searchCoupons:(e=null,t)=>{switch(t.type){case A.Fc:return t.response;default:return e}},expanded:rs});var is=(e={},t)=>{switch(t.type){case A.Uc:{const{listIds:s,contact:{id:n}={}}=t;return Object.keys(s).reduce((a,r)=>{const o=Object(M.i)(r),i=s[r];if(a[i].itemIds.length>1)return babelHelpers.extends({},a,{[i]:os(e[i],babelHelpers.extends({},t,{itemsToRemove:[n]}))});if(a[o].itemIds.length>1){const{[i]:s}=a,n=babelHelpers.objectWithoutProperties(a,[i]);return babelHelpers.extends({},n,{[o]:os(e[o],babelHelpers.extends({},t,{itemsToRemove:[i]}))})}const{[o]:c,[i]:l}=a;return babelHelpers.objectWithoutProperties(a,[o,i])},babelHelpers.extends({},e))}case A.Oe:case A.nb:case A.rb:case A.Cj:case A.eg:case A.mg:case A.Mh:case A.Oh:case A.De:case A.bg:case A.kg:case A.jh:case A.Ae:case A.tc:case A.yj:case A.qc:case A.og:case A.Jb:case A.Ne:case A.zh:case A.Ag:case A.gg:case A.y:case A.Xf:case A.B:case A.yh:return babelHelpers.extends({},e,Object.keys(t.listData.lists||{}).reduce((s,n)=>babelHelpers.extends({},s,{[n]:os(e[n],babelHelpers.extends({},t,{listId:n}))}),{}));case A.Be:case A.sc:case A.ag:case A.ih:case A.jg:case A.mb:case A.Ib:case A.Nh:case A.Fc:case A.zg:case A.fg:case A.x:case A.Wf:case A.oj:case A.nj:case A.sj:{const{listId:s}=t;return babelHelpers.extends({},e,{[s]:os(e[s],t)})}case A.ed:case A.ab:case A.qg:case A.gh:case A.Xh:case A.Yj:case A.Ti:case A.vc:case A.Pg:{const{listsToUpdate:s=[],itemsToUpdate:n=[]}=t;return s.length&&n.length?babelHelpers.extends({},e,s.reduce((s,a)=>babelHelpers.extends({},s,{[a.listId]:os(e[a.listId],babelHelpers.extends({},t,{listToUpdate:a,itemsToUpdate:n}))}),{})):e}case A.Vj:case A.bk:{const{listsToUpdate:s=[],itemsToUpdate:n=[]}=t;return babelHelpers.extends({},e,s.reduce((s,a)=>babelHelpers.extends({},s,{[a.listId]:os(e[a.listId],babelHelpers.extends({},t,{listToUpdate:a,itemsToUpdate:n}))}),{}))}case A.Bc:{const{listId:s=""}=t;return""===s?e:le()(e,s)}case A.kf:{const s=Object.keys(t.listData.lists),n=babelHelpers.extends({},e,s.reduce((s,n)=>babelHelpers.extends({},s,{[n]:os(e[n],babelHelpers.extends({},t,{listId:n}))}),{}));return n[s[1]].itemIds=n[s[1]].itemIds.filter(e=>!n[s[0]].itemIds.includes(e)),n}case A.Fj:{const s=Object.keys(t.listData.lists),n=babelHelpers.extends({},e,s.reduce((s,n)=>babelHelpers.extends({},s,{[n]:os(e[n],babelHelpers.extends({},t,{listId:n}))}),{}));return n[s[0]].itemIds=n[s[0]].itemIds.filter(e=>!n[s[1]].itemIds.includes(e)),n}default:return e}};var cs=Object(i.c)({locationSuggestions:(e={},t)=>{switch(t.type){case A.rf:return babelHelpers.extends({},e,{[t.keyword]:t.suggestions});default:return e}},locationFetchStatus:(e={},t)=>{switch(t.type){case A.qf:return{[t.keyword]:S.Rc.LOADING};case A.rf:return{[t.keyword]:S.Rc.LOADED};case A.pf:return{[t.keyword]:S.Rc.ERROR};default:return e}}});var ls=Object(i.c)({suggestions:function(e={},t){switch(t.type){case A.N:case A.O:return{};case A.M:return t.suggestions?{[t.email]:t.suggestions}:e}return e},status:function(e={},t){switch(t.type){case A.N:return{[t.email]:S.Rc.LOADING};case A.O:return{[t.email]:S.Rc.LOADED};case A.M:return{[t.email]:S.Rc.ERROR}}return e}});function ds(e){return{getSuggestions:t=>e.suggestions[t],getStatus:t=>e.status[t]||S.Rc.DOES_NOT_EXIST}}var us=s(46);const ms=Object(i.c)({id:(e=null,t)=>{const{type:s,account:n}=t;switch(s){case A.Oe:case A.O:case A.j:return n.id}return e},email:(e=null,t)=>{const{type:s,account:n,updatedProperties:a={}}=t;switch(s){case A.Oe:case A.O:case A.j:return-1===[S.g.EXTERNAL,S.g.PHONE].indexOf(n.type)?n.email:"";case A.q:{const{email:t=e}=a;return t}}return e},description:(e=null,t)=>{const{type:s,account:n,updatedProperties:a={}}=t;switch(s){case A.Oe:case A.O:case A.j:return n.description||"";case A.q:{const{description:t=e}=a;return t}}return e},isPrimary:(e=!1,t)=>{const{type:s,account:n,updatedProperties:a={}}=t;switch(s){case A.Oe:case A.O:case A.j:return!!n.isPrimary;case A.q:{const{isPrimary:t=e}=a;return t}}return e},isSelected:(e=!1,t)=>{const{type:s,account:n,updatedProperties:a={}}=t;switch(s){case A.Oe:case A.O:case A.j:return!!n.isSelected;case A.q:{const{isSelected:t=e}=a;return t}}return e},isSending:(e=!1,t)=>{const{type:s,account:n,isSending:a,accountType:r}=t;switch(s){case A.Oe:case A.O:case A.j:return n.isSending;case A.q:if(void 0!==a)return-1!==[S.g.IMAPIN].indexOf(r)?e:a}return e},signatureActive:(e=!1,t)=>{const{type:s,account:n,updatedProperties:a={}}=t;switch(s){case A.Oe:case A.O:case A.j:case A.vi:return!!n.signatureActive;case A.q:{const{signatureActive:t=e}=a;return t}}return e},signature:(e="",t)=>{const{type:s,account:n,updatedProperties:a={},updatedAccount:r}=t;switch(s){case A.Oe:case A.O:case A.j:return n.signature||"";case A.r:return void 0!==a.signature?a.signature:r&&void 0!==r.signature?r.signature:e;case A.q:{const{signature:t=e}=a;return t}}return e},sendingName:(e=null,t)=>{const{type:s,account:n,updatedProperties:a={}}=t;switch(s){case A.Oe:case A.O:case A.j:return n.sendingName||"";case A.q:{const{sendingName:t=e}=a;return t}}return e},status:(e=null,t)=>{const{type:s,account:n,status:a,updatedProperties:r={}}=t;switch(s){case A.Oe:case A.O:case A.j:return n.status;case A.q:{const{status:t=e}=r;return t}case A.n:return e===a?e:a}return e},type:(e=null,t)=>{const{type:s,account:n,updatedProperties:a={}}=t;switch(s){case A.Oe:case A.O:case A.j:return n.type||"";case A.q:{const{type:t=e}=a;return t}}return e},replyToAddress:(e=null,t)=>{const{type:s,account:n,updatedProperties:a={}}=t;switch(s){case A.Oe:case A.O:case A.j:return n.replyToAddress||"";case A.q:{const{replyToAddress:t=e}=a;return t}}return e},isActive:(e=!1,t)=>{const{type:s,account:n}=t;switch(s){case A.Oe:return n.isPrimary;default:return e}},accountVerified:(e=!1,t)=>{const{type:s,account:n}=t;switch(s){case A.Oe:case A.O:case A.j:return n.accountVerified}return e},isSynced:(e=!0,t)=>{switch(t.type){case A.j:case A.g:return!0;case A.f:return!1;default:return e}},subscriptionId:(e=null,t)=>{const{type:s,account:n}=t;switch(s){case A.Oe:case A.O:case A.j:return n.subscriptionId||e;default:return e}},link:(e={},t)=>{const{type:s,account:n,updatedProperties:a={}}=t;switch(s){case A.Oe:case A.j:case A.O:return n.link||{};case A.q:{const{link:t=e}=a;return t}default:return e}},serverUri:(e="",t)=>{const{type:s,account:n}=t;switch(s){case A.Oe:case A.O:case A.j:return n.serverUri||""}return e},forwardEmail:(e="",t)=>{const{type:s,account:n={},updatedProperties:a={}}=t,{unsetFields:r=[]}=a,{forwardEmail:o=""}=n;switch(s){case A.q:if(-1!==r.indexOf("forwardEmail"))return"";break;case A.r:if(a.hasOwnProperty("forwardEmail"))return n.forwardEmail;break;case A.Oe:return o}return e},forwardEmailVerified:(e=!1,t)=>{const{type:s,account:n={},updatedProperties:a={}}=t,{unsetFields:r=[]}=a,{forwardEmailVerified:o=!1}=n;switch(s){case A.q:if(-1!==r.indexOf("forwardEmail"))return!1;break;case A.r:if(a.hasOwnProperty("forwardEmailVerified"))return n.forwardEmailVerified;break;case A.Oe:return o}return e},createTime:(e="",t)=>{const{type:s,account:n={}}=t;switch(s){case A.Oe:return n.createTime;case A.j:return Date.now()/1e3}return e},linkedAccounts:(e=[],t)=>{const{type:s,account:n={}}=t;switch(s){case A.Oe:case A.j:return n.linkedAccounts||e}return e},showForwardReviewAlert:(e=!1,t)=>{const{type:s,updatedProperties:n}=t;switch(s){case A.Ah:return n.showForwardReviewAlert}return e}});var ps=(e={},t)=>{switch(t.type){case A.Oe:{const{accounts:s=[]}=t;return s.length?s.reduce((e,s)=>(e[s.id]=ms({},babelHelpers.extends({},t,{account:s})),e),{}):e}case A.r:case A.vi:case A.j:case A.f:{const{updatedAccount:s}=t;return s?babelHelpers.extends({},e,{[s.id]:ms(e[s.id],babelHelpers.extends({},t,{account:s}))}):e}case A.Ah:{const{accountId:s,updatedProperties:n}=t;return n?babelHelpers.extends({},e,{[s]:ms(e[s],t)}):e}case A.q:{const{accountId:s,updatedProperties:n}=t;return n&&n.isSending&&1===Object.keys(n).length?Object.keys(e).reduce((n,a)=>babelHelpers.extends({},n,{[a]:ms(e[a],babelHelpers.extends({},t,{isSending:a===s,accountType:e[a].type}))}),{}):n?babelHelpers.extends({},e,{[s]:ms(e[s],t)}):e}case A.O:{const{newAccount:s}=t;return s?babelHelpers.extends({},e,{[s.id]:ms(e[s.id],babelHelpers.extends({},t,{account:s}))}):e}case A.o:{const{updatedAccount:s}=t;return s?le()(e,[s.id]):e}case A.g:return Object.keys(e).reduce((s,n)=>babelHelpers.extends({},s,{[n]:ms(e[n],t)}),{});case A.n:{const{accountId:s}=t;if(!s)return e;const n=Object.keys(e).map(t=>e[t]).filter(e=>e.type===S.g.ALIAS),a=e[s]||n.find(e=>e.id===s),r=babelHelpers.extends({},a,{status:S.f.DELETE_IN_PROGRESS});return r.type===S.g.DEA?le()(e,[r.id]):babelHelpers.extends({},e,{[r.id]:ms(e[r.id],babelHelpers.extends({},t,{account:r,status:S.f.DELETE_IN_PROGRESS}))})}default:return e}};const _s=4002,hs=4003;var Es=Object(i.c)({id:(e=null,t)=>{switch(t.type){case A.Oe:return t.selectedMailbox.id}return e},allMailboxes:(e=null,t)=>{switch(t.type){case A.Oe:return t.mailboxes}return e},accounts:ps,aliasSuggestion:ls,socialAccountsStatus:(e={},t)=>{switch(t.type){case A.Fi:return t.response||e;case A.Ci:{const{key:s}=t;return le()(e||{},s)}default:return e}},deaBaseName:(e={deaDomain:"",deaPrefix:""},t)=>{switch(t.type){case A.ii:{const{features:s={}}=t,n=s[S.Yb.DEA_BASE_NAME];return void 0!==n?n:e}case A.Oe:{const{mailboxAttributes:s={}}=t,n=(s.responses||{})[S.Yb.DEA_BASE_NAME];return void 0!==n?n:e}case A.rd:{const{baseName:e,domain:s}=t;return{deaPrefix:e,deaDomain:s}}default:return e}},baseNameSuggestions:(e=[],t)=>{switch(t.type){case A.qd:case A.rd:return[];case A.Oe:case A.sd:{const{suggestions:e=[]}=t;return e}default:return e}},recentlyAddedAccount:(e=null,t)=>{switch(t.type){case A.j:{const{updatedAccount:e}=t;return e.id}case A.g:return null;default:return e}},accountAlerts:(e=[],t)=>{const{type:s,accountAlerts:n=[]}=t;switch(s){case A.Oe:case A.v:case A.rb:case A.Ug:return n&&n.length>0?n:e;default:return e}},mailboxSize:(e=0,t)=>{switch(t.type){case A.ii:{const{features:s={}}=t;return s[S.Yb.MAILBOX_SIZE]||e}case A.Oe:{const{mailboxAttributes:s={}}=t;return(s.responses||{})[S.Yb.MAILBOX_SIZE]||e}default:return e}}});const gs=Object(i.c)({body:function(e={},t){const{type:s,messageId:n,v3MessageBodiesMap:a}=t;switch(s){case A.Oe:case A.Bf:case A.Jf:case A.Af:case A.yf:case A.Vf:case A.Yj:case A.Li:case A.Vj:return a[n].body||{};default:return e}},status:function(e=S.Rc.DOES_NOT_EXIST,t){const{type:s,errorMessageIds:n=[]}=t;switch(s){case A.Oe:case A.Bf:case A.Jf:case A.Af:case A.yf:case A.Vf:case A.Yj:case A.Li:case A.Vj:return-1===n.indexOf(t.messageId)?S.Rc.LOADED:S.Rc.ERROR;case A.Zg:case A.Cf:case A.Cg:return e===S.Rc.LOADED?S.Rc.LOADED:S.Rc.DOES_NOT_EXIST;case A.zf:return S.Rc.ERROR;default:return e}},isSecure:function(e=!1,t){switch(t.type){case A.Oe:case A.yf:case A.Vf:case A.Yj:case A.Vj:return!1;case A.Bf:case A.Jf:case A.Af:case A.Li:case A.Cf:return!!t.secure;default:return e}},hasFullBody:function(e=!1,t){const{type:s,messageId:n,full:a,v3MessageBodiesMap:r}=t;switch(s){case A.Oe:case A.yf:case A.Vf:case A.Yj:case A.Vj:return!0;case A.Bf:case A.Jf:case A.Af:case A.Li:case A.Cf:{const{body:e={}}=r[n],{htmlAnnotations:t}=e;return!a&&t?!t.some(({type:e})=>"quoted"===e):!!a}default:return e}},retryCount:function(e=0,t){switch(t.type){case A.zf:return Math.min(S.Pb+1,e+1);default:return e}}});var bs=function(e={},t){switch(t.type){case A.Oe:case A.Bf:case A.Jf:case A.Af:case A.yf:case A.Vf:case A.Yj:case A.Li:case A.Cg:case A.Cf:case A.Zg:case A.Vj:case A.zf:{const s=Object.keys(t.v3MessageBodiesMap||{});if(!s.length)return e;const n=s.reduce((s,n)=>babelHelpers.extends({},s,{[n]:gs(e[n],babelHelpers.extends({},t,{messageId:n}))}),{});return babelHelpers.extends({},e,n)}case A.ci:if(t.name===S.nd.SHOW_IMAGES){if(!0===t.value){const t=Object.keys(e).reduce((t,s)=>e[s].body.htmlAnnotations.some(({type:e})=>"blocked"===e)?babelHelpers.extends({},t):babelHelpers.extends({},t,{[s]:e[s]}),{});return babelHelpers.extends({},t)}return{}}return e;default:return e}};var Is=function(e={},t){const{listData:s={},type:n,itemsToUpdate:a,messageMetadataMap:r={}}=t,o=-1!==[A.yf,A.Vf].indexOf(n),i=-1!==[A.rb].indexOf(n),c=-1!==[A.Pd].indexOf(n);switch(n){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.Vj:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.bg:case A.tc:case A.kg:case A.jh:case A.yj:case A.og:{if(!s.messages)return e;const t=Object.keys(s.messages).filter(t=>o||i||c?!F()(e[t],s.messages[t]):!e[t]).reduce((e,t)=>babelHelpers.extends({},e,{[t]:s.messages[t].flags}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}case A.Af:case A.Bf:{const t=Object.keys(r);if(!t.length)return e;const n=t.map(t=>({[t]:e[t]})),a=Object.keys(s.messages||[]).reduce((t,n)=>{const a=s.messages[n].decos,r=a&&a.some(e=>e&&e.id===S.dc.CRD);return babelHelpers.extends({},t,{[n]:r?s.messages[n].flags:e[n]})},{});return babelHelpers.extends({},e,Object.assign({},...n,a))}case A.gh:case A.Ti:{const s=a.filter(e=>e.isAffected).reduce((s,a)=>babelHelpers.extends({},s,{[a.messageId]:n===A.gh?babelHelpers.extends({},e[a.messageId],{read:!t.isRead}):babelHelpers.extends({},e[a.messageId],{flagged:!t.isStarred})}),{});return Object.keys(s).length?babelHelpers.extends({},e,s):e}case A.qg:{const t=a.filter(e=>e.isAffected).reduce((t,s)=>{const n=babelHelpers.extends({},e[s.messageId]);return(s.isSpamMove||s.isHamMove)&&(n.spam=s.isSpamMove,n.ham=s.isHamMove),babelHelpers.extends({},t,{[s.messageId]:n})},{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}default:return e}};var fs=function(e={},t){const{listData:s={},type:n,message:a={},itemsToUpdate:r,messageMetadataMap:o={}}=t,i=-1!==[A.yf,A.Vf].indexOf(n),c=-1!==[A.rb].indexOf(n),l=-1!==[A.Pd].indexOf(n);switch(n){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.Vj:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.bg:case A.tc:case A.kg:case A.jh:case A.yj:case A.og:{if(!s.messages)return e;const t=Object.keys(s.messages).filter(t=>i||c||l?!F()(e[t],s.messages[t]):!e[t]).reduce((e,t)=>babelHelpers.extends({},e,{[t]:s.messages[t].folder.id}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}case A.bk:return a.id&&a.folder&&a.folder.id?babelHelpers.extends({},e,{[a.id]:a.folder.id}):e;case A.Af:case A.Bf:{const t=Object.keys(o);if(!t.length)return e;const n=t.map(t=>({[t]:e[t]})),a=Object.keys(s.messages||[]).reduce((t,n)=>{const a=s.messages[n].decos,r=a&&a.some(e=>e&&e.id===S.dc.CRD);return t[n]=r?s.messages[n].folder.id:e[n],t},{});return babelHelpers.extends({},e,Object.assign({},...n,a))}case A.Bj:case A.ed:case A.ab:case A.qg:{const t=r.filter(e=>e.isAffected),s=t.filter(e=>!e.destinationFolder).map(e=>e.messageId),n=t.reduce((t,s)=>babelHelpers.extends({},t,{[s.messageId]:s.destinationFolder?s.destinationFolder.id:e[s.messageId]}),{});return Object.keys(n).length||s.length?le()(babelHelpers.extends({},e,n),s):e}default:return e}};const Ss=(e=[],t)=>{const{type:s,messageGroup:n=[],itemToUpdate:a={}}=t;switch(s){case A.rb:case A.Oe:case A.nb:case A.Cj:case A.eg:case A.Jf:case A.mg:case A.Mh:case A.Oh:case A.yf:case A.Vf:case A.Vj:case A.Yj:return F()(n,e)?e:n;case A.ed:case A.ab:return a.destinationFolder&&-1===a.destinationFolder.types.indexOf(S.ub.TRASH)&&-1===a.destinationFolder.types.indexOf(S.ub.BULK)||!a.isAffected?e:e.filter(e=>e!==a.messageId);default:return e}};var As=function(e={},t){const{type:s,listData:n={},itemsToUpdate:a}=t;switch(s){case A.rb:case A.Oe:case A.nb:case A.Cj:case A.eg:case A.Jf:case A.mg:case A.Mh:case A.Oh:case A.yf:case A.Vf:case A.Vj:case A.Yj:{const{groupIdToMessageIdsMap:t}=n;if(!t)return e;const a=Object.keys(t).filter(s=>!F()(t[s],e[s])).reduce((n,a)=>babelHelpers.extends({},n,{[a]:Ss(e[a],{type:s,messageGroup:t[a]})}),{});return Object.keys(a).length?babelHelpers.extends({},e,a):e}case A.ed:case A.ab:return a.length?a.reduce((e,t)=>{const{groupId:n}=t,a=Ss(e[n],{type:s,itemToUpdate:t});return a.length?babelHelpers.extends({},e,{[n]:a}):le()(e,[n])},babelHelpers.extends({},e)):e;default:return e}};const Ts=Object(i.c)({replyTo:(e=[],t)=>{const{type:s,replyTo:n}=t;switch(s){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.Af:case A.mg:case A.rb:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.yj:case A.og:case A.Bf:case A.kg:case A.Vj:case A.Kg:case A.jh:return F()(e,n)?e:n||e;default:return e}},from:(e=[],t)=>{const{type:s,message:n}=t;switch(s){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.yj:case A.og:case A.kg:case A.jh:case A.Vj:case A.Af:case A.Bf:case A.Kg:return F()(e,n.headers.from)?e:n.headers.from;default:return e}},to:(e=[],t)=>{const{type:s,message:n}=t;switch(s){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.Vj:case A.yj:case A.og:return F()(e,n.headers.to)?e:n.headers.to;default:return e}},cc:(e=[],t)=>{const{type:s,message:n}=t;switch(s){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.Vj:case A.yj:case A.og:return F()(e,n.headers.cc)?e:n.headers.cc;default:return e}},bcc:(e=[],t)=>{const{type:s,message:n}=t;switch(s){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.Vj:case A.yj:case A.og:return F()(e,n.headers.bcc)?e:n.headers.bcc;default:return e}},date:(e=null,t)=>{const{type:s,message:n,isCard:a}=t;switch(s){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.Kg:case A.kg:case A.jh:case A.Vj:case A.yj:case A.og:return n.headers.date?n.headers.date:e;case A.Bf:case A.Af:return a&&n.headers.date?n.headers.date:e;default:return e}},messageIdRfc822:(e="",t)=>{const{type:s,message:n,isCard:a}=t;switch(s){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.Kg:case A.kg:case A.jh:case A.Vj:case A.yj:case A.og:return n.headers.messageIdRfc822?n.headers.messageIdRfc822:e;case A.Bf:case A.Af:return a&&n.headers.messageIdRfc822?n.headers.messageIdRfc822:e;default:return e}}}),Cs=Object(i.c)({messageId:(e="",t)=>{const{type:s,message:n={}}=t;switch(s){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.yj:case A.og:case A.kg:case A.jh:case A.Vj:case A.Kg:case A.Bf:case A.Af:return n.id||e;default:return e}},csid:(e="",t)=>{const{type:s,message:n,isCard:a}=t;switch(s){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Vj:case A.Yj:case A.yj:case A.og:case A.Kg:case A.jh:case A.kg:return!e&&n.csid?n.csid||"":e;case A.Bf:case A.Af:return!e&&n.csid&&a?n.csid||"":e;default:return e}},conversationId:(e="",t)=>{const{type:s,message:n,isCard:a}=t;switch(s){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.yj:case A.og:case A.kg:case A.jh:case A.Vj:case A.Kg:return n.conversationId?n.conversationId:e;case A.Bf:case A.Af:return a&&n.conversationId?n.conversationId:e;default:return e}},cardConversationId:(e="",t)=>{const{type:s,message:n={}}=t;switch(s){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.yj:case A.og:case A.kg:case A.jh:case A.Vj:case A.Bf:case A.Af:case A.Kg:case A.Pd:return n.cardConversationId?n.cardConversationId:e;default:return e}},decos:(e=[],t)=>{const{type:s,message:n={}}=t;switch(s){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.yj:case A.og:case A.kg:case A.Vj:case A.Bf:case A.Af:case A.Kg:case A.jh:return n.decos?n.decos:e;default:return e}},inReplyTo:(e={},t)=>{const{type:s,message:n}=t;switch(s){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Vj:case A.Yj:case A.yj:case A.og:return F()(e,n.replyTo)?e:n.inReplyTo||{};default:return e}},classification:(e="",t)=>{const{type:s,message:n,isCard:a}=t;switch(s){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.kg:case A.Kg:case A.jh:case A.Vj:case A.yj:case A.og:return n.classification?n.classification:e;case A.Bf:case A.Af:return a&&n.classification?n.classification:e;default:return e}},verifiedDomains:(e=[],t)=>{const{type:s,message:n}=t;switch(s){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.Vj:case A.yj:case A.og:return F()(e,n.verifiedDomains)?e:n.verifiedDomains||[];default:return e}},captcha:(e=null,t)=>{const{type:s,message:n,draftMessage:a}=t;switch(s){case A.Yj:return a.id===n.id&&a.captcha?a.captcha:e;default:return e}},headers:Ts,folderOfDelivery:(e="",t)=>{const{type:s,message:n,isCard:a}=t;switch(s){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.mg:case A.rb:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.Kg:case A.kg:case A.jh:case A.yj:case A.og:case A.Vj:return n.folderOfDelivery?n.folderOfDelivery:e;case A.Bf:case A.Af:return a&&n.folderOfDelivery?n.folderOfDelivery:e;default:return e}},downloadAllUrl:(e="",t)=>{const{message:s={}}=t;return s.downloadAllUrl&&e!==s.downloadAllUrl?s.downloadAllUrl:e},unsubOption:(e={},t)=>{const{message:s={}}=t;return s.unsubOption?Object.assign({},e,s.unsubOption):e}});var Os=function(e={},t){const{listData:s={},type:n,messageMetadataMap:a={}}=t,r=-1!==[A.yf,A.Vf].indexOf(n),o=-1!==[A.rb].indexOf(n),i=-1!==[A.Pd].indexOf(n);switch(n){case A.Oe:case A.Mh:case A.Oh:case A.eg:case A.Jf:case A.Kg:case A.mg:case A.rb:case A.Vj:case A.nb:case A.Cj:case A.yf:case A.Vf:case A.Yj:case A.Pd:case A.kg:case A.jh:case A.yj:case A.og:{if(!s.messages)return e;const c=Object.keys(s.messages).filter(t=>r||o||i?!F()(e[t],s.messages[t]):!e[t]).reduce((r,o)=>babelHelpers.extends({},r,{[o]:Cs(e[o],babelHelpers.extends({type:n,message:s.messages[o],draftFolderId:t.draftFolderId,date:t.date,replyTo:a[o]?a[o].headers.replyTo:void 0},n===A.Yj?{draftMessage:t.message}:{}))}),{});return n===A.Vj&&t.unsubFromMessage&&(c[t.unsubFromMessage.id]=Cs(e[t.unsubFromMessage.id],{type:n,message:t.unsubFromMessage})),Object.keys(c).length?babelHelpers.extends({},e,c):e}case A.Af:case A.Bf:{const t=Object.keys(a);if(!t.length)return e;const r=t.map(t=>({[t]:Cs(e[t],{type:n,message:a[t],replyTo:a[t].headers.replyTo})})),o=Object.keys(s.messages||[]).reduce((t,a)=>{const r=s.messages[a].decos,o=r&&r.some(e=>e&&e.id===S.dc.CRD);return babelHelpers.extends({},t,{[a]:Cs(e[a],{type:n,message:s.messages[a],replyTo:s.messages[a].headers.replyTo,isCard:o})})},{});return babelHelpers.extends({},e,Object.assign({},...r,o))}case A.ub:{const{messages:s}=t,a=s.map(t=>({[t.id]:Cs(e[t.id],{type:n,message:t})}));return babelHelpers.extends({},e,Object.assign({},...a))}default:return e}};const Rs=(e={})=>({doesMessageIdExist:t=>!!e[t],getConversationId:t=>e[t].conversationId,getCardConversationId:t=>e[t].cardConversationId,getDecos:t=>e[t].decos,isCoupon:t=>e[t].decos&&e[t].decos.some(e=>e&&e.id===S.dc.CPN),getCsid:t=>e[t].csid,getMessageId:t=>e[t].messageId,__getMessage:t=>e[t],isVerifiedDomain:t=>!!e[t].verifiedDomains.length,getTimeStamp:t=>e[t].headers.date,getFromAddresses:t=>e[t].headers.from,getToAddresses:t=>e[t].headers.to,getCcAddresses:t=>e[t].headers.cc,getBccAddresses:t=>e[t].headers.bcc,getReplyToAddresses:t=>e[t].headers.replyTo,getDate:t=>e[t].headers.date,getCaptcha:t=>e[t].captcha,getFolderOfDelivery:t=>e[t].folderOfDelivery,findMessageIdsForConversationId:t=>Object.keys(e).filter(s=>e[s].conversationId===t),getParentConversationIdForCardConversationId:t=>{const s=Rs(e).getParentMessageIdForCardConversationId(t);return s?e[s].conversationId:""},getParentMessageIdForCardConversationId:t=>Object.keys(e).find(s=>e[s].cardConversationId===t&&e[s].decos.some(({id:e})=>e===S.dc.EML)),getDownloadAllUrl:t=>e[t]?e[t].downloadAllUrl:"",getUnsubOption:t=>e[t]?e[t].unsubOption:{},__get__:t=>e[t],getMessagesCount:()=>Object.keys(e).length});var Ns=function(e={},t){const{type:s,listData:n={}}=t;switch(s){case A.Oe:case A.rb:case A.Cj:case A.eg:case A.Jf:case A.yf:case A.Vf:case A.Bf:case A.Af:case A.Vj:case A.Yj:case A.nb:case A.mg:case A.Mh:case A.Oh:{const{attachmentIdToMessageIdMap:t={}}=n;return Object.keys(t).length?babelHelpers.extends({},e,t):e}default:return e}};const Ms=[],Ds=Object(c.createSelector)(e=>e,(e={})=>{const t=Object.keys(e).reduce((t,s)=>{const n=e[s];return babelHelpers.extends({},t,{[n]:(t[n]||[]).concat(s)})},{});return{attachmentsByMessageId:e=>t[e]||Ms,getMessageIdForAttachmentId:t=>e[t]}}),ys=Object(i.c)({offerId:(e="",t)=>{const{type:s,offer:n}=t;switch(s){case A.Ag:case A.gg:return n.offerId;default:return e}},description:(e="",t)=>{const{type:s,offer:n}=t;switch(s){case A.Ag:case A.gg:return n.description;default:return e}},expiryTimestamp:(e=0,t)=>{const{type:s,offer:n}=t;switch(s){case A.Ag:case A.gg:return n.expiryTimestamp;default:return e}},brandName:(e="",t)=>{const{type:s,offer:n}=t;switch(s){case A.Ag:case A.gg:return n.brandName;default:return e}},imageUrl:(e="",t)=>{const{type:s,offer:n}=t;switch(s){case A.Ag:case A.gg:return n.imageUrl||"";default:return e}},discountType:(e="",t)=>{const{type:s,offer:n}=t;switch(s){case A.Ag:case A.gg:return n.discountType;default:return e}},value:(e="",t)=>{const{type:s,offer:n}=t;switch(s){case A.Ag:case A.gg:return n.value;default:return e}},amountUnit:(e="",t)=>{const{type:s,offer:n}=t;switch(s){case A.Ag:case A.gg:return n.amountUnit;default:return e}},activated:(e=!1,t)=>{const{type:s,offer:{activated:n=!1}={}}=t;switch(s){case A.Ag:case A.gg:case A.B:return n;default:return e}}});var Ls=function(e={},{type:t,offers:s}){switch(t){case A.Ag:case A.gg:{const n=(s||[]).filter(t=>!F()(e[t.offerId],t));return n.length?n.reduce((e,s)=>babelHelpers.extends({},e,{[s.offerId]:ys(e[s.offerId],{type:t,offer:s})}),babelHelpers.extends({},e)):e}case A.B:{if(!s)return e;const n=s.reduce((s,n)=>babelHelpers.extends({},s,{[n.offerId]:ys(e[n.offerId],{type:t,offer:n})}),{});return Object.keys(n).length?babelHelpers.extends({},e,n):e}default:return e}};var vs=function(e=!0,t){switch(t.type){case A.Bg:return t.online}return e};const Ps=e=>e.name===S.Uc.FOLDER||e.name===S.Uc.CONTACTS||Object(M.L)(e);var Fs=function(e=[],t){if(t.route&&t.route.query.fullscreen)return e;switch(t.type){case A.Ue:return[...e,t.route];case A.xb:return e.filter(e=>!Object(y.D)(e,t.route));case A.vb:return e.filter(e=>!(t.pagesToClose||[]).find(t=>Object(y.D)(e,t)));case A.Zj:{const{pages:s=[]}=t;return s.length?s:e}default:{if(t.pages&&t.pages!==e)return t.pages;if(t.route===t.previousRoute)return e;if(Ps(t.route)){const s=e.filter(e=>!Ps(e));return[t.route,...s]}const s=e.findIndex(e=>Object(y.D)(e,t.route)),{tabsToRemove:n=[]}=t;return-1!==s?e.map(e=>Object(y.D)(e,t.route)?t.route:e):t.replaceRoute||t.previousRoute.name===t.route.name&&!t.forceNewPage&&!1!==t.replaceRoute?e.map(e=>Object(y.D)(e,t.previousRoute)?t.route:e):n.length>0?[...e.filter(e=>-1===n.findIndex(t=>Object(y.D)(t,e))),t.route]:[...e,t.route]}}};var xs=Object(i.c)({payments:(e=[],t)=>{const{type:s,payload:n}=t;switch(s){case A.Mg:return n.length?n:e;default:return e}},error:(e=null,t)=>{const{type:s,payload:n}=t;switch(s){case A.Lg:return n;case A.Mg:return null;default:return e}}});var ws=(e={},t)=>{switch(t.type){case A.gh:case A.Ti:case A.qg:case A.ed:case A.Bj:case A.ab:return t;case A.Qj:case A.Pj:return{};default:return e}};var ks=(e={},t)=>{switch(t.type){case A.Mh:case A.Oh:{const{listData:{people:s={}}}=t;return babelHelpers.extends({},e,s)}default:return e}};var Hs=function(e={},t){switch(t.type){case A.Nf:{const s=Object(D.g)(t);return babelHelpers.extends({},e,{[s]:{printId:s,isPrinted:!1,printType:S.Ic.MESSAGE,messageId:t.messageId}})}case A.Of:{const{printId:s}=t;return babelHelpers.extends({},e,{[s]:babelHelpers.extends({},e[s],{isPrinted:!0})})}case A.Mf:case A.Lf:return le()(e,t.printId);case A.ah:{const{retailerId:s}=t;return babelHelpers.extends({},e,{[s]:{isPrinted:!1,printId:s,printType:S.Ic.OFFERS}})}}return e};const Us=(e,t)=>{const{potentialSavings:s,price:n,orderedItems:a,sellerName:r,broker:o}=e.schemaCards[t];let{orderDate:i}=e.schemaCards[t];if(!i){const s=Object.keys(e.messageIdToSchemaIdsMap).find(s=>e.messageIdToSchemaIdsMap[s].find(e=>e.id===t)),n=e.messages[s].headers&&e.messages[s].headers.date;i=n?new Date(1e3*parseInt(String(n),10)).toISOString():`${(new Date).getFullYear()}-01-01T00:00:00Z`}return{potentialSavings:s,price:n,orderedItems:a,orderDate:i,sellerName:r,broker:o}};var js=s(119),Gs=s.n(js);var Bs=function(e=[],t){switch(t.type){case A.lh:return t.recentSearches.map(e=>({query:Gs()(e.query)}));case A.Oh:case A.tc:if(!0===t.addToRecentSearch){const s=Object(M.p)(t.listId);return[{query:s},...e.filter(e=>e.query!==s)]}break;case A.kd:return e.filter(e=>e.query!==t.keyword)}return e};const Vs=({description:e,provider:t,recommendedItems:s})=>({description:e,provider:t,recommendedItems:s});const Ws=(e={})=>({getRecommendationItemsCard:t=>e[t],getRecommendationItems:t=>e[t].recommendedItems,getRecommendationProvider:t=>e[t].provider,getRecommendationDescription:t=>e[t].description}),qs=Object(i.c)({id:(e="",t)=>{const{type:s,retailer:n}=t;switch(s){case A.zh:return n.id;default:return e}},displayName:(e="",t)=>{const{type:s,retailer:n}=t;switch(s){case A.zh:return n.displayName;default:return e}},linked:(e=!1,t)=>{const{type:s,retailer:n}=t;switch(s){case A.zh:case A.kf:case A.jf:case A.if:case A.Fj:return n.linked;default:return e}},proxyType:(e="",t)=>{const{type:s,retailer:n}=t;switch(s){case A.zh:return n.proxyType;default:return e}},brandImage:(e="",t)=>{const{type:s,retailer:n}=t;switch(s){case A.zh:return n.marlonBrandImage||null;default:return e}},loyaltyId:(e="",t)=>{const{type:s,retailer:n}=t;switch(s){case A.zh:case A.kf:return n.loyaltyId||null;case A.Fj:return"";default:return e}},registrationUrl:(e="",t)=>{const{type:s,retailer:n}=t;switch(s){case A.zh:return n.marlonRegistrationUrl||null;default:return e}},totalSavings:(e=null,t)=>{const{type:s,totalSavings:n}=t;switch(s){case A.Jh:return n;default:return e}},offersUsed:(e=null,t)=>{const{type:s,offersUsed:n}=t;switch(s){case A.Jh:return n;default:return e}},numActivatedOffers:(e=null,t)=>{const{type:s,numActivatedOffers:n}=t;switch(s){case A.y:return n;case A.B:return null===e?1:e+1;default:return e}},registrationInfo:(e="",t)=>{const{type:s,retailer:n}=t;switch(s){case A.zh:return n.registrationInfo;default:return e}},subDomains:(e=[],t)=>{const{type:s,retailer:n}=t;switch(s){case A.zh:return n.subDomains||[];default:return e}},emailIds:(e=[],t)=>{const{type:s,retailer:n}=t;switch(s){case A.zh:return n.emailIds||[];default:return e}},errorHint:(e="",t)=>{const{type:s,retailer:n}=t;switch(s){case A.if:return n.errorHint;default:return e}}});var zs=function(e={},{errorHint:t="",linked:s=!1,listId:n,numActivatedOffers:a,offersUsed:r,retailerId:o="",retailers:i,totalSavings:c,type:l}){switch(l){case A.zh:{const t=(i||[]).filter(t=>!F()(e[t.id],t));return t.length?t.reduce((e,t)=>babelHelpers.extends({},e,{[t.id]:qs(e[t.id],{type:l,retailer:t})}),babelHelpers.extends({},e)):e}case A.kf:case A.Fj:{if(!i)return e;const t=i.reduce((t,s)=>babelHelpers.extends({},t,{[s.id]:qs(e[s.id],{type:l,retailer:s})}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}case A.Jh:case A.Ih:{const t={[o]:qs(e[o],{type:l,totalSavings:c,offersUsed:r})};return babelHelpers.extends({},e,t)}case A.y:case A.B:{const t=Object(M.v)(n),s={[t]:qs(e[t],{type:l,numActivatedOffers:a})};return babelHelpers.extends({},e,s)}case A.jf:case A.if:{const n={[o]:qs(e[o],{type:l,retailer:{errorHint:t,linked:s}})};return babelHelpers.extends({},e,n)}default:return e}};const Zs=(e={})=>({getTotalNumberOfRetailers:()=>Object.keys(e).length,getRetailersFromRetailerIds:t=>t.map(t=>e[t]),isLinkedRetailer:t=>e[t]?e[t].linked:null,getDisplayNameFromRetailerId:t=>e[t]&&e[t].displayName||"",getProxyTypeFromRetailerId:t=>e[t]&&e[t].proxyType||"",getBrandImageFromRetailerId:t=>e[t]&&e[t].brandImage||"",getLoyaltyIdFromRetailerId:t=>e[t]&&e[t].loyaltyId||"",getRegistrationUrlFromRetailerId:t=>e[t]&&e[t].registrationUrl||"",getTotalSavingsFromRetailerId:t=>e[t]?e[t].totalSavings:null,getOffersUsedFromRetailerId:t=>e[t]?e[t].offersUsed:null,getNumActivatedOffersFromRetailerId:t=>e[t]?e[t].numActivatedOffers:null,getRegistrationInfoFromRetailerId:t=>e[t]&&e[t].registrationInfo||"",getErrorHintFromRetailerId:t=>e[t]&&e[t].errorHint||"",getRetailerIdFromEmail:t=>{let s=Object.keys(e).find(s=>e[s].emailIds&&e[s].emailIds.find(e=>e===t));if(!s){const n=t.includes("@")?t.split("@")[1]:t;s=Object.keys(e).find(t=>e[t].subDomains&&e[t].subDomains.find(e=>e===n))}return s},isSupportedQuotientRetailer:t=>!!Zs(e).getRetailerIdFromEmail(t)});var Ks=Object(i.c)({routesConfig:function(e=[],t){switch(t.type){case A.Ue:return t.routesConfig}return e},route:function(e={},t){switch(t.type){case A.Oe:case A.Ue:case A.Cg:return t.route;default:return t.route&&e===t.route?e:t.route||e}},hashParams:function(e={},t){switch(t.type){case A.Ue:case A.Cg:return t.hashParams||e}return e},mrdParams:function(e={},t){switch(t.type){case A.Oe:return t.mrdParams||e;case A.Ue:case A.Cg:return{}}return e},uiContext:function(e={},t){switch(t.type){case A.Ue:case A.Cg:return t.i13nModel||t.uiContext||e}return e}});const Ys=(e,t)=>(s=t,n)=>(function(e,t,s){const{type:n,savedSearch:a}=t;switch(n){case A.of:case A.Oc:return a[s]||e}return e})(s,n,e),Xs=Object(i.c)({id:Ys("id",""),name:Ys("name",""),types:Ys("types",[]),decorations:Ys("decorations",[]),priority:Ys("priority",""),query:Ys("query",""),userQueries:Ys("userQueries",[]),accountIds:Ys("accountIds",[]),folderIds:Ys("folderIds",[])});var $s=function(e={},t){switch(t.type){case A.of:case A.Oc:{const s=(t.savedSearches||[]).filter(t=>!F()(e[t.id],t));return s.length?s.reduce((e,s)=>babelHelpers.extends({},e,{[s.id]:Xs(e[s.id],{type:t.type,savedSearch:s})}),babelHelpers.extends({},e)):e}case A.od:return le()(e,[t.savedSearchId]);default:return e}};var Qs=(e={isFocused:!1},t)=>{const{type:s}=t;switch(s){case A.Lh:return babelHelpers.extends({},e,{isFocused:!0});case A.Kh:return babelHelpers.extends({},e,{isFocused:!1});default:return e}};const Js=(e={})=>({isSearchInputFocused:()=>e.searchInput.isFocused||!1});var en=function(e={},t){switch(t.type){case A.gj:return babelHelpers.extends({},e,{[t.query]:(e[t.query]||[]).concat(t.suggestions)})}return e};var tn=Object(i.c)({settingsApiCallStatus:(e=S.Rc.LOADING,t)=>{switch(t.type){case A.ii:return S.Rc.LOADED;case A.hi:return S.Rc.ERROR;default:return e}},blockedSendersApiCallStatus:(e=S.Rc.LOADING,t)=>{switch(t.type){case A.ii:case A.Zh:return S.Rc.LOADED;case A.hi:case A.Yh:return S.Rc.ERROR;default:return e}}});var sn=Object(i.c)({authWindow:(e={},t)=>{switch(t.type){case A.Sd:{const{name:e,i13nModel:{mKey:s}={}}=t;if(e!==S.mb.LINKEDIN_REAUTH_CUE||s!==`cue_${S.mb.LINKEDIN_REAUTH_CUE}_reconnect`)break;return{provider:S.Bd.LinkedIn,url:""}}case A.xi:return{url:t.url,provider:t.provider};case A.wi:return{url:void 0,provider:void 0}}return e}});const nn=Object(i.c)({id:(e="",t)=>{const{type:s,retailer:n}=t;switch(s){case A.Ni:return n.id;default:return e}},name:(e="",t)=>{const{type:s,retailer:n}=t;switch(s){case A.Ni:return n.retailerName;default:return e}},promotionDomain:(e="",t)=>{const{type:s,retailer:n}=t;switch(s){case A.Ni:return n.promotionDomain;default:return e}},receiptsDomain:(e="",t)=>{const{type:s,retailer:n}=t;switch(s){case A.Ni:return n.receiptsDomain;default:return e}},homepage:(e="",t)=>{const{type:s,retailer:n}=t;switch(s){case A.Ni:return n.homepage;default:return e}},logoUrl:(e="",t)=>{const{type:s,retailer:n}=t;switch(s){case A.Ni:return n.logoUrl;default:return e}},isSupported:(e=!1,t)=>{const{type:s,retailer:n}=t;switch(s){case A.Ni:return n.isSupported;default:return e}}});var an=function(e={},{type:t,retailers:s}){switch(t){case A.Ni:{const n=(s||[]).filter(t=>!F()(e[t.id],t));return n.length?n.reduce((e,s)=>babelHelpers.extends({},e,{[s.id]:nn(e[s.id],{type:t,retailer:s})}),babelHelpers.extends({},e)):e}default:return e}};var rn=s(19);function on(e,t,s=[]){let{index:n=-1}=e;return t===S.P.UP?n--:t===S.P.DOWN?n++:t===S.P.FIRST?n=0:t===S.P.LAST?n=s.length-1:Object(rn.a)(!t,"Movement not supported yet"),n<0?n=0:n>=s.length&&(n=s.length-1),{index:n,streamItem:s[n]}}var cn=(e={},t)=>{const{type:s,streamItem:n,streamItems:a=[],selectionPayload:r={}}=t;switch(s){case A.aj:case A.Pe:case A.Xi:case A.Zg:{const t=a.findIndex(e=>F()(e,n)),s={streamItem:n,index:t};return F()(e,s)?e:s}case A.Cg:{const t=a.findIndex(e=>F()(e,n));if(!n||-1===t)return{};const s={streamItem:n,index:t};return F()(e,s)?e:s}case A.Yg:return e.streamItem?le()(e,"streamItem"):e;case A.bj:case A.Vi:{const{movement:s}=t,n=on(e,s,a);return F()(e,n)?e:n}case A.gh:case A.Ti:case A.ed:case A.ab:case A.qg:case A.Xh:case A.Vj:case A.bk:case A.rb:case A.nb:case A.Oh:case A.Cj:case A.eg:case A.mg:case A.Mh:case A.De:case A.bg:case A.kg:case A.jh:case A.Ae:case A.tc:case A.Pd:case A.yj:case A.qc:case A.og:{const{oldMessageStreamItems:s=[],newMessageStreamItems:n=[]}=t;if(!n.length)return{};if(!Object.keys(e).length)return e;const a=s[e.index]||{};if(n.some(e=>a.listId===e.listId&&a.id===e.id)){const t=n.findIndex(e=>e.id===a.id&&e.listId===a.listId);return e.index===t?e:{streamItem:a,index:t}}const r=s.slice(e.index+1).find(e=>n.some(t=>e.id===t.id&&e.listId===t.listId))||n[n.length-1]||{};return{streamItem:r,index:n.findIndex(e=>e.id===r.id&&e.listId===r.listId)}}case A.Hf:case A.Ef:case A.Ff:{const{streamItem:s}=t;return babelHelpers.extends({},e,{streamItem:s})}case A.Yj:case A.Vf:case A.yf:{const{streamItem:s,previousStreamItem:n}=t;return s&&n&&r.oldCursor&&F()(r.oldCursor.streamItem,n)?babelHelpers.extends({},e,{streamItem:s}):e}default:return e}};const ln=Object.prototype.hasOwnProperty,dn=(e={},t=[])=>t.reduce((e,{listId:t,id:s})=>babelHelpers.extends({},e,{[t]:babelHelpers.extends({},e[t]||{},{[s]:!0})}),babelHelpers.extends({},e)),un=(e={},t=[])=>t.reduce((e,{listId:t,id:s})=>babelHelpers.extends({},e,{[t]:le()(e[t]||{},s)}),babelHelpers.extends({},e)),mn=e=>e.reduce((e,{listId:t,id:s})=>babelHelpers.extends({},e,{[t]:babelHelpers.extends({},e[t]||{},{[s]:!0})}),{});var pn=function(e={},t){const{streamItem:s={},selectionPayload:n={},streamItems:a=[]}=t,{oldCursor:r,oldSelectedItems:o=[]}=n;switch(t.type){case A.aj:case A.Pe:return s.id?o.some(e=>F()(e,s))?un(mn(o),[s]):dn(mn(o),[s]):e;case A.Wi:return s.id&&t.multipleStreamItems?o.some(e=>F()(e,s))?un(mn(o),[s]):dn(mn(o),t.multipleStreamItems):e;case A.Xi:{if(!s.id)return e;if(!r)return dn(mn(o),[s]);const t=a.findIndex(e=>F()(e,s)),[n,i]=[r.index,t].sort((e,t)=>e-t);return dn(mn(o),a.slice(n,i+1))}case A.bj:{const{movement:s}=t,n=on(r||{},s,a);if(!o.some(e=>F()(e,n.streamItem))){const e=[n.streamItem];return r&&r.streamItem&&e.push(r.streamItem),dn(mn(o),e)}return r&&r.streamItem?un(mn(o),[r.streamItem]):e}case A.Vi:case A.Zi:case A.ed:case A.Z:case A.ab:case A.qg:case A.Xh:case A.Yg:case A.bk:case A.Vj:case A.Cg:case A.Zg:case A.Q:case A.Yi:return Object.keys(e).length?{}:e;case A.Lh:{const{clearSelection:s=!1}=t;return s&&Object.keys(e).length?{}:e}default:return t.clearSelection&&Object.keys(e).length?{}:e}};var _n=(e=S.ld.NONE,t)=>{const{type:s}=t;switch(s){case A.Q:return S.ld.ALL;case A.Yi:return t.selectionType;case A.Zi:case A.aj:case A.Pe:case A.Xi:case A.bj:case A.Vi:case A.ed:case A.Z:case A.ab:case A.qg:case A.Xh:case A.bk:case A.Vj:case A.Cg:case A.Zg:case A.Yg:return S.ld.NONE;case A.Lh:{const{clearSelection:s=!1}=t;return s?S.ld.NONE:e}default:return e}};const hn=(e=[],t=(()=>{}))=>{const s=((e=[])=>e.reduce((e,t)=>babelHelpers.extends({},e,{[t.listId]:(e[t.listId]||[]).concat(t.id)}),{}))(e),n=Object.keys(s).reduce((e,n)=>{const a=t(n)||[];return e[n]=a.length?s[n].filter(e=>-1===a.indexOf(e)):s[n],e},{});return e.filter(({id:e,listId:t})=>-1!==(n[t]||[]).indexOf(e))},En=e=>e.filter(({listId:e})=>-1!==[S.Fb.MESSAGES,S.Fb.IMAGES,S.Fb.DOCUMENTS].indexOf(Object(M.q)(e))).map(({id:e,listId:t})=>({id:e,listId:t})),gn=e=>`${e.listId}-${e.csid}`,bn=Object(i.c)({cursor:cn,selectedItems:pn,selectionType:_n,expansionState:(e={},t)=>{const{type:s,itemToUpdate:n}=t;switch(s){case A.Uc:{const{streamIds:s,itemIndex:n}=t;if(!s)return e;const{listId:a,categoryListId:r}=s[n],o=gn({csid:r,listId:a}),{[o]:i}=e;return babelHelpers.objectWithoutProperties(e,[o])}case A.Jb:{if(!n)return e;const{category:s,contacts:a=[],remainingCount:r=0}=n,{listId:o}=t,i=Object(M.Q)(o,{name:s}),c=gn({csid:i,listId:o});return a.length+r>S.Jb?e:le()(e,c)}case A.lb:{const{categoryListId:s,listId:n}=t,a=gn({csid:s,listId:n});return e[a]?le()(e,a):babelHelpers.extends({},e,{[a]:!0})}case A.Gf:case A.Ef:case A.Ti:case A.gh:{if(!n)return e;const t=gn({csid:n.csid,listId:n.listId});return babelHelpers.extends({},e,{[t]:n.expansionState})}case A.xb:default:return e}}}),In=(e,t={})=>e.persistStreamItemExpansionStates?e.persistStreamItemExpansionStates.reduce((t,s)=>babelHelpers.extends({},t,{[s.streamId]:bn(t[s.streamId],babelHelpers.extends({},e,{itemToUpdate:s}))}),babelHelpers.extends({},t)):t;var fn=(e={},t)=>{switch(t.type){case A.Uc:return t.streamIds?t.streamIds.reduce((e,{listId:s},n)=>babelHelpers.extends({},e,{[s]:bn(e[s],babelHelpers.extends({},t,{itemIndex:n}))}),babelHelpers.extends({},e)):e;case A.Jb:{const{listFilter:s,contacts:n}=t,a=Object(M.i)(s);return n.length&&s!==S.Gb.TOP_CONTACTS?n.reduce((e,s)=>babelHelpers.extends({},e,{[a]:bn(e[a],babelHelpers.extends({},t,{itemToUpdate:s,listId:a}))}),babelHelpers.extends({},e)):e}case A.lb:{const{listId:s}=t;return babelHelpers.extends({},e,{[s]:bn(e[s],babelHelpers.extends({},t))})}case A.Gf:case A.Ef:return t.itemsToUpdate.reduce((e,s)=>babelHelpers.extends({},e,{[s.streamId]:bn(e[s.streamId],babelHelpers.extends({},t,{itemToUpdate:s}))}),babelHelpers.extends({},e));case A.Q:case A.Yi:case A.Zi:case A.Hf:case A.Ff:case A.Yg:{const{streamId:s}=t;return s?babelHelpers.extends({},e,{[s]:bn(e[s],t)}):e}case A.Lh:{const{streamId:s,clearSelection:n=!1}=t;return s&&n?babelHelpers.extends({},e,{[s]:bn(e[s],t)}):e}case A.Pe:{const{streamId:s,streamItems:n=[],streamItem:a={},selectionPayload:r={}}=t,{oldSelectedItems:o=[]}=r;return o.find(e=>F()(e,a))?e:s?babelHelpers.extends({},e,{[s]:bn(e[s],babelHelpers.extends({},t,{streamItems:En(n)}))}):e}case A.Cg:{const s=[Z.e.OPEN_MSG,Z.e.DOC_READ_MSG,Z.e.PHOTO_READ_MSG],n=[Z.e.PHOTO_OPEN,Z.e.DOC_OPEN],a=((e={})=>{const{i13nModel:t,uiContext:s}=e;return t||s||{}})(t)||{};if(-1===[...s,...n].indexOf(a.mKey))return e;const{streamId:r,streamItems:o=[]}=t;return r?babelHelpers.extends({},e,{[r]:bn(e[r],babelHelpers.extends({},t,{streamItems:En(o)}))}):e}case A.Zg:case A.aj:case A.Wi:case A.Xi:case A.bj:case A.Vi:{const{streamId:s,streamItems:n=[]}=t;return s?babelHelpers.extends({},e,{[s]:bn(e[s],babelHelpers.extends({},t,{streamItems:En(n)}))}):e}case A.Yj:case A.Vf:case A.yf:{const{streamId:s}=t;return s&&e[s]?babelHelpers.extends({},e,{[s]:bn(e[s],t)}):e}case A.gh:{const{isRead:s,streamId:n,itemsToUpdate:a=[],streamItems:r=[]}=t;if(!a.length)return e;const o=En(r),i=babelHelpers.extends({},e,{[n]:bn(e[n],babelHelpers.extends({},t,{oldMessageStreamItems:o,newMessageStreamItems:hn(o,e=>Object(Nt.a)(a,e,s?[]:["unread"]))}))});return In(t,i)}case A.Ti:{const{isStarred:s,streamId:n,itemsToUpdate:a=[],streamItems:r=[]}=t;if(!a.length)return e;const o=En(r),i=babelHelpers.extends({},e,{[n]:bn(e[n],babelHelpers.extends({},t,{oldMessageStreamItems:o,newMessageStreamItems:hn(o,e=>Object(Nt.a)(a,e,s?["flagged","starred"]:[]))}))});return In(t,i)}case A.ed:case A.Z:case A.ab:case A.qg:case A.Xh:case A.Vj:case A.bk:{const{streamId:s,itemsToUpdate:n=[],streamItems:a=[],listsToUpdate:r=[]}=t;if(!n.length)return e;const o=En(a);return babelHelpers.extends({},e,{[s]:bn(e[s],babelHelpers.extends({},t,{oldMessageStreamItems:o,newMessageStreamItems:hn(o,e=>{const t=r.find(t=>t.listId===e)||{};return Object(Nt.b)(n,t.folderIds)})}))})}case A.rb:case A.nb:{const{streamId:s,listData:n,streamItems:a=[]}=t;return n.lists?babelHelpers.extends({},e,{[s]:bn(e[s],babelHelpers.extends({},t,{oldMessageStreamItems:En(a),newMessageStreamItems:Object.keys(n.lists||[]).reduce((e,t)=>(n.lists[t].itemIds.forEach(s=>{e.push({id:s,listId:t})}),e),[])}))}):e}case A.xb:{const{streamId:s,route:n}=t;return s&&n?le()(e,[s]):e}default:return e}};var Sn=s(54);var An=Object(i.c)({subjects:function(e={},t){switch(t.type){case A.Oe:case A.Jf:case A.Cj:case A.rb:case A.nb:case A.eg:case A.Mh:case A.Oh:case A.mg:case A.yf:case A.Vf:case A.Bf:case A.Af:case A.Vj:case A.Yj:{const s=Object(E.a)(t,"listData.subjects",{}),n=function(e,t={}){return Object.keys(t).reduce((s,n)=>{const a=Object.keys(t[n])[0],r=Object(M.w)(a);if(!e[n]||e[n][r]!==t[n][a]){const o=Object(Sn.l)(t[n][a]);s[n]=babelHelpers.extends({},e[n],{[r]:t[n][a],[M.a]:o})}return s},{})}(e,s);return Object.keys(n).length?babelHelpers.extends({},e,n):e}default:return e}},snippets:function(e={},t){switch(t.type){case A.Oe:case A.Jf:case A.Cj:case A.rb:case A.nb:case A.eg:case A.Mh:case A.Oh:case A.mg:case A.yf:case A.Vf:case A.Bf:case A.Af:case A.Vj:case A.Yj:{const s=Object(E.a)(t,"listData.snippets",{}),n=function(e,t={}){return Object.keys(t).reduce((s,n)=>{const a=Object.keys(t[n])[0],r=Object(M.w)(a);return e[n]&&e[n][r]===t[n][a]||(s[n]=babelHelpers.extends({},e[n],{[r]:t[n][a]})),s},{})}(e,s);return Object.keys(n).length?babelHelpers.extends({},e,n):e}default:return e}}});var Tn=s(172);const Cn={[Tn.a.HUFFPOST]:(e,t,s)=>({id:t.id,provider:Tn.a.HUFFPOST,icon:t.icon,name:t.name,email:t.email,description:t.strings.description,status:e.subscriptionStatus[t.id]||Tn.c.READY,subscribeOptions:{email:s,list:t.subid}})};var On=(e={},t)=>{const s=e.subscriptionStatus||{};switch(t.type){case A.dj:s[t.id]=Tn.c.PENDING;break;case A.cj:s[t.id]=Tn.c.FAILURE;break;case A.ej:s[t.id]=Tn.c.SUCCESS}return babelHelpers.extends({},e,{subscriptionStatus:s})};var Rn=(e={},t)=>{const{undoAction:s,deleteItemCount:n,numListsPreviouslyCleaned:a,unSubscribeList:r=[]}=t;switch(t.type){case A.uf:return babelHelpers.extends({},e,{unsubscribeItems:babelHelpers.extends({},r.reduce((e,t)=>babelHelpers.extends({},e,{[t.key]:t}),{})),undoAction:s,deleteItemCount:n,numListsPreviouslyCleaned:a});case A.vf:case A.ed:if(!Object(E.b)(e))return{}}return e};var Nn=s(136),Mn=s.n(Nn);var Dn=s(489),yn=s.n(Dn);const Ln=(e=[],t)=>{const s=t.getAction(),{type:n,actionTimestamp:a,accountId:r,updatedProperties:o,warnOnClose:i=!0}=s;switch(n){case A.ie:return e.concat((({accountId:e,updatedProperties:t,actionTimestamp:s})=>({type:S.Zd.FETCH_PRIMARY_ACCOUNT,hash:`FETCH_PRIMARY_ACCOUNT_DATA_HASH-${s}`,id:e,timestamp:s,userInputtedValues:{accountId:e,updatedProperties:t,requestTimestamp:s}}))({accountId:r,updatedProperties:o,actionTimestamp:a}));case A.q:return e.concat((({accountId:e,updatedProperties:t,actionTimestamp:s,warnOnClose:n})=>({type:S.Zd.ACCOUNT_TO_UPDATE,hash:`UPDATE_ACCOUNT_UNSYNCED_DATA_HASH-${s}`,id:e,timestamp:s,warnOnClose:n,userInputtedValues:{accountId:e,updatedProperties:t,requestTimestamp:s}}))({accountId:r,updatedProperties:o,actionTimestamp:a,warnOnClose:i}));default:return e}},vn=(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.r:case A.p:return e.filter(e=>!(e.userInputtedValues.accountId===n.accountId&&e.userInputtedValues.requestTimestamp<=n.requestTimestamp))}return e},Pn=(e=[],{getAction:t,getRoute:s})=>{const n=s(),{actionTimestamp:a,type:r}=t(),o=Object(M.t)(n),i=Object(M.v)(o)||"",c=Object(M.Q)(o,{listFilter:S.Gb.ACTIVATED_OFFER_CARDS});switch(r){case A.Cg:case A.Re:case A.kf:return e.concat({id:S.Zd.ACTIVATED_OFFERS,hash:S.Zd.ACTIVATED_OFFERS,timestamp:a,type:S.Zd.ACTIVATED_OFFERS,userInputtedValues:{listId:c,retailerId:i}});case A.Yf:return e.concat({id:S.Zd.MORE_ACTIVATED_OFFERS,hash:S.Zd.MORE_ACTIVATED_OFFERS,timestamp:a,type:S.Zd.MORE_ACTIVATED_OFFERS,userInputtedValues:{listId:c,retailerId:i}});default:return e}},Fn=(e,{getAction:t,isFeatureEnabled:s,doesListExist:n,doesListHasMoreItems:a})=>{const{type:r=""}=t();switch(r){case A.Yf:return e.filter(({userInputtedValues:{listId:e,retailerId:t}})=>s(S.mb.QUOTIENT)&&n(e)&&a(e)&&Object(M.q)(e)===S.Fb.OFFER_CARDS&&""!==t);case A.y:case A.x:case A.Xf:case A.Wf:return[];default:return e.filter(({userInputtedValues:{listId:e,retailerId:t}})=>s(S.mb.QUOTIENT)&&Object(M.q)(e)===S.Fb.OFFER_CARDS&&""!==t)}};function xn({baseName:e,domain:t}){return S.Zd.BASENAME_TO_CREATE+e+t}var wn=s(28);const kn=(e,t,s=[])=>`${e}-${t}-${s.join("")}`,Hn=(e,t,s,n={})=>{const{getContactListSelectors:a}=t,r=n.listFilter||a().getCurrentFilter(),o=Object(M.i)(r);return e.concat([{type:S.Zd.CONTACTS_LIST,hash:"CONTACTS_LIST_"+o,timestamp:s,userInputtedValues:{listId:o,count:n.count||(r===S.Gb.TOP_CONTACTS?S.Nb:S.Jb)}}])};var Un=s(479);const jn=(e,t)=>`${e}-${t}`;function Gn({fromEmail:e,syncThrottle:t,action:s}){return babelHelpers.extends({id:e,hash:e,timestamp:s.actionTimestamp,type:S.Zd.IMPORTANT_CONTACTS_FETCH,userInputtedValues:{fromEmail:e,listId:Object(M.o)(e)}},t?{syncThrottle:t}:{})}const Bn=({listId:e,isStale:t=!1},s)=>{const{getAction:n}=s,{actionTimestamp:a}=n();return{type:S.Zd.LIST_TO_UPDATE,id:e,hash:e,timestamp:a,userInputtedValues:{listId:e,isStale:t}}},Vn=(e=[],t,s=!1)=>{const{getAction:n,isSpamMessage:a,isFeatureEnabled:r,getMessageBodyRetryCount:o}=t,i=!r(S.mb.CONVERSATIONS)||r("fetchFullBody"),c=!r(S.nd.SHOW_IMAGES)&&!r(S.mb.INLINE_IMAGES_PROXIED),{isFallback:l=!1,actionTimestamp:d,secure:u=!0,full:m=i,type:p}=n();let _=null;return s&&(_=p===A.Re?S.Fc.LAUNCH:p===A.rb?S.Fc.CHECK_MAIL:S.Fc.NEIGHBOR),e.map(e=>{const t=u&&(a(e)||c),s=o(e);return{type:S.Zd.MESSAGE_ITEM_TO_FETCH,id:e,hash:e+m+t,timestamp:d,userInputtedValues:{messageId:e,secure:t,full:m,isFallback:l,prefetchMode:_,retryCount:s}}})},Wn=(e,t)=>{const{getAction:s,getFoldersSelectors:n,getCurrentListId:a,isFeatureEnabled:r}=t,{isSpamFolder:o}=n(),{actionTimestamp:i,full:c,secure:l=!0}=s(),d=!r(S.nd.SHOW_IMAGES)&&!r(S.mb.INLINE_IMAGES_PROXIED),u=a(),m=Object(M.m)(u),p=void 0!==m&&o(m);return{type:S.Zd.MESSAGE_ITEM_TO_FETCH,id:e,hash:e,timestamp:i,userInputtedValues:{messageGroupId:e,full:c,secure:l&&(p||d)}}},qn=(e,t,s=!1)=>{const{getMessageIdsFromMessageGroupId:n,isDraftMessage:a,getMessageFlags:r,doesMessageBodyExist:o,getHashParams:i}=t,c=n(e)||[],l=c.filter(e=>!a(e)),d=l[l.length-1],u=(i()||{}).messageId,m=c.filter(e=>e===u||a(e)||e===d||r(e).flagged||!r(e).read);return(s?m.slice(0,2):m).filter(e=>!o(e))},zn=(e=[],t,s)=>{const{doesMessageGroupIdExist:n}=t;return e.reduce((e,a)=>{if(n(a)){const n=qn(a,t,s);return e.concat(Vn(n,t,s)).concat(((e,t)=>{const{getAction:s,getSetting:n,getListsSelectors:a,doesMessageGroupIdExist:r,doesListExist:o}=t,i=s().listId;if(!i||!o(i)||Object(M.q)(i)!==S.Fb.MESSAGES)return[];const{getItemIdsSelectors:c}=a(),l=n(S.nd.NEIGHBOR_PREFETCH_COUNT);if(0===l)return[];const d=c(i).getItemIds(),u=d.indexOf(e);return d.filter(e=>{const t=d.indexOf(e);return t!==u&&t<=u+l&&t>=u-l}).reduce((e,s)=>{if(r(s)){const n=qn(s,t,!0);return e.concat(Vn(n,t,!0))}return e.concat(Wn(s,t))},[])})(a,t))}return e.concat(Wn(a,t))},[])},Zn=e=>{const{getRouteParams:t}=e,{groupId:s}=t();return zn([s],e)},Kn=e=>{const{getRouteParams:t,getAction:s,doesComposeSessionExist:n}=e,{csid:a}=t(),r=n(a)?e.getDraftMessageId(a):void 0;return r?Vn([r],e):s().full?((e,t)=>{const{getAction:s}=t,{actionTimestamp:n}=s();return{type:S.Zd.MESSAGE_ITEM_TO_FETCH,id:e,hash:e,timestamp:n,userInputtedValues:{draftCsid:e,full:!0,secure:!1}}})(a,e):[]},Yn=[A.gh,A.Ti,A.qg,A.ed,A.Bj,A.ab],Xn=[A.Qj,A.Pj,A.fb,A.Cj,A.Aj],$n={[A.gh]:S.hc.READ,[A.Ti]:S.hc.STAR,[A.qg]:S.hc.MOVE,[A.ed]:S.hc.MOVE,[A.Bj]:S.hc.MOVE,[A.ab]:S.hc.MOVE},Qn={[S.hc.READ]:"read",[S.hc.STAR]:"flagged",[S.hc.SPAM]:"spam",[S.hc.HAM]:"spam",[S.hc.ANSWER]:"answered",[S.hc.FORWARD]:"forwarded"},Jn=(e,t)=>t.isSpamMove?S.hc.SPAM:t.isHamMove?S.hc.HAM:$n[e],ea=(e=[],t)=>e.filter(e=>e.isAffected).map(e=>((e,t)=>{const{getAction:s}=t,{type:n,actionTimestamp:a}=s();return{type:S.Zd.MESSAGE_ITEM_TO_UPDATE,id:e.messageId||e.messageQuery,hash:`${e.messageId||e.messageQuery}-${a}`,timestamp:a,userInputtedValues:{[Jn(n,e)]:e}}})(e,t)),ta=(e=[],{getAction:t,getRoute:s})=>{const n=s(),{actionTimestamp:a,type:r}=t(),o=Object(M.t)(n),i=Object(M.v)(o)||"",c=Object(M.p)(o).trim()||"";switch(r){case A.Cg:case A.Re:case A.kf:return e.concat({id:S.Zd.OFFERS,hash:i+c,timestamp:a,type:S.Zd.OFFERS,userInputtedValues:{listId:o,retailerId:i,search:c}});case A.hg:return e.concat({id:S.Zd.MORE_OFFERS,hash:i+c,timestamp:a,type:S.Zd.MORE_OFFERS,userInputtedValues:{listId:o,retailerId:i,search:c}});default:return e}},sa=(e,{getAction:t,isFeatureEnabled:s,doesListExist:n,doesListHasMoreItems:a})=>{const{type:r}=t();switch(r){case A.hg:return e.filter(({userInputtedValues:{listId:e,retailerId:t}})=>s(S.mb.QUOTIENT)&&n(e)&&a(e)&&Object(M.q)(e)===S.Fb.OFFER_CARDS&&Object(M.r)(e)===S.Gb.RECOMMENDED_OFFER_CARDS&&""!==t);case A.Ag:case A.gg:case A.zg:case A.fg:return[];default:return e.filter(({userInputtedValues:{listId:e,retailerId:t}})=>s(S.mb.QUOTIENT)&&Object(M.q)(e)===S.Fb.OFFER_CARDS&&Object(M.r)(e)===S.Gb.RECOMMENDED_OFFER_CARDS&&""!==t)}},na=(e,t,s)=>{const{SubTypes:n}=S.u,a=t(e);return Object(E.a)(a,"0.subtype","")===n.ICS&&"READY"!==s(e)?{downloadUrl:a[0].downloadUrl}:null},aa=({accountId:e,updatedSettingAttributes:t,actionTimestamp:s})=>({type:S.Zd.SETTINGS_TO_CHANGE,hash:S.Zd.SETTINGS_TO_CHANGE,timestamp:s,userInputtedValues:{accountId:e,updatedSettingAttributes:t,requestTimestamp:s}}),ra=({timestamp:e})=>[{type:S.Zd.SOCIAL_ACCOUNT_STATUS,hash:"ALL_PROVIDERS",timestamp:e}],oa=Object(M.e)({referrer:S.Hb.TOP_COUPONS}),ia={[S.Zd.CONTACTS_LIST]:{preparer:(e=[],t)=>{const{getAction:s,getRoute:n,isFeatureEnabled:a,getSmartViewTypeFromRoute:r,doesListExist:o,getActionableRightRailPane:i,getContactListSelectors:c}=t,l=s(),d=n(),{type:u,actionTimestamp:m}=l,p=i()===S.Tc.ContactsPane;switch(u){case A.Re:return d.name===S.Uc.CONTACTS||d.name===S.Uc.CONTACT_DETAILS||d.name===S.Uc.CONTACT_DETAILS_FROM_SEARCH||d.name===S.Uc.CREATE_CONTACT||d.name===S.Uc.EDIT_CONTACT||d.name===S.Uc.EDIT_CONTACT_FROM_SEARCH?Hn(e,t,m):e;case A.Cg:{if(l.name===S.Sc.CONTACTS_PANE&&p||d.name===S.Uc.CONTACTS)return Hn(e,t,m);const s=r(d)===S.zd.COUPONS,n=a(S.mb.COUPONS_SMART_VIEW_SEARCH)&&s,i=n?{listFilter:S.Gb.NOT_PEOPLE,count:S.c}:{};if(n&&!o(Object(M.i)(S.Gb.NOT_PEOPLE)))return Hn(e,t,m,i);break}case A.Ob:return Hn(e,t,m);case A.Pb:return((e,t)=>{const{actionTimestamp:s,listId:n,count:a}=t;return e.concat([{type:S.Zd.CONTACTS_LIST,hash:"CONTACTS_LIST_"+n,timestamp:s,userInputtedValues:{listId:n,count:a}}])})(e,l);case A.Bh:if(l.name!==S.Sc.CONTACTS_PANE||!p)break;return Hn(e,t,m);case A.Uc:{const{listIds:s}=l;if(s[S.Gb.TOP_CONTACTS]&&c().getCurrentFilter()===S.Gb.TOP_CONTACTS)return Hn(e,t,m);break}}return e},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.Jb:case A.Ib:if(n.unsyncedDataType!==S.Zd.CONTACTS_LIST)break;return e.filter(e=>e.userInputtedValues.listId!==n.listId)}return e}},[S.Zd.CONTACTS_CATEGORY_LIST]:{preparer:(e=[],t)=>{const{getAction:s}=t,n=s(),{type:a,actionTimestamp:r}=n;switch(a){case A.lb:{const{getStreamsSelectors:s}=t,{doesStreamExist:a,getExpansionStateForStreamItem:o}=s(),{categoryListId:i,listId:c}=n;if(!a(c)||!o({streamId:c,listId:c,csid:i}))return e;const l=Object(M.v)(i),d={listId:c,categoryListId:i,count:S.c,characters:[l]};return e.concat([{type:S.Zd.CONTACTS_CATEGORY_LIST,hash:"CATEGORY_CONTACTS_LIST_"+i+d.count,timestamp:r,userInputtedValues:d}])}case A.Uc:{const{getContactListSelectors:s,doesListExist:a,getListsSelectors:o,getListItemIds:i}=t,{getTotalHits:c}=o(),{listIds:l}=n,d=s().getCurrentFilter(),u=l[d];if(d!==S.Gb.TOP_CONTACTS&&u&&a(u)&&c(u)!==i(u).length){const t=Object(M.i)(d),s=Object(M.v)(u),n={listId:t,categoryListId:u,count:S.Jb,characters:[s]};return e.concat([{type:S.Zd.CONTACTS_CATEGORY_LIST,hash:"CATEGORY_CONTACTS_LIST_"+u+n.count,timestamp:r,userInputtedValues:n}])}break}}return e},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.Jb:case A.Ib:{const{listId:t,characters:s,count:a,unsyncedDataType:r}=n;if(r!==S.Zd.CONTACTS_CATEGORY_LIST)break;return e.filter(e=>{const{listId:n,characters:r,count:o}=e.userInputtedValues;return n!==t||!F()(s,r)||o!==a})}}return e}},[S.Zd.CONTACT_DETAILS]:{preparer:(e=[],t)=>{const{getAction:s,getRoute:n,getRelatedListIdByContactId:a}=t,r=n(),o=s(),{actionTimestamp:i}=o;let c;switch(o.type){case A.Lb:c=a(o.id);break;case A.Re:case A.Cg:r.name!==S.Uc.CONTACT_DETAILS&&r.name!==S.Uc.CONTACT_DETAILS_FROM_SEARCH&&r.name!==S.Uc.EDIT_CONTACT||(c=Object(M.y)(r.params.email))}return c?e.concat([{type:S.Zd.CONTACT_DETAILS,hash:c,timestamp:i,userInputtedValues:{listId:c}}]):e},reconciler:(e,t)=>{const{getAction:s}=t,n=s(),{listData:a={}}=n,{lists:r={}}=a;return e.filter(e=>!r[e.userInputtedValues.listId])}},[S.Zd.CONTACT_SAVE]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:n,newContact:a={},originalContact:r,actionTimestamp:o}=s();switch(n){case A.ec:if(!a.id)break;return e.concat([{type:S.Zd.CONTACT_SAVE,hash:"CONTACT_SAVE_"+a.id,timestamp:o,userInputtedValues:{newContact:a,originalContact:r}}])}return e},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.fc:case A.dc:return e.filter(e=>e.userInputtedValues.newContact.id!==n.contact.id)}return e}},[S.Zd.CONTACT_PHOTO_UPLOAD]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:n,originalContact:a,image:r,actionTimestamp:o}=s();switch(n){case A.ec:if(r)return e.concat({type:S.Zd.CONTACT_PHOTO_UPLOAD,hash:"CONTACT_PHOTO_UPLOAD_"+a.id,timestamp:o,userInputtedValues:{id:a.id,editToken:a.editToken,image:r}})}return e},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.cc:case A.bc:return e.filter(e=>e.userInputtedValues.id!==n.contact.id)}return e}},[S.Zd.SOCIAL_ACCOUNT_AUTH_URL]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:n,getSetting:a}=t,{actionTimestamp:r,type:o,name:i,i13nModel:{mKey:c}={}}=s();switch(o){case A.Sd:{if(i!==S.mb.LINKEDIN_REAUTH_CUE||c!==`cue_${S.mb.LINKEDIN_REAUTH_CUE}_reconnect`)break;const e=S.Bd.LinkedIn;let t=S.Ad[e],{scope:s}=S.xb[e];return n(S.mb.USE_LINKEDIN_TEST_SPID)&&(t=S.Ad[S.Bd.LinkedInTest],s=null),[{type:S.Zd.SOCIAL_ACCOUNT_AUTH_URL,hash:e,timestamp:r,userInputtedValues:{provider:e,spid:t,appRootPath:a(S.nd.APP_ROOT_PATH),scope:s}}]}}return e},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.xi:case A.wi:return e.filter(e=>e.userInputtedValues.provider!==n.provider)}return e}},[S.Zd.SOCIAL_ACCOUNT_IMPORT]:{preparer:(e=[],t)=>{const{getAction:s}=t,{actionTimestamp:n,type:a,provider:r}=s();switch(a){case A.zi:return[{type:S.Zd.SOCIAL_ACCOUNT_IMPORT,hash:r,timestamp:n,userInputtedValues:{provider:r}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.Ei:case A.Di:return e.filter(e=>e.userInputtedValues.provider!==n.provider)}return e}},[S.Zd.SOCIAL_ACCOUNT_STATUS]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:n,getRoute:a}=t,{actionTimestamp:r,type:o}=s();if(!n(S.mb.SOCIAL_ACCOUNTS))return e;switch(o){case A.Re:if(0===e.length&&(n(S.mb.SHOW_LINKEDIN_REAUTH_UPSELL)||a().name===S.Uc.SETTINGS))return ra({timestamp:r});break;case A.Cg:if(0===e.length&&a().name===S.Uc.SETTINGS)return ra({timestamp:r})}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case A.Fi:case A.Gi:return[]}return e}},[S.Zd.CONTACT_CREATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:n,newContact:a={},file:r,actionTimestamp:o}=s();switch(n){case A.ec:if(a.id)break;return e.concat([{type:S.Zd.CONTACT_CREATE,hash:a.emails[0],timestamp:o,userInputtedValues:{newContact:a,file:r,timestamp:o}}])}return e},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.Hc:case A.Ic:return e.filter(e=>e.userInputtedValues.timestamp!==n.timestamp)}return e}},[S.Zd.CONTACT_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.Tc:{const{actionTimestamp:s,editToken:a,id:r}=n,{getListsSelectors:o}=t,{getItemIdsSelectors:i,doesListExist:c,doesListItemExist:l}=o(),d=Un.b.reduce((e,{listFilter:t})=>{const s=Object(M.i)(t);if(!c(s)||!r)return e;const n=i(s).getItemIds().find(e=>c(e)&&l(e,r));return n?babelHelpers.extends({},e,{[t]:n}):e},{});return e.concat([{type:S.Zd.CONTACT_DELETE,hash:a,timestamp:s,userInputtedValues:{editToken:a,listIds:d}}])}}return e},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.Uc:{const{contact:t={}}=n;return t.editToken||Object(rn.a)("Edit token expected to sent along with Delete contact result"),e.filter(e=>e.userInputtedValues.editToken!==t.editToken)}case A.Sc:return n.editToken||Object(rn.a)("Edit token expected to sent along with Delete contact error"),e.filter(e=>e.userInputtedValues.editToken!==n.editToken)}return e}}};var ca=babelHelpers.extends({},ia,{[S.Zd.LAUNCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,n=s(),{type:a,actionTimestamp:r}=n;switch(a){case A.Ue:return[{id:S.Zd.LAUNCH,hash:S.Zd.LAUNCH,timestamp:r,type:S.Zd.LAUNCH,userInputtedValues:n}]}return e},reconciler:(e=[],t)=>{const{getAction:s,getSelectedMailboxId:n}=t,a=s(),{type:r}=a;if(n())return[];switch(r){case A.Oe:case A.Re:case A.Se:return[]}return e},syncSelector:(e=[],t)=>{const{getSelectedMailboxId:s}=t;return s()?[]:e}},[S.Zd.DOCUMENT_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getRouteParams:n,doesAttachmentExistById:a,getDocumentIdByAttachmentId:r,getAttachmentTypeByAttachmentId:o}=t,i=s(),{attachmentId:c}=n()||{};if(!c||!a(c)||o(c)===S.u.Types.IMAGE)return e;const l=r(c);if(!l)return e;switch(i.type){case A.Re:case A.Cg:case A.ud:return e.concat(((e,t,s,n,a)=>{const{getAction:r,getAttachmentTypeByAttachmentId:o,getAttachmentSubtypeByAttachmentId:i,getDocumentRetryCount:c}=a,l=r(),d=c(t,s,n),u=[];let m;for(m=s;m<=n;m++){const a=jn(t,m);u.push({id:a,hash:a,timestamp:l.actionTimestamp,type:S.Zd.DOCUMENT_FETCH,userInputtedValues:{attachmentId:e,documentId:t,pageNumber:m,startPage:s,endPage:n,retryCount:d,type:o(e),subtype:i(e)}})}return u})(c,l,i.startPage||1,i.endPage||S.s.PAGES_CHUNK_SIZE,t))}return e},reconciler:(e=[],t)=>{const{getAction:s,isDocumentLoaded:n,isDocumentPageLoaded:a,getDocumentRetryCount:r}=t,o=s();return e.filter(e=>{const{documentId:t,startPage:s,endPage:o,pageNumber:i}=e.userInputtedValues;return!(r(t,s,o)>S.W||n(t)&&a(t,i))}).filter(e=>{const{documentId:t,startPage:s,endPage:n}=e.userInputtedValues;switch(o.type){case A.vd:case A.td:return!(t===o.documentId&&s===o.startPage&&n===o.endPage)}return!0})},syncSelector:(e=[])=>{const t=e.sort((e,t)=>e.timestamp-t.timestamp).reduce((e,t)=>{const{documentId:s,startPage:n,endPage:a}=t.userInputtedValues;return babelHelpers.extends({},e,{[t.timestamp]:babelHelpers.extends({hash:`${s}-${n}-${a}`},t)})},{});return Object(E.e)(t)}},[S.Zd.RSVP_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getCalendarSelectors:n}=t,{type:a,messageId:r,itemId:o}=s(),{getInviteStatus:i}=n();switch(a){case A.Cg:case A.Zg:case A.we:return"READY"!==i(o||r)?(e=>{const{getAction:t,isFeatureEnabled:s,getRoute:n,getAttachmentsByMessageId:a,doesListExist:r,getListItemIds:o,getCalendarSelectors:i}=e,{getInviteStatus:c}=i(),{actionTimestamp:l,messageId:d,itemId:u,params:m}=t(),p=s(S.mb.RSVP_PREFETCH_API),_=n(),h=Object(M.t)(_),E=r(h)?o(h):[],g=[],b=(e,t)=>({type:S.Zd.RSVP_FETCH,timestamp:l,hash:e,userInputtedValues:{messageId:e,params:t}});if(p&&(d||u)&&E.length>0){const e=E.indexOf(d||u);if(E[e+1]){const t=na(E[e+1],a,c);t&&g.push(b(E[e+1],t))}if(E[e-1]){const t=na(E[e-1],a,c);t&&g.push(b(E[e-1],t))}}return d&&m&&g.push(b(d,m)),g})(t):e;default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.xe:case A.ve:return e.filter(({userInputtedValues:e})=>e.messageId!==n.messageId);default:return e}}},[S.Zd.COMPOSE_SUGGESTIONS_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getIsXobnified:n}=t,a=s(),r=a.query||"";if(!n())return e;switch(a.type){case A.ic:{const e=kn(r,a.contextFrom,a.recipientList);return[{id:e,hash:e,timestamp:a.actionTimestamp,type:S.Zd.COMPOSE_SUGGESTIONS_FETCH,syncThrottle:12e4,syncDefer:200,userInputtedValues:a}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,n=s();return e.filter(e=>{switch(n.type){case A.jc:case A.hc:{const t=kn(n.query,n.contextFrom,n.recipientList);return e.id!==t}}return!0})}},[S.Zd.SEARCH_SUGGESTIONS_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:n}=t,a=s(),r=a.query||"",o=n(S.mb.SHOW_EMPTY_SEARCH_SUGGESTIONS);if(!r&&!o)return e;switch(a.type){case A.Lh:case A.hj:return[{id:r||S.eb,hash:r||S.eb,timestamp:a.actionTimestamp,type:S.Zd.SEARCH_SUGGESTIONS_FETCH,syncThrottle:12e4,syncDefer:200,userInputtedValues:{query:r}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,n=s();return e.filter(e=>{switch(n.type){case A.gj:case A.fj:return e.id!==S.eb&&e.id!==n.query}return!0})}},[S.Zd.IMPORTANT_CONTACTS_FETCH]:{preparer:(e=[],t)=>{const{getSelectedMailboxId:s,getAction:n,getEmailOfSelectedAccount:a,getAllAccounts:r,getListsSelectors:o}=t,{doesListExist:i}=o();if(!s())return e;const c=n();switch(c.type){case A.Lh:{const t=a();return i(Object(M.o)(t))?e:[...e,Gn({fromEmail:t,syncThrottle:6e5,action:c})]}case A.Cg:case A.Re:case A.Rf:{if(c.type!==A.Rf&&-1===[S.Uc.NEW_DRAFT,S.Uc.EDIT_DRAFT].indexOf(c.route.name))break;const t=r().filter(({email:e})=>!i(Object(M.o)(e))).map(({email:e})=>Gn({fromEmail:e,action:c}));return e.concat(t)}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,n=s();return e.filter(e=>{switch(n.type){case A.Ne:case A.Me:return e.userInputtedValues.listId!==n.listId}return!0})}},[S.Zd.VIDEO_CHANNELS_METADATA_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:n}=t,a=s();if(!n(S.mb.EMPTY_FOLDER_VIDEO)||n(S.mb.AOL_VIDEO_PLAYER))return e;switch(a.type){case A.Re:return[{id:S.Zd.VIDEO_CHANNELS_METADATA_FETCH,hash:"VIDEO_CHANNELS_METADATA_FETCH",timestamp:a.actionTimestamp,type:S.Zd.VIDEO_CHANNELS_METADATA_FETCH,userInputtedValues:{}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case A.dk:case A.ck:return[]}return e}},[S.Zd.VIDEO_CHANNEL_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getVideoChannelsMetaData:n}=t,a=s(),{type:r,actionTimestamp:o}=a;switch(r){case A.dk:{const t=n(),[s]=Object.keys(t||{});return s?[{id:s,hash:s,timestamp:o,type:S.Zd.VIDEO_CHANNEL_FETCH,userInputtedValues:{channelAlias:s}}]:e}case A.Gd:return[{id:a.channelAlias,hash:a.channelAlias,timestamp:o,type:S.Zd.VIDEO_CHANNEL_FETCH,userInputtedValues:a}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,n=s(),{type:a}=n;return e.filter(e=>{switch(a){case A.fk:case A.ek:return e.id!==n.channel}return!0})}},[S.Zd.COMPOSE]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:n,csid:a,listId:r,actionTimestamp:o,payload:i}=s();switch(n){case A.ak:return e.map(e=>babelHelpers.extends({},e,{userInputtedValues:babelHelpers.extends({},e.userInputtedValues,e.id===a&&{listId:r}),hash:e.hash||e.userInputtedValues.lastEditedTimeStamp||e.id,saveDueTimestamp:e.saveDueTimestamp||e.timestamp}));case A.Jj:{const{csid:t}=i.userInputtedValues;return e.concat({id:t,hash:t,timestamp:o,saveDueTimestamp:o,type:S.Zd.COMPOSE,userInputtedValues:babelHelpers.extends({},i.userInputtedValues)})}default:return e.map(e=>babelHelpers.extends({},e,{hash:e.hash?e.hash:e.userInputtedValues.lastEditedTimeStamp||e.id,saveDueTimestamp:e.saveDueTimestamp?e.saveDueTimestamp:e.timestamp}))}},reconciler:(e,t)=>{const{getAction:s,isOnline:n,getComposeSessionsSelectors:a,isSendRequested:r,isSent:o,didAttachmentUploadFail:i}=t,{doesComposeSessionExist:c,isComposeSessionDirty:l}=a(),d=s(),u=e.filter(e=>{const{userInputtedValues:t={}}=e,{csid:s}=t;return c(s)&&!o(s)&&(l(t)||r(s))}).reduce((e,t)=>{let s=t.saveDueTimestamp;return[A.Wj,A.Zj].indexOf(d.type)>-1&&t.userInputtedValues.lastEditedTimeStamp===d.lastEditedTimeStamp&&(s=d.actionTimestamp),babelHelpers.extends({},e,{[t.id]:(e[t.id]||[]).concat(babelHelpers.extends({},t,{saveDueTimestamp:s}))})},{});if(!n()){const e=Object.keys(u).map(e=>{const[t]=u[e].sort((e,t)=>t.timestamp-e.timestamp).slice(0,1),s=(t.userInputtedValues.attachmentsInfo||[]).map(e=>e.contentId),n=u[e].reduce((e,t)=>e.concat(t.userInputtedValues.newContentIds||[]),[]).filter(e=>-1!==s.indexOf(e)&&!i(e));return babelHelpers.extends({},t,{userInputtedValues:babelHelpers.extends({},t.userInputtedValues,{newContentIds:n})})});return[].concat.apply([],e)}const m=Object.keys(u).map(e=>{const[t]=u[e].sort((e,t)=>t.timestamp-e.timestamp).slice(0,1),s=(t.userInputtedValues.attachmentsInfo||[]).map(e=>e.contentId),n=u[e].map(e=>babelHelpers.extends({},e,{userInputtedValues:babelHelpers.extends({},e.userInputtedValues,{newContentIds:(e.userInputtedValues.newContentIds||[]).filter(e=>-1!==s.indexOf(e)&&!i(e))})})),a=[...n].sort((e,t)=>e.timestamp-t.timestamp).find(e=>(e.userInputtedValues.newContentIds||[]).length);return a?n.filter(e=>e.timestamp>=a.timestamp):n.sort((e,t)=>t.timestamp-e.timestamp).slice(0,1)});return[].concat.apply([],m)},syncSelector:(e,t,s)=>{const{getAction:n,isSendRequested:a,isAMT:r,isAttachmentUploadPendingForComposeSession:o,getSetting:i}=t,{type:c,forceSync:l,i13nModel:d={}}=n(),u=i(S.nd.COMPOSE_SAVE_INTERVAL),m=-1!==[A.Cg,A.Bg].indexOf(c)||c===A.mj&&l,p=r(),_=e=>!p&&s-e.saveDueTimestamp>u,h=d.mKey===Z.e.MANUAL_SAVE_DRAFT;let E;return E=p?m&&h:m,e.filter(e=>{const{newContentIds:s=[]}=e.userInputtedValues;return!!s.length||!o(e.id)&&(t.isSendRequested(e.id)||_(e)||E)}).map(e=>babelHelpers.extends({},e,{hash:a(e.id)?e.id:e.hash,userInputtedValues:babelHelpers.extends({},e.userInputtedValues,{showNotification:h||!_(e)})}))}},[S.Zd.MESSAGE_ITEM_TO_FETCH]:{preparer:(e=[],t)=>{const{getRoute:s,getAction:n,isMessageRoute:a,isAttachmentRoute:r,isDraftRoute:o,isComposeRoute:i,doesStreamExist:c,getCursorItem:l,getListsSelectors:d,getMainStreamListIds:u,getSelectedMailboxId:m,isFeatureEnabled:p,getSetting:_}=t,h=n();if(!m())return e;switch(h.type){case A.Re:case A.rb:{const{listId:s}=h,{getItemIdsSelectors:n,doesListExist:r}=d();if(a())return e.concat(Zn(t));if(i()||o())return e.concat(Kn(t));if(!s||!r(s)||Object(M.q)(s)!==S.Fb.MESSAGES||h.type===A.rb&&!p(S.mb.CHECK_MAIL_PREFETCH))return e;const{getItemIds:c}=n(s);return e.concat(c().slice(0,_(S.nd.NUM_MESSAGE_GROUPS_TO_PREFETCH)).reduce((e,s)=>e.concat(zn([s],t,!0)),[]))}case A.Gf:case A.Ef:{const s=h.itemsToUpdate.filter(e=>Boolean(e.messageId)).map(e=>e.messageId);return e.concat(Vn(s,t))}case A.Zg:case A.Qf:return e.concat(h.itemId?zn([h.itemId],t):Vn(h.messageIds,t));case A.id:return e.concat(zn([h.messageGroupId],t));case A.Rf:case A.Nf:return e.concat(Vn([h.messageId],t));case A.Yj:case A.Vj:case A.Vi:return e}if(a()||r())return e.concat(Zn(t));if(i()||o())return e.concat(Kn(t));if(_(S.nd.PREVIEW_PANE)===S.Gc.NO||h.type===A.aj)return e;const E=u(s()),g=Object(v.a)(E);if(g&&c(g)){const s=l(g)||{};if(s.id)switch(Object(M.q)(s.listId)){case S.Fb.MESSAGES:return e.concat(zn([s.id],t));case S.Fb.MESSAGE:return e.concat(Vn([s.id],t))}}return e},reconciler:(e,t)=>{const{doesMessageBodyHasError:s,doesMessageGroupIdExist:n,doesMessageBodyExist:a,getAction:r,isSecureMessage:o,doesMessageFullBodyExist:i,getDraftMessageId:c,isOnline:l,getMessageBodyRetryCount:d}=t,u=r(),m=e;return l()?m.filter(e=>{if(e.userInputtedValues.messageId){const{messageId:t,secure:n,full:r}=e.userInputtedValues;if((u.messageIds||[]).indexOf(t)>-1){if(u.type===A.Zg)return d(t)<=S.Pb;if(u.type===A.zf)return!1}return!s(t)&&(!a(t)||!n&&o(t)||r&&!i(t))}return e.userInputtedValues.messageGroupId?u.type===A.If?e.userInputtedValues.messageGroupId!==u.messageGroupId:!n(e.userInputtedValues.messageGroupId):!e.userInputtedValues.draftCsid||(u.type===A.If?e.userInputtedValues.draftCsid!==u.csid:!c(e.userInputtedValues.draftCsid))}):m.map(e=>babelHelpers.extends({},e,{timestamp:u.actionTimestamp}))},syncSelector:e=>{const t=e,s=t.some(e=>0==!!e.userInputtedValues.prefetchMode),n=t.reduce((e,t)=>{if(t.userInputtedValues.messageGroupId||t.userInputtedValues.draftCsid)return babelHelpers.extends({},e,{[t.timestamp]:t});const n=`${t.timestamp}-${t.userInputtedValues.secure}-${t.userInputtedValues.full}`;return e[n]?babelHelpers.extends({},e,{[n]:babelHelpers.extends({},e[n],{userInputtedValues:babelHelpers.extends({},e[n].userInputtedValues,{messageIds:e[n].userInputtedValues.messageIds.concat(t.userInputtedValues.messageId)})})}):babelHelpers.extends({},e,{[n]:{type:S.Zd.MESSAGE_ITEM_TO_FETCH,id:n,hash:n,timestamp:t.timestamp,userInputtedValues:{messageIds:[t.userInputtedValues.messageId],secure:t.userInputtedValues.secure,full:t.userInputtedValues.full,isFallback:t.userInputtedValues.isFallback,prefetchMode:!1===s?t.userInputtedValues.prefetchMode:null,retryCount:t.userInputtedValues.retryCount}}})},{});return[].concat.apply([],Object(E.e)(n))}},[S.Zd.LIST_TO_UPDATE]:{preparer:(e=[],t)=>{const{getRoute:s}=t,n=s(),a=Object(M.t)(n);return n.name&&Object(M.M)(a)?e.concat(Bn({listId:a},t)):e},reconciler:(e,t)=>{const{getAction:s}=t,n=s(),{listsToUpdate:a=[],listData:r={}}=n,{lists:o={}}=r;let i=e;return a.length&&(i=e.map(e=>a.some(t=>t.listId===e.id)?Bn({listId:e.id,isStale:!0},t):e)),Object.keys(o).length&&(i=e.map(e=>o[e.id]?Bn({listId:e.id},t):e)),i},syncSelector:(e,t)=>{const{getAction:s,doesListExist:n,getCurrentListId:a,getSetting:r,isAsyncTaskPending:o,getSelectedMailboxId:i,getRoute:c,isFeatureEnabled:l,getSmartViewTypeFromRoute:d,isMessageUpdatePending:u}=t,m=s(),p=c()||{},{previousRoute:_={}}=m,h=a(),E=e.find(e=>e.id===h),g=Object(M.q)(h),b=l(S.mb.COUPONS_SMART_VIEW_SEARCH)&&p.name===S.Uc.SEARCH&&d(p)===S.zd.COUPONS,I=l(S.mb.BOOTCAMP_COUPONS)&&d(p)===S.zd.COUPONS&&g===S.Fb.COUPON_CARDS,f=g===S.Fb.YAHOO_DEAL_CARDS;if(!p.url||-1!==[S.Uc.MESSAGE_FROM_SEARCH_LIST].indexOf(p.name)||!E||!i()||o()||b||I||f||u())return[];const T=E.userInputtedValues.isStale&&-1!==[S.Uc.LIST,S.Uc.FOLDER,S.Uc.SEARCH].indexOf(p.name),C=!(p.url!==_.url&&m.type!==A.pb&&(T||!n(h))||m.type===A.Cj||m.forceSync);return[babelHelpers.extends({},E,{userInputtedValues:babelHelpers.extends({},E.userInputtedValues,{loadMoreItems:m.type===A.cg,forceSync:m.forceSync}),syncThrottle:500,repeat:C,syncDefer:C?r(S.nd.CHECK_MAIL_INTERVAL):0})]}},[S.Zd.BUSINESS_LISTING]:{preparer:(e=[],{getAction:t,isFeatureEnabled:s,getSetting:n,isMessageRoute:a,isDraftRoute:r,isComposeRoute:o,getListsSelectors:i,getMessageIdsFromMessageGroupId:c,getBusinessListingSelectors:l,getMessagesSelectors:d,getEnvironmentSelectors:u,doesMessageGroupIdExist:m})=>{const{type:p,actionTimestamp:_,groupId:h="",itemId:g="",listId:b,messageGroup:{id:I=""}={},updateBusinessListingForEmail:f=""}=t(),C=u().getGeoLocation();if(!s(S.mb.COUPON_STORE_LOCATOR))return e;let O=[];switch(p){case A.Re:{const{getItemIdsSelectors:e,doesListExist:t}=i();if(a())O=c(h)||[];else if(!o()&&!r()&&b&&t(b)&&Object(M.q)(b)===S.Fb.MESSAGES){const{getItemIds:t}=e(b);O=t().slice(0,n(S.nd.NUM_MESSAGE_GROUPS_TO_PREFETCH)).map(e=>c(e)).reduce((e,t)=>e.concat(t),[])}break}case A.Cg:case A.Zg:g&&m(g)&&O.push(...c(g));break;case A.Jf:I&&O.push(...c(I));break;case A.ue:""!==f&&e.push({type:S.Zd.BUSINESS_LISTING,hash:f,timestamp:_,userInputtedValues:{dataType:S.Zd.BUSINESS_LISTING,senderEmail:f,latlong:C}})}const R=O.map((({getBusinessListingSelectors:e,getMessagesSelectors:t})=>{const{doesValidListingExist:s}=e(),{getCardConversationId:n,getFromAddresses:a,getDecos:r}=t();return e=>Object(T.b)(e).checkIf(n).checkIf(e=>Object(wn.l)(r(e),S.dc.CPN)).chain(e=>Object(E.a)(a(e),"0.email",void 0)).checkIfNot(s).chain(e=>({senderEmail:e}))})({getBusinessListingSelectors:l,getMessagesSelectors:d})).filter(e=>!e.isNothing()).map(e=>e.unbox());return e.concat(R.map(({senderEmail:e})=>({type:S.Zd.BUSINESS_LISTING,hash:e,timestamp:_,userInputtedValues:{dataType:S.Zd.BUSINESS_LISTING,senderEmail:e,latlong:C}})))},reconciler:(e,{getAction:t})=>{const{type:s,senderEmail:n}=t();switch(s){case A.Oj:case A.Nj:return e.filter(({userInputtedValues:{senderEmail:e=""}={}})=>e!==n)}return e}},[S.Zd.GEO_LOCATION]:{preparer:(e=[],{getAction:t,isFeatureEnabled:s})=>Object(T.b)(t()).checkIf(()=>s(S.mb.GEO_LOCATION)).checkIfNot(()=>e.some(({type:e})=>e===S.Zd.GEO_LOCATION)).checkIf(({type:e})=>e===A.te).chain(e=>{let{actionTimestamp:t,email:s=""}=e,n=babelHelpers.objectWithoutProperties(e,["actionTimestamp","email"]);return babelHelpers.extends({},n,{actionTimestamp:t,unsyncedDataForAction:[{type:S.Zd.GEO_LOCATION,hash:S.Zd.GEO_LOCATION,timestamp:t,userInputtedValues:{updateBusinessListingForEmail:s}}]})}).unbox(({unsyncedDataForAction:t=[]}={})=>e.concat(t),()=>e),reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case A.ue:case A.se:return[]}return e}},[S.Zd.SAVED_SEARCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:n}=t();switch(s){case A.Cg:case A.Zg:return e.concat({id:S.Zd.SAVED_SEARCH,hash:S.Zd.SAVED_SEARCH,timestamp:n,type:S.Zd.SAVED_SEARCH,userInputtedValues:{}});default:return e}},reconciler:(e=[],t)=>{const{getAction:s,getSavedSearchesSelectors:n,isFeatureEnabled:a,getMessageIdsFromMessageGroupId:r,getMessagesSelectors:o}=t,{isCoupon:i,doesMessageIdExist:c}=o(),{getTotalNumberOfSavedSearches:l}=n(),{type:d,itemId:u}=s();switch(d){case A.of:case A.nf:return[];default:return Object(T.b)(u).checkIf(()=>a(S.mb.COUPONS_AUTO_CLIP)).checkIf(()=>0===l()).checkIfNot(e=>""===e,e=>r(e)).checkIfNot(([e])=>""===e).checkIf(e=>c(e)&&i(e)).unbox(()=>e,()=>[])}}},[S.Zd.LOCATION_TO_UPDATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,n=s(),{type:a,actionTimestamp:r,location:o}=n;switch(a){case A.fi:return[{id:S.Zd.LOCATION_TO_UPDATE,hash:S.Zd.LOCATION_TO_UPDATE,timestamp:r,type:S.Zd.LOCATION_TO_UPDATE,userInputtedValues:{location:o}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,n=s(),{type:a}=n;switch(a){case A.ei:case A.gi:return[]}return e}},[S.Zd.CONVERSATION_MODE_TO_UPDATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,n=s(),{type:a,actionTimestamp:r,value:o}=n;switch(a){case A.nc:return[{hash:S.Zd.CONVERSATION_MODE_TO_UPDATE,timestamp:r,type:S.Zd.CONVERSATION_MODE_TO_UPDATE,userInputtedValues:{value:o}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,n=s(),{type:a}=n;switch(a){case A.oc:case A.mc:return[]}return e}},[S.Zd.PARENT_MESSAGE_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,cardConversationId:n,actionTimestamp:a}=t();switch(s){case A.Jg:return e.concat([{type:S.Zd.PARENT_MESSAGE_TO_FETCH,hash:n,timestamp:a,userInputtedValues:{cardConversationId:n}}]);default:return e}},reconciler:(e,{getAction:t})=>{const{type:s,cardConversationId:n=""}=t();switch(s){case A.Kg:case A.Ig:return[];default:return n?e:[]}}},[S.Zd.COUPONS_TO_FETCH]:{preparer:(e=[],{getAction:t,getRoute:s,isFeatureEnabled:n,getSelectedAccountId:a})=>{const r=t(),o=s(),{actionTimestamp:i}=r,c=Object(M.t)(o),l=n(S.mb.COUPONS_SMART_VIEW_SEARCH)&&o.name===S.Uc.SEARCH,d=Object(M.p)(c),u=Object(M.k)(c),m=a(),p=n(S.mb.DEALS_VIEW_V2),_=Object(M.Q)(c,{listFilter:S.Gb.ALL_COUPON_CARDS,referrer:S.xd.COUPONS,accountIds:[m]}),h=Object(M.Q)(c,{listFilter:S.Gb.SAVED_COUPON_CARDS,referrer:S.xd.COUPONS,accountIds:[m]}),E=[{type:S.Zd.COUPONS_TO_FETCH,hash:`${S.Zd.COUPONS_TO_FETCH}-${_}`,timestamp:i,userInputtedValues:{listId:_,decoId:[S.dc.CPN],isSearch:l,keyword:d,emailAddress:u,action:r}}];return p&&l||E.push({type:S.Zd.COUPONS_TO_FETCH,hash:`${S.Zd.COUPONS_TO_FETCH}-${h}`,timestamp:i,userInputtedValues:{listId:h,decoId:[S.dc.CPN,S.dc.TAG],isSearch:l,keyword:d,emailAddress:u}}),e.concat(E)},reconciler:(e=[],{getAction:t,doesListExist:s,isFeatureEnabled:n,doesListHasMoreItems:a,getSetting:r,getSmartViewTypeFromRoute:o,getRoute:i})=>{const c=t(),{type:l}=c,d=o(i());switch(l){case A.C:{const t=n(S.mb.AD_BLOCK_COUPONS)&&r(S.nd.AD_BLOCK_COUPONS_SORT_ORDER)!==S.i.RECOMMENDED;return e.filter(({userInputtedValues:{listId:e,isSearch:a}})=>(n(S.mb.BOOTCAMP_COUPONS)||a)&&t&&!s(e))}case A.Zf:return e.filter(({userInputtedValues:{listId:e,action:t,isSearch:r}})=>(n(S.mb.BOOTCAMP_COUPONS)||t||r)&&s(e)&&d===S.zd.COUPONS&&a(e));case A.tc:case A.sc:return[];default:return e.filter(({userInputtedValues:{listId:e,isSearch:t}})=>(n(S.mb.BOOTCAMP_COUPONS)||t)&&!s(e)&&d===S.zd.COUPONS&&Object(M.q)(e)===S.Fb.COUPON_CARDS)}}},[S.Zd.GEMINI_AD_ASSET]:{preparer:(e=[],t)=>{const{getAction:s,getAdsSelectors:n,getRoute:a}=t,{type:r,actionTimestamp:o}=s();if(-1===[A.Cg,A.Re].indexOf(r))return e;const i=a();if(i.name!==S.Uc.SPONSORED_MESSAGE)return e;const{getGeminiAdDataFromCreativeId:c}=n(),{nativeAd:l={}}=c(Object(E.a)(i,"params.creativeId"))||{};return l.geminiSponsoredAsset||!l.url?e:e.concat([{type:S.Zd.GEMINI_AD_ASSET,hash:`GEMINI_AD_ASSET_HASH-${i.params.creativeId}`,timestamp:o,userInputtedValues:{dataType:S.Zd.GEMINI_AD_ASSET,creativeId:i.params.creativeId,url:l.url}}])},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.re:case A.qe:return e.filter(({userInputtedValues:e})=>e.creativeId!==n.creativeId);default:return e}}},[S.Zd.RELATED_SEARCHES_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:n,actionTimestamp:a}=s();switch(n){case A.Cg:case A.Re:return[{type:S.Zd.RELATED_SEARCHES_TO_FETCH,hash:"RELATED_SEARCHES_UNSYNCED_DATA_HASH",timestamp:a,userInputtedValues:{dataType:S.Zd.RELATED_SEARCHES_TO_FETCH}}];default:return e}},reconciler:(e,t)=>{const{getAction:s,getAdsSelectors:n,isFeatureEnabled:a}=t,{getRelatedSearches:r}=n(),o=r(),i=s();if(!a(S.mb.RELATED_SEARCHES_CARD)||o&&Object.keys(o).length)return[];switch(i.type){case A.rh:case A.qh:return[]}return e}},[S.Zd.PLA_ADS_TO_FETCH]:{preparer:(e=[],t)=>{const{isFeatureEnabled:s,getCouponsSelectors:n,getAdsSelectors:a,getAction:r,getRecommendedItemCardSelectors:o}=t,i=r();switch(i.type){case A.Cg:case A.Bf:case A.Zg:case A.ge:{const t=s(S.mb.PLA_ADS_ON_COUPON_MESSAGE_READ),r=s(S.mb.PLA_ADS_ON_RECOMMENDATION_EMAIL_READ),{gptCategoryList:c,couponsRetailer:l}=n().getCouponsGPTData(),d=o().getRecommendedItemList();let u="",m="";i.type===A.ge?(u=i.keyword||"",m=Z.e.PLA_ADS_BY_KEYWORD_RECEIVED_USER_CLICK):t&&c.length>0?(u=c[0],m=Z.e.PLA_ADS_BY_KEYWORD_RECEIVED_OPEN_PAGE):r&&d.length&&(u=d[0],m=Z.e.PLA_ADS_BY_KEYWORD_RECEIVED_OPEN_PAGE);const p=a().getPlaAdsForKeyword(u,l);return u&&!p?[{type:S.Zd.PLA_ADS_TO_FETCH,hash:u,timestamp:i.actionTimestamp,userInputtedValues:{keyword:u,couponsRetailer:l,mkey:m}}]:e}default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.he:case A.Rg:return e.filter(({hash:e})=>e!==n.originalKeyword)}return e}},[S.Zd.MESSAGE_ITEM_TO_UPDATE]:{preparer:(e=[],t)=>{const{getAction:s,getFeaturesSelectors:n}=t,a=s(),r=n().isEnabled(S.mb.UPDATE_ITEMS_V3);if(!(e=>Yn.indexOf(e)>=0)(a.type)||!r)return e;if(a.type===A.ab){const s=a.itemsToUpdate.filter(e=>!!e.messageQuery);return e.concat(ea(s,t))}return e.concat(ea(a.itemsToUpdate,t))},reconciler:(e=[],t)=>{const{getAction:s}=t,n=s();return Object(E.e)(e.sort((e,t)=>e.timestamp-t.timestamp).reduce((e,t)=>{const s=e[t.id]?babelHelpers.extends({},e[t.id].userInputtedValues,t.userInputtedValues):t.userInputtedValues;return babelHelpers.extends({},e,{[t.id]:babelHelpers.extends({},e[t.id]||t,{userInputtedValues:s})})},{})).map(e=>((e,t)=>{const{messageItemsToSync:s=[],itemsToUpdate:n=[],type:a}=e,r=[...s,...n].find(e=>e.id===t.id||e.messageId===t.id),{userInputtedValues:o={}}=t;if(!r)return t;switch(a){case A.Qj:case A.Pj:case A.fb:case A.Cj:case A.Aj:return babelHelpers.extends({},t,{userInputtedValues:le()(o,r.updateTypes)})}return t})(n,e)).filter(e=>Object.keys(e.userInputtedValues).length)},syncSelector:(e=[],t)=>{const{getAction:s,getMessageFlags:n,getMessageFolderId:a,getAccountIdByFolderId:r}=t,{actionTimestamp:o,type:i}=s(),c=e.map(e=>{const t=Object(E.e)(e.userInputtedValues),s=e.id,o=t[0],i=o&&o.messageQuery,c=i?void 0:s;let l,d,u;if(i)d=o.flags,l=o.destinationFolder,u=void 0;else{const e=a(s);u=e?r(e):void 0,l={id:e},d=n(s)}return babelHelpers.extends({id:s,messageId:c,permanentDelete:t.some(e=>e.permanentDelete),updateTypes:Object.keys(e.userInputtedValues),messageQuery:i,deleteDuplicates:t.some(e=>e.deleteDuplicates),flags:d,folder:l},u?{accountId:u}:{})}).map(e=>{const t=babelHelpers.extends({},e);return e.updateTypes.forEach(e=>{const s=Qn[e];s&&(t.flags=babelHelpers.extends({},t.flags||{},{[s]:!!(t.flags||{})[s]}))}),t});return!c.length||(e=>Xn.indexOf(e)>=0)(i)?[]:[{type:S.Zd.MESSAGE_ITEM_TO_UPDATE,id:S.Zd.MESSAGE_ITEM_TO_UPDATE,hash:S.Zd.MESSAGE_ITEM_TO_UPDATE,timestamp:o,userInputtedValues:{messageItemsToSync:c}}]}},[S.Zd.PAYMENTS_CONTENT_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:n}=t,{type:a,actionTimestamp:r}=s(),o=n(S.mb.ADBLOCK_UPSELL_CUE);return a===A.C&&o||a===A.He?[{type:S.Zd.PAYMENTS_CONTENT_TO_FETCH,hash:"PAYMENTS_CONTENT_UNSYNCED_DATA_HASH",timestamp:r,userInputtedValues:{dataType:S.Zd.PAYMENTS_CONTENT_TO_FETCH}}]:e},reconciler:(e,t)=>{const{getAction:s,getPaymentSelectors:n,getFeaturesSelectors:a}=t,{isEnabled:r}=a(),{getPaymentDetails:o}=n(),i=r(S.mb.MAIL_PRO_ELIGIBLE),c=o(),l=s();if(!i||c.length)return[];switch(l.type){case A.Mg:case A.Lg:return[]}return e}},[S.Zd.ASYNC_TASK_STATUS]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:n,actionTimestamp:a}=s();switch(n){case A.qg:case A.ed:case A.ab:case A.gh:case A.Ti:{const t=s(),{isAsync:n=!1}=t;return n?[{type:S.Zd.ASYNC_TASK_STATUS,hash:"ASYNC_TASK_STATUS_HASH",timestamp:a,userInputtedValues:{taskId:null,status:S.z.INIT,progress:0,pollCount:0,abort:!1,actionPayload:t}}]:e}case A.fb:{const e=s(),{tasks:t=[]}=e,n=babelHelpers.objectWithoutProperties(e,["tasks"]);return t.map(({id:e,status:t,progress:s,pollCount:r=0})=>({type:S.Zd.ASYNC_TASK_STATUS,hash:e,timestamp:a,userInputtedValues:{taskId:e,status:t,progress:s,pollCount:r,abort:!1,actionPayload:n}}))}case A.gb:{const{id:t,status:n,progress:r,pollCount:o=0}=s();return e.map(e=>e.userInputtedValues.taskId&&t!==e.userInputtedValues.taskId?e:babelHelpers.extends({},e,{timestamp:a,userInputtedValues:babelHelpers.extends({},e.userInputtedValues,{taskId:t,status:n,progress:r,pollCount:o})}))}case A.eb:return e.map(e=>babelHelpers.extends({},e,{timestamp:a,userInputtedValues:babelHelpers.extends({},e.userInputtedValues,{abort:!0})}));default:return e}},reconciler:(e,t)=>{const{getAction:s,isOnline:n}=t,{type:a,triageActionType:r}=s();if(!n())return e.length>0?[]:e;switch(a){case A.Qj:case A.Pj:return e.filter(e=>Object(E.a)(e,"userInputtedValues.actionPayload.triageActionType",void 0)!==r);case A.db:return e.length>0?[]:e;default:return e}},syncSelector:(e=[],t,s)=>{const{getFeaturesSelectors:n}=t,a=n().getSetting(S.nd.ASYNC_TASK_POLL_INTERVAL);return e.filter(e=>{const t=e.userInputtedValues;return!!t.abort||!!t.taskId&&!(s-e.timestamp<a)})}},[S.Zd.CONTACT_CARD]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:n,actionTimestamp:a,email:r,isCompose:o}=s();switch(n){case A.Ub:return e.concat([{type:S.Zd.CONTACT_CARD,hash:r,timestamp:a,userInputtedValues:{email:r,isCompose:o}}]);default:return e}},reconciler:(e,t)=>{const{getAction:s,doesContactIdExist:n}=t,a=s();switch(a.type){case A.Vb:case A.Tb:return e.filter(e=>e.userInputtedValues.email!==a.email)}return e.filter(e=>!n(e.userInputtedValues.email))}},[S.Zd.COMPONENT_UI_STATE]:{preparer:(e=[])=>e.sort((e,t)=>t.timestamp-e.timestamp).slice(0,10),syncSelector:()=>[]},[S.Zd.ACCOUNT_TO_UPDATE]:{preparer:Ln,reconciler:vn,syncSelector:e=>{const t=yn()(e,e=>e.timestamp);return t?[t]:[]}},[S.Zd.SETTINGS_TO_CHANGE]:{preparer:(e=[],t)=>{const s=t.getAction(),{type:n,actionTimestamp:a}=s;switch(n){case A.Wd:return"pacNotificationCue"!==s.name?e:e.concat(aa({actionTimestamp:a,accountId:"none",updatedSettingAttributes:[{name:S.nd.SHOW_IMAGES,value:!0}]}));case A.pj:case A.Cg:{const{updatedSettingAttributes:t,accountId:n="none"}=s;return t?e.concat(aa({accountId:n,updatedSettingAttributes:t,actionTimestamp:a})):e}default:return e}},reconciler:(e=[],t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.bi:case A.di:if(n.requestActionPayload){const{requestTimestamp:t,accountId:s}=n.requestActionPayload;return e.filter(e=>{const{userInputtedValues:{accountId:n}}=e;return n!==s||t<e.timestamp})}return e}return e},syncSelector:e=>{if(!e.length)return[];e.sort((e,t)=>e.timestamp-t.timestamp);const t=e.reduce((e,t)=>{const{accountId:s,updatedSettingAttributes:n,requestTimestamp:a}=t.userInputtedValues;e[s]||(e[s]={});const{userInputtedValues:r={}}=e[s];return e[s]=babelHelpers.extends({},e[s],{type:S.Zd.SETTINGS_TO_CHANGE,hash:S.Zd.SETTINGS_TO_CHANGE+s,timestamp:t.timestamp,userInputtedValues:babelHelpers.extends({},r,{updatedSettingAttributes:babelHelpers.extends({},r.updatedSettingAttributes||{},n.reduce((e,{name:t,value:s})=>(e[t]=s,e),{})),accountId:s,requestTimestamp:a})}),e},{});return Object.keys(t).reduce((e,s)=>{const n=t[s],{userInputtedValues:a}=n;return a.updatedSettingAttributes=Object.keys(a.updatedSettingAttributes).reduce((e,t)=>[...e,{name:t,value:a.updatedSettingAttributes[t]}],[]),[...e,n]},[])}},[S.Zd.FOLDER]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:n,folderId:a,folderName:r,actionTimestamp:o,filters:i,originalFolderName:c,newFolderName:l,subfolders:d}=s();switch(n){case A.th:case A.bd:return e.concat([{type:S.Zd.FOLDER,hash:a,timestamp:o,userInputtedValues:{folderId:a,folderName:r,filters:i,originalFolderName:c,newFolderName:l,updateType:n,subfolders:d}}]);default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.uh:case A.sh:return e.filter(({userInputtedValues:e})=>e.folderId!==n.folderId||e.updateType!==A.th);case A.cd:case A.ad:return e.filter(({userInputtedValues:e})=>e.folderId!==n.folderId||e.updateType!==A.bd)}return e}},[S.Zd.GEMINI_AD]:{preparer:(e=[],t)=>{const{getAction:s,getAdSectionIds:n,getCurrentSpaceId:a,isFeatureEnabled:r}=t;if(!r(S.mb.PENCIL_AD))return[];const o=s(),i=n(),c=a();return Object(E.b)(i)||!c?e:e.concat(Object.keys(i).map(e=>({type:S.Zd.GEMINI_AD,hash:`GEMINI_AD_HASH-${i[e]}`,timestamp:o.actionTimestamp,userInputtedValues:{spaceId:c,sectionId:i[e],adPosition:e}})))},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.ne:case A.me:return e.filter(({userInputtedValues:e})=>-1===Object(E.e)(n.sectionIds).indexOf(e.sectionId));default:return e}},syncSelector:(()=>{let e={},t={},s={};return(n,a,r)=>{if(!n.length||"undefined"==typeof window)return[];const{getAction:o,getAdSectionIds:i,getRoute:c,getSelectedMailboxId:l,getStreamsSelectors:d,getSetting:u,getCurrentListId:m,isFeatureEnabled:p,getAdsSelectors:_,getReconciledUnysncedDataByHash:g,getEnvironmentSelectors:b}=a,I=o(),f=i(),T=c(),{doesStreamExist:O,getCursorSelectors:R}=d(),N=-1!==[S.Uc.FOLDER,S.Uc.SEARCH,S.Uc.LIST].indexOf(T.name),D=I.type===A.He&&p(S.mb.RIGHT_RAIL_UPSELL_VIDEO_AD);let L=!1,v=!1,P=!1;if(I.streamId&&O(I.streamId)&&u(S.nd.PREVIEW_PANE)!==S.Gc.NO&&N){const t=R(I.streamId).getCursorItem();!t||t.id===e.id&&t.listId===e.listId||Object(M.q)(t.listId)!==S.Fb.MESSAGES||(e=t,L=!0)}l()&&!Object(y.D)(T,t)&&(v=!0,t=T),Object(E.d)(f,s)||(P=!0,s=f);const F=u(S.nd.PENCIL_AD_VERSION);if(["couponOnPencilAdPosition","coloredCouponOnPencilAdPosition","couponOnPencilAdRotation1","couponOnPencilAdRotation2","couponOnPencilAdRotation3"].indexOf(F)>-1&&Object(C.d)(I)&&1===_().getCouponOnPencilState())return[];if(p(S.mb.FAN_ADS)&&_().getFanAdRenderTime()>0)return[];const x=-1!==[A.Yg,A.Rf].indexOf(I.type)||v||P||I.type===A.Qd,w=L||Object(C.d)(I)||x,{getFeedbackStartedSectionIds:k,getCachedGeminiAds:H}=_(),U=k().length>0;if(!D&&(!w||U||p("drawer")))return[];const j=m(),G=g(`MessageListUi-${j}`)||{},B=Object(E.a)(G,"uiState.scrollTop",0),{contentAndRightRailHeight:V}=b().getWindowDimensions(),W=h.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT+(p(S.mb.SECOND_PENCIL_AD)||p(S.mb.TIMECHUNK_PENCIL_AD)?V:0),q=u(S.nd.GEMINI_SECTION_IDS),z=[q[S.vb.MESSAGE_LIST],q[S.vb.MESSAGE_LIST_2]],Z=u(S.nd.TIME_TO_WAIT_SINCE_LAST_AD_CALL),K=n.filter(({userInputtedValues:e})=>!p(S.mb.ROTATE_PENCIL_AD_ON_EXPIRE)||H(e.sectionId).length<=2).filter(({userInputtedValues:e})=>-1!==Object(E.e)(f).indexOf(e.sectionId)).filter(({userInputtedValues:e})=>!(N&&(Object(M.z)(j)||Object(M.G)(j)||B>W)&&-1!==z.indexOf(e.sectionId))).filter(e=>x||r-e.timestamp>Z);return K.length?K.reduce((e,t)=>{const{userInputtedValues:s,timestamp:n}=t,{spaceId:a,sectionId:r,adPosition:o}=s;return e[0]?[babelHelpers.extends({},e[0],{userInputtedValues:babelHelpers.extends({},e[0].userInputtedValues,{sectionIds:babelHelpers.extends({},e[0].userInputtedValues.sectionIds,{[o]:r})})})]:[{type:S.Zd.GEMINI_AD,hash:"GEMINI_AD_HASH",timestamp:n,userInputtedValues:{spaceId:a,sectionIds:{[o]:r}}}]},[]):[]}})()},[S.Zd.VACATION_RESPONSE_SETTINGS]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:n,value:a,actionType:r,actionTimestamp:o}=s();switch(n){case A.pi:return[{type:S.Zd.VACATION_RESPONSE_SETTINGS,hash:S.be.SAVE_VACATION_RESPONSE,timestamp:o,warnOnClose:!0,userInputtedValues:{value:a,actionType:r,requestTimestamp:o}}];default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.qi:case A.oi:return e.filter(e=>e.hash!==S.be.PREVENT_ROUTE_CHANGE&&e.timestamp>n.requestTimestamp);default:return e.filter(e=>e.hash!==S.be.PREVENT_ROUTE_CHANGE)}}},[S.Zd.RAW_MESSAGE]:{syncSelector:(e,t)=>{const{getAction:s}=t,{type:n,messageId:a,actionTimestamp:r}=s();return n!==A.kk?[]:[{type:S.Zd.RAW_MESSAGE,hash:a,timestamp:r,userInputtedValues:{dataType:S.Zd.RAW_MESSAGE,messageId:a}}]}},[S.Zd.COUPON_RECOMMENDATIONS_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:n,messageId:a=""}=t();switch(s){case A.qc:return e.concat({type:S.Zd.COUPON_RECOMMENDATIONS_TO_FETCH,hash:"COUPONS_RECOMMENDATIONS_UNSYNCED_DATA_HASH",timestamp:n,userInputtedValues:{cardMessageId:a}});default:return e}},reconciler:(e,{getAction:t,getCouponsSelectors:s,isFeatureEnabled:n})=>{const{type:a,parentMessageId:r="",messageId:o="",recommendations:i=!1,listId:c=""}=t(),{isSingleCouponParentMessageId:l}=s(),[{userInputtedValues:{cardMessageId:d=""}={}}={}]=e,u=Object(M.e)({referrer:S.Hb.COUPON_RECOMMENDATIONS,keyword:d});switch(a){case A.tc:case A.sc:return c===u?[]:e;default:return Object(T.b)(r).checkIfNot(()=>""===o).checkIf(()=>i).checkIf(()=>n(S.mb.COUPON_RECOMMENDATIONS)||n(S.mb.COUPON_REC_WITH_ADS)).checkIf(e=>l(e)||n(S.mb.MULTI_COUPON_RECOMMENDATIONS)).unbox(()=>e,()=>[])}},syncSelector:(e,{getAction:t})=>{const{type:s}=t();switch(s){case A.rc:return e;default:return[]}}},[S.Zd.RELATED_COUPONS_TO_FETCH]:{preparer:(e=[],{getAction:t,getSenderEmailIdsFromMessageGroup:s,getGroupId:n})=>{const{type:a,actionTimestamp:r}=t(),o=s([n()])[0],i=Object(M.f)({listContentType:S.Fb.COUPON_CARDS,listFilter:S.Gb.ALL_COUPON_CARDS,referrer:S.Hb.RELATED_COUPONS,emailAddresses:o});switch(a){case A.Cg:return e.concat({type:S.Zd.RELATED_COUPONS_TO_FETCH,hash:`RELATED_COUPONS-${o}`,timestamp:r,userInputtedValues:{listId:i,emailAddress:o}});default:return e}},reconciler:(e,{getAction:t,getListsSelectors:s,isFeatureEnabled:n})=>{const{type:a,itemId:r,listId:o=""}=t(),{getItemIdsSelectors:i,doesListExist:c}=s(),l=e.filter(({userInputtedValues:e})=>!c(e.listId)||0===i(e.listId).getItemIds().length);switch(a){case A.tc:case A.sc:return l.filter(({userInputtedValues:e})=>e.listId!==o);default:return Object(T.b)(r).checkIfNot(e=>""===e).checkIf(()=>n(S.mb.RELATED_COUPONS)).unbox(()=>l,()=>[])}}},[S.Zd.COUPON_SEARCH]:{preparer:(e=[],t)=>{const{getAction:s,getCurrentListId:n,isFeatureEnabled:a}=t,{type:r,actionTimestamp:o}=s(),i=n();if(!a(S.mb.COUPONS_ON_SEARCH_RIGHT_RAIL))return e;switch(r){case A.Cg:case A.Re:return e.concat([{type:S.Zd.COUPON_SEARCH,hash:`COUPON_SEARCH_HASH-${i}`,timestamp:o,userInputtedValues:{listId:i}}]);default:return e}},reconciler:(e,t)=>{const{getListsSelectors:s,getAction:n}=t,{getSearchCoupons:a}=s(),r=n();switch(r.type){case A.Ec:case A.Fc:return e.filter(({userInputtedValues:e})=>{const{listId:t}=e;return!a(t)&&t!==r.listId});default:return e.filter(({userInputtedValues:e})=>!a(e.listId))}}},[S.Zd.ACCOUNT_TO_REAUTH]:{preparer:(e=[],t)=>{const{getAction:s}=t,{actionTimestamp:n,wssid:a,accountId:r,type:o,email:i,provider:c}=s();switch(o){case A.u:return[...e,{type:S.Zd.ACCOUNT_TO_REAUTH,hash:S.Zd.ACCOUNT_TO_REAUTH+r,timestamp:n,userInputtedValues:{wssid:a,accountId:r,email:i,provider:c}}];default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.v:case A.t:return e.filter(({userInputtedValues:e})=>e.accountId!==n.accountId)}return e}},[S.Zd.RETAILERS]:{preparer:(e=[],{getAction:t})=>{const{actionTimestamp:s,type:n}=t();switch(n){case A.Re:case A.Zg:return e.concat({id:S.Zd.RETAILERS,hash:S.Zd.RETAILERS,timestamp:s,type:S.Zd.RETAILERS});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s,getRetailersSelectors:n})=>{const{getTotalNumberOfRetailers:a}=n(),{type:r}=t();switch(r){case A.zh:case A.yh:return[];default:return e.filter(()=>s(S.mb.QUOTIENT)&&0===a())}}},[S.Zd.SR_RETAILERS]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:n}=t();switch(s){case A.Re:case A.Zg:return e.concat({id:S.Zd.SR_RETAILERS,hash:S.Zd.SR_RETAILERS,timestamp:n,type:S.Zd.SR_RETAILERS});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s,getSRRetailersSelectors:n})=>{const{getTotalNumberOfRetailers:a}=n(),{type:r}=t();switch(r){case A.Ni:case A.Mi:return[];default:return e.filter(()=>s(S.mb.SHOPRUNNER)&&0===a())}}},[S.Zd.RETAILER_LINK]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:n,retailerId:a,loyaltyId:r,parentName:o}=t();switch(s){case A.jf:return e.concat({id:S.Zd.RETAILER_LINK,hash:a,timestamp:n,type:S.Zd.RETAILER_LINK,userInputtedValues:{retailerId:a,loyaltyId:r,parentName:o}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const{type:n,retailerId:a,loyaltyId:r}=t();switch(n){case A.kf:case A.if:return[];default:return Object(T.b)(a).checkIfNot(e=>""===e).checkIf(()=>s(S.mb.QUOTIENT)).checkIf(()=>r).checkIfNot(()=>""===r).unbox(()=>e,()=>[])}}},[S.Zd.RETAILER_UNLINK]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:n,retailerId:a}=t();switch(s){case A.Ej:return e.concat({id:S.Zd.RETAILER_UNLINK,hash:a,timestamp:n,type:S.Zd.RETAILER_UNLINK,userInputtedValues:{retailerId:a}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const{type:n,retailerId:a}=t();switch(n){case A.Fj:case A.Dj:return[];default:return Object(T.b)(a).checkIfNot(e=>""===e).checkIf(()=>s(S.mb.QUOTIENT)).unbox(()=>e,()=>[])}}},[S.Zd.OFFERS]:{preparer:ta,reconciler:sa},[S.Zd.MORE_OFFERS]:{preparer:ta,reconciler:sa},[S.Zd.ACTIVATE_OFFER]:{preparer:(e=[],{getAction:t,getRoute:s})=>{const{type:n,actionTimestamp:a,retailerId:r,offer:o}=t(),i=s(),c=Object(M.t)(i),l=Object(M.Q)(c,{listFilter:S.Gb.ACTIVATED_OFFER_CARDS});switch(n){case A.A:return e.concat({id:S.Zd.ACTIVATE_OFFER,hash:`${r}-${o.offerId}`,timestamp:a,type:S.Zd.ACTIVATE_OFFER,userInputtedValues:{listId:l,retailerId:r,offer:o}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const{type:n,retailerId:a="",offer:r={}}=t(),{offerId:o=""}=r;switch(n){case A.B:case A.z:return[];default:return Object(T.b)(a).checkIfNot(e=>""===e).checkIf(()=>s(S.mb.QUOTIENT)).checkIf(()=>o).checkIfNot(()=>""===o).unbox(()=>e,()=>[])}}},[S.Zd.ACTIVATED_OFFERS]:{preparer:Pn,reconciler:Fn},[S.Zd.MORE_ACTIVATED_OFFERS]:{preparer:Pn,reconciler:Fn},[S.Zd.SAVINGS]:{preparer:(e=[],{getAction:t,getRoute:s})=>{const n=s(),{actionTimestamp:a,type:r}=t(),o=Object(M.t)(n),i=Object(M.v)(o)||"";switch(r){case A.Cg:case A.Re:case A.kf:return e.concat({id:S.Zd.SAVINGS,hash:`${i}-savings`,timestamp:a,type:S.Zd.SAVINGS,userInputtedValues:{listId:o,retailerId:i}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const{type:n}=t();switch(n){case A.Jh:case A.Ih:return[];default:return e.filter(({userInputtedValues:{listId:e,retailerId:t}})=>s(S.mb.QUOTIENT)&&Object(M.q)(e)===S.Fb.OFFER_CARDS&&Object(M.r)(e)===S.Gb.RECOMMENDED_OFFER_CARDS&&""!==t)}}},[S.Zd.BASENAME_TO_CREATE]:{preparer:(e=[],t)=>{const s=t.getAction(),{type:n,actionTimestamp:a}=s;switch(n){case A.qd:{const{domain:t,baseName:n}=s;return[...e,{type:S.Zd.BASENAME_TO_CREATE,hash:xn({baseName:n,domain:t}),timestamp:a,userInputtedValues:{domain:t,baseName:n}}]}default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,{baseName:n,domain:a,type:r}=s();switch(r){case A.sd:case A.rd:case A.pd:return e.filter(({hash:e})=>e!==xn({baseName:n,domain:a}))}return e}},[S.Zd.ACCOUNT_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:n,accountId:a}=s();switch(n){case A.n:return e.concat(((e,t)=>{const{getAction:s}=t,{actionTimestamp:n,type:a}=s();return{type:S.Zd.ACCOUNT_DELETE,hash:e,timestamp:n,userInputtedValues:{accountId:e,updateType:a}}})(a,t));default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.m:case A.o:return e.filter(({userInputtedValues:e})=>e.updateType!==A.n&&e.accountId!==n.updatedAccount.id)}return e}},[S.Zd.ACCOUNT_ADD]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:n,newAccount:a}=s();switch(n){case A.h:return e.concat(((e,t)=>{const{getAction:s}=t,{actionTimestamp:n,emailOrPhoneRegAccount:a=!1,type:r}=s();return{type:S.Zd.ACCOUNT_ADD,hash:e.email,id:e.email,timestamp:n,userInputtedValues:{newAccount:e,emailOrPhoneRegAccount:a,updateType:r}}})(a,t));default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.j:case A.f:return e.filter(({userInputtedValues:e})=>e.updateType!==A.h&&e.newAccount.email!==n.newAccount.email)}return e}},[S.Zd.MORE_ITEMS_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,shouldFetchMoreItems:n}=t,{type:a,actionTimestamp:r,listId:o,currentGroupId:i,allItemsSelected:c}=s();switch(a){case A.cg:return i&&!n(o,i)?e:[...e,{type:S.Zd.MORE_ITEMS_TO_FETCH,hash:S.Zd.MORE_ITEMS_TO_FETCH+o,timestamp:r,userInputtedValues:{allItemsSelected:c,listId:o}}];default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.eg:case A.dg:case A.mg:case A.lg:case A.og:case A.ng:return e.filter(e=>e.hash!==S.Zd.MORE_ITEMS_TO_FETCH+n.listId)}return e},syncSelector:(e,t)=>{const{isAsyncTaskPending:s}=t;return s()?[]:e}},[S.Zd.GIFS_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.Ce:{const{query:s,listId:a,fetchMoreItems:r}=n,{getListsSelectors:o}=t,{getItemIdsSelectors:i,doesListExist:c,hasMoreItems:l}=o(),d=n.listId;if(c(a)){const t=i(a).getItemIds().length;if(!l(a)&&t)return e;if(t&&!r)return e}return[...e,{id:d,hash:d,timestamp:n.actionTimestamp,type:S.Zd.GIFS_TO_FETCH,userInputtedValues:{query:s,listId:a,fetchMoreItems:r,id:d}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,n=s();return e.filter(e=>{switch(n.type){case A.De:case A.Be:return e.id!==n.id}return!0})}},[S.Zd.GIF_CATEGORY_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getGifCategoriesSelectors:n}=t,{isCategoryListLoaded:a}=n(),r=s();switch(r.type){case A.ze:return a()?[]:[{id:S.Zd.GIF_CATEGORY_TO_FETCH,hash:S.Zd.GIF_CATEGORY_TO_FETCH,timestamp:r.actionTimestamp,type:S.Zd.GIF_CATEGORY_TO_FETCH}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case A.Ae:case A.ye:return[]}return e}},[S.Zd.TOP_COUPONS_TO_FETCH]:{preparer:(e=[],{isFeatureEnabled:t,getAction:s,getEmailOfSelectedAccount:n})=>{if(!t(S.mb.COUPON_CARD_EXTRACTIONS))return e;const{type:a,actionTimestamp:r}=s();switch(a){case A.Cg:case A.C:case A.Re:return[{type:S.Zd.TOP_COUPONS_TO_FETCH,hash:"TOP_COUPONS_UNSYNCED_DATA_HASH",timestamp:r,userInputtedValues:{email:n()}}];default:return e}},reconciler:(e,{getAction:t,getRoute:s,isFeatureEnabled:n,getSmartViewTypeFromRoute:a,getCouponsSelectors:r,getSetting:o})=>{const{type:i,listId:c=""}=t(),{getTopCoupons:l}=r(),d=a(s())===S.zd.COUPONS,u=n(S.mb.COUPONS_SMART_VIEW_SEARCH)&&d,m=n(S.mb.AD_BLOCK_COUPONS)&&o(S.nd.AD_BLOCK_COUPONS_SORT_ORDER)===S.i.RECOMMENDED,p=o(S.nd.PENCIL_AD_VERSION),_=n(S.mb.AD_BLOCK_COUPONS_ON_PENCIL_ADS),h=n(S.mb.DEALS_VIEW_V2)&&d,E=["couponOnPencilAdPosition","coloredCouponOnPencilAdPosition","couponOnPencilAdRotation1","couponOnPencilAdRotation2","couponOnPencilAdRotation3"].indexOf(p)>-1;if(!(h||m||_||u||E)||l().length)return[];switch(i){case A.tc:case A.sc:if(c===oa)return[];break;case A.Re:if(!E&&!h)return[]}return e}},[S.Zd.PENSIEVE_ITEM_TO_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.Pg:{const{id:t}=n.attachment;return[...e,{hash:t,id:t,timestamp:n.actionTimestamp,type:S.Zd.PENSIEVE_ITEM_TO_DELETE,userInputtedValues:{attachment:n.attachment}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.Qg:case A.Og:return e.filter(e=>e.id!==n.attachId)}return e}},[S.Zd.ALIAS_EMAIL_TO_CREATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.N:return[{hash:S.Zd.ALIAS_EMAIL_TO_CREATE,timestamp:n.actionTimestamp,type:S.Zd.ALIAS_EMAIL_TO_CREATE,userInputtedValues:{email:n.email}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case A.O:case A.M:return[]}return e}},[S.Zd.CONFIRM_EMAIL_TO_RESEND]:{preparer:(e=[],t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.Gb:{const t=n.account.email;return[...e,{hash:t,id:t,timestamp:n.actionTimestamp,type:S.Zd.CONFIRM_EMAIL_TO_RESEND,userInputtedValues:{account:n.account}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.Hb:case A.Fb:return e.filter(e=>e.id!==n.email)}return e}},[S.Zd.BLOCKED_SENDERS_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getAction(),{type:n,actionTimestamp:a}=s;switch(n){case A.ai:return e.concat([{id:S.Zd.BLOCKED_SENDERS_TO_FETCH,hash:S.Zd.BLOCKED_SENDERS_TO_FETCH,type:S.Zd.BLOCKED_SENDERS_TO_FETCH,timestamp:a}])}return e},reconciler:(e=[],t)=>{switch(t.getAction().type){case A.ii:case A.hi:case A.Zh:case A.Yh:return[]}return e}},[S.Zd.SHOPLIFT_AD_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:n,getGroupId:a,getMessageIdsFromMessageGroupId:r}=t;if(!n(S.mb.SHOPLIFT_AD))return e;const o=a(),{type:i,actionTimestamp:c}=s(),l=r(o)||[];switch(i){case A.Cg:case A.Vi:case A.Zg:case A.Bf:return e.concat({type:S.Zd.SHOPLIFT_AD_TO_FETCH,hash:`SHOPLIFT_AD_HASH-${o}`,timestamp:c,userInputtedValues:{groupId:o,messageId:l[0]}});default:return e}},reconciler:(e,{getAction:t,getAdsSelectors:s,getMessageBodiesSelectors:n})=>{const{type:a,groupId:r}=t(),{getShopliftAd:o}=s(),{hasFullBody:i,doesMessageBodyExist:c}=n(),l=e.filter(({userInputtedValues:e})=>{const{groupId:t,messageId:s}=e;return!!s&&c(s)&&i(s)&&!o(t)});switch(a){case A.ti:case A.si:return l.filter(({userInputtedValues:e})=>e.groupId!==r);default:return l}}},[S.Zd.COMPOSE_ATTRIBUTES_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,doesCurrentRouteContainDraft:n,getComposeAttributesSelectors:a,getSelectedMailboxId:r}=t,{getComposeAttributesStatus:o}=a(),i=o();if(!r()||i!==S.Rc.LOADING)return[];const c=s();switch(c.type){case A.Rf:return[{hash:S.Zd.COMPOSE_ATTRIBUTES_TO_FETCH,timestamp:c.actionTimestamp,type:S.Zd.COMPOSE_ATTRIBUTES_TO_FETCH,userInputtedValues:{}}];case A.nk:case A.mk:return e;default:if(n())return[{hash:S.Zd.COMPOSE_ATTRIBUTES_TO_FETCH,timestamp:c.actionTimestamp,type:S.Zd.COMPOSE_ATTRIBUTES_TO_FETCH,userInputtedValues:{}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case A.Ab:case A.zb:return[]}return e}},[S.Zd.POST_LUNCH_TO_SYNC]:{reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case A.Ug:case A.Tg:return[]}return e},syncSelector:(e=[],t)=>{const{getSelectedMailboxId:s,getAction:n}=t;if(!s())return[];switch(n().type){case A.Ue:case A.Oe:case A.Se:return[]}return e}},[S.Zd.TOP_RETAILERS_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:n}=t();switch(s){case A.Cg:case A.Re:return[{type:S.Zd.TOP_RETAILERS_TO_FETCH,hash:"TOP_RETAILERS_UNSYNCED_DATA_HASH",timestamp:n}];default:return e}},reconciler:(e,{getAction:t,getRoute:s,isFeatureEnabled:n,getSmartViewTypeFromRoute:a,getDealsSelectors:r})=>{const{type:o}=t(),i=a(s())===S.zd.COUPONS,c=n(S.mb.COUPONS_SMART_VIEW_SEARCH)&&i,l=r().getTopRetailers();if(!c||l)return[];switch(o){case A.wj:case A.vj:return[]}return e}},[S.Zd.TOP_DEAL_CATEGORIES_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:n}=t();switch(s){case A.Cg:case A.Re:return[{type:S.Zd.TOP_DEAL_CATEGORIES_TO_FETCH,hash:"TOP_DEAL_CATEGORIES_UNSYNCED_DATA_HASH",timestamp:n}];default:return e}},reconciler:(e,{getAction:t,getRoute:s,isFeatureEnabled:n,getSmartViewTypeFromRoute:a,getDealsSelectors:r})=>{const{type:o}=t(),i=a(s())===S.zd.COUPONS,c=n(S.mb.CATEGORY_FILTER),l=n(S.mb.COUPONS_SMART_VIEW_SEARCH)&&i,d=r().getTopDealCategories();if(!c||!l||d)return[];switch(o){case A.uj:case A.tj:return[]}return e}},[S.Zd.YAHOO_DEALS_TO_FETCH]:{preparer:(e=[],{isFeatureEnabled:t,getAction:s,getCurrentListId:n})=>{const{type:a,actionTimestamp:r}=s();switch(a){case A.Cg:case A.Re:{const s=n();return t(S.mb.TAIWAN_SHOPPING_VIEW)&&Object(M.q)(s)===S.Fb.YAHOO_DEAL_CARDS?e.concat({type:S.Zd.YAHOO_DEALS_TO_FETCH,hash:`YAHOO_DEALS_HASH-${s}`,timestamp:r,userInputtedValues:{listId:s}}):e}default:return e}},reconciler:(e,{getAction:t})=>{switch(t().type){case A.oj:case A.nj:return[];default:return e}}},[S.Zd.RECENT_SEARCH_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,n=s(),a=n.keyword;switch(n.type){case A.kd:return e.concat({id:a,hash:a,userInputtedValues:{query:a},timestamp:n.actionTimestamp,type:S.Zd.RECENT_SEARCH_DELETE,syncThrottle:12e4,syncDefer:200})}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,n=s();return e.filter(e=>{switch(n.type){case A.ld:case A.jd:return e.id!==n.keyword}return!0})}},[S.Zd.LINK_ENHANCER_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,n=s();switch(n.type){case A.Ye:{const{cardUrl:s}=n,{getLinkEnhancerSelectors:a}=t,{getEnhancedLinks:r}=a(),o=s;return void 0!==r()[s]?e:[...e,{id:o,hash:o,timestamp:n.actionTimestamp,type:S.Zd.LINK_ENHANCER_TO_FETCH,userInputtedValues:{cardUrl:s,id:o}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,n=s();return e.filter(e=>{switch(n.type){case A.Ze:case A.Xe:return e.id!==n.id}return!0})}},[S.Zd.FETCH_PRIMARY_ACCOUNT]:{preparer:Ln,reconciler:vn}}),la=s(291);var da=(e=[],t)=>t.unsyncedData&&!F()(t.unsyncedData,e)?t.unsyncedData:e;const ua=(e,t,s,n)=>{const a=t.reduce((e,t)=>babelHelpers.extends({},e,{[t.type]:(e[t.type]||[]).concat(t)}),{}),r=o()(Object.keys(S.Zd).concat(t.map(e=>e.type)));return[].concat.apply([],r.map(t=>ca[t]&&"function"==typeof ca[t][e]?ca[t][e](a[t]||[],s,n):a[t]||[]))},ma=(e,t={})=>ua("reconciler",e,t).concat(((e,t={})=>{const{getAction:s}=t,n=s();return n.type!==A.mj&&la.a[n.type]?[{id:`V2-${n.type}-${n.actionTimestamp}`,hash:`V2-${n.type}-${n.actionTimestamp}`,type:n.type,isAutoGenerated:!0,timestamp:n.actionTimestamp,userInputtedValues:n}]:[]})(0,t));var pa=Object(i.c)({currentChannel:(e="",t)=>{switch(t.type){case A.ob:case A.fk:return t.channel}return e},showVideoPlayer:(e=!0,t)=>{switch(t.type){case A.gk:return!1;case A.hk:return!0}return e},channelData:(e={},t)=>{switch(t.type){case A.dk:return t.payload;case A.fk:{const{payload:s,channel:n}=t;return babelHelpers.extends({},e,{[n]:s[n]})}}return e},isPaused:(e=!1,t)=>{switch(t.type){case A.ik:return!0;case A.jk:return!1}return e}});var _a=Object(i.c)({recommendedProducts:(e=[],t)=>{switch(t.type){case A.oj:return t.recommendedProducts;default:return e}},activities:(e=[],t)=>{switch(t.type){case A.oj:return t.rushBuyActivities;default:return e}}});var ha=s(429);var Ea=(e={},t)=>{switch(t.type){case A.Ze:{const{cardUrl:s,linkInfo:n}=t;return babelHelpers.extends({},e,{[s]:n})}case A.Xe:{const{cardUrl:s}=t;return babelHelpers.extends({},e,{[s]:null})}default:return e}};s.d(t,"b",function(){return Pa});const ga=S.cb.Status,ba=e=>e.url,Ia=e=>e.params,fa=e=>-1!==e.url.indexOf("/search/"),Sa=e=>"/m/"===e.url.substr(0,3),Aa=e=>-1!==e.url.indexOf("/messages/"),Ta=e=>-1!==e.url.indexOf("/edit/"),Ca=e=>-1!==e.url.indexOf("/compose/"),Oa=e=>e.name===S.Uc.FOLDER,Ra={action:{reducer:(e={},t)=>t,selector:(e={})=>e},unsyncedData:{reducer:da,selector:(e=[])=>{return{getUnsyncedData:()=>e,getReconciledUnsyncedData:t=>{const{getAction:s}=t;if(!s().route)return e;const n=((e,t={})=>Mn()(ua("preparer",e,t).filter(e=>Boolean(e.hash)),"hash"))(e,t);return ma(n,t)},getUnsyncedDataToSync:(e,t)=>((e,t,s)=>ua("syncSelector",e,t,s))(e.getReconciledUnsyncedData(),e,t)}}},launchError:{reducer:Yt,selector:(e={})=>({getLaunchErrorType:()=>e.type})},composeSessions:{reducer:Ce,selector:(e={})=>{const t={doesComposeSessionExist:t=>!!e[t],getComposeFieldToFocus:t=>(e[t]||{}).composeFieldToFocus,doComposeFromRouteQueryParams:t=>e[t].doComposeFromRouteQueryParams,doComposeFromMailToLink:t=>Boolean(e[t].mailToLink),getMailToLink:t=>e[t].mailToLink,getStationeryTheme:t=>e[t].stationeryTheme,getUndoStack:t=>e[t].composeUndoStack,getRedoStack:t=>e[t].composeRedoStack,getUiState:t=>e[t].composeUiState,wasAutotagDropdownClosed:t=>e[t].isAutotagDisabled,getReplyingToMessageId:e=>{const{getInReplyToMessageId:s,getInReplyAllToMessageId:n,getInForwardToMessageId:a}=t;return s(e)||n(e)||a(e)},getAttachmentProgress:t=>e[t].attachmentProgress,findReplyForwardCsidsOfMessage:s=>Object.keys(e).filter(e=>t.getReplyingToMessageId(e)===s),findDraftMessageCsid:s=>Object.keys(e).find(e=>t.getDraftMessageId(e)===s),getDraftMessageId:t=>e[t].draftMessageId,getForwardCreativeId:t=>e[t].forwardCreativeId,getForwardAttachmentIds:t=>e[t].forwardAttachmentIds,getInReplyToMessageId:t=>e[t].inReplyToMessageId,getInReplyAllToMessageId:t=>e[t].inReplyAllToMessageId,getInForwardToMessageId:t=>e[t].inForwardToMessageId,isReplyMessage:t=>Boolean(e[t].inReplyToMessageId),isReplyAllMessage:t=>Boolean(e[t].inReplyAllToMessageId),isForwardMessage:t=>Boolean(e[t].inForwardToMessageId),isSendRequested:t=>e[t].sendStatus===Se.g.SENDING,isSendFailed:t=>e[t].sendStatus===Se.g.SEND_FAILED,isSent:t=>e[t].sendStatus===Se.g.SENT,getLastSaveTimeStamp:t=>e[t].lastSaveTimeStamp,isQuotedTextExpanded:t=>Boolean(e[t].isQuotedTextExpanded),getFatalErrorCount:t=>e[t].fatalErrorCount,isComposeSessionDirty:({csid:t,lastEditedTimeStamp:s})=>Boolean(s)&&(!e[t]||!e[t].lastSaveTimeStamp||e[t].lastSaveTimeStamp!==s),getLastOpenTimeStamp:t=>e[t].lastOpenTimeStamp,getLastAutotagQuery:t=>e[t].lastAutotagQuery,getComposeParams:t=>e[t].composeParams};return t}},attachments:{reducer:ue,selector:(e={})=>({doesAttachmentExistById:t=>!!e[t],getAttachmentById:t=>e[t],getContentIdByAttachmentId:t=>e[t].contentId,getConversationIdByAttachmentId:t=>e[t].conversationId,getMimetypeByAttachmentId:t=>`${e[t].type}/${e[t].subtype}`,getAttachmentTypeByAttachmentId:t=>e[t].type,getAttachmentSubtypeByAttachmentId:t=>e[t].subtype,getSizeByAttachmentId:t=>e[t].size,isInlineAttachmentById:t=>e[t].disposition===de.INLINE,isNonInlineAttachmentById:t=>e[t].disposition!==de.INLINE,getConversationId:t=>e[t].conversationId,getTimeStamp:t=>e[t].creationDate,getMessageReferenceByContentId:t=>{const s=Object(E.e)(e).find(e=>e.contentId===t);if(s&&s.id){const{id:e,partId:t}=s;return{id:e.split(":").slice(0,-1).join(":"),pid:t}}},getDownloadUrlByContentId:t=>{const s=Object(E.e)(e).find(e=>e.contentId===t);return s?s.downloadUrl:null},getByContentId:t=>Object(E.e)(e).find(e=>e.contentId===t),hasError:t=>{const s=Object(E.e)(e).find(e=>e.contentId===t);return!(!s||s.id)},isUploaded:t=>{const s=Object(E.e)(e).find(e=>e.contentId===t);return!(!s||!s.id)},getThumbnailUrl:t=>{const s=Object(E.e)(e).find(e=>e.contentId===t);return Object(ie.j)(s.thumbnailUrl,150)},getDocumentIdByAttachmentId:t=>e[t].documentId,getAttachmentIdByDocumentId:t=>{const s=Object(E.e)(e).find(e=>e.documentId===t);return s?s.id:null}})},lists:{reducer:is,selector:(e={})=>{const t={doesListExist:s=>Boolean(e[s]&&t.getListStatus(s)!==S.Rc.DOES_NOT_EXIST),getListIdsByContentType:t=>Object.keys(e).filter(e=>Object(M.q)(e)===t),getItemIdsSelectors:t=>((e=[])=>({doesItemIdExist:t=>!!e.find(e=>e===t),getItemIdByIndex:t=>e[t],getItemIdIndex:t=>e.indexOf(t),getItemIds:()=>e}))(e[t]?e[t].itemIds:[]),__getListIds__:()=>Object.keys(e),getListNextItemsUrl:t=>e[t].nextItemsUrl,getListOffset:t=>e[t].offset,getListOfferType:t=>e[t].offerType,hasMoreItems:t=>e[t].hasMoreItems,getListStatus:t=>e[t].status,getLmv3Query:t=>e[t].lmv3Query,getSuggestedWords:t=>e[t].suggestedWords,getTotalHits:t=>e[t].totalHits,doesListItemExist:(e,s)=>t.doesListExist(e)&&t.getItemIdsSelectors(e).doesItemIdExist(s),getListItemIdIndex:(e,s)=>t.doesListExist(e)&&t.getItemIdsSelectors(e).getItemIdIndex(s),getItemIdByIndex:(e,s)=>t.getItemIdsSelectors(e).getItemIdByIndex(s),getItemIds:e=>t.getItemIdsSelectors(e).getItemIds(),getPreviousListItemId:(e,s)=>{const n=t.getListItemIdIndex(e,s)-1;if(!(n<0))return t.getItemIdByIndex(e,n)},getImportantContactIds:()=>{const s=Object(M.o)("");return t.doesListExist(s)?e[s].itemIds:[]},getImportantContactEmailsByContextEmail:s=>{const n=Object(M.o)(s);return t.doesListExist(n)?e[n].itemIds:[]},getNextListItemId:(e,s)=>{const n=t.getListItemIdIndex(e,s)+1;if(!(n>t.getItemIds(e).length))return t.getItemIdByIndex(e,n)},isListEmpty:e=>t.getListStatus(e)===S.Rc.LOADED&&0===t.getItemIds(e).length,getSearchCoupons:s=>t.doesListExist(s)&&e[s].searchCoupons,isListExpanded:t=>!!e[t]&&e[t].expanded};return t}},streams:{reducer:fn,selector:(e={})=>({doesStreamExist:t=>!!e[t],getSelectedItemsSelectors:t=>((e={})=>({getSelectedItems:()=>Object.keys(e).reduce((t,s)=>t.concat(Object.keys(e[s]).map(e=>({id:e,listId:s}))),[]),isItemSelected:t=>e[t.listId]&&e[t.listId][t.id],hasSelectedItems:()=>{let t,s;for(s in e)if(ln.call(e,s))for(t in e[s])if(ln.call(e[s],t))return!0;return!1}}))(e[t].selectedItems),getCursorSelectors:t=>((e={})=>({getCursor:()=>e,getCursorItem:()=>e.streamItem}))(e[t].cursor),getSelectionType:t=>((e=S.ld.NONE)=>({getSelectionType:()=>e}))(e[t].selectionType).getSelectionType(),getExpansionStateForStreamItem:t=>e[t.streamId].expansionState[gn(t)]})},documents:{reducer:qe,selector:e=>({getState:t=>e[t]?e[t].status:S.Rc.DOES_NOT_EXIST,getDocument:t=>e[t],getError:t=>{const s=!!e[t].retryCount&&Object(E.e)(e[t].retryCount).some(e=>e>S.W),n=e[t].error;return n&&n.isRetryable?babelHelpers.extends({},n,{isRetryable:!s&&n.isRetryable}):n},getNumberOfPages:t=>e[t].numPages,getRetryCount:(t,s,n)=>e[t]?e[t].retryCount[Ve(s,n)]:0,isDocumentLoaded:t=>!(!e[t]||e[t].status!==S.Rc.LOADED),isPageLoaded:(t,s)=>!(!e[t].pages[s]||e[t].pages[s].status!==S.Rc.LOADED)})},subjectsAndSnippets:{reducer:An,selector:e=>({getSubject:(t,s)=>{const n=Object(M.w)(s);return e.subjects[t][n]||e.subjects[t][M.a]},getSnippet:(t,s)=>{const n=Object(M.w)(s);return e.snippets[t][n]||e.snippets[t][M.a]}})},folders:{reducer:Dt,selector:(e={})=>{const t=t=>!!e[t].types.find(e=>S.Jd.hasOwnProperty(e)),s=t=>(e[t].types||[]).find(e=>S.Hc.hasOwnProperty(e)),n={doesFolderIdExist:t=>!!e[t],getFolderIdsByName:t=>Object.keys(e).reduce((s,n)=>e[n].name===t?s.concat(n):s,[]),getFolderIds:()=>Object.keys(e),getFolderName:t=>e[t].name,getFolderNameLocalizer:t=>{const n=s(t),a=e[t].name;return e=>Object(N.m)(e,n)||a},shouldUpdateFolders:t=>{const s=Object.keys(Object(N.d)(t));return Object.keys(e).length!==s.length||s.some(e=>!n.doesFolderIdExist(e))},getFolderTotal:t=>e[t].total,getFolderHighestModSeq:t=>e[t].highestModSeq,getFolderLevelByFolderId:t=>e[t].level,getFolderUnreadCount:t=>e[t].unread,getFolderTypes:t=>e[t].types,getFolderUidNext:t=>e[t].uidNext,getFolderPath:t=>e[t].path,isPermDeleteFolderType:e=>{const t=s(e);return-1!==[S.ub.TRASH,S.ub.DRAFT,S.ub.BULK].indexOf(t)},getFolderIdsByNameAndAccountId:(t,s)=>Object.keys(e).reduce((n,a)=>e[a].name===t&&e[a].accountId===s?n.concat(a):n,[]),getFolderDisplayTypeByFolderId:t=>{const n=e[t].types,a=s(t);return a===S.ub.ARCHIVE&&n.indexOf(S.ub.EXTERNAL_ALL)>-1?S.sb.ALL_MAIL:a},getPrimaryFolderTypeByFolderId:s,isSystemFolder:t,isSpamFolder:t=>e[t].types.indexOf(S.Jd.BULK)>-1,getAccountIdByFolderId:t=>e[t].accountId,getFolderIdsFromFolderType:(t,s)=>Object.keys(e).reduce((n,a)=>-1!==e[a].types.indexOf(t)&&e[a].accountId===s?n.concat(a):n,[]),getAllInboxes:()=>Object.keys(e).reduce((t,s)=>-1!==e[s].types.indexOf(S.ub.INBOX)?t.concat(s):t,[]).map(t=>e[t]),getFolderIdsByAccountId:t=>Object.keys(e).filter(function(s){return e[s].accountId===t}),isDraftFolder:e=>n.getPrimaryFolderTypeByFolderId(e)===S.ub.DRAFT,isSentFolder:e=>n.getPrimaryFolderTypeByFolderId(e)===S.ub.SENT,isTrashFolder:e=>n.getPrimaryFolderTypeByFolderId(e)===S.ub.TRASH,getParentFolderId:t=>{const s=e[t].path,n=e[t].name,a=e[t].accountId,r=Object.keys(e).find(t=>e[t].accountId===a&&e[t].path+"/"+n===s);return r||""},getSystemFolderListWithSmartView:a=>Object.keys(e).filter(s=>e[s].accountId===a&&t(s)).map(e=>({id:e,type:s(e),kind:"folder",name:n.getFolderName(e),level:0})).concat(Object.keys(N.c).map(e=>({id:e,type:e,kind:"smartview",name:e,level:0}))).sort((e,t)=>N.a[e.type]-N.a[t.type]),getCustomFolderIds:t=>Object.keys(e).map(t=>e[t]).filter(e=>e.accountId===t&&e.types.indexOf(S.ub.USER)>=0&&e.types.indexOf(S.ub.INVISIBLE)<0).sort(Nt.d).map(e=>e.id),getUserCardFolderIds:t=>{let s;for(s in e){const n=e[s];if(n.accountId===t&&n.types.indexOf(S.ub.USER)>=0&&n.types.indexOf(S.ub.CARD)>=0&&n.types.indexOf(S.ub.INVISIBLE)>=0)return s}return-1},getSystemFolderList:a=>Object.keys(e).filter(s=>e[s].accountId===a&&t(s)).map(e=>({id:e,type:s(e),kind:"folder",name:n.getFolderName(e),level:0})).sort((e,t)=>N.a[e.type]-N.a[t.type]),getCustomFolderList:t=>Object.keys(e).map(t=>e[t]).filter(e=>e.accountId===t&&(e.types.indexOf(S.ub.USER)>=0||n.hasChildren(e.id))&&-1===e.types.indexOf(S.ub.INVISIBLE)).sort(Nt.d).map(e=>({id:e.id,type:s(e.id),kind:"folder",name:e.name,level:e.level})),hasChildren:t=>{const s=e[t].path+"/";let n=!1;return Object.keys(e).some(t=>{0===e[t].path.indexOf(s)&&(n=!0)}),n},__get__:t=>e[t],__getFolderIds__:()=>Object.keys(e)};return babelHelpers.extends({},n)}},savedSearches:{reducer:$s,selector:(e={})=>({doesSavedSearchIdExist:t=>!!e[t],getSavedSearchesByQuery:t=>Object.keys(e).reduce((s,n)=>e[n].query===t?s.concat(e[n]):s,[]),getTotalNumberOfSavedSearches:()=>Object.keys(e).length})},mailboxes:{reducer:Es,selector:(e={})=>{const t={getAllMailboxes:()=>e.allMailboxes,getSelectedMailboxId:()=>e.id,getAccountsSelectors:()=>((e={})=>{const t=Object.keys(e),s={getAccountById:t=>e[t],getPrimaryAccount:()=>t.map(t=>e[t]).find(({isPrimary:e})=>!!e),getPrimaryAccountType:()=>(s.getPrimaryAccount()||{}).type,getPrimaryAccountId:()=>t.find(t=>e[t].isPrimary),isPrimaryAccountDisabled:()=>s.getPrimaryAccount().status===S.f.DISABLED,userHasRegisteredAccount:()=>{const s=t.find(t=>{const{isPrimary:s,type:n,status:a}=e[t];return s&&a===S.f.DISABLED&&(n===S.g.EXTERNAL||n===S.g.PHONE)}),n=t.find(t=>{const{type:s,status:n}=e[t];return s===S.g.IMAPIN&&(n===S.f.ENABLED||n===S.f.PENDING)});return!s||!!n},getAllAccounts:({includeDisabled:s=!1}={})=>t.map(t=>e[t]).filter(({status:e})=>s||e!==S.f.DISABLED).sort(us.k),getSelectedAccountId:()=>t.find(t=>e[t].isSelected),getSendingAccountId:()=>t.find(t=>e[t].isSending),hasIMAPinAccounts:()=>t.filter(t=>e[t].type===S.g.IMAPIN).length>0,isMyEmailAddress:t=>Object(E.e)(e).some(e=>e.email===t),getRootAccounts:()=>t.map(t=>e[t]).filter(e=>S.Qc.indexOf(e.type)>-1),hasMultipleRootAccounts:()=>s.getRootAccounts().length>1,getSendAccountsByAccountId:e=>{const t=s.getAccountById(e);if(!t.isPrimary)return[t];const n=s.getAllAccounts().filter(e=>-1===S.Qc.indexOf(e.type)||e.type===S.g.BIZMAIL&&!e.isPrimary);return[t].concat(n)},isSignatureActive:t=>Boolean(e[t].signatureActive),getSignatureByAccountId:t=>e[t].signatureActive?e[t].signature:"",isPrimaryAccountEmail:e=>{const t=s.getAccountIdByAccountEmail(e);return S.Qc.indexOf(s.getAccountTypeByAccountId(t))>-1},getSignatureByAccountEmail:e=>s.isPrimaryAccountEmail(e)?s.getSignatureByAccountId(s.getAccountIdByAccountEmail(e)):s.getSignatureByAccountId(s.getSelectedAccountId()),getAccountDescriptionByAccountId:e=>s.getAccountById(e).description,getAccountTypeByAccountId:e=>s.getAccountById(e).type,getAccountEmailByAccountId:e=>s.getAccountById(e).email,getAccountNameByAccountId:e=>s.getAccountById(e).sendingName,getAccountProvider:t=>us.d(e[t]),isSelectedAccountId:e=>s.getAccountById(e).isSelected,getMyAddresses:()=>Object.keys(e).map(t=>e[t].email),hasAccountWithEmail:t=>Object(E.e)(e).some(e=>e.email===t),getAccountIdByAccountEmail:t=>Object(E.e)(e).find(e=>e.email===t).id,getAliasAccounts:()=>Object.keys(e).map(t=>e[t]).filter(e=>e.type===S.g.ALIAS),getAccountIds:()=>Object.keys(e),doesSelectedAccountExist:()=>Boolean(s.getSelectedAccountId()),getProviderFromAccount:t=>us.g(e[t]),getAccountsWithMailboxes:()=>Object.keys(e).filter(t=>e[t].isPrimary||e[t].type===S.g.IMAPIN),getAvailableAccounts:()=>s.getAccountsWithMailboxes().filter(e=>s.getAccountById(e).status!==S.f.DELETE_IN_PROGRESS),getImapInAccounts:()=>Object.keys(e).filter(t=>e[t].type===S.g.IMAPIN),getAccountSubscriptionIds:()=>Object.keys(e).map(t=>e[t]).map(e=>e.subscriptionId),getMailboxAccounts:()=>s.getAllAccounts().filter(e=>e.type===S.g.IMAPIN||e.isPrimary)};return s})(e.accounts),getAliasSuggestions:ds(e.aliasSuggestion).getSuggestions,getAliasSuggestionStatus:ds(e.aliasSuggestion).getStatus,getSocialAccountsStatus:()=>e.socialAccountsStatus,getDeaBaseName:()=>e.deaBaseName,getBaseNameSuggestions:()=>e.baseNameSuggestions,getRecentlyAddedAccount:()=>e.recentlyAddedAccount?e.accounts[e.recentlyAddedAccount]:null,isAccountExpired:s=>{const n=t.getAccountsSelectors().getAccountById(s);return!(!n||n.type!==S.g.IMAPIN||!e.accountAlerts.find(e=>e.accountId===s&&-1!==[_s,hs].indexOf(e.state)&&1===e.type))},getAlertIdByAccountId:t=>(e.accountAlerts.find(e=>e.accountId===t)||{}).id,getExpiredAccounts:()=>t.getAccountsSelectors().getAllAccounts().filter(e=>t.isAccountExpired(e.id)),getMailboxSize:()=>e.mailboxSize};return t}},ads:{reducer:oe,selector:e=>t=>({getAdRotationId:()=>e.adRotationId,getGeminiAds:t=>e.geminiAds[t],hasAnyGeminiAd:()=>Object.keys(e.geminiAds).length,getGeminiAdData:e=>j(0,t,e),getGeminiAdDataInArray:e=>G(0,t,e),getGeminiError:()=>e.geminiError,getNativeAdData:e=>j(0,t,e).nativeAd,getPencilAdData:s=>((e,t,s)=>{const n=t.getRoute(),a=Object(M.t)(n),r=j(0,t,s).pencilAd;return e.searchAds[a]?e.searchAds[a].pencilAd:r})(e,t,s),getAdFeedbackStatus:()=>e.adFeedback,getFeedbackStartedSectionIds:()=>Object.keys(e.adFeedback).filter(t=>e.adFeedback[t]===$),getAdFeedbackBeacon:e=>Object(E.a)(j(0,t,e),"pencilAd.adFeedbackBeacon"),getMessageReadAdRotationTimestamp:()=>e.messageReadAdRotation.timestamp,getMessageReadAdRotationTimestampV2:()=>e.messageReadAdRotation.timestampV2,getMessageReadAdRotationActive:()=>e.messageReadAdRotation.active,getDarlaAdData:()=>e.darla,getGeminiCategories:()=>e.geminiCategories,doesSponsoredAdExist:t=>!!e.sponsoredAds[t],getSponsoredAd:t=>e.sponsoredAds[t],getSearchAdData:t=>e.searchAds[t]?e.searchAds[t].pencilAd:null,getPlaAdData:t=>t?Object(E.a)(e,`plaAds.searchPlaAds.${t}`,[]):[],getCurrentGptCategory:()=>e.plaAds.currentGptItem,getPlaAdsForKeyword:(s,n="")=>{const a=Object(z.b)(t,s,n),r=a?Object(E.a)(e,"plaAds.plaAdsOnMessageRead",null):null;return r?r[a]:null},getRelatedSearches:()=>e.relatedSearches,getGeminiAdDataFromCreativeId:s=>{let n;return Object.keys(e.geminiAds).find(e=>(n=j(0,t,e)).creativeId===s)?n:null},isAdBlocked:()=>e.isAdBlocked,getNativeAdFormType:e=>{const s=Object(E.a)(j(0,t,e),"nativeAd.embeddedLandingUrls",{});return(Object(E.e)(s).find(e=>"fsubmit"===e.label)||{}).type||null},getCachedGeminiAds:e=>U(0,t,e),getSponsoredMomentData:()=>((e,t)=>{const s=B(0,t);return s?s.pencilAd:null})(0,t),getVideoSponsoredMomentData:()=>((e,t)=>{if(!t.isFeatureEnabled(S.mb.VIDEO_SPONSORED_MOMENT))return null;const s=B(0,t);return s?s.videoAd:null})(0,t),getCouponOnPencilState:()=>e.couponOnPencilState,isSponsoredMomentClosed:()=>e.isSponsoredMomentClosed,getShoppingCartAd:()=>((e,t)=>{const{getSetting:s,isFeatureEnabled:n,hasMatchingDomainInMessageGroup:a}=t,r=s(S.nd.GEMINI_SECTION_IDS)[S.vb.SHOPPING_CART],o=G(0,t,r),i=Object(E.a)(o,"0.pencilAd.domain");return n(S.mb.SHOPPING_CART_AD)&&o.length&&a({[i]:!0})?o:[]})(0,t),getGeminiAdTimestamp:e=>((e,t,s)=>{const{timestamp:n}=U(0,t,s)[0]||{};return n||te.timestamp})(0,t,e),getShopliftAd:t=>e.shopliftAds[t],getFanAdRenderTime:()=>e.fanAdRenderTime})},people:{reducer:ks,selector:(e={})=>({getContactByXobniId:t=>e[t],doesPeopleContactExistByXobniId:t=>e[t],getRelationshipHistoryByXobniId:t=>e[t].relationshipHistory})},printItems:{reducer:Hs,selector:(e={})=>({getItemToPrint:()=>{const t=Object.keys(e).filter(t=>!e[t].isPrinted)[0];return t?e[t]:{}}})},messageBodies:{reducer:bs,selector:(e={})=>({get:t=>e[t].body,getState:t=>e[t]?e[t].status:S.Rc.DOES_NOT_EXIST,doesMessageBodyExist:t=>!!e[t]&&-1===[S.Rc.DOES_NOT_EXIST,S.Rc.ERROR].indexOf(e[t].status),hasFullBody:t=>e[t]&&e[t].hasFullBody,hasError:t=>e[t]&&e[t].status===S.Rc.ERROR,isSecureMessage:t=>{const s=e[t];if(!s)return!1;const{body:{htmlAnnotations:n=[]},isSecure:a,hasFullBody:r}=s;return r?n.some(({type:e})=>"blocked"===e):a},getMessageBodiesCount:()=>Object.keys(e).length,getRetryCount:t=>e[t]?e[t].retryCount:0})},messageGroups:{reducer:As,selector:(e={})=>({doesMessageGroupIdExist:t=>!!e[t],getMessageIdsFromMessageGroupId:t=>e[t]||[],getGroupIdContainingMessageId:t=>Object.keys(e).find(s=>-1!==e[s].indexOf(t)),__getGroupIdContainingMessageId__:t=>Object.keys(e).find(s=>-1!==e[s].indexOf(t))})},cardGroups:{reducer:ge,selector:(e={})=>t=>({doesCardGroupIdExist:t=>!!e[t],getMessageIdsFromCardGroupId:t=>e[t],getMostRecentEmailId:s=>{const{getMessagesSelectors:n}=t,{getDecos:a,getTimeStamp:r}=n(),o=e[s].filter(e=>a(e).some(e=>e.id===S.dc.EML));return o.length>1&&o.sort((e,t)=>r(t)-r(e)),o[0]}})},cardMessageToSchemas:{reducer:Ie,selector:(e={})=>({getSchemas:t=>e[t]})},flights:{reducer:Rt,selector:(e={})=>({getFlightCard:t=>e[t],getCardDate:t=>Date.parse(e[t].departureTime),isEligibleCardForFilter:(t,s,n)=>{const a=Date.parse(e[t].departureTime);switch(s){case S.Gb.TRAVEL_VIEW_UPCOMING:return a>=n;case S.Gb.TRAVEL_VIEW_PAST:return a<n}return!0}})},coupons:{reducer:He,selector:Ue},retailers:{reducer:zs,selector:Zs},shopRunnerRetailers:{reducer:an,selector:(e={})=>({getTotalNumberOfRetailers:()=>Object.keys(e).length,domainInShopRunnerWhitelist:(t="")=>{const s=t.toLowerCase(),n=Object.keys(e).find(t=>e[t].isSupported&&(e[t].promotionDomain||e[t].receiptsDomain)&&(e[t].promotionDomain===s||e[t].promotionDomain.split(",").includes(s)||e[t].receiptsDomain===s||e[t].receiptsDomain.split(",").includes(s)));return e[n]},isPremiumSRRetailer:(t="")=>{const s=t.toLowerCase(),n=Object.keys(e).find(t=>!e[t].isSupported&&(e[t].promotionDomain||e[t].receiptsDomain)&&(e[t].promotionDomain===s||e[t].promotionDomain.split(",").includes(s)||e[t].receiptsDomain===s||e[t].receiptsDomain.split(",").includes(s)));return e[n]}})},offers:{reducer:Ls,selector:(e={})=>({getOffers:()=>e,getOffer:t=>e[t],isOfferActivated:t=>e[t].activated})},activatedOffers:{reducer:w,selector:(e={})=>({getActivatedOffer:t=>e[t]||{}})},receipts:{reducer:function(e={},t){const{listData:s={},type:n}=t;switch(n){case A.kg:case A.Bf:case A.Af:case A.Jf:case A.jh:case A.Oe:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter(t=>s.schemaCards[t].type===S.ed.Order&&!F()(e[t],Us(s,t))).reduce((e,t)=>babelHelpers.extends({},e,{[t]:Us(s,t)}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}default:return e}},selector:(e={})=>({getReceipt:t=>e[t],getPrice:t=>e[t].price,getPotentialSavings:t=>e[t].potentialSavings,getFirstItemName:t=>e[t].orderedItems.length?e[t].orderedItems[0].name:0,getOrderDate:t=>e[t].orderDate,getNumItems:t=>e[t].orderedItems.length,getCurrency:t=>e[t].orderedItems.length&&e[t].orderedItems[0].offers?e[t].orderedItems[0].offers.priceCurrency:"",getSellerName:t=>e[t].sellerName,getTotalPotentialSaving:(t=0)=>Object.keys(e).filter(s=>t<=Date.parse(e[s].orderDate)).map(t=>Math.floor(100*e[t].potentialSavings)).reduce((e,t)=>e+t,0)/100,getNumPurchases:(t=0)=>Object.keys(e).filter(s=>t<=Date.parse(e[s].orderDate)).length,getTotalSpentWithEligibleSaving:(t=0)=>Object.keys(e).filter(s=>0!==e[s].potentialSavings&&t<=Date.parse(e[s].orderDate)).map(t=>Math.floor(100*e[t].price)).reduce((e,t)=>e+t,0)/100,getEarnyEligibleVendors:(t=0)=>{const s=Object.keys(e).filter(s=>0!==e[s].potentialSavings&&t<=Date.parse(e[s].orderDate)).reduce((t,s)=>(t.push({schemaId:s,timestamp:Date.parse(e[s].orderDate)}),t),[]);return s.sort((e,t)=>t.timestamp-e.timestamp),s.map(t=>e[t.schemaId].sellerName)}})},recommendedItems:{reducer:function(e={},t){const{listData:s={},type:n}=t;switch(n){case A.Bf:case A.Af:case A.Jf:case A.Oe:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter(t=>s.schemaCards[t].type===S.ed.Recommendation&&!F()(e[t],Vs(s.schemaCards[t]))).reduce((e,t)=>babelHelpers.extends({},e,{[t]:Vs(s.schemaCards[t])}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}default:return e}},selector:Ws},contentProviders:{reducer:xe,selector:we},router:{reducer:Ks,selector:(e={})=>({getRoutesConfig:()=>e.routesConfig,getRoute:()=>e.route,getHashParams:()=>e.hashParams,getRouteUIContext:()=>e.uiContext,getMrdParams:()=>e.mrdParams})},pages:{reducer:Fs,selector:(e=[])=>({doesPageExist:t=>-1!==e.findIndex(e=>Object(y.D)(e,t)),getPages:()=>e,getFolderPageRoute:()=>e.find(e=>e.name===S.Uc.FOLDER),getSettingsPageRoute:()=>e.find(e=>e.name===S.Uc.SETTINGS)})},unSubscribeList:{reducer:Rn,selector:(e={})=>({getUnSubscribeList:()=>e,getUnSubscribeListItem:t=>e[t]})},messages:{reducer:Os,selector:Rs},messagesFlags:{reducer:Is,selector:(e={})=>({getFlags:t=>e[t]})},messagesFolderId:{reducer:fs,selector:(e={})=>({getFolderId:t=>e[t]})},videoPlayers:{reducer:pa,selector:e=>({getCurrentChannel:()=>e.currentChannel,getShowVideoPlayer:()=>e.showVideoPlayer,getChannelMetaData:()=>e.channelData,getIsPaused:()=>e.isPaused})},addressBook:{reducer:H,selector:e=>({getContacts:()=>e.contacts,getContactBlackList:()=>e.contactBlackList,getContactCategories:()=>e.contactCategories,getContactCategoriesStatus:()=>e.contactCategoriesStatus,filterContactIdsBy:({query:t,contactIds:s})=>((e,{query:t="",contactIds:s=[]})=>{const n=new RegExp(`\\b${Object(k.a)(t.trim())}\\w*`,"i");return s.filter(t=>{const{id:s,name:a}=e[t];return n.test(a+" "+s)})})(e.contacts,{query:t,contactIds:s}),doesCategoryIdExist:t=>e.contactCategories.hasOwnProperty(t),getContactIdsByCategoryId:t=>e.contactCategories[t].contactIds,getContactName:t=>e.contacts[t].name,doesContactIdExist:t=>Boolean(e.contacts&&e.contacts[t]),getContactById:t=>e.contacts[t]})},messageToAttachments:{reducer:Ns,selector:Ds},businessListings:{reducer:pe,selector:(e={})=>({getBusinessListing:(t,s,n=Date.now())=>e[t]?babelHelpers.extends({},e[t],{hoursToday:e[t].hours[Object(R.h)({timezone:s,time:n}).weekday]||""}):{},doesValidListingExist:(t,s=Date.now())=>{const n=e[t];return!!(n&&n.lastUpdated&&n.lastUpdated+18e5>s)}})},features:{reducer:St,selector:(e={})=>t=>{const{getEnvironmentSelectors:s}=t,n=n=>{if(s().getIsInternalIP()&&Object(Qe.b)()&&window.__DEBUG_MAIL__&&window.__DEBUG_MAIL__[n])return window.__DEBUG_MAIL__[n];switch(n){case S.mb.MESSAGE_READ_CONTACT_CARD:case S.mb.RELATED_RETAILERS:return Object(Je.b)(e[n],t);case S.mb.PLA_SEARCH_ADS:case S.mb.PLA_ADS_ON_COUPON_MESSAGE_READ:case S.mb.PLA_ADS_ON_RECOMMENDATION_EMAIL_READ:return Object(z.c)(n,e[n],t);case S.mb.HIPMUNK_CARD:case S.mb.BOOKING_CARD:case S.mb.SEATGEEK_CARD:return _t(e[n],t);case S.mb.WIDE_RIGHT_RAIL:return((e,t)=>{const{getQueryParams:s,getEnvironmentSelectors:n}=t,a=s(),r=n().getIsInternalIP(),{start:o,end:i}=Et,c=e[S.mb.WIDE_RIGHT_RAIL],l=Date.now();return r&&a.wideRightRail?"true"===a.wideRightRail:!!(c&&o&&i)&&o<=l&&l<i})(e,t);case S.mb.NUKE_DISPLAY_ADS_ON_INACTIVE:return((e,t)=>{const{isAppVisible:s}=t;return e[S.mb.NUKE_DISPLAY_ADS_ON_INACTIVE]&&!s()})(e,t);case S.mb.HIDE_RIGHT_RAIL:return Object(Je.a)(e.hideRightPaneAds,t);case S.mb.AUTOPLAY_EMPTY_FOLDER_VIDEO:return!st(e[S.nd.MEDIAN_TIME_TO_LOAD_EVENT]);case S.mb.GEMINI_VIEWABILITY:return((e,t)=>{const{isMobileRoute:s}=t;return e[S.mb.GEMINI_VIEWABILITY]&&(s()||!e[S.mb.GEMINI_VIEWABILITY_IO])})(e,t);case S.mb.RIGHT_RAIL_CONTACT_CARD:case S.mb.RIGHT_RAIL_PHOTO_CARD:case S.mb.RIGHT_RAIL_DOCS_CARD:case S.mb.RIGHT_RAIL_MESSAGES_CARD:return Object(Je.d)(e[n],t,n);case S.mb.MSG_READ_SHOPRUNNER_CARD:case S.mb.MSG_READ_SHOPRUNNER_POST_SIGN_UP_CARD:case S.mb.COUPON_CLIPPER_CUE:return(void 0!==e[n]?!!e[n]:e[n])&&t.isMessageRoute();case S.mb.RIGHT_RAIL_AD_FREE_UPSELL_CUE:return e[n]&&!e[S.mb.IS_WIDER_MAIL_EXTN_ENABLED]&&(e[S.mb.MAIL_PRO_ELIGIBLE]||e[S.mb.WIDER_MAIL_ELIGIBLE]);case S.mb.MAIL_READER_V3:return nt(t);case S.mb.SHOPPING_CART_AD:return((e,t)=>{const{hasMatchingDomainInMessageGroup:s,getSetting:n,isMessageRoute:a,isFeatureEnabled:r}=t,o=!a()&&n(S.nd.PREVIEW_PANE)===S.Gc.RIGHT,i=r(S.mb.APAC_SHOPPING_CART_AD)?S.d:S.td;return e&&s(i)&&!o})(e[n],t);case S.mb.SEARCH_AD_ICON_ON_HOVER:return e[n]&&t.getRouteName()===S.Uc.SEARCH;case S.mb.HOTELS_CARD_PREFILL:return ht(e[n],t);case S.mb.RELATED_SEARCHES_CARD:return((e,t)=>{const{getAdsSelectors:s,getFeaturesSelectors:n,getParticipantInFocus:a}=t,{getRelatedSearches:r}=s(),{isEnabled:o}=n(),i=r(),c=a(),{email:l}=c||{},d=!!Object(lt.a)(i,l),u=o(S.mb.HIPMUNK_CARD)||o(S.mb.BOOKING_CARD)||o(S.mb.SEATGEEK_CARD);return Object(Je.b)(e,t)&&(d||!Object.keys(i).length)&&!u})(e[n],t);case S.mb.RIGHT_RAIL_NATIVE_AD:return((e,t)=>{const{getRouteName:s}=t;return Object(Je.c)(e,t,!0)&&s()===S.Uc.SPONSORED_MESSAGE})(e[n],t);case S.mb.RELATED_COUPONS:return Object(Je.b)(e[n],t)&&t.hasMatchingDomainInMessageGroup(S.O);case S.mb.SUBSCRIPTION_ADS:return Object(Je.b)(e[n],t)&&t.hasMatchingDomainInMessageGroup(S.Ed);case S.mb.SHOPLIFT_AD:return Object(Je.b)(e[n],t)&&t.hasMatchingDomainInMessageGroup(S.sd);case S.mb.PLA_ADS_AVAILABLE:return Object(z.a)(t);case S.mb.SMARTVIEW_CATEGORIES_ENABLED:return e[S.mb.SMARTVIEW_CATEGORIES_ALL]||e[S.mb.SMARTVIEW_CATEGORIES_PEOPLE]||e[S.mb.SMARTVIEW_CATEGORIES_PEOPLE_V2]||e[S.mb.SMARTVIEW_CATEGORIES_SHOPPING];case S.mb.SHOW_TABS:return e[S.nd.MAIL_TABS];case S.mb.COUPONS_ON_SEARCH_RIGHT_RAIL:return((e,t)=>{const{getRoute:s,isFeatureEnabled:n,getSmartViewTypeFromRoute:a}=t,r=s(),o=Object(M.t)(r),i=a(r),c=n(S.mb.COUPONS_SMART_VIEW_SEARCH)&&[S.zd.COUPONS].includes(i)&&i;return Object(Je.c)(e,t)&&r.name===S.Uc.SEARCH&&!!Object(M.z)(o)&&!c})(e[n],t);case S.nd.MAIL_TABS:return e[n]||t.hasFailedComposeSend();case S.nd.HAS_GUIDED_STAR_ANIMATION:return tt(t);case S.nd.SNIPPETS:return e[n];case S.nd.PREVIEW_PANE:return ct(e[n],t);case S.nd.MESSAGE_DESTINATION_LABEL_TYPE:return rt(e,t);case S.nd.LIST_ITEM_HEIGHT:return et(e[n],t);case S.nd.THEME_MODE:return mt(e,t)?$e.f.LIGHT:e[n];case S.nd.THEME:return mt(e,t)?$e.g.DEFAULT:e[n];case S.nd.NOTIFICATION_MODE:return((e,t)=>{const{isFeatureEnabled:s}=t,n=s(S.mb.PUSH_NOTIFICATIONS),a=s("browserNotifications");return n&&Object(ot.e)()?S.qc.PUSH:a?S.qc.BROWSER:null})(0,t);case S.nd.SYSTEM_TABS:return ut(e[n],t);case S.nd.NOTIFICATION:return it(t);case S.nd.COUPON_CARDS_FETCH_COUNT:return((e,t)=>{const{getRoute:s,isFeatureEnabled:n,getSmartViewTypeFromRoute:a,getCouponsSelectors:r,getSetting:o}=t,{getCoupons:i}=r(),c=s(),l=n(S.mb.COUPONS_SMART_VIEW_SEARCH)&&[S.zd.COUPONS,S.zd.GROCERIES].includes(a(c)),d=n(S.mb.AD_BLOCK_COUPONS)&&o(S.nd.AD_BLOCK_COUPONS_SORT_ORDER)!==S.i.RECOMMENDED;return(l||d)&&Object.keys(i()).length<100?100:e})(e[n],t);case S.nd.PENCIL_AD_VERSION:case S.mb.AD_BLOCK_COUPONS_ON_PENCIL_ADS:return t.getRouteName()!==S.Uc.SEARCH&&e[n];case S.nd.PREFERRED_AD_FORMAT:return(e=>{let t=g.UNSET;for(const s in b)b[s]===e&&(t=s);return t})(e[n]);case S.mb.RETAILER_FILTER:return((e,t)=>{const{getSmartViewTypeFromRoute:s,getRoute:n,getCurrentListId:a}=t,r=s(n())===S.zd.COUPONS,o=Object(M.q)(a())===S.Fb.COUPON_CARDS;return e&&r&&o})(e[n],t);case S.mb.MAIL_PRO_LINK_IN_SETTINGS_MENU:return(e=>{if(!e||!Object(Qe.b)()||!window.AppBootstrapData)return!1;const{value:t=""}=window.AppBootstrapData.mailboxAttributes["web.clientVersionHistory"]||{},s=t.split("|").filter(e=>!!e),n=Date.now();if(1===s.length)return!0;const a=s.reduce((e,t="")=>{const[s,a]=t.split(",");if("6"===s){let t=1e3*parseInt(a,10);return t>n&&(t/=1e3),Math.max(e,t)}return e},0);return 0!==a&&n-a>60*S.Sb})(e[n]);default:return e[n]}};return{isEnabled:e=>{const t=n(e);return void 0!==t?!!t:t},getSetting:e=>n(e),getDefaultSetting:t=>e[t]}}},featureCues:{reducer:Ct,selector:e=>({isShown:t=>e[t]&&e[t].isShown,shownFeatures:()=>Object.keys(e||{}).filter(t=>e[t].isShown),isPersistent:t=>e[t]&&e[t].isPersistent,isUdbOnly:t=>e[t]&&e[t].isUdbOnly,isKeySaved:t=>e[t]&&e[t].isKeySaved,getSubkey:t=>e[t]&&e[t].subkey})},gifItems:{reducer:vt,selector:(e={})=>({getGifItems:()=>e})},gifCategories:{reducer:Lt,selector:(e={})=>({isGifCategoryQuery:t=>e.categories.hasOwnProperty(t),getGifCategoryTopItemsStatus:t=>e.categories[t].status,getGifCategoryTopItemsUrl:t=>e.categories[t].category.topItemsUrl,getGifCategoriesList:()=>e.categoryIds.map(t=>e.categories[t].category),isCategoryListLoaded:()=>e.categoriesStatus===S.Rc.LOADED})},contacts:{reducer:Fe,selector:e=>({doesContactExist:({id:t})=>!!e.byId[t],getContacts:()=>e.byId,getContactById:t=>e.byId[t],getContactIdByEmail:t=>e.idByEmail[t],getContactByEmail:t=>{const s=e.idByEmail[t];return s?e.byId[s]:null},getCurrentFilter:()=>e.selectedPaneFilter,getSelectedGroup:t=>e.selectedUserGroup[t]||"",getCurrentPaneView:()=>e.contactsPaneView})},socialAccounts:{reducer:sn,selector:e=>({showAuthWindow:()=>!!e.authWindow.provider,getAuthWindowData:()=>e.authWindow})},downloads:{reducer:ze,selector:e=>({getDownloads:()=>e})},online:{reducer:vs,selector:e=>({isOnline:()=>e})},payments:{reducer:xs,selector:e=>({getPaymentDetails:()=>e.payments,getPaymentError:()=>e.error})},searchSuggestions:{reducer:en,selector:function(e={}){return{getSuggestions:t=>e[t]}}},searchInput:{reducer:Qs,selector:Js},calendar:{reducer:he,selector:(e={})=>({getInviteUid:t=>e[t]&&e[t].uid,getInviteStatus:t=>e[t]&&e[t].status,getInviteInfo:t=>e[t]})},environment:{reducer:Ke,selector:(e={})=>({getIsInternalIP:()=>e.isInternalIP,isAMT:()=>e.isAMT,isAppVisible:()=>e.applicationVisibility,getApplicationLastVisibleTimeStamp:()=>e.applicationLastVisibleTimeStamp,getBuildRefreshStatus:()=>e.buildRefreshStatus,getIsXobnified:()=>e.isXobnified,getTimeZoneName:()=>e.timeZoneName,getBrowser:()=>e.browser,getGeoLocation:()=>e.geoLocation,getPageDirection:()=>e.pageDirection,getTimezoneUpdatingStatus:()=>e.timezoneUpdating,getWindowDimensions:()=>e.windowDimensions||{}})},composeSuggestions:{reducer:Oe,selector:function(e={}){return{getSuggestions:t=>(e.composeSuggestionsFromImportantContacts[t]||[]).concat(e.composeSuggestions[t]||[]).reduce((e,t)=>e.map[t.email]?(e.map[t.email].filteredResults=t.filteredResults,e):(e.result=[...e.result,t],e.map[t.email]=t,e),{map:{},result:[]}).result}}},locationSuggestions:{reducer:cs,selector:(e={})=>({getLocationSuggestionsMap:()=>e.locationSuggestions,getLocationSuggestions:t=>e.locationSuggestions[t]||[],getLocationSuggestionStatus:t=>e.locationFetchStatus[t]||S.Rc.DOES_NOT_EXIST})},subscription:{reducer:On,selector:(e={})=>({getSubscriptionStatus:()=>babelHelpers.extends({},e.subscriptionStatus),getSubscriptions:t=>Tn.b.map(s=>{if(-1!==Object.keys(Cn).indexOf(s.provider))return Cn[s.provider](e,s,t)})})},settings:{reducer:tn,selector:(e={})=>({getSettingsApiCallStatus:()=>e.settingsApiCallStatus,getBlockedSendersApiCallStatus:()=>e.blockedSendersApiCallStatus})},importantContacts:{reducer:Kt,selector:function(e={}){return{getImportantContacts:()=>e.importantContacts}}},recentSearches:{reducer:Bs,selector:function(e={}){return{getRecentSearches:()=>e}}},pendingUpdate:{reducer:ws,selector:(e={})=>({getPendingUpdate:()=>e})},designClassifier:{reducer:Ge,selector:(e={})=>({isDetailPaneExpanded:()=>e.isDetailPaneExpanded})},yahooDeals:{reducer:_a,selector:e=>({getRecommendedProducts:()=>e.recommendedProducts,getActivities:()=>e.activities})},composeAttributesStatus:{reducer:fe,selector:(e={})=>({getComposeAttributesStatus:()=>e.composeAttributesStatus})},deals:{reducer:je,selector:e=>({getTopRetailers:()=>e.topRetailers,getTopDealCategories:()=>e.topDealCategories})},linkEnhancer:{reducer:Ea,selector:(e={})=>({getEnhancedLinks:()=>e})}},Na=(e=>Object(i.c)(Object.keys(e).reduce((t,s)=>babelHelpers.extends({},t,{[s]:e[s].reducer}),{})))(Ra);t.a=Na;const Ma=(e=>Object.keys(e).reduce((t,s)=>babelHelpers.extends({},t,{[s]:Object(c.createSelector)(e=>e[s],t=>e[s].selector(t))}),{}))(Ra),Da=((e={})=>{return(t,s,n,a)=>r=>{const o=s(),i=((t,s)=>e[t]?e[t]:(e[t]=Object(c.createSelector)(s,()=>({})),e[t]))(t,n)(r);return i[o]?i[o]:(i[o]=a(...n.map(e=>e(r))),i[o])}})({}),ya=e=>e<m?1:2,La=e=>{let t=d;return e<m?t=l:e>=p&&(t=u),t},va=(e,t)=>e>t?S.yc.LANDSCAPE:S.yc.PORTRAIT,Pa=Object(c.createSelector)(e=>e,e=>{const t=Ma,s={getDesignClassifierDimensions:()=>{const e=s.getClientWidth(),t=s.getClientHeight();return{clientWidth:e,clientHeight:t,orientation:va(e,t),columns:ya(e),messageListWidth:La(e),isDetailPaneExpanded:s.isDetailPaneExpanded()}},isDetailPaneExpanded:()=>t.designClassifier(e).isDetailPaneExpanded(),getClientWidth:()=>s.getWindowDimensions().clientWidth,getClientHeight:()=>s.getWindowDimensions().clientHeight,getOrientation:()=>s.getDesignClassifierDimensions().orientation,getPrescribedNumberOfColumns:()=>s.getDesignClassifierDimensions().columns,getPrescribedMessageListWidth:()=>s.getDesignClassifierDimensions().messageListWidth,getAction:()=>t.action(e),getActionTimeStamp:()=>s.getAction().actionTimestamp,isWindowResizingDone:()=>s.getAction().type===A.nk,getFeaturesSelectors:()=>t.features(e)(s),isFeatureEnabled:e=>Da("isFeatureEnabled",()=>e,[e=>e],()=>s.getFeaturesSelectors().isEnabled(e))(s),getSetting:e=>Da("getSetting",()=>e,[e=>e],()=>s.getFeaturesSelectors().getSetting(e))(s),getDefaultSetting:e=>s.getFeaturesSelectors().getDefaultSetting(e),getBusinessListingSelectors:()=>t.businessListings(e),getBusinessListingForUserTimezone:(e,t=Date.now())=>{const{getTimeZoneName:n,getBusinessListingSelectors:a}=s,{getBusinessListing:r}=a();return r(e,n(),t)},getAdsSelectors:()=>t.ads(e)(s),getPrintItemsSelectors:()=>t.printItems(e),getItemToPrint:()=>s.getPrintItemsSelectors().getItemToPrint(),getUnsyncedDataSelectors:()=>t.unsyncedData(e),getReconciledUnsyncedData:()=>Da("getReconciledUnsyncedData",()=>"RECONCILE_UNSYNCED_DATA_CACHE",[e=>e],()=>s.getUnsyncedDataSelectors().getReconciledUnsyncedData(s))(s),getUnsyncedDataToSync:(e=Date.now())=>s.getUnsyncedDataSelectors().getUnsyncedDataToSync(s,e),getReconciledUnysncedDataByHash:e=>{return s.getReconciledUnsyncedData().find(t=>t.hash===e)},getRequestHashForUnsyncedDataItem:e=>`${e.type}-${e.hash}`,getUnsyncedDataToSyncByRequestHash:(e,t)=>{const{getRequestHashForUnsyncedDataItem:n,getUnsyncedDataToSync:a}=s;return a(t).find(t=>n(t)===e)},getOnlineSelectors:()=>t.online(e),isOnline:()=>s.getOnlineSelectors().isOnline(),getContentProviders:()=>t.contentProviders(e),getPeopleSelectors:()=>t.people(e),doesPeopleContactExistByXobniId:e=>s.getPeopleSelectors().doesPeopleContactExistByXobniId(e),getPeopleContactByXobniId:e=>s.getPeopleSelectors().getContactByXobniId(e),getRelationshipHistoryByXobniId:e=>s.getPeopleSelectors().getRelationshipHistoryByXobniId(e),getListsSelectors:()=>t.lists(e),doesListExist:e=>s.getListsSelectors().doesListExist(e),doesListHasMoreItems:e=>s.getListsSelectors().hasMoreItems(e),getListStatus:e=>s.getListsSelectors().getListStatus(e),doesListItemExist:(e,t)=>s.getListsSelectors().doesListItemExist(e,t),getListItemIdIndex:(e,t)=>s.getListsSelectors().getListItemIdIndex(e,t),shouldFetchMoreItems:(e,t)=>{const{getFeaturesSelectors:n,getListsSelectors:a,getListItemIds:r,doesListHasMoreItems:o}=s,{getListItemIdIndex:i,doesListExist:c}=a(),l=n().getSetting("messageScrollLoadThreshold"),d=i(e,t),u=c(e)?r(e):[];return o(e)&&u.length-d<=l},getPreviousListItemId:(e,t)=>s.getListsSelectors().getPreviousListItemId(e,t),getNextListItemId:(e,t)=>s.getListsSelectors().getNextListItemId(e,t),isListEmpty:e=>s.getListsSelectors().isListEmpty(e),isListStale:e=>s.getReconciledUnsyncedData().some(t=>t.type===S.Zd.LIST_TO_UPDATE&&t.userInputtedValues.listId===e&&t.userInputtedValues.isStale),getListLmv3Query:e=>s.getListsSelectors().getLmv3Query(e),getListSuggestedWords:e=>s.getListsSelectors().getSuggestedWords(e),getAllItemsCountForListId:e=>{const{getListsSelectors:t,doesListExist:n,getListLmv3Query:a,doesFolderIdExist:r,getFolderTotal:o}=s,{getTotalHits:i}=t(),c=Object(M.m)(e);return n(e)&&a(e)?i(e):c&&r(c)&&o(c)||null},getStreamsSelectors:()=>t.streams(e),getFoldersSelectors:()=>t.folders(e),getSavedSearchesSelectors:()=>t.savedSearches(e),getMessageGroupsSelectors:()=>t.messageGroups(e),getCardGroupsSelectors:()=>t.cardGroups(e)(s),getCardMessageToSchemasSelectors:()=>t.cardMessageToSchemas(e),getFlightsSelectors:()=>t.flights(e),getItemIdsSelectors:e=>s.getListsSelectors().getItemIdsSelectors(e),getListItemIds:e=>s.getItemIdsSelectors(e).getItemIds(),getPeopleListItems:e=>s.getListItemIds(e).map(s.getPeopleContactByXobniId),getMessageTimestamp:e=>s.getMessagesSelectors().getTimeStamp(e),getMessageListItems:e=>{const{getSetting:t}=s,n=Object(M.q)(e),a=t(S.nd.LIST_ITEM_HEIGHT,{contentType:n});return Da("getMessageListItems",()=>`${e}-${a}`,[e=>e.getListsSelectors(),e=>e.getMessagesSelectors(),e=>e.getFoldersSelectors(),e=>e.getMessageGroupsSelectors()],()=>{const{getMessageGroupsSelectors:t,getFoldersSelectors:r,getMessagesSelectors:o,getListsSelectors:i,getCardGroupsSelectors:c,getMessageFolderId:l}=s,{getMessageIdsFromMessageGroupId:d}=t(),{getMessageIdsFromCardGroupId:u}=c(),{getPrimaryFolderTypeByFolderId:m}=r(),{getTimeStamp:p}=o(),{getItemIdsSelectors:_}=i(),{getItemIds:h}=_(e),E=Object(M.m)(e);return h().reduce((t,s)=>{const r=n===S.Fb.TRAVEL_CARDS?u(s):d(s),o=r.filter(e=>m(l(e))!==S.ub.DRAFT),i=0===o.length?r:o,c=i[i.length-1],_=[...i].reverse().find(e=>l(e)===E)||c;return void 0===_?t:[...t,{id:s,listId:e,relevantMessageId:_,listItemHeight:a,timestamp:1e3*p(_)}]},[])})(s)},getSystemFolderListWithSmartView:e=>Da("getSystemFolderListWithSmartView",()=>e,[e=>e.getFoldersSelectors()],t=>t.getSystemFolderListWithSmartView(e))(s),getCustomFolderList:e=>Da("getCustomFolderList",()=>e,[e=>e.getFoldersSelectors()],t=>t.getCustomFolderList(e))(s),getAttachmentListItems:e=>{const{getAttachmentsSelectors:t,getFeaturesSelectors:n,getListsSelectors:a}=s,{getSetting:r}=n(),{getTimeStamp:o}=t(),{getItemIdsSelectors:i}=a(),{getItemIds:c}=i(e),l=r(S.nd.LIST_ITEM_HEIGHT,{contentType:Object(M.q)(e)});return c().map(t=>({id:t,listId:e,listItemHeight:l,timestamp:1e3*o(t)}))},getMessageListItemsSinceTimestamp:(e,t)=>Object(M.q)(e)!==S.Fb.MESSAGES?[]:s.getMessageListItems(e).filter(e=>e.timestamp>=t),getRefundSelectors:()=>({getRefundCardsForCardConversationId:e=>{const{getCardGroupsSelectors:t,getCardMessageToSchemasSelectors:n,getReceiptSelectors:a}=s,{getMessageIdsFromCardGroupId:r}=t(),o=r(e)||[],{getSchemas:i}=n();return o.map(e=>{const t=(i(e)||[]).filter(({type:e})=>e===S.ed.Order);return t.length?{cmid:e,price:a().getPrice(t[0].id),potentialSavings:a().getPotentialSavings(t[0].id),itemName:a().getFirstItemName(t[0].id),orderDate:a().getOrderDate(t[0].id),currency:a().getCurrency(t[0].id)}:{}})}}),getReceiptSelectors:()=>t.receipts(e),getRecommendedItemCardSelectors:()=>babelHelpers.extends({getRecommendedItemList:()=>{const{getGroupId:t,doesMessageGroupIdExist:n,getCardConversationIdsFromMessageGroupId:a,getCardMessageToSchemasSelectors:r,getCardGroupsSelectors:i}=s;let c=[];const{getSchemas:l}=r(),{getMessageIdsFromCardGroupId:d}=i(),u=t();if(!u||!n(u))return c;const m=a(u),p=d(m&&m[0])||[];return p.length?(p.forEach(t=>{const s=l(t)||[];if(1===s.filter(({type:e})=>e===S.ed.Recommendation).length){const t=s[0].id,n=Ws(e.recommendedItems).getRecommendationItems(t);n.length&&(c=c.concat(n))}}),o()(c)):c}},t.recommendedItems(e)),getPlaAdsSelectors:()=>({getPlaAdsData:(e=!1)=>{const{isFeatureEnabled:t,getAdsSelectors:n,getCouponsSelectors:a,getRoute:r,getRecommendedItemCardSelectors:o}=s,i=r(),c=Object(M.t)(i),l=t(S.mb.PLA_ADS_ON_COUPON_MESSAGE_READ),d=t(S.mb.PLA_ADS_ON_RECOMMENDATION_EMAIL_READ),u=t(S.mb.PLA_SEARCH_ADS),{gptCategoryList:m,couponsRetailer:p}=a().getCouponsGPTData(),_=o().getRecommendedItemList(),h=n().getCurrentGptCategory(),E=h&&!e?h:l&&m.length&&m[0]||d&&_.length&&_[0];return{plaAdsData:l&&n().getPlaAdsForKeyword(E,p)||u&&n().getPlaAdData(c)||d&&n().getPlaAdsForKeyword(E)||[],currentGptItem:E||""}}}),getCardConversationIdByMessageId:e=>s.getMessagesSelectors().getCardConversationId(e),getRetailersSelectors:()=>babelHelpers.extends({getRetailerStreamItems:e=>{const t=s.getListsSelectors().getItemIdsSelectors(e).getItemIds(),{getRetailersFromRetailerIds:n}=s.getRetailersSelectors();return n(t)}},t.retailers(e)),getSRRetailersSelectors:()=>t.shopRunnerRetailers(e),getOffersSelectors:()=>babelHelpers.extends({getOfferItemFromOfferId:e=>{const{getOffer:t}=s.getOffersSelectors(),{amountUnit:n,brandName:r,description:o,discountType:i,expiryTimestamp:c,imageUrl:l,value:d}=t(e),u=Math.floor((c-(new Date).getTime())/S.Sb);let m="";if(n&&"0"!==d)if(i===S.Lc.AMOUNT){m=`${a()(n)}${d}`}else i===S.Lc.PERCENT&&(m=`${d}%`);return{brandName:r,dateDiff:u,description:o,imageUrl:l,offerId:e,offerValue:m}},getOfferStreamItems:e=>{const t=s.getListsSelectors().getItemIdsSelectors(e).getItemIds(),{getOfferItemFromOfferId:n}=s.getOffersSelectors();return t.map(e=>n(e))}},t.offers(e)),getActivatedOffersSelectors:()=>babelHelpers.extends({getActivatedOfferItemFromOfferId:e=>{const{getActivatedOffer:t}=s.getActivatedOffersSelectors(),{amountUnit:n,brandName:r,description:o,discountType:i,expiryTimestamp:c,imageUrl:l,value:d}=t(e),u=Math.floor((c-(new Date).getTime())/S.Sb);let m="";if(n&&"0"!==d)if(i===S.Lc.AMOUNT){m=`${a()(n)}${d}`}else i===S.Lc.PERCENT&&(m=`${d}%`);return{brandName:r,dateDiff:u,description:o,imageUrl:l,offerId:e,offerValue:m}},getActivatedOfferStreamItems:e=>{const t=s.getListsSelectors().getItemIdsSelectors(e).getItemIds(),{getActivatedOfferItemFromOfferId:n}=s.getActivatedOffersSelectors();return t&&t.map(e=>n(e))}},t.activatedOffers(e)),getCouponsSelectors:()=>babelHelpers.extends({getCouponExpirationTime:(s,n=new Date)=>{const a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds())),r=t.coupons(e).getValidThroughDate(s),o=t.coupons(e).isInferredDate(s),i=new Date(r);return i.setUTCHours(23),i.setUTCMinutes(59),i.setUTCSeconds(59),{date:i.getDate(),month:i.getMonth(),dateDiff:Math.floor((i.getTime()-a.getTime())/864e5),timestamp:i.getTime(),isInferred:o}},getCouponCardsForCardConversationId:(n,a=new Date)=>{const{getParentMessageIdForCardConversationId:r,getParentConversationIdForCardConversationId:o}=s.getMessagesSelectors(),{isFeatureEnabled:i}=s,c=i(S.mb.CONVERSATIONS)?o:r,{getSchemas:l}=s.getCardMessageToSchemasSelectors(),{getCouponExpirationTime:d}=s.getCouponsSelectors();return(s.getCardGroupsSelectors().getMessageIdsFromCardGroupId(n)||[]).map(s=>{const o=l(s)||[],i=c(n);if(1===o.filter(({type:e})=>e===S.ed.Coupon).length){const c=o[0].id,{name:l,email:u}=Ue(e.coupons).getFromAddress(c);return{schemaId:c,parentMessageGroupId:i,parentMessageId:r(n),cmid:s,clipped:Ue(e.coupons).isClipped(c),description:Ue(e.coupons).getDescription(c),email:u,domain:l,savedSearchQuery:t.coupons(e).getSavedSearchQuery(c),expirationTime:d(o[0].id,a),dealLink:t.coupons(e).getDealLink(c)}}}).filter(e=>e&&e.expirationTime.dateDiff>=0&&e.email&&e.domain&&e.description)},getCouponCardStreamItems:e=>{return s.getListsSelectors().getItemIdsSelectors(e).getItemIds().reduce((t,n)=>{const a=s.getCardMessageToSchemasSelectors().getSchemas(n).filter(e=>e.type===S.ed.Coupon);if(1===a.length){const r=a[0].id,o=s.getCouponsSelectors().getCouponExpirationTime(r);o.dateDiff>=0&&t.push({id:r+e+n,schemaId:r,listId:e,cardMid:n,timestamp:o.timestamp})}return t},[])},getNumberOfUnexpiredCoupons:(e,t)=>{const{getCardConversationId:n}=s.getMessagesSelectors(),{getCouponCardsForCardConversationId:a}=s.getCouponsSelectors();return Object(i.d)(e=>e.length,e=>a(e,t),n)(e)},isSingleCouponParentMessageId:(e,t=new Date)=>1===s.getCouponsSelectors().getNumberOfUnexpiredCoupons(e,t),getCouponRecommendations:(e="")=>{const{getListsSelectors:t}=s,{doesListExist:n}=t(),a=Object(M.e)({referrer:S.Hb.COUPON_RECOMMENDATIONS,keyword:e});if(!n(a))return[];const{getItemIdsSelectors:r}=t();return r(a).getItemIds()||[]},getTopCoupons:(e="")=>{const{getListsSelectors:t,getCouponsSelectors:n}=s,{getCouponCardFromCardId:a}=n(),{doesListExist:r}=t(),o=Object(M.e)({referrer:S.Hb.TOP_COUPONS});if(!r(o))return[];const{getItemIdsSelectors:i}=t();return(i(o).getItemIds()||[]).map(e=>a(e)).map(t=>babelHelpers.extends({},t,{originalLink:t.dealLink,dealLink:Object(C.c)(t.dealLink,e)}))},getAdBlockCoupons:()=>{const{getSetting:e,getCouponsSelectors:t}=s,{getTopCoupons:n,getCoupons:a,getFromAddress:r,getCouponExpirationTime:o}=t(),i=a(),c=e(S.nd.AD_BLOCK_COUPONS_SORT_ORDER),l=S.j[c],d=n(l);if(c===S.i.RECOMMENDED)return d;const u=Object.keys(i).map(e=>{const{name:t,email:s}=r(e);return babelHelpers.extends({},i[e],{email:s,domain:t,expirationTime:o(e),originalLink:i[e].dealLink,dealLink:Object(C.c)(i[e].dealLink,l)})});if(c===S.i.EXPIRATION)return u.sort((e,t)=>e.expirationTime.dateDiff-t.expirationTime.dateDiff).slice(0,10);if(c===S.i.RANDOM){let e=[];for(let t=0;t<10;t++){const t=Math.floor(Math.random()*u.length);e=e.concat(u.splice(t,1))}return e}return d},getCouponsGPTData:()=>{const{getGroupId:t,doesMessageGroupIdExist:n,getCardConversationIdsFromMessageGroupId:a,getCardMessageToSchemasSelectors:r,getCardGroupsSelectors:o}=s,i=[],{getSchemas:c}=r(),{getMessageIdsFromCardGroupId:l}=o(),d=t(),u={gptCategoryList:[],couponsRetailer:""};if(!d||!n(d))return u;const m=a(d),p=l(m&&m[0])||[];if(!p.length)return u;let _="";return p.forEach(t=>{const s=c(t)||[];if(1===s.filter(({type:e})=>e===S.ed.Coupon).length){const t=s[0].id,n=Ue(e.coupons).getGptCategory(t);n&&-1===i.indexOf(n)&&i.push(n),_||(_=Ue(e.coupons).getRetailer(t))}}),{gptCategoryList:i,couponsRetailer:_}},getRelatedCoupons:(e=new Date)=>{const{getGroupId:t,getCardConversationIdsFromMessageGroupId:n,getCouponsSelectors:a,getCardGroupsSelectors:r,doesMessageGroupIdExist:o,getListsSelectors:i,getSenderEmailIdsFromMessageGroup:c}=s,{doesListExist:l,getItemIdsSelectors:d}=i(),{getCouponCardFromCardId:u}=a(),{getMessageIdsFromCardGroupId:m}=r(),p=t(),_=c([p])[0];if(!p||!o(p))return[];const h=Object(M.f)({listContentType:S.Fb.COUPON_CARDS,listFilter:S.Gb.ALL_COUPON_CARDS,referrer:S.Hb.RELATED_COUPONS,emailAddresses:_}),E=n(p),g=m(E&&E[0])||[];return l(h)?(d(h).getItemIds()||[]).filter(e=>-1===g.indexOf(e)).map(t=>u(t,e)).filter(({clipped:e,expirationTime:{dateDiff:t=-1}={}}={})=>!e&&t>=0):[]},getPrescribedMessageListWidth:()=>s.getDesignClassifierDimensions().messageListWidth,emailHasCoupons:()=>{const{getRoute:e,isFeatureEnabled:t,getGroupId:n,__patchV2MessageGroupItemId__:a,doesMessageGroupIdExist:r}=s,o=n(),i=Object(M.t)(e());if(!o||!r(o))return!1;const c=a(o,i);return t(S.mb.COUPON_CARD_EXTRACTIONS)&&c.messages[0].decos.some(e=>e&&"CPN"===e.id)},getCouponCardFromCardId:(n,a)=>{const{getCouponsSelectors:r,getCardMessageToSchemasSelectors:o}=s,{getSchemas:i}=o(),{getCouponExpirationTime:c}=r(),l=i(n)||[];if(1===l.filter(({type:e})=>e===S.ed.Coupon).length){const s=l[0].id,{name:r,email:o}=Ue(e.coupons).getFromAddress(s);return{schemaId:s,cmid:n,clipped:Ue(e.coupons).isClipped(s),description:Ue(e.coupons).getDescription(s),email:o,domain:r,autoClipEligible:!!t.coupons(e).getSavedSearchQuery(s),expirationTime:c(s,a),dealLink:Ue(e.coupons).getDealLink(s)}}return{}}},t.coupons(e)),getComposeSessionsSelectors:()=>t.composeSessions(e),getAttachmentsSelectors:()=>t.attachments(e),getMessageToAttachmentsSelectors:()=>t.messageToAttachments(e),getSubjectsAndSnippetsSelectors:()=>t.subjectsAndSnippets(e),getMessagesSelectors:()=>t.messages(e),getMessagesFlagSelectors:()=>t.messagesFlags(e),getMessagesFolderIdSelectors:()=>t.messagesFolderId(e),getMessageBodiesSelectors:()=>t.messageBodies(e),getSearchSuggestionSelectors:()=>t.searchSuggestions(e),getDocumentSelectors:()=>t.documents(e),isDocumentLoaded:e=>s.getDocumentSelectors().isDocumentLoaded(e),isDocumentPageLoaded:(e,t)=>s.getDocumentSelectors().isPageLoaded(e,t),getDocumentRetryCount:(e,t,n)=>s.getDocumentSelectors().getRetryCount(e,t,n),getRouterSelectors:()=>t.router(e),getPagesSelectors:()=>t.pages(e),getSmartViewPages:()=>{const e=s.getSelectedAccountIdByRoute(s.getRoute());return(s.getSetting(S.nd.SYSTEM_TABS)||[]).filter(e=>!!e.status).map(t=>{const n=s.getSmartViewPageByType(t.name);return n?t.name===S.zd.COUPONS&&n.name===S.Uc.SEARCH?n:s.normalizeRoute(Object(y.s)(Object(M.t)(n),{accountIds:e})):s.normalizeRoute(Object(y.v)(t.name,{accountIds:e,excludefolders:s.isFeatureEnabled(S.mb.CONVERSATIONS)?[S.ub.TRASH,S.ub.BULK]:[S.ub.TRASH,S.ub.BULK,S.ub.DRAFT,S.ub.SENT]}))})},getSmartViewTypeFromListId:e=>{const t=Object(M.x)(e);return Object.keys(S.xd).find(e=>S.xd[e]===t)},getSmartViewTypeFromRoute:e=>e.name===S.Uc.TUTORIAL?S.zd.TUTORIAL:s.getSmartViewTypeFromListId(Object(M.t)(e)),getDefaultFolderRoute:()=>{const{getRoute:e,normalizeRoute:t,getFolderIdsByFolderTypeForAccount:n,getSelectedAccountIdByRoute:a}=s,r=a(e()),o=n(S.ub.INBOX,r);return t(Object(y.j)(o[0]))},isShoppingSmartViewEnabled:()=>{const{isFeatureEnabled:e}=s;return e(S.mb.SMARTVIEW_CATEGORIES_SHOPPING)||e(S.mb.SMARTVIEW_CATEGORIES_ALL)},getSmartViewPosition:e=>{const{isShoppingSmartViewEnabled:t}=s;return e===S.zd.COUPONS?t()?S.yd.TAB_BAR:S.yd.SIDE_BAR:S.Eb.indexOf(e)>-1?S.yd.SIDE_BAR:S.Qd.indexOf(e)>-1?S.yd.TAB_BAR:void 0},getMaxTabCounts:()=>{const{getSetting:e}=s;return e(S.nd.MAIL_TABS)?S.Mb:S.Lb},isDraftGroup:e=>{const t=s.getMessageIdsFromMessageGroupId(e);return t&&t.some(e=>s.isDraftMessage(e))},getTabPages:()=>Da("getTabPages",()=>"tabs",[e=>e.getRoute(),e=>e.getSelectedAccountIdByRoute(e.getRoute()),e=>e.getPagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.isFeatureEnabled(S.mb.SHOW_TABS),e=>e.isFeatureEnabled(S.mb.SMARTVIEW_CATEGORIES_ENABLED),e=>e.getSetting(S.nd.SYSTEM_TABS)],()=>{const{isFeatureEnabled:e,getSmartViewPages:t,getDefaultFolderRoute:n,doesRouteContainFailure:a,getPages:r,getSmartViewPosition:o,getSmartViewTypeFromRoute:i,getSelectedAccountIdByRoute:c,getRoute:l,normalizeRoute:d}=s;let u=r();const m=e(S.mb.SHOW_TABS),p=e(S.mb.SMARTVIEW_CATEGORIES_ENABLED),_=c(l());if(p){const e=t()||[],[s,...r]=u.reduce((e,t)=>{const s=Object(M.I)(t)&&!Object(M.L)(t)?i(t):null;return s&&s!==S.zd.TUTORIAL?o(s)===S.yd.SIDE_BAR&&e.push(s===S.zd.COUPONS&&t.name===S.Uc.SEARCH?t:d(Object(y.s)(Object(M.t)(t),{accountIds:_}))):e.push(t),e},[]),c=r.findIndex(e=>Object(M.L)(e));if(c>-1)u=[...r.splice(c,1),...e,...Object(y.C)(r,a)];else{const t=n();u=s?Oa(s)||Object(M.L)(s)?[s,...e,...Object(y.C)(r,a)]:[t,...e,...Object(y.C)([s,...r],a)]:[t,...e,...Object(y.C)(r,a)]}}return m||(u=u.filter(e=>p&&(Oa(e)||e.name===S.Uc.TUTORIAL||Object(M.I)(e)&&i(e)||Object(M.L)(e))||a(e))),u})(s),getPages:()=>s.getPagesSelectors().getPages().filter(e=>Object(y.D)(s.reconcileRoute(e),e)),doesRouteContainFailure:e=>Da("doesRouteContainFailure",()=>e,[e=>e.getPages(),e=>e.getMessagesSelectors(),e=>e.getComposeSessionsSelectors()],()=>{const{getComposeSessionsSelectors:t,isFeatureEnabled:n,getMessageGroupStreamItems:a,doesMessageGroupIdExist:r}=s,{isSendFailed:o,doesComposeSessionExist:i}=t(),c=n(S.mb.CONVERSATIONS)&&Aa(e)||Ta(e)||Ca(e),l=e=>e&&i(e)&&o(e);if(c){const{params:{csid:t,groupId:s}}=e,n=Object(M.t)(e);return s&&r(s)?a({id:s,listId:n}).some(({csid:e})=>l(e)):l(t)}return!1})(s),doesPageExist:e=>s.getPagesSelectors().doesPageExist(e),getSmartViewPageByType:e=>s.getPagesSelectors().getPages().find(t=>Object(M.I)(t)&&s.getSmartViewTypeFromRoute(t)===e),getSettingsPageRoute:()=>s.getPagesSelectors().getSettingsPageRoute(),getFolderPageRoute:()=>s.getPagesSelectors().getFolderPageRoute(),getSortOrderForFolderRoute:()=>{const e=s.getFolderPageRoute();return e?Object(M.D)(Object(M.t)(e)):S.Cd.DATE_DESC},getRoutesInfo:()=>Object(y.z)(s.getRouterSelectors().getRoutesConfig()),getPreviousRoute:()=>s.getRouterSelectors().getRoute(),getRoute:()=>s.reconcileRoute(s.getRouterSelectors().getRoute()),reconcileRoute:(e,t=!1)=>e?Da("reconcileRoute",()=>`${e.url}-${t}`,[e=>e],()=>{const{getFolderPageRoute:n,getAction:a,isValidListMessageGroup:r,getRoutesInfo:o,getSetting:i,isListEmpty:c,doesListExist:l,doesFolderIdExist:d,doesMessageGroupIdExist:u,getSelectedAccountIdByRoute:m,getFolderIdsByFolderTypeForAccount:p,getPrescribedNumberOfColumns:_,getSelectedMailboxId:h,hasSelectedStreamItems:E,doesComposeSessionExist:g,isSent:b,doesPageExist:I,doesStreamExist:f,isMessageGroupLoading:T,isSpamFolder:C,isSendRequested:O,getSmartViewPageByType:R,getSmartViewTypeFromListId:N}=s,D=Object(y.y)(e),L=a(),P=n();if(!h()||L.type===A.Cg&&Object(y.D)(L.route,e))return e;if(L.type===A.Oh&&L.navigateFromToAll)return Object(y.A)(o(),Object(y.s)(Object(M.Q)(L.listId,{listFilter:S.Gb.ALL})),D);if(L.type===A.Xb||L.type===A.ec){if(e.name===S.Uc.EDIT_CONTACT_FROM_SEARCH)return Object(y.A)(o(),Object(y.g)(Object(M.t)(e),e.params.email),D);if(e.name===S.Uc.EDIT_CONTACT)return Object(y.A)(o(),Object(y.f)(e.params),D);if(e.name===S.Uc.CREATE_CONTACT)return Object(y.A)(o(),Object(y.h)(e.params),D)}if(L.type===A.j&&Sa(Object(y.A)(o(),e,D)))return Object(y.A)(o(),Object(y.a)(),D);if(!t&&-1!==[A.xb,A.vb].indexOf(L.type)&&!I(e)){const t=Object(M.t)(e);if(L.type!==A.vb&&-1!==[S.Uc.MESSAGE_FROM_SEARCH_LIST,S.Uc.MESSAGE_FROM_LIST].indexOf(e.name)){if(Object(M.E)(t)){const e=N(t);if(e){const t=R(e);if(t)return t}}return Object(y.A)(o(),Object(y.s)(t),D)}let s=Object(M.m)(t);const n=Object(M.D)(t),{serializedListId:a}=Ia(e);if(!s&&a&&(s=Object(M.m)(Object(M.u)(a))),!s){if(P)return P;s=p(S.ub.INBOX,m(e))[0]}return Object(y.A)(o(),Object(y.j)(s,n),D)}switch(e.name){case S.Uc.MESSAGE_FROM_LIST:case S.Uc.MESSAGE_FROM_SEARCH_LIST:case S.Uc.MESSAGE_FROM_FOLDER_LIST:{const t=Object(M.t)(e),s=Object(M.m)(t),{groupId:n,attachmentId:a}=Ia(e),h=Object(v.a)([t]),g=f(h)&&E(h),b=2===_();if(a&&"1"===e.query.fullscreen)return e;if(g&&b&&Sa(e)&&Aa(e))return Object(y.A)(o(),Object(y.m)(Object(M.t)(e)),D);if(s&&!d(s)){const[t]=p(S.ub.INBOX,m(e));return Object(y.A)(o(),Object(y.j)(t),D)}if(!u(n)&&!T(n)||l(t)&&Object(M.q)(t)===S.Fb.MESSAGES&&!r(t,n)){const e=i(S.nd.ACTION_AFTER_MSG_MOVE),{streamItems:a=[]}=L,r=a.filter(e=>Object(M.q)(e.listId)===S.Fb.MESSAGES),d=r.findIndex(e=>e.id===n),u=!!s&&C(s);if(e===S.h.GO_BACK_TO_FOLDER||l(t)&&c(t)||u||-1===d)return Object(y.A)(o(),Object(y.m)(t),D);let m;switch(e){case S.h.SHOW_NEXT_MESSAGE:m=r[d+1]||r[d-1]||void 0;break;case S.h.SHOW_PREVIOUS_MESSAGE:m=r[d-1]||r[d+1]||void 0}return m?Object(y.A)(o(),Object(y.o)(t,m.id),D):Object(y.A)(o(),Object(y.m)(t),D)}break}case S.Uc.EDIT_FOLDER:case S.Uc.FOLDER:{const t=Object(M.t)(e);if(!d(Object(M.m)(t))){const[t]=p(S.ub.INBOX,m(e));return Object(y.A)(o(),Object(y.j)(t),D)}break}case S.Uc.EDIT_DRAFT:case S.Uc.NEW_DRAFT:{const{serializedListId:t,csid:s}=Ia(e);if(!g(s)||b(s)||O(s)){let s;if(t&&(s=Object(M.m)(Object(M.u)(t))),!s){if(P)return P;s=p(S.ub.INBOX,m(e))[0]}return Object(y.A)(o(),Object(y.j)(s),D)}return e}}return e})(s):e,normalizeRoute:e=>Object(y.A)(s.getRoutesInfo(),e,Object(y.y)(s.getRoute())),getHashParams:()=>s.getRouterSelectors().getHashParams(),getRouteUIContext:()=>s.getRouterSelectors().getRouteUIContext(),getMrdParams:()=>s.getRouterSelectors().getMrdParams(),getRouteName:()=>(e=>e.name)(s.getRoute()),getRouteUrl:()=>ba(s.getRoute()),getRouteParams:()=>Ia(s.getRoute()),getQueryParams:()=>(e=>e.query||{})(s.getRoute()),isMobileRoute:()=>Sa(s.getRoute()),isOriginSearchRoute:()=>fa(s.getRoute()),isMessageRoute:()=>Aa(s.getRoute()),isAttachmentRoute:()=>(e=>e.params&&e.params.attachmentId)(s.getRoute()),isDraftRoute:()=>Ta(s.getRoute()),isComposeRoute:()=>Ca(s.getRoute()),isFolderRoute:()=>Oa(s.getRoute()),isValidListMessageGroup:(e,t)=>{const{doesListItemExist:n,getMessageFolderId:a,getMessageIdsFromMessageGroupId:r,isTrashMessageGroup:o,isSpamMessageGroup:i}=s;if(!Object(M.P)(e))return n(e,t);const c=Object(M.m)(e);return c?!(r(t).length<1)&&r(t).some(e=>a(e)===c):!(o(t)||i(t))},getAccountSelectors:t.mailboxes(e).getAccountsSelectors,getUnSubscribeListSelectors:()=>t.unSubscribeList(e),getVideoPlayerSelectors:()=>t.videoPlayers(e),getContactSelectors:()=>t.addressBook(e),getContactListSelectors:()=>t.contacts(e),getRelatedListIdByContactId:s=>{const{name:n,emails:a}=t.contacts(e).getContactById(s);return Object(M.d)({listContentType:S.Fb.PEOPLE,referrer:S.Hb.CONTACT_DETAILS,name:n,emailAddresses:a,contactIds:[s]})},getSocialAccountSelectors:()=>t.socialAccounts(e),doesContactIdExist:e=>s.getContactSelectors().doesContactIdExist(e),getContactById:e=>s.getContactSelectors().getContactById(e),getFeatureCueSelectors:()=>t.featureCues(e),getSubjectAndSnippetSelectors:()=>t.subjectsAndSnippets(e),getGifItemsSelectors:()=>t.gifItems(e),getGifCategoriesSelectors:()=>t.gifCategories(e),getLinkEnhancerSelectors:()=>t.linkEnhancer(e),getDownloadsSelectors:()=>t.downloads(e),isQuotedTextExpanded:t.composeSessions(e).isQuotedTextExpanded,getComposeUndoStack:t.composeSessions(e).getUndoStack,getComposeRedoStack:t.composeSessions(e).getRedoStack,getComposeUiState:t.composeSessions(e).getUiState,getMessageFolderId:t.messagesFolderId(e).getFolderId,getFolderHighestModSeq:e=>s.doesFolderIdExist(e)?s.getFoldersSelectors().getFolderHighestModSeq(e):0,doesFolderIdExist:e=>s.getFoldersSelectors().doesFolderIdExist(e),getFolderName:e=>s.getFoldersSelectors().getFolderName(e),getFolderDisplayTypeByFolderId:e=>s.getFoldersSelectors().getFolderDisplayTypeByFolderId(e),getFolderIdsByName:t.folders(e).getFolderIdsByName,getFolderIdsByNameForSelectAccountId:e=>s.getFoldersSelectors().getFolderIdsByNameAndAccountId(e,s.getSelectedAccountId()),getFolderTotal:t.folders(e).getFolderTotal,getPrimaryFolderTypeByFolderId:t.folders(e).getPrimaryFolderTypeByFolderId,isPermDeleteFolderType:t.folders(e).isPermDeleteFolderType,getFolderFullName:n=>{const a=s.getAccountIdByFolderId(n),r=s.getAccountById(a),o=t.folders(e).getFolderPath(n);return r.isPrimary?o:o.substr(o.indexOf("/")+1)},getStaleFolderIds:e=>{const t=Object(N.d)(e);return Object.keys(t).filter(e=>{const n=t[e],a=s.getFolderHighestModSeq(e);return a&&a!==n.highestModSeq})},shouldUpdateFolders:s=>t.folders(e).shouldUpdateFolders(s),isSpamFolder:s=>t.folders(e).isSpamFolder(s),isSpamMessage:e=>Object(i.d)(s.isSpamFolder,s.getMessageFolderId)(e),isTrashFolder:s=>t.folders(e).isTrashFolder(s),isTrashMessage:e=>Object(i.d)(s.isTrashFolder,s.getMessageFolderId)(e),isDraftFolder:s=>t.folders(e).isDraftFolder(s),isDraftMessage:e=>Object(i.d)(s.isDraftFolder,s.getMessageFolderId)(e),isSentFolder:s=>t.folders(e).isSentFolder(s),isSentMessage:e=>Object(i.d)(s.isSentFolder,s.getMessageFolderId)(e),isTrashMessageGroup:e=>s.getMessageIdsFromMessageGroupId(e).filter(e=>!s.isDraftMessage(e)||!s.isSentMessage(e)).every(s.isTrashMessage),isSpamMessageGroup:e=>s.getMessageIdsFromMessageGroupId(e).filter(e=>!s.isDraftMessage(e)||!s.isSentMessage(e)).every(s.isSpamMessage),getParticipant:e=>{const{getFromAddresses:t}=s.getMessagesSelectors(),n=[e].filter(e=>{const s=t(e);return s.length>0&&(s[0].email||s[0].name)}),[a]=n.map(e=>{const n=t(e),a=s.getMessageFlags(e);return{email:n[0].email,name:n[0].name,recent:!a.read}});return a},getRecipients:e=>{const t=s.getMessagesSelectors().getToAddresses(e),n=s.getMessageFlags(e);return t.filter(e=>e.email||e.name).reduce((e,t)=>e.concat({email:t.email,name:t.name,recent:!n.read}),[])},getMessageFromAddress:t.messages(e).getFromAddresses,getMessageToAddress:t.messages(e).getToAddresses,getMessageCcAddress:t.messages(e).getCcAddresses,getMessageBccAddress:t.messages(e).getBccAddresses,getReplyToAddress:t.messages(e).getReplyToAddresses,getMessageDate:t.messages(e).getDate,getMessageFlags:t.messagesFlags(e).getFlags,getMessageSubject:t.subjectsAndSnippets(e).getSubject,getMessageSnippet:t.subjectsAndSnippets(e).getSnippet,getCaptcha:t.messages(e).getCaptcha,getMessageTimeStamp:e=>s.getMessagesSelectors().getTimeStamp(e),getAccountIdByFolderId:s=>t.folders(e).getAccountIdByFolderId(s),doesMessageBodyExist:e=>s.getMessageBodiesSelectors().doesMessageBodyExist(e),isSecureMessage:e=>s.getMessageBodiesSelectors().isSecureMessage(e),doesMessageFullBodyExist:e=>s.getMessageBodiesSelectors().hasFullBody(e),doesMessageBodyHasError:e=>s.getMessageBodiesSelectors().hasError(e),getMessageBody:e=>s.getMessageBodiesSelectors().get(e),getMessageBodyState:e=>s.getMessageBodiesSelectors().getState(e),getMessageBodyRetryCount:e=>s.getMessageBodiesSelectors().getRetryCount(e),getAccountSignaturebyAccountId:s=>t.mailboxes(e).getAccountsSelectors().getSignatureByAccountId(s),getAccountSignaturebyFolderId:e=>s.getAccountSignaturebyAccountId(s.getAccountIdByFolderId(e)),getSignatureByAccountEmail:e=>s.getAccountSelectors().getSignatureByAccountEmail(e),doesMessageIdExist:e=>s.getMessagesSelectors().doesMessageIdExist(e),getMessageCsid:e=>s.getMessagesSelectors().getCsid(e),doesMessageGroupIdExist:e=>s.getMessageGroupsSelectors().doesMessageGroupIdExist(e),getMessageIdsFromMessageGroupId:e=>s.getMessageGroupsSelectors().getMessageIdsFromMessageGroupId(e),getExpansionStateForStreamItem:e=>s.getStreamsSelectors().getExpansionStateForStreamItem(e),getMessageGroupStreamItemsWithExpansionStates:e=>{const t=Gt(s.getMessageGroupStreamItems(e),s),{id:n,listId:a}=e,r=Object(v.b)(a,n);return s.doesStreamExist(r)?t.map(e=>{const t=s.getExpansionStateForStreamItem(e)||e.expansionState;return babelHelpers.extends({},e,{expansionState:t})}):t},isAllCardsExpanded:(e,t)=>{const n={id:t,listId:e},{getMessageGroupStreamItemsWithExpansionStates:a}=s;return a(n).every(({expansionState:e})=>e===S.A.EXPANDED)},getCardConversationIdsFromMessageGroupId:e=>{const t=(s.isFeatureEnabled(S.mb.CONVERSATIONS)?s.getMessagesSelectors().findMessageIdsForConversationId(e):[e]).filter(s.getMessagesSelectors().doesMessageIdExist).map(s.getMessagesSelectors().getCardConversationId).filter(e=>!!e);return o()(t)},getRelevantMessageIdFromMessageGroupId:(e,t)=>{const n=s.getMessageIdsFromMessageGroupId(e)||[],a=Object(M.m)(t),r=n[n.length-1];return[...n].find(e=>s.getMessageFolderId(e)===a)||r},getAccountIdFromMessageGroupId:(e,t)=>Object(i.d)(s.getAccountIdByFolderId,s.getMessageFolderId,s.getRelevantMessageIdFromMessageGroupId)(e,t),getSubjectFromMessageGroupId:(e,t)=>{const n=s.getRelevantMessageIdFromMessageGroupId(e,t);return s.getSubjectAndSnippetSelectors().getSubject(n,t)},getGroupIdContainingMessageId:e=>s.getMessageGroupsSelectors().getGroupIdContainingMessageId(e),getGroupIdContainingAttachmentId:e=>{const t=s.isFeatureEnabled(S.mb.CONVERSATIONS),n=s.getMessageIdForAttachmentId(e);return t?s.doesMessageIdExist(n)?s.getGroupIdContainingMessageId(n):s.getConversationIdByAttachmentId(e):n},getAttachmentIdsByGroupId:e=>{const t=s.getMessageIdsFromMessageGroupId(e);return o()(t.reduce((e,t)=>e.concat(s.getAttachmentIdsByMessageId(t)),[]))},getAttachmentIdIndexInMessage:(e,t)=>s.getAttachmentIdsByMessageId(t).indexOf(e),getAttachmentIdIndexInMessageGroup:(e,t)=>s.getAttachmentIdsByGroupId(t).indexOf(e),getPreviousAttachmentIdForMessageGroup:(e,t)=>{const n=s.getAttachmentIdsByGroupId(t),a=s.getAttachmentIdIndexInMessageGroup(e,t)-1;if(!(a<0))return n[a]},getNextAttachmentIdForMessageGroup:(e,t)=>{const n=s.getAttachmentIdsByGroupId(t),a=s.getAttachmentIdIndexInMessageGroup(e,t)+1;if(!(a>n.length))return n[a]},getPreviousAttachmentIdForMessage:(e,t)=>{const n=s.getAttachmentIdsByMessageId(t),a=s.getAttachmentIdIndexInMessage(e,t)-1;if(!(a<0))return n[a]},getNextAttachmentIdForMessage:(e,t)=>{const n=s.getAttachmentIdsByMessageId(t),a=s.getAttachmentIdIndexInMessage(e,t)+1;if(!(a>n.length))return n[a]},isSingleDraftGroup:e=>{const t=s.getMessageIdsFromMessageGroupId(e);return 1===t.length&&s.isDraftMessage(t[0])},getCsidForSingleDraftGroup:e=>{if(!s.isSingleDraftGroup(e))return;const[t]=s.getMessageIdsFromMessageGroupId(e);return s.getMessageCsid(t)},__patchV2AttachmentId__:(e,t)=>{const{doesMessageIdExist:n,getAttachmentById:a,getMessageIdForAttachmentId:r,getMessageSubject:o}=s,i=r(e);return{partialMessage:{subject:n(i)?o(i,t):void 0},attachment:a(e)}},__patchV2MessageGroupItemId__:(e,t)=>s.__patchV2MessageGroupItem__({id:e},t),__patchV2MessageId__:(e,t)=>Da("__patchV2MessageId__",()=>`${e}-${t}`,[e=>e.getMessagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.getMessagesFlagSelectors(),e=>e.getFoldersSelectors(),e=>e.getMessageToAttachmentsSelectors(),e=>e.getAttachmentsSelectors(),e=>e.getSubjectsAndSnippetsSelectors()],()=>{const{getMessagesSelectors:n,getFoldersSelectors:a,getAttachmentIdsByMessageId:r,getAttachmentById:o,getMessageSubject:i,getMessageSnippet:c,getMessageFlags:l,getMessageFolderId:d}=s,{__get__:u}=n(),{__get__:m}=a(),p=u(e),_=r(e).map(o).filter(Boolean),h=d(e),E=l(e);return babelHelpers.extends({},p,{id:e,attachments:_,attachmentCount:_.length,folder:m(h),snippet:c(e,t),headers:babelHelpers.extends({},p.headers,{subject:i(e,t)}),flags:E,folderId:h})})(s),__patchV2MessageGroupItem__:(e={},t)=>e.id?Da("__patchV2MessageGroupItem__",()=>`${e.id}-${t}`,[e=>e.getMessageGroupsSelectors(),e=>e.getMessagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.getMessagesFlagSelectors()],()=>{const{getMessageIdsFromMessageGroupId:n}=s,a=n(e.id);return e.messages=a.map(e=>s.__patchV2MessageId__(e,t)),s.isSingleDraftGroup(e.id)&&(e.messages[0].csid=s.getCsidForSingleDraftGroup(e.id)),e})(s):e,getMessageGroupParticipantsInfo:(e,t)=>Da("getMessageGroupParticipantsInfo",()=>`${e}-${t}`,[e=>e.getMessageGroupsSelectors(),e=>e.getMessagesSelectors(),e=>e.getMailboxesSelectors(),e=>e.getFoldersSelectors()],()=>{const{getMessageIdsFromMessageGroupId:n,getAccountSelectors:a,getFoldersSelectors:r,getParticipant:o,getRecipients:i}=s,c=Object(M.m)(t),l=c?r().getPrimaryFolderTypeByFolderId(c):void 0,d=n(e),u=d.reduce((e,t)=>e.concat(i(t)),[]),m=d.reduce((e,t)=>{const{name:s="",email:n=""}=o(t)||{};return e.concat({name:s,email:n})},[]),p=a().getMyAddresses().reduce((e,t)=>(e[t]=!0,e),{});return{senders:l===S.ub.SENT||l===S.ub.DRAFT?Object(D.o)({recipients:u,participants:m,myAddresses:p}):m,myAddresses:p}})(s),getMessageGroupStreamItems:e=>{const{id:t,listId:n}=e,{getMessageCsid:a,getComposeSessionsSelectors:r,getMessageIdsFromMessageGroupId:o,isDraftMessage:i,getFoldersSelectors:c,isSent:l,getMessageTimestamp:d,isFeatureEnabled:u,getMessageFolderId:m}=s,p=u(S.mb.CONVERSATIONS),{getPrimaryFolderTypeByFolderId:_}=c(),{findReplyForwardCsidsOfMessage:h,getDraftMessageId:E}=r(),g=o(t),b=g.filter(e=>i(e)),I=Object(M.Q)(n,{listContentType:S.Fb.MESSAGE}),f=Object(v.b)(n,t);if(!p)return g.map(e=>({streamId:f,listId:I,csid:a(e),messageId:e,folderType:_(m(e))}));const A=g.map(e=>({messageId:e,timestamp:d(e)})).sort((e,t)=>e.timestamp-t.timestamp).filter(({messageId:e})=>!i(e)).reduce((e,{messageId:t})=>{const s=_(m(t)),n=a(t),r=h(t).filter(e=>!l(e)).reduce((e,t)=>{const s=E(t);return!s||i(s)?e.concat({streamId:f,listId:I,csid:t,messageId:s,folderType:S.ub.DRAFT}):e},[]);return e.concat({streamId:f,listId:I,csid:n,messageId:t,folderType:s}).concat(r)},[]),T=b.filter(e=>!A.some(t=>t.messageId===e)).map(e=>{const t=a(e);return{streamId:f,listId:I,csid:t,messageId:e,folderType:l(t)?S.ub.SENT:S.ub.DRAFT}});return A.concat(T)},isListRefreshing:(e,t=Date.now())=>s.getUnsyncedDataToSync(t).some(t=>t.type===S.Zd.LIST_TO_UPDATE&&t.id===e&&0===t.syncDefer),getDraftErrors:I.hasInvalidComposeField.bind(I),isSendRequested:t.composeSessions(e).isSendRequested,isSent:t.composeSessions(e).isSent,isComposeSaveDue:({csid:e,lastEditedTimeStamp:t,newContentIds:n=[],removedContentIds:a=[],composeSaveInterval:r})=>{if(!s.isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}))return!1;r=r||s.getFeaturesSelectors().getSetting(S.nd.COMPOSE_SAVE_INTERVAL);const o=s.getComposeSessionsSelectors().getLastSaveTimeStamp(e);return n.length>0||a.length||s.getActionTimeStamp()-o>r&&!(()=>s.getReconciledUnsyncedData().some(t=>t.type===S.Zd.COMPOSE&&t.id===e))()},isMessageGroupRequested:e=>s.getReconciledUnsyncedData().some(t=>t.type===S.Zd.MESSAGE_ITEM_TO_FETCH&&t.userInputtedValues.messageGroupId===e),isMessageGroupLoading:e=>s.getUnsyncedDataSelectors().getUnsyncedData().some(t=>t.type===S.Zd.MESSAGE_ITEM_TO_FETCH&&t.id===e),isSaving:({csid:e},t=Date.now())=>s.getUnsyncedDataToSync(t).some(t=>t.type===S.Zd.COMPOSE&&t.id===e),isGeminiAdLoading:e=>s.getUnsyncedDataToSync().some(t=>t.type===S.Zd.GEMINI_AD&&Object(E.e)(t.userInputtedValues.sectionIds).some(t=>t===e)),getLastEditedTimestampForCompose:e=>{const t=s.findUnsyncedDataByCsid(e);if(t)return t.lastEditedTimeStamp},isFreshCompose:e=>{const t=s.findUnsyncedDataByCsid(e);return t?!t.lastEditedTimeStamp:!s.getDraftMessageId(e)},isMessageUpdatePending:()=>Da("isMessageUpdatePending",()=>"isMessageUpdatePending",[e=>e.getReconciledUnsyncedData()],()=>s.getReconciledUnsyncedData().some(e=>e.type===S.Zd.MESSAGE_ITEM_TO_UPDATE))(s),isAsyncTaskPending:()=>Da("isAsyncTaskPending",()=>"isAsyncTaskPending",[e=>e.getReconciledUnsyncedData()],()=>s.getReconciledUnsyncedData().some(e=>e.type===S.Zd.ASYNC_TASK_STATUS))(s),getAsyncTask:()=>{return s.getReconciledUnsyncedData().find(e=>e.type===S.Zd.ASYNC_TASK_STATUS).userInputtedValues},isComposeSessionDirty:({csid:e,lastEditedTimeStamp:t})=>s.getComposeSessionsSelectors().isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}),getLastSaveTimeStampForDraft:e=>s.getComposeSessionsSelectors().getLastSaveTimeStamp(e),getDraftStatus:({csid:n,lastEditedTimeStamp:a})=>{const r=s.getLastSaveTimeStampForDraft(n);return s.isSaving({csid:n})||t.composeSessions(e).getFatalErrorCount(n)?ga.SAVING:a===r?ga.SAVED:void 0},canSendDraft:({csid:e,lastEditedTimeStamp:t,attachmentsInfo:n=[]})=>{const a=s.getDraftMessageId(e);if(!a||!t||s.getComposeSessionsSelectors().isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}))return!1;const r=s.getAttachmentIdsByMessageId(a).map(s.getContentIdByAttachmentId),o=Object(E.e)(n).some(e=>-1===r.indexOf(e.contentId));return!n.length||!o},findReplyForwardCsidsOfMessage:e=>s.getComposeSessionsSelectors().findReplyForwardCsidsOfMessage(e),doesComposeSessionExist:e=>s.getComposeSessionsSelectors().doesComposeSessionExist(e),getComposeFieldToFocus:e=>s.getComposeSessionsSelectors().getComposeFieldToFocus(e),showUnsyncedDataWarning:()=>{return s.getReconciledUnsyncedData().some(e=>e.type===S.Zd.COMPOSE&&s.doesComposeSessionExist(e.id)&&(s.isSendRequested(e.id)||e.userInputtedValues.lastEditedTimeStamp&&s.getLastSaveTimeStampForDraft(e.id)!==e.userInputtedValues.lastEditedTimeStamp)||e.warnOnClose)},findUnsyncedDataByCsid:e=>Da("findUnsyncedDataByCsid",()=>e,[e=>e.getReconciledUnsyncedData()],()=>{const t=s.getReconciledUnsyncedData().find(t=>t.type===S.Zd.COMPOSE&&t.id===e);if(t)return t.userInputtedValues})(s),getDraftCardMessage:e=>Da("getDraftCardMessage",()=>e,[t=>(t.findUnsyncedDataByCsid(e)||{}).lastEditedTimeStamp],()=>{const{getFoldersSelectors:t,findUnsyncedDataByCsid:n,getDraftFolderIdByAccountEmail:a}=s,{getFolderTypes:r}=t(),{from:o,to:i,cc:c,bcc:l,subject:d,lastEditedTimeStamp:u,attachmentsInfo:m}=n(e),p=a(o.email),_=Math.floor((u||Date.now())/1e3);return{message:{flags:{read:!0,flagged:!1},folder:{id:p,types:r(p)},headers:{from:[o],to:i,cc:c,bcc:l,subject:d,date:_},attachments:m}}})(s),isAttachmentUploadPendingForComposeSession:e=>{const{getReconciledUnsyncedData:t,getAttachmentByContentId:n}=s;return t().filter(({type:t,id:s,userInputtedValues:{newContentIds:n=[]}={}})=>t===S.Zd.COMPOSE&&s===e&&n.length).reduce((e,{userInputtedValues:{newContentIds:t=[]}})=>e.concat(...t),[]).some(e=>!n(e))},doComposeFromRouteQueryParams:e=>s.getComposeSessionsSelectors().doComposeFromRouteQueryParams(e),doComposeFromMailToLink:e=>s.getComposeSessionsSelectors().doComposeFromMailToLink(e),getComposeMailToLink:e=>s.getComposeSessionsSelectors().getMailToLink(e),getStationeryTheme:e=>s.getComposeSessionsSelectors().getStationeryTheme(e),findDraftMessageCsid:e=>s.getComposeSessionsSelectors().findDraftMessageCsid(e),getDraftMessageId:e=>s.getComposeSessionsSelectors().getDraftMessageId(e),getForwardCreativeId:e=>s.getComposeSessionsSelectors().getForwardCreativeId(e),getInForwardToMessageId:e=>s.getComposeSessionsSelectors().getInForwardToMessageId(e),getForwardAttachmentIds:e=>s.getComposeSessionsSelectors().getForwardAttachmentIds(e),isReplyMessage:e=>s.getComposeSessionsSelectors().isReplyMessage(e),isReplyAllMessage:e=>s.getComposeSessionsSelectors().isReplyAllMessage(e),isForwardMessage:e=>s.getComposeSessionsSelectors().isForwardMessage(e),getReplyingToMessageId:e=>s.getComposeSessionsSelectors().getReplyingToMessageId(e),isReplyOrReplyAll:e=>s.isReplyMessage(e)||s.isReplyAllMessage(e),getAttachmentsByMessageId:e=>(s.getAttachmentIdsByMessageId(e)||[]).map(s.getAttachmentById),getAttachmentCountByMessageId:e=>(s.getAttachmentIdsByMessageId(e)||[]).length,hasNonInlineAttachmentsByMessageId:e=>(s.getAttachmentIdsByMessageId(e)||[]).some(s.isNonInlineAttachmentById),hasFailedComposeSend:()=>{const{getReconciledUnsyncedData:e,getComposeSessionsSelectors:t}=s,{isSendFailed:n}=t();return e().some(({type:e,id:t})=>e===S.Zd.COMPOSE&&n(t))},getSelectedMailboxId:t.mailboxes(e).getSelectedMailboxId,getMailboxSize:t.mailboxes(e).getMailboxSize,getCurrentListId:()=>Object(M.t)(s.getRoute()),getFolderIdsFromListId:s=>{const{folderIds:n=[],folderNames:a=[]}=Object(M.n)(s),{getFolderIdsByName:r,doesFolderIdExist:o}=t.folders(e);return a.reduce((e,t)=>e.concat(r(t)),[]).concat(n).filter(o)},isSearchInputFocused:()=>Js(e).isSearchInputFocused(),getSearchSuggestions:t.searchSuggestions(e).getSuggestions,getComposeSuggestions:s=>{const n=t.addressBook(e).getContactBlackList(),a=t.composeSuggestions(e).getSuggestions(s)||[];return n.length?a.filter(e=>!n.find(t=>t.email===e.email)):a},getComposeSuggestionsFromImportantsByQuery:({query:e,contextEmail:t})=>{e=e.trim().toLocaleLowerCase();const{getImportantContacts:n}=s;return n(t).filter(({email:t,contact:{name:s}})=>s.toLocaleLowerCase().split(" ").find(t=>0===t.indexOf(e))||t.slice(0,t.indexOf("@")).toLocaleLowerCase().split(".").find(t=>0===t.indexOf(e))).map(({email:e,contact:{name:t,id:s}})=>({name:t,email:e,id:s})).slice(0,S.Kb)},getImportantContacts:e=>{const{getListsSelectors:t,getContactListSelectors:n}=s,{getImportantContactEmailsByContextEmail:a}=t(),{getContactIdByEmail:r,getContactById:o}=n();return a(e).map(e=>{const t=r(e);return{email:e,contact:o(t)}})},getCurrentGroupId:()=>s.getRoute().params.groupId,getFolderIdsForSelectedAccount:e=>s.getFolderIdsByFolderTypeForAccount(e,s.getSelectedAccountId()),getDefaultFolderIdForSelectedAccount:()=>s.getFolderIdsForSelectedAccount(S.ub.INBOX)[0],getDefaultFolderIdForAccount:e=>s.getFolderIdsByFolderTypeForAccount(S.ub.INBOX,e)[0],getFolderIdsByFolderTypeForAccount:(s,n)=>t.folders(e).getFolderIdsFromFolderType(s,n),getAccountById:s=>t.mailboxes(e).getAccountsSelectors().getAccountById(s),getSendAccountsByAccountId:s=>t.mailboxes(e).getAccountsSelectors().getSendAccountsByAccountId(s),getProviderFromAccount:s=>t.mailboxes(e).getAccountsSelectors().getProviderFromAccount(s),getAccountDescriptionByAccountId:s=>t.mailboxes(e).getAccountsSelectors().getAccountDescriptionByAccountId(s),getSelectedAccountId:()=>{const{getAccountById:e,getPrimaryAccountId:t}=s.getAccountSelectors(),n=s.getSelectedAccountIdByRoute(s.getRoute());return e(n)?n:t()},getSendingAccountId:()=>t.mailboxes(e).getAccountsSelectors().getSendingAccountId(),getSelectedAccountIdByRoute:e=>{const t=Object(M.t)(e),n=t?Object(M.g)(t):[];if(1===n.length)return n[0];let a=Object(M.m)(t);const r=void 0!==e.params?e.params.csid:void 0,{doesComposeSessionExist:o,getDraftMessageId:i,getReplyingToMessageId:c,getMessageFolderId:l,doesFolderIdExist:d,getAccountIdByFolderId:u,getFolderPageRoute:m,getCursorItem:p,doesStreamExist:_,doesMessageGroupIdExist:h,getMainStreamListIds:E,getAccountIdFromMessageGroupId:g,getDefaultSetting:b}=s;if(!a&&r&&o(r)){const e=i(r)||c(r);a=e?l(e):void 0}if(ba(e)&&Aa(e)&&h(e.params.groupId))return g(e.params.groupId,t);if(ba(e)&&fa(e)&&b(S.nd.PREVIEW_PANE)!==S.Gc.NO){const s=E(e),n=Object(v.a)(s),r=_(n)?p(n):void 0;if(r){if(r.id&&"MESSAGES"===Object(M.q)(r.listId)&&h(r.id))return g(r.id,t);if(r.csid){const e=i(r.csid)||c(r.csid);a=e?l(e):void 0}}}if(a&&d(a))return u(a);if(!a){const e=m();if(e){const t=Object(M.t)(e);return u(Object(M.m)(t))}}return s.getAccountSelectors().getSelectedAccountId()},doesSelectedAccountExist:()=>s.getAccountSelectors().doesSelectedAccountExist(),getAccountNameByAccountId:e=>s.getAccountSelectors().getAccountNameByAccountId(e),hasAccountWithEmail:t.mailboxes(e).getAccountsSelectors().hasAccountWithEmail,getAccountIdByAccountEmail:s=>t.mailboxes(e).getAccountsSelectors().getAccountIdByAccountEmail(s),getEmailOfSelectedAccount:()=>t.mailboxes(e).getAccountsSelectors().getAccountEmailByAccountId(s.getSelectedAccountId()),isFolderExpanded:e=>{return-1!==s.getSetting(S.nd.EXPANDED_FOLDERS).indexOf(e)},getAttachmentById:e=>s.getAttachmentsSelectors().getAttachmentById(e),getContentIdByAttachmentId:e=>s.getAttachmentsSelectors().getContentIdByAttachmentId(e),getConversationIdByAttachmentId:e=>s.getAttachmentsSelectors().getConversationIdByAttachmentId(e),getMimetypeByAttachmentId:e=>s.getAttachmentsSelectors().getMimetypeByAttachmentId(e),getAttachmentTypeByAttachmentId:e=>s.getAttachmentsSelectors().getAttachmentTypeByAttachmentId(e),getAttachmentSubtypeByAttachmentId:e=>s.getAttachmentsSelectors().getAttachmentSubtypeByAttachmentId(e),getSizeByAttachmentId:e=>s.getAttachmentsSelectors().getSizeByAttachmentId(e),doesAttachmentExistById:e=>s.getAttachmentsSelectors().doesAttachmentExistById(e),getDocumentIdByAttachmentId:e=>s.getAttachmentsSelectors().getDocumentIdByAttachmentId(e),getAttachmentIdByDocumentId:e=>s.getAttachmentsSelectors().getAttachmentIdByDocumentId(e),getAttachmentMessageReferenceByContentId:e=>s.getAttachmentsSelectors().getMessageReferenceByContentId(e),getAttachmentByContentId:e=>s.getAttachmentsSelectors().getByContentId(e),isInlineAttachmentById:e=>s.getAttachmentsSelectors().isInlineAttachmentById(e),isNonInlineAttachmentById:e=>s.getAttachmentsSelectors().isNonInlineAttachmentById(e),didAttachmentUploadFail:e=>s.getAttachmentsSelectors().hasError(e),getAttachmentIdsByMessageId:t.messageToAttachments(e).attachmentsByMessageId,getAttachmentDownloadAllUrlByMessageId:e=>s.getMessagesSelectors().getDownloadAllUrl(e),getMessageIdForAttachmentId:t.messageToAttachments(e).getMessageIdForAttachmentId,getPaymentSelectors:()=>t.payments(e),getAliasSuggestions:t.mailboxes(e).getAliasSuggestions,getAliasSuggestionStatus:t.mailboxes(e).getAliasSuggestionStatus,getSocialAccountsStatus:t.mailboxes(e).getSocialAccountsStatus,getAllAccounts:t.mailboxes(e).getAccountsSelectors().getAllAccounts,getPrimaryAccount:t.mailboxes(e).getAccountsSelectors().getPrimaryAccount,getAccountsForSearch:()=>Da("getAccountsForSearch",()=>"accounts",[e=>e.getMailboxesSelectors()],e=>e.getAccountsSelectors().getAllAccounts().filter(e=>e.status===S.f.ENABLED&&e.accountVerified&&e.type&&S.id.indexOf(e.type)>-1))(s),getExpiredAccounts:()=>Da("getExpiredAccounts",()=>"accounts",[e=>e.getMailboxesSelectors()],e=>e.getExpiredAccounts())(s),getAlertIdByAccountId:t.mailboxes(e).getAlertIdByAccountId,getRootAccounts:()=>Da("getRootAccounts",()=>"accounts",[e=>e.getMailboxesSelectors()],e=>e.getAccountsSelectors().getRootAccounts())(s),getRootAccountsWithDefaultFolder:()=>Da("getRootAccountsWithDefaultFolder",()=>"accounts",[e=>e.getMailboxesSelectors(),e=>e.getFoldersSelectors()],(e,t)=>{const s=e.getAccountsSelectors().getRootAccounts(),{doesFolderIdExist:n,getFolderUnreadCount:a,getFolderIdsFromFolderType:r}=t;return s.map(e=>{const t=r(S.ub.INBOX,e.id)[0];return babelHelpers.extends({},e,{defaultFolder:{id:t,unread:n(t)?a(t):0}})})})(s),getFoldersForMoveMenu:()=>Da("getFoldersForMoveMenu",()=>"folders",[e=>e.getRoute(),e=>e.getSelectedAccountIdByRoute(e.getRoute()),e=>e.getFoldersSelectors()],(e,t,s)=>{const{getCustomFolderList:n,getSystemFolderList:a}=s,r=Object(M.t)(e),o=Object(M.m)(r),i=o?[o]:[];function c(e,{assignShortcuts:t=!1,disabledFolderIds:s=[]}){const n=[];if(e.forEach(e=>{const t=e.type,a=babelHelpers.extends({},e,{disabled:-1!==s.indexOf(e.id)});t===S.ub.INBOX&&(a.shortcut=0),n.push(a)}),t){let e=0;for(let t=0;e<9&&n[t];t++)n[t].type!==S.ub.INBOX&&(n[t].shortcut=++e)}return n}const l=n(t),d=a(t).filter(({type:e})=>-1===[S.ub.DRAFT,S.ub.SENT].indexOf(e));return{customFolders:c(l,{assignShortcuts:!0,disabledFolderIds:i}),systemFolders:c(d,{disabledFolderIds:i})}})(s),getAliasAccounts:t.mailboxes(e).getAccountsSelectors().getAliasAccounts,hasMultipleRootAccounts:t.mailboxes(e).getAccountsSelectors().hasMultipleRootAccounts,isMyEmailAddress:t.mailboxes(e).getAccountsSelectors().isMyEmailAddress,getMyAddresses:()=>s.getAccountSelectors().getMyAddresses(),__patchV2MyAddresses__:()=>s.getMyAddresses().reduce((e,t)=>babelHelpers.extends({},e,{[t]:!0}),{}),getMailboxesSelectors:()=>t.mailboxes(e),getSettingsSelectors:()=>t.settings(e),getComposeAttributesSelectors:()=>t.composeAttributesStatus(e),getDraftFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(S.ub.DRAFT,s)[0],getSelectedAccountIdByAccountEmail:e=>{let t;return t=s.getAccountSelectors().isPrimaryAccountEmail(e)?s.getAccountIdByAccountEmail(e):s.getSelectedAccountId()},getDraftFolderIdForPrimaryAccount:()=>{const{getPrimaryAccountId:e}=s.getAccountSelectors();return s.getDraftFolderIdByAccountId(e())},getDraftFolderIdByAccountEmail:e=>s.getDraftFolderIdByAccountId(s.getSelectedAccountIdByAccountEmail(e)),getSendFolderIdForPrimaryAccount:()=>{const{getPrimaryAccountId:e}=s.getAccountSelectors();return s.getSendFolderIdByAccountId(e())},getSendFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(S.ub.SENT,s)[0],getInboxFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(S.ub.INBOX,s)[0],getSendFolderIdByAccountEmail:e=>s.getSendFolderIdByAccountId(s.getSelectedAccountIdByAccountEmail(e)),__isPermDeleteMessage:e=>{const{getMessageFolderId:t,isPermDeleteFolderType:n}=s;return n(t(e))},__getLastNonDraftMessageIdByGroupId:e=>{const{getMessageIdsFromMessageGroupId:t}=s,n=t(e).filter(e=>!s.isDraftMessage(e));return n[n.length-1]},__getMessage:e=>s.getMessagesSelectors().__getMessage(e),__getMessageWithFlagsAndFolderId:e=>{const{getMessagesSelectors:t,getMessageFlags:n,getMessageFolderId:a}=s,r=t().__getMessage(e);return babelHelpers.extends({},r,{flags:n(e),folderId:a(e)})},__getOriginalMessageGroupSender:e=>{let t;if(s.doesMessageGroupIdExist(e)){const n=s.getMessageIdsFromMessageGroupId(e),[a]=n,r=s.getMessageFromAddress(a),[o]=r;t=o}return t},__getFolderIdMapFromFolderType(e,t){const{getMessageFolderId:n,getAccountIdByFolderId:a,getFolderIdsByFolderTypeForAccount:r}=s,o={};return e.forEach(e=>{const s=r(t,(e=>a(n(e)))(e)),[i]=s;o.hasOwnProperty(i)||(o[i]=[]),o[i].push(e)}),o},getCalendarSelectors:()=>t.calendar(e),getSubscriptionSelectors:()=>t.subscription(e),getEnvironmentSelectors:()=>t.environment(e),getWindowDimensions:()=>s.getEnvironmentSelectors().getWindowDimensions(),getMainContentWidth:()=>{const{isNarrowScreen:e,getRightRailPanes:t}=s,n=e()?h.RIGHT_RAIL_NARROW_WIDTH:h.RIGHT_RAIL_WIDTH,a=t().length?Number(n.substring(0,n.length-2)):0;return s.getWindowDimensions().contentAndRightRailWidth-a},getIsXobnified:()=>s.getEnvironmentSelectors().getIsXobnified(),isAMT:()=>s.getEnvironmentSelectors().isAMT(),isAppVisible:()=>s.getEnvironmentSelectors().isAppVisible(),getApplicationLastVisibleTimeStamp:()=>s.getEnvironmentSelectors().getApplicationLastVisibleTimeStamp(),getBuildRefreshStatus:()=>s.getEnvironmentSelectors().getBuildRefreshStatus(),getTimeZoneName:()=>s.getEnvironmentSelectors().getTimeZoneName(),getIsInternalIP:()=>Da("getIsInternalIP",()=>"getIsInternalIP",[e=>e.getEnvironmentSelectors()],()=>s.getEnvironmentSelectors().getIsInternalIP())(s),isNarrowScreen:()=>Da("isNarrowScreen",()=>"isNarrowScreen",[e=>e],()=>(e=>{const{getWindowDimensions:t,getSetting:s}=e,n=s(S.nd.PREVIEW_PANE)===S.Gc.RIGHT,a=t();let r=Object(E.a)(a,"innerWidth",0);return!r&&Object(Qe.b)()&&window.innerWidth&&(r=window.innerWidth),!!r&&(!n&&r<h.NARROW_SCREEN_WIDTH||n&&r<h.WIDE_SCREEN_WIDTH)})(s))(s),isMessageDeliveredToSpamFolder:n=>{const a=s.getMessagesSelectors().getFolderOfDelivery(n);return!(!a||!s.doesFolderIdExist(a))&&t.folders(e).isSpamFolder(a)},shouldShowSpamAttachmentWarning:e=>!s.isSpamMessage(e)&&s.isMessageDeliveredToSpamFolder(e),getLaunchError:t.launchError(e).getLaunchErrorType,getLocationSuggestionSelectors:()=>t.locationSuggestions(e),getTravelCardListItems:(e,t,n)=>(function(e,t,s,n){const a=[],{getMessagesSelectors:r,getFlightsSelectors:o,getListsSelectors:i,getCardGroupsSelectors:c,getCardMessageToSchemasSelectors:l}=e,{getItemIds:d}=i().getItemIdsSelectors(t),{getConversationId:u}=r(),{getMessageIdsFromCardGroupId:m,getMostRecentEmailId:p}=c(),{getSchemas:_}=l(),h=Object(M.r)(t),E=Object(M.D)(t);switch(d().forEach(e=>{const r=m(e),i=p(e),c=s?u(i):i;r.forEach(s=>{_(s).forEach(({id:s,type:r})=>{if(r===S.ed.FlightReservation){const{getCardDate:i,isEligibleCardForFilter:l}=o(),d=i(s);l(s,h,n)&&a.push({id:s,type:r,listId:t,cardConversationId:e,groupId:c,cardDate:d,timestamp:d})}})})}),E){case S.Cd.CARD_DATE_ASC:a.sort((e,t)=>e.cardDate-t.cardDate);break;case S.Cd.CARD_DATE_DESC:a.sort((e,t)=>t.cardDate-e.cardDate)}return a})(s,e,t,n),getReceiptCardListItems:(e,t)=>(function(e,t,s){const n=[],{getMessagesSelectors:a,getCardMessageToSchemasSelectors:r,getListsSelectors:o,getReceiptSelectors:i}=e,{getCardConversationId:c,getParentMessageIdForCardConversationId:l,getParentConversationIdForCardConversationId:d}=a(),{getSchemas:u}=r(),{getItemIdsSelectors:m}=o(),{getPrice:p,getFirstItemName:_,getOrderDate:h,getNumItems:E,getCurrency:g}=i(),b=m(t).getItemIds(),I=Object(M.D)(t);switch(b.forEach(e=>{const a=u(e).filter(e=>e.type===S.ed.Order);if(1===a.length){const r=c(e),o=a[0].id,i=p(o),u=_(o),m=h(o),b=E(o),I=g(o),f=d(r),A=l(r);n.push({id:o,type:S.ed.Order,listId:t,schemaId:o,cardMid:e,price:i,itemName:u,numItems:b,currency:I,orderDate:m,conversationId:f,messageId:A,hasConv:s,timestamp:new Date(m).getTime()})}}),I){case S.Cd.DATE_ASC:n.sort((e,t)=>e.timestamp-t.timestamp);break;case S.Cd.DATE_DESC:n.sort((e,t)=>t.timestamp-e.timestamp)}return n})(s,e,t),getCurrentSpaceId:()=>Object(Ut.b)(e).spaceId,getAvailableSortOrders:()=>{const{getFoldersSelectors:e,getCurrentListId:t,getRoute:n,isFeatureEnabled:a}=s,r=t(),o=Object(M.m)(r),i=o?e().getPrimaryFolderTypeByFolderId(o):void 0,c=a(S.mb.CONVERSATIONS);return((e,t,s,n)=>{const a=n?Object(M.q)(n):S.Fb.MESSAGES;switch(e.name){case S.Uc.SEARCH:return a===S.Fb.IMAGES||a===S.Fb.DOCUMENTS?Wt:Vt;default:return t===S.ub.DRAFT?qt:s?zt:Bt}})(n(),i,c,r)},shouldEnableGroupActions:e=>{const{getCursorItem:t,doesStreamExist:n,hasSelectedStreamItems:a}=s,r=n(e)?t(e):void 0,o=!!n(e)&&a(e);return!(!r||o)},shouldEnableTriageActions:e=>{const{getCursorItem:t,doesStreamExist:n,getSelectedStreamItems:a}=s,r=n(e)?t(e):void 0,o=n(e)?a(e):[];return!!(r||o.length>0)},canShowToolbarItem:e=>{const{getSetting:t,isAllCardsExpanded:n,getMessageIdsFromMessageGroupId:a,shouldEnableGroupActions:r,doesStreamExist:o,getCursorItem:i,getFoldersSelectors:c,getCurrentListId:l}=s,d=t(S.nd.PREVIEW_PANE),u=o(e)?i(e):void 0,m=u?u.id:void 0,p=!!u&&n(u.listId,m),_=a(m),h=Object(M.m)(l());return((e,t,s,n,a)=>r=>{let o;const i=Boolean(e),c=e===S.ub.TRASH,l=e===S.ub.ARCHIVE,d=e===S.ub.BULK,u=e===S.ub.DRAFT,m=s!==S.Gc.NO&&t&&a.length>1;switch(r){case"archive":o=!i||!l&&!d&&!c;break;case"restore":o=l||d||c;break;case"spam":o=!d;break;case"ham":o=d;break;case"raf":o=s!==S.Gc.NO&&(!i||!d&&!u);break;case"expandAll":o=m&&!1===n;break;case"collapseAll":o=m&&!0===n;break;default:o=!0}return o})(h?c().getPrimaryFolderTypeByFolderId(h):void 0,r(e),d,p,_)},canEnableToolbarItem:e=>{const{shouldEnableGroupActions:t,shouldEnableTriageActions:n,getFoldersSelectors:a,getCurrentListId:r}=s,o=t(e),i=n(e),c=Object(M.m)(r());return((e,t,s)=>n=>{let a;const r=e===S.ub.DRAFT,o=e===S.ub.SENT;switch(n){case"archive":case"move":a=!r||!t;break;case"spam":a=!r&&!o||!t;break;case"ham":a=!r&&!o;break;case"raf":a=s;break;case"more":a=t;break;default:a=!0}return a})(c?a().getPrimaryFolderTypeByFolderId(c):void 0,i,o)},doesComposeHaveFatalError:n=>t.composeSessions(e).getFatalErrorCount(n)>=s.getSetting(S.nd.COMPOSE_THROTTLE_COUNT),isLoadingGeminiAsset:e=>s.getReconciledUnsyncedData().some(t=>t.type===S.Zd.GEMINI_AD_ASSET&&t.userInputtedValues.creativeId===e),getStreamItemInFocus:()=>{const{doesStreamExist:e,getCursorItem:t,getMessageGroupsSelectors:n,getRoute:a,getComposeSessionsSelectors:r,getMessageGroupStreamItemsWithExpansionStates:o,getGroupId:i}=s,{doesMessageGroupIdExist:c}=n(),{doesComposeSessionExist:l}=r(),d=a(),u=Object(M.t)(d),m=i(),p=m&&c(m)?Object(v.b)(u,m):void 0;let _=e(p)?t(p):void 0;if(!_||Object(M.q)(_.listId)===S.Fb.COMPOSE&&!l(_.id)){const e=Object(M.Q)(u,{listContentType:S.Fb.MESSAGE}),t=m&&c(m)?o({id:m,listId:e}):[];_=t.filter(e=>e.expansionState===S.A.EXPANDED).slice(-1)[0]||t.slice(-1)[0]}return _},getGroupIdInPreviewPane:()=>{const{getRoute:e,doesStreamExist:t,getCursorItem:n,getMessageGroupsSelectors:a,getMainStreamListIds:r,getSelectedStreamItems:o}=s,{doesMessageGroupIdExist:i}=a(),c=r(e()),l=Object(v.a)(c),d=t(l)?o(l).length:0,u=t(l)?n(l):void 0;return 0===d&&u&&i(u.id)?u.id:null},getGroupId:()=>{const{getRoute:e,getGroupIdInPreviewPane:t,getSetting:n}=s,a=Ia(e())||{};return n(S.nd.PREVIEW_PANE)===S.Gc.NO||a.groupId?a.groupId:t()},getMainStreamListIds:e=>{const{isFeatureEnabled:t}=s,n=Object(M.t)(e),a=[n],r=Object(M.q)(n);if(Sa(e))return a;switch(r){case S.Fb.COUPON_CARDS:return Object(M.r)(n)===S.Gb.ALL_COUPON_CARDS&&(t(S.mb.DEALS_VIEW_V2)?e.name!==S.Uc.SEARCH&&a.unshift(Object(M.e)({referrer:S.Hb.TOP_COUPONS})):a.unshift(Object(M.Q)(n,{listFilter:S.Gb.SAVED_COUPON_CARDS,referrer:S.xd.COUPONS}))),a;case S.Fb.GROCERY_STORES:return a.push(Object(M.Q)(n,{listFilter:S.Gb.UNLINKED_GROCERY_STORES})),a}return a},getMainStreamItems:t=>{const{getListsSelectors:n,getTravelCardListItems:a,getReceiptCardListItems:r,getEnvironmentSelectors:o,getMessageListItems:i,getAttachmentListItems:c,isFeatureEnabled:l,doesListExist:d,getMainStreamListIds:u}=s,m=Object(M.t)(t),{hasMoreItems:p,getListStatus:_}=n(),{getTimeZoneName:E}=o(),g=l(S.mb.CONVERSATIONS),b=Object(M.q)(m),I=Ft({timezone:E(),now:Object(R.i)()});let f=[];if(!d(m))return f;const A=u(t);switch(b){case S.Fb.TRAVEL_CARDS:{const e=Date.now(),t=xt({timezone:E(),now:Object(R.i)()}),s=Object(M.r)(m)===S.Gb.TRAVEL_VIEW_UPCOMING?t:I,n=a(m,g,e);f=kt(wt(n,s));break}case S.Fb.COUPON_CARDS:{const t=A.filter(e=>d(e)).reduce((e,t)=>e===S.Rc.LOADING||e===S.Rc.ERROR?e:_(t),S.Rc.DOES_NOT_EXIST);f=Object(Pt.b)(e,A,t);break}case S.Fb.GROCERY_STORES:{const t=A.filter(e=>d(e)).reduce((e,t)=>e===S.Rc.LOADING||e===S.Rc.ERROR?e:_(t),S.Rc.DOES_NOT_EXIST);f=function(e,t,s){const{getRetailersSelectors:n,getListsSelectors:a,getMainContentWidth:r}=Pa(e),{getRetailerStreamItems:o}=n(),{doesListExist:i}=a();if(s!==S.Rc.DOES_NOT_EXIST){const e=r();let s=0;const n=t.filter(e=>Object(M.q)(e)===S.Fb.GROCERY_STORES&&i(e)).map(t=>{const n=o(t);return Object(Nt.c)(n,h.RETAILERS_LIST_ITEM_WIDTH,e).reduce(function(e,n){const a={id:s++,listId:t,retailers:n};return e.push(a),e},[])});if(n&&n.length){const e=n[0]&&n[0].length?S.Fb.GROCERY_STORES_SEPARATOR:S.Fb.ZERO_SAVED_GROCERY_STORES;(e===S.Fb.GROCERY_STORES_SEPARATOR||n[1]&&n[1].length)&&n.splice(0,0,[{listId:Object(M.Q)(t[0],{listContentType:e}),id:s++,linked:!0}]);const a=n.length-1;n[a]&&n[a].length&&n.splice(a,0,[{listId:Object(M.Q)(t[1],{listContentType:S.Fb.GROCERY_STORES_SEPARATOR}),id:s++,linked:!1}])}return n.reduce((e,t)=>e.concat(t),[])}return[]}(e,A,t);break}case S.Fb.OFFER_CARDS:{const t=Object(M.r)(m);f=function(e,t,s,n){const{getActivatedOffersSelectors:a,getOffersSelectors:r,getMainContentWidth:o}=Pa(e),{getOfferStreamItems:i}=r(),{getActivatedOfferStreamItems:c}=a();if(s!==S.Rc.DOES_NOT_EXIST){const e=n===S.Gb.ACTIVATED_OFFER_CARDS?c(t):i(t),s=Object(Nt.c)(e,h.OFFER_CARD_ITEM_WIDTH,o()).reduce(function(e,s,n){const a={};return a.offers=s,a.id=n+1,a.listId=t,e.push(a),e},[]);return n===S.Gb.RECOMMENDED_OFFER_CARDS&&s&&s.length&&s.splice(0,0,{listId:Object(M.Q)(t,{listContentType:S.Fb.SINGLE_STORE_SEPARATOR}),id:0}),s}return[]}(e,m,_(m),t);break}case S.Fb.REFUND_CARDS:{const e=r(m,g);(f=kt(wt(e,I))).length&&(f[f.length-1].isLastItemInGroup=!0);break}case S.Fb.YAHOO_DEAL_CARDS:f=Object(Zt.b)(e,m,_(m));break;case S.Fb.MESSAGES:{const e=Object(M.D)(m),t=i(m);f=[...t.length>=4&&-1!==[S.Cd.DATE_DESC,S.Cd.DATE_ASC].indexOf(e)?kt(wt(t,I)):t];break}case S.Fb.IMAGES:case S.Fb.DOCUMENTS:{const e=Object(M.D)(m),t=c(m);f=[...t.length>=4&&-1!==[S.Cd.DATE_DESC,S.Cd.DATE_ASC].indexOf(e)?kt(wt(t,I)):t];break}}return A.some(e=>d(e)&&p(e))&&(f=[...f,{id:S.Fb.LOAD_MORE,listId:Object(M.f)({listContentType:S.Fb.LOAD_MORE})}]),f},getListItemsWithAds:(e,t)=>{const{doesListExist:n,getSetting:a,isFeatureEnabled:r,getEnvironmentSelectors:o}=s,i=Object(M.t)(e),c=e.name===S.Uc.SEARCH,l=r(S.mb.ADS);if(!n(i)||0===t.length||!l)return t;const d=Object(M.q)(i);let u=t;if(d===S.Fb.MESSAGES){const e=a(S.nd.LIST_ITEM_HEIGHT,{contentType:d}),n=a(S.nd.GEMINI_SECTION_IDS),i=q(s,e,c,n[S.vb.MESSAGE_LIST]),{getWindowDimensions:l}=o(),{innerHeight:m,ybarHeight:p}=l(),_=m-p-h.MESSAGE_TOOLBAR_CONTAINER_HEIGHT,E=((e,t,s)=>{if(t!==S.Fb.MESSAGES)return!1;const{getSetting:n,getAdsSelectors:a,isFeatureEnabled:r}=e,o=n(S.nd.GEMINI_SECTION_IDS),i=a(),{getAdFeedbackStatus:c,getCachedGeminiAds:l}=i,d=c();return r(S.mb.SECOND_PENCIL_AD)&&!!l(o[S.vb.MESSAGE_LIST_2]).length&&!s&&d[o[S.vb.MESSAGE_LIST_2]]!==S.k.ENDED})(s,d,c)&&_>0;if(u=t[0].listId&&Object(M.q)(t[0].listId)===S.Fb.TIMECHUNK?[t[0],i,...t.slice(1)]:[i,...t],E){const t=r(S.mb.TIMECHUNK_PENCIL_AD);let a=0,o=0;for(let r=0;r<u.length;r++){const i=!t||u[r].listId&&Object(M.q)(u[r].listId)===S.Fb.TIMECHUNK;if(a>_&&o>=10&&i){const t=q(s,e,c,n[S.vb.MESSAGE_LIST_2]);u=[...u.slice(0,r),t,...u.slice(r)];break}o+=u[r].relevantMessageId?1:0,a+=Object(M.q)(u[r].listId)===S.Fb.TIMECHUNK?h.ITEM_LIST_SEPARATOR_HEIGHT:u[r].listItemHeight}}}return u},getContactListItems:e=>{const{getListsSelectors:t,getStreamsSelectors:n}=s,{getItemIdsSelectors:a,getTotalHits:r,doesListExist:o}=t();if(!o(e))return[];const{doesStreamExist:i,getExpansionStateForStreamItem:c}=n(),l=a(e).getItemIds(),d=l.length>1,u=i(e);return Object(O.c)(l.map(t=>{const s=d?[{id:t+"separator",listId:t,type:S.Fb.CONTACTS_SEPARATOR}]:[],n=a(t).getItemIds().map(e=>({id:e,listId:t,type:S.Fb.CONTACTS})),o=r(t);let i=n;if(d&&o>S.Jb){i=[...n.slice(0,S.Jb),{id:t+"loader",listId:t,type:S.Fb.EXPAND_COLLAPSE_CONTACTS}],u&&!!c({streamId:e,listId:e,csid:t})&&(i=[...i,...n.slice(S.Jb),...Object(O.d)(o-n.length).map(e=>({id:t+"loading"+e,listId:t,type:S.Fb.LOADING_INDICATOR}))])}return[...s,...i]}))},doesStreamExist:e=>s.getStreamsSelectors().doesStreamExist(e),getStreamSelectionType:e=>s.getStreamsSelectors().getSelectionType(e),getCursor:e=>{const{getCursorSelectors:t}=s.getStreamsSelectors();return t(e).getCursor()},getCursorItem:e=>{const{getCursorSelectors:t}=s.getStreamsSelectors();return t(e).getCursorItem()},hasSelectedStreamItems:e=>{const{getSelectedItemsSelectors:t}=s.getStreamsSelectors();return s.getStreamSelectionType(e)!==S.ld.NONE||t(e).hasSelectedItems()},getSelectedStreamItems:e=>{const{getSelectedItemsSelectors:t}=s.getStreamsSelectors();if(s.getStreamSelectionType(e)!==S.ld.NONE){return s.getMainStreamItems(s.getRoute()).filter(t=>Ht(t,e,s)).map(({id:e,listId:t})=>({id:e,listId:t}))}return t(e).getSelectedItems()},isStreamItemSelected:(e,t)=>{const{getSelectedItemsSelectors:n}=s.getStreamsSelectors(),a=s.getStreamSelectionType(e),r=s.getRoute();return(!Sa(r)||!Aa(r))&&(a!==S.ld.NONE?Ht(t,e,s):n(e).isItemSelected(t))},getParticipantInFocus:()=>{const{getMessagesSelectors:e,getMessageGroupsSelectors:t,getStreamItemInFocus:n,getParticipant:a,getGroupId:r}=s,{doesMessageIdExist:o}=e(),{doesMessageGroupIdExist:i,getMessageIdsFromMessageGroupId:c}=t(),l=n()||{},d=l.id||l.messageId,u=r();if(l&&o(d))return a(d);const m=i(u)?c(u):[],p=m[m.length-1];return o(p)?a(p):null},getImportantContactsSelectors:()=>t.importantContacts(e),getComposeSuggestionSelectors:()=>t.composeSuggestions(e),getRecentSearchesSelectors:()=>t.recentSearches(e),getSenderEmailIdsFromMessageGroup:e=>{const t={},n=s.getAccountSelectors().getMyAddresses();return e.forEach(e=>{s.doesMessageGroupIdExist(e)&&s.getMessageIdsFromMessageGroupId(e).forEach(e=>{const a=s.getMessageFromAddress(e)[0];a&&a.email&&-1===n.indexOf(a.email)&&(t[a.email]=!0)})}),Object.keys(t)},getAdSectionIds:()=>{const{getRoute:e,isFeatureEnabled:t,getSetting:n,getAction:a,getAdsSelectors:r,getPrescribedNumberOfColumns:o,isMobileRoute:i}=s,{getSponsoredMomentData:c}=r(),{type:l}=a(),d=e(),u=n(S.nd.GEMINI_SECTION_IDS),m=n(S.nd.PREFERRED_AD_FORMAT),p=i(d),_=2===o(),h=t(S.mb.SPONSORED_MOMENT)&&c()&&m!==g.PENCIL_AD,E=[];switch(l){case A.Cc:if(t(S.mb.COUPON_REC_WITH_ADS))return{[S.vb.COUPON_REC]:u[S.vb.COUPON_REC]};break;case A.He:if(t(S.mb.RIGHT_RAIL_UPSELL_VIDEO_AD))return{[S.vb.RIGHT_RAIL_UPSELL]:u[S.vb.RIGHT_RAIL_UPSELL]}}switch(d.name){case S.Uc.BASE:case S.Uc.FOLDER:case S.Uc.SEARCH:h?E.push(S.vb.MESSAGE_LIST_SM):(E.push(S.vb.MESSAGE_LIST),t(S.mb.MESSAGE_LIST_AD_CAROUSEL)?E.push(S.vb.MESSAGE_LIST_CAROUSEL):t(S.mb.SECOND_PENCIL_AD)&&(E.push(S.vb.MESSAGE_LIST_2),u[S.vb.MESSAGE_LIST_2_FALLBACK]&&E.push(S.vb.MESSAGE_LIST_2_FALLBACK)));break;case S.Uc.MESSAGE_FROM_FOLDER_LIST:case S.Uc.MESSAGE_FROM_SEARCH_LIST:case S.Uc.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST:case S.Uc.MESSAGE_FROM_LIST:p&&_?h?E.push(S.vb.MESSAGE_LIST_SM):(E.push(S.vb.MESSAGE_LIST),t(S.mb.MESSAGE_LIST_AD_CAROUSEL)?E.push(S.vb.MESSAGE_LIST_CAROUSEL):t(S.mb.SECOND_PENCIL_AD)&&E.push(S.vb.MESSAGE_LIST_2)):(t(S.mb.SHOPPING_CART_AD)&&E.push(S.vb.SHOPPING_CART),h||E.push(S.vb.MESSAGE_READ),t(S.mb.SUBSCRIPTION_ADS)&&E.push(S.vb.SUBSCRIPTION))}return E.reduce((e,t)=>(u[t]&&(e[t]=u[t]),e),{})},isPeopleMessage:(e,t)=>{const{getMessagesSelectors:n,getRelevantMessageIdFromMessageGroupId:a,isPeopleSmartViewEnabled:r}=s;if(!r())return!1;const{getDecos:o}=n();return!!o(a(e,t)).find(({id:e})=>e===S.Y[S.zd.PEOPLE])},isPeopleSmartViewEnabled(){const{isFeatureEnabled:e}=s,{SMARTVIEW_CATEGORIES_ALL:t,SMARTVIEW_CATEGORIES_PEOPLE:n,SMARTVIEW_CATEGORIES_PEOPLE_V2:a}=S.mb;return e(t)||e(n)||e(a)},isMessageReadAdRotationActive:()=>{const{getFeaturesSelectors:e,getStreamItemInFocus:t,getEnvironmentSelectors:n,getRoute:a,doesStreamExist:r,getCursorItem:o}=s,{isEnabled:i,getSetting:c}=e(),l=n().isAppVisible(),d=i(S.mb.MESSAGE_READ_AD_ROTATION),u=i(S.mb.HIDE_RIGHT_RAIL),m=c(S.nd.PREVIEW_PANE)!==S.Gc.NO,p=a(),_=Object(M.t)(p),h=t(),E=!(!h||!h.listId)&&Object(M.q)(h.listId)===S.Fb.MESSAGE;let g=p.name===S.Uc.MESSAGE_FROM_SEARCH_LIST||p.name===S.Uc.MESSAGE_FROM_FOLDER_LIST;if(m){const e=Object(v.a)([_]);g=!!(r(e)?o(e):null)}return d&&!u&&l&&g&&E},isComposeFocused:()=>{const{getStreamItemInFocus:e,getRouteName:t}=s,n=e()||{},{folderType:a,listId:r}=n,o=t();return o===S.Uc.NEW_DRAFT||o===S.Uc.EDIT_DRAFT||a===S.ub.DRAFT||r&&Object(M.q)(r)===S.Fb.COMPOSE},getVideoChannelsMetaData(){const{getVideoPlayerSelectors:e}=s;return e().getChannelMetaData()},getAutotagSuggestions(e){const t=s.getComposeSessionsSelectors().getLastAutotagQuery(e);return s.getComposeSuggestions(t).slice(0,3)},couldShowEmptyFolderVideo(){const{getRoute:e,getMainStreamListIds:t,isListUpdatedAndEmpty:n}=s,a=e();return!t(a).some(e=>!(Object(M.q)(e)===S.Fb.MESSAGES&&n(e)&&(a.name===S.Uc.FOLDER||Object(M.K)(e)&&!Object(L.e)(e)&&a.name!==S.Uc.MESSAGE_FROM_SEARCH_LIST)&&!Object(M.J)(a)))},isListUpdatedAndEmpty(e){const{getMessageListItems:t,isListStale:n,doesListHasMoreItems:a,doesListExist:r,getAction:o}=s,{route:i,previousRoute:c}=o();return!!r(e)&&(0===t(e).length&&!a(e)&&(Object(y.D)(i,c)||!n(e)))},shouldShowAdBlockCoupons(e=!1){const{isFeatureEnabled:t,getAdsSelectors:n,getRouteName:a,getCurrentListId:r,getActionableRightRailPane:o}=s,{isAdBlocked:i}=n(),c=a(),l=r(),d=Object(M.x)(l);return t(S.mb.AD_BLOCK_COUPONS)&&!t(S.mb.HIDE_RIGHT_RAIL)&&!o()&&(i()||e)&&(c===S.Uc.FOLDER||c===S.Uc.LIST||c===S.Uc.SEARCH&&(d===S.xd[S.zd.UNREAD]||d===S.xd[S.zd.STARRED]))},hasMatchingDomainInMessageGroup:e=>{const{getGroupId:t,getSenderEmailIdsFromMessageGroup:n}=s;return n([t()]).some(t=>!!e[Object(T.k)(t)])},getActionableRightRailPane:()=>{const{getSetting:e,isFeatureEnabled:t}=s,n=e(S.nd.ACTIONABLE_RIGHT_RAIL_CONTENT);switch(n&&n.currentView){case S.Sc.CONTACTS_PANE:return t(S.mb.CONTACTS_PANE_FEATURE)?S.Tc.ContactsPane:null;default:return null}},getContextualRightRailPanes:()=>{const{isFeatureEnabled:e,isAttachmentRoute:t,shouldShowAdBlockCoupons:n,shouldShowEbayWarrantyUpsell:a,getSetting:r,getSmartViewTypeFromRoute:o,getRoute:i,isRRUpsellVideoAdTimestampValid:c}=s,l=c(),d=i();if(t())return[S.Tc.AttachmentUi];if(e(S.mb.HIDE_RIGHT_RAIL))return[];const u=[];if(l&&d.name!==S.Uc.SEARCH||!e(S.mb.RIGHT_RAIL_CONTACT_CARD)&&!e(S.mb.MESSAGE_READ_CONTACT_CARD)||u.push(S.Tc.ContactCard),e(S.mb.RIGHT_RAIL_MESSAGES_CARD)&&u.push(S.Tc.MessageBrief),e(S.mb.RIGHT_RAIL_PHOTO_CARD)&&u.push(S.Tc.PhotoBrief),e(S.mb.RIGHT_RAIL_DOCS_CARD)&&u.push(S.Tc.DocumentBrief),e(S.mb.DEALS_VIEW_V2)&&o(d)===S.zd.COUPONS&&u.push(S.Tc.SavedDeals),e(S.mb.RETAILER_FILTER)&&u.push(S.Tc.RetailerFilter),!l){e(S.mb.SHOPLIFT_AD)&&u.push(S.Tc.ShopliftAd),a()&&r(S.nd.EBAY_WARRANTY_UPSELL_POSITION)===S.gb.RIGHT&&u.push(S.Tc.EbayWarrantyUpsell),n()&&u.push(S.Tc.AdBlockCoupons),e(S.mb.SUBSCRIPTION_ADS)&&u.push(S.Tc.SubscriptionAds),e(S.mb.RIGHT_RAIL_NATIVE_AD)&&u.push(S.Tc.RightRailNativeAd),e(S.mb.RELATED_SEARCHES_CARD)&&u.push(S.Tc.RelatedSearchesCard),e(S.mb.RELATED_COUPONS)&&u.push(S.Tc.RelatedCoupons),e(S.mb.RELATED_RETAILERS)&&u.push(S.Tc.RelatedRetailers),e(S.mb.COUPONS_ON_SEARCH_RIGHT_RAIL)&&u.push(S.Tc.SearchRightRailCoupons),(e(S.mb.HIPMUNK_CARD)||e(S.mb.BOOKING_CARD)||e(S.mb.SEATGEEK_CARD))&&u.push(S.Tc.TravelCardsGroup),e(S.mb.PLA_ADS_AVAILABLE)&&u.push(S.Tc.PlaAds),e(S.mb.ADS)&&!t()&&!e(S.mb.RIGHT_RAIL_NATIVE_AD)&&!e(S.mb.HIDE_RIGHT_RAIL)&&!e(S.mb.RIGHT_RAIL_CONTACT_CARD)&&!e(S.mb.RIGHT_RAIL_PHOTO_CARD)&&!e(S.mb.RIGHT_RAIL_DOCS_CARD)&&!e(S.mb.PLA_ADS_AVAILABLE)&&!e(S.mb.RETAILER_FILTER)&&u.push(S.Tc.RightPaneAds)}return u},getRightRailPanes:()=>{const{getActionableRightRailPane:e,getContextualRightRailPanes:t}=s,n=e();return n?[n]:t()},getPendingUpdate:()=>t.pendingUpdate(e).getPendingUpdate(),getYahooDealsSelectors:()=>t.yahooDeals(e),getDealsSelectors:()=>t.deals(e),getAccountIdsByFolderId:e=>{const{doesFolderIdExist:t}=s;return e&&t(e)?Da("getAccountIdsByFolderId",()=>e,[e=>e.getFoldersSelectors()],()=>{const t=s.getFoldersSelectors().getAccountIdByFolderId(e);return t?[t]:[""]})(s):[]},getSelectedItems:e=>Da("getSelectedItems",()=>e,[e=>e.getStreamsSelectors()],()=>{const{doesStreamExist:t,getSelectedStreamItems:n}=s;return t(e)?n(e).reduce((e,{id:t})=>babelHelpers.extends({},e,{[t]:!0}),{}):{}})(s),getListItems:e=>{const{doesListExist:t}=s;return t(e)?Da("getListItems",()=>e,[e=>e.getListsSelectors()],()=>{const{getListItemIds:t,__patchV2MessageGroupItemId__:n,__patchV2AttachmentId__:a}=s,r=Object(M.q)(e);return t(e).map(t=>{switch(r){case S.Fb.MESSAGES:return n(t,e);case S.Fb.DOCUMENTS:case S.Fb.IMAGES:return a(t,e)}}).filter(e=>!e.messages||e.messages.length>0)})(s):[]},getMessageGroupRoutes:e=>{const{doesListExist:t}=s;return t(e)?Da("getMessageGroupRoutes",()=>e,[e=>e.getListsSelectors(),e=>e.isFeatureEnabled(S.mb.CONVERSATIONS)],()=>{const{isFeatureEnabled:t,getListItems:n}=s,a=t(S.mb.CONVERSATIONS),r=Object(M.q)(e),o=n(e),i={};return o.forEach(t=>{const s=Object(y.p)({item:t,listId:e,isConversationMode:a});s&&(r===S.Fb.MESSAGES?i[t.id]=s:i[t.attachment.id]=s)}),i})(s):{}},getReceiptFromMessageId:e=>{const{getCardMessageToSchemasSelectors:t,getReceiptSelectors:n,getGroupId:a,getRoute:r,getRelevantMessageIdFromMessageGroupId:o,getCardGroupsSelectors:i,getMessagesSelectors:c}=s;let l=e;if(!l){const e=a();if(!e)return null;l=o(e,Object(M.t)(r()))}const d=c().getCardConversationId(l),u=i().getMessageIdsFromCardGroupId(d)||[];for(const e of u){const s=(t().getSchemas(e)||[]).find(e=>e.type===S.ed.Order)||{},a=n().getReceipt(s.id)||null;if(a)return a}return null},shouldShowEbayWarrantyUpsell:()=>{const{getRelevantMessageIdFromMessageGroupId:e,getRoute:t,getGroupId:n,getMessagesSelectors:a,hasMatchingDomainInMessageGroup:r,isFeatureEnabled:o,getReceiptFromMessageId:i,getSetting:c,isNarrowScreen:l}=s,d=n();if(!d)return!1;const u=Object(M.t)(t()),m=o(S.mb.EBAY_WARRANTY_UPSELL),p=c(S.nd.EBAY_WARRANTY_UPSELL_POSITION),_=e(d,u);if(!m||!_)return!1;const h=!!a().getDecos(_).find(e=>e.id===S.dc.ORD),g=i(_);if(!g)return!1;const b=g.orderedItems&&Array.isArray(g.orderedItems)&&g.orderedItems.some(({category:e=[]})=>Array.isArray(e)&&e.some(({name:e=""})=>{const t=e.split(">")[0]||"";return f.f.some(e=>e===t.toLowerCase())})),I=Object(T.k)(Object(E.a)(g,"broker.url","")),A=(I&&I.indexOf("ebay.com")>-1||"eBay"===Object(E.a)(g,"broker.name",""))&&r({"ebay.com":"ebay.com"}),C=g.orderedItems.every(({name:e=""})=>!e.toLowerCase().includes("warranty")),O=p===S.gb.RIGHT&&l();return m&&b&&h&&A&&C&&!O},doesCurrentRouteContainDraft(){const{getRoute:e,getSetting:t,doesMessageGroupIdExist:n,getMainStreamListIds:a,doesStreamExist:r,getCursorItem:o,isDraftGroup:i}=s,c=e(),l=t(S.nd.PREVIEW_PANE)===S.Gc.NO;if(Ca(c)||Ta(c))return!0;if(l){if(Aa(c)){const e=c.params.groupId;if(n(e)&&i(e))return!0}}else{const e=a(c),t=Object(v.a)(e);if(t&&r(t)){const e=o(t);if(e&&e.id){const t=e.id;if(n(t)&&i(t))return!0}}}return!1},getFormattedTopRetailers:()=>{const{getContactListSelectors:e,getDealsSelectors:t,getContactById:n}=s,a=t().getTopRetailers()||[],{getContacts:r}=e(),o=r(),i={};return a.map(({email:e,nameFromEmail:t})=>{for(const t in o){const{emails:s=[],name:n=""}=o[t];if(s.indexOf(e.toLowerCase())>-1)return{email:e,name:n}}const s=n(e);return{email:e,name:s?s.name:t}}).filter(({name:e})=>!i[e]&&(i[e]=!0))},canDisplayBlockSenderMenuItemForMessageId:t=>{const{getAllAccounts:s,getAliasAccounts:n,getFeaturesSelectors:a,getFoldersSelectors:r,getMessageFolderId:o,getMessagesSelectors:i,getParticipant:c}=Pa(e);if(!a().isEnabled(S.mb.BLOCK_SENDERS))return!1;const l=c(t);return!(!l||!Object(T.m)(l.email)||i().isVerifiedDomain(t)||r().getFolderTypes(o(t)).indexOf(S.ub.SENT)>-1)&&![].concat(s().filter(e=>e.type!==S.g.ALIAS),n()).find(e=>l.email===e.email)},isRRUpsellVideoAdTimestampValid(){const{isFeatureEnabled:e,getSetting:t}=s,n=e(S.mb.RIGHT_RAIL_UPSELL_VIDEO_AD),a=60*t(S.nd.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION)*1e3;if(n&&Object(T.l)()){const e=window.localStorage.getItem(ha.b);return e&&Date.now()-e<a}}};return s})},function(e,t,s){"use strict";s.r(t);var n=s(38),a=s.n(n);var r=s(18);s.d(t,"GRID_UNIT",function(){return o}),s.d(t,"BASE_LINK_COLOR",function(){return i}),s.d(t,"SELECTED",function(){return c}),s.d(t,"TRANSPARENT",function(){return l}),s.d(t,"BLUE",function(){return d}),s.d(t,"RED",function(){return u}),s.d(t,"DARK_BLUE",function(){return m}),s.d(t,"DARK_THEME_BLUE",function(){return p}),s.d(t,"WHITE",function(){return _}),s.d(t,"BLACK",function(){return h}),s.d(t,"BACKGROUND_COLOR",function(){return E}),s.d(t,"IMPROVED_GRAY",function(){return g}),s.d(t,"IMPROVED_GRAY_DARK",function(){return b}),s.d(t,"LESS_IMPORTANT_GRAY",function(){return I}),s.d(t,"FIRST_LEVEL_GRAY",function(){return f}),s.d(t,"OVERLAY",function(){return S}),s.d(t,"SECOND_LEVEL_GRAY",function(){return A}),s.d(t,"THIRD_LEVEL_GRAY",function(){return T}),s.d(t,"FIRST_LEVEL_ORANGE",function(){return C}),s.d(t,"FOURTH_LEVEL_GRAY",function(){return O}),s.d(t,"FIFTH_LEVEL_GRAY",function(){return R}),s.d(t,"COOL_FAINT",function(){return N}),s.d(t,"HEADING_PURPLE",function(){return M}),s.d(t,"WORK_AREA_BACKGROUND_COLOR",function(){return D}),s.d(t,"BORDER_MEDIUM_COLOR",function(){return y}),s.d(t,"MODE_CHOOSER_BLOCK_GRAY",function(){return L}),s.d(t,"BLOCK_IMAGE_BANNER_GRAY",function(){return v}),s.d(t,"GREEN",function(){return P}),s.d(t,"FOLDER_ITEM_HOVER_BGCOLOR",function(){return F}),s.d(t,"BURN_8",function(){return x}),s.d(t,"BURN_10",function(){return w}),s.d(t,"BURN_16",function(){return k}),s.d(t,"BURN_20",function(){return H}),s.d(t,"BURN_30",function(){return U}),s.d(t,"BURN_46",function(){return j}),s.d(t,"BURN_60",function(){return G}),s.d(t,"BURN_70",function(){return B}),s.d(t,"BURN_85",function(){return V}),s.d(t,"BURN_80",function(){return W}),s.d(t,"DODGE_6",function(){return q}),s.d(t,"DODGE_8",function(){return z}),s.d(t,"DODGE_10",function(){return Z}),s.d(t,"DODGE_12",function(){return K}),s.d(t,"DODGE_16",function(){return Y}),s.d(t,"DODGE_20",function(){return X}),s.d(t,"DODGE_30",function(){return $}),s.d(t,"DODGE_50",function(){return Q}),s.d(t,"DODGE_60",function(){return J}),s.d(t,"DODGE_80",function(){return ee}),s.d(t,"DODGE_95",function(){return te}),s.d(t,"HEADER_COLOR_1",function(){return se}),s.d(t,"HEADER_COLOR_2",function(){return ne}),s.d(t,"SRP_LINK_COLOR",function(){return ae}),s.d(t,"ITEM_HOVER_BGCOLOR",function(){return re}),s.d(t,"ITEM_SELECTED_BGCOLOR",function(){return oe}),s.d(t,"MESSAGE_LIST_GEMINI_AD_BGCOLOR",function(){return ie}),s.d(t,"MESSAGE_LIST_HOVER_GEMINI_AD_BGCOLOR",function(){return ce}),s.d(t,"ATTACHMENT_LIGHT_PURPLE",function(){return le}),s.d(t,"ATTACHMENT_MEDIUM_PURPLE",function(){return de}),s.d(t,"COUPON_SELF_EXTRACTION_MODAL_MEDIUM_PURPLE",function(){return ue}),s.d(t,"COUPON_SELF_EXTRACTION_MODAL_LIGHT_PURPLE",function(){return me}),s.d(t,"COUPON_SELF_EXTRACTION_MODAL_FAINT_PURPLE",function(){return pe}),s.d(t,"PILL_SELECTED_BGCOLOR",function(){return _e}),s.d(t,"DEFAULT_BACKGROUND_COLOR",function(){return he}),s.d(t,"MAIN_APP_BORDER",function(){return Ee}),s.d(t,"PRIMARY_BUTTON_ACTIVE_COLOR",function(){return ge}),s.d(t,"PRIMARY_BUTTON_TEXT_COLOR",function(){return be}),s.d(t,"PRIMARY_BUTTON_PRESSED_COLOR",function(){return Ie}),s.d(t,"PRIMARY_BUTTON_INACTIVE_TEXT_COLOR",function(){return fe}),s.d(t,"PRIMARY_BUTTON_INACTIVE_COLOR",function(){return Se}),s.d(t,"PRIMARY_BUTTON_HOVER_COLOR",function(){return Ae}),s.d(t,"SECONDARY_BUTTON_NORMAL",function(){return Te}),s.d(t,"SECONDARY_BUTTON_ACTIVE",function(){return Ce}),s.d(t,"PRIMARY_BUTTON_ACTIVE_COLOR_LIGHT",function(){return Oe}),s.d(t,"HOVER_BUTTON_COLOR_LIGHT",function(){return Re}),s.d(t,"BORDER_SEGMENT",function(){return Ne}),s.d(t,"BORDER_SEGMENT_LIGHT",function(){return Me}),s.d(t,"SEGMENT_DEFAULT_DARK",function(){return De}),s.d(t,"SEGMENT_ACTIVE_DARK",function(){return ye}),s.d(t,"BOLD",function(){return Le}),s.d(t,"MEDIUM",function(){return ve}),s.d(t,"SMALL",function(){return Pe}),s.d(t,"BASE_FONT_STACK",function(){return Fe}),s.d(t,"ROUNDED_FONT_STACK",function(){return xe}),s.d(t,"MOBILE_BASE_FONT_STACK",function(){return we}),s.d(t,"BASE_FONT_WEIGHT",function(){return ke}),s.d(t,"BASE_FONT_SIZE",function(){return He}),s.d(t,"BASE_LINE_HEIGHT",function(){return Ue}),s.d(t,"LOWEST_LINE_HEIGHT",function(){return je}),s.d(t,"LOWER_LINE_HEIGHT",function(){return Ge}),s.d(t,"HIGHER_LINE_HEIGHT",function(){return Be}),s.d(t,"HIGHEST_LINE_HEIGHT",function(){return Ve}),s.d(t,"ALT_FONT_STACK",function(){return We}),s.d(t,"FONT_SIZE_XXS",function(){return qe}),s.d(t,"FONT_SIZE_XS",function(){return ze}),s.d(t,"FONT_SIZE_S",function(){return Ze}),s.d(t,"FONT_SIZE_M",function(){return Ke}),s.d(t,"FONT_SIZE_L",function(){return Ye}),s.d(t,"FONT_SIZE_XL",function(){return Xe}),s.d(t,"FONT_SIZE_XXL",function(){return $e}),s.d(t,"ICON_SIZE_XXXS",function(){return Qe}),s.d(t,"ICON_SIZE_XXS",function(){return Je}),s.d(t,"ICON_SIZE_XS",function(){return et}),s.d(t,"ICON_SIZE_S",function(){return tt}),s.d(t,"ICON_SIZE_M",function(){return st}),s.d(t,"ICON_SIZE_L",function(){return nt}),s.d(t,"ICON_SIZE_XL",function(){return at}),s.d(t,"ICON_SIZE_XXL",function(){return rt}),s.d(t,"ICON_SIZE_XXXL",function(){return ot}),s.d(t,"AVATAR_SIZE_S",function(){return it}),s.d(t,"AVATAR_SIZE_M",function(){return ct}),s.d(t,"AVATAR_SIZE_L",function(){return lt}),s.d(t,"AVATAR_SIZE_COMPACT",function(){return dt}),s.d(t,"AVATAR_SIZE_40",function(){return ut}),s.d(t,"AVATAR_SIZE_24",function(){return mt}),s.d(t,"AVATAR_SIZE_60",function(){return pt}),s.d(t,"IconColors",function(){return _t}),s.d(t,"BORDER_SUPER_LIGHT",function(){return ht}),s.d(t,"BORDER_LIGHT",function(){return Et}),s.d(t,"BORDER_DARK",function(){return gt}),s.d(t,"BORDER_WARNING",function(){return bt}),s.d(t,"BORDER_ACTIVE",function(){return It}),s.d(t,"BORDER_MEDIUM",function(){return ft}),s.d(t,"BOX_SHADOW_NORMAL",function(){return St}),s.d(t,"ShadowBlurs",function(){return At}),s.d(t,"SHADOW_COLOR",function(){return Tt}),s.d(t,"Shadows",function(){return Ct}),s.d(t,"FOCUS_OUTLINE",function(){return Ot}),s.d(t,"FOCUS_OUTLINE_DARK_THEME_MODE",function(){return Rt}),s.d(t,"APP_HEADER_FOCUS_OUTLINE",function(){return Nt}),s.d(t,"MESSAGE_TOOLBAR_CONTAINER_HEIGHT",function(){return Mt}),s.d(t,"MESSAGE_LIST_ITEM_NORMAL_HEIGHT",function(){return Dt}),s.d(t,"MESSAGE_LIST_ITEM_SLIM_HEIGHT",function(){return yt}),s.d(t,"MESSAGE_LIST_ITEM_RELAXED_HEIGHT",function(){return Lt}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_NORMAL_HEIGHT",function(){return vt}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_SLIM_HEIGHT",function(){return Pt}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_RELAXED_HEIGHT",function(){return Ft}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_SNIPPET_NORMAL_HEIGHT",function(){return xt}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_SNIPPET_SLIM_HEIGHT",function(){return wt}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_SNIPPET_RELAXED_HEIGHT",function(){return kt}),s.d(t,"MESSAGE_LIST_ITEM_LOAD_MORE_HEIGHT",function(){return Ht}),s.d(t,"MESSAGE_LIST_GEMINI_AD_HEIGHT",function(){return Ut}),s.d(t,"MESSAGE_LIST_GEMINI_AD_HEIGHT_M",function(){return jt}),s.d(t,"MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT",function(){return Gt}),s.d(t,"MESSAGE_LIST_COMPACT_FEEDBACK_FORM_HEIGHT",function(){return Bt}),s.d(t,"MESSAGE_LIST_FEEDBACK_FORM_HEIGHT",function(){return Vt}),s.d(t,"MOBILE_MESSAGE_LIST_ITEM_HEIGHT",function(){return Wt}),s.d(t,"MOBILE_SNIPPET_MESSAGE_LIST_ITEM_HEIGHT",function(){return qt}),s.d(t,"TRAVEL_LIST_ITEM_HEIGHT",function(){return zt}),s.d(t,"PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET",function(){return Zt}),s.d(t,"PREVIEW_PANE_DEFAULT_TOP_PERCENT_OFFSET",function(){return Kt}),s.d(t,"PREVIEW_PANE_DEFAULT_TOP_PIXELS_OFFSET",function(){return Yt}),s.d(t,"PREVIEW_PANE_CONSTRAINT_TOP_PIXELS_OFFSET",function(){return Xt}),s.d(t,"PREVIEW_PANE_CONSTRAINT_BOTTOM_PIXELS_OFFSET",function(){return $t}),s.d(t,"PREVIEW_PANE_CONSTRAINT_LEFT_PERCENT_OFFSET",function(){return Qt}),s.d(t,"PREVIEW_PANE_CONSTRAINT_RIGHT_PERCENT_OFFSET",function(){return Jt}),s.d(t,"ITEM_LIST_SEPARATOR_HEIGHT",function(){return es}),s.d(t,"MOBILE_ITEM_LIST_SEPARATOR_HEIGHT",function(){return ts}),s.d(t,"SEARCH_BAR_HEIGHT",function(){return ss}),s.d(t,"PHOTO_ITEM_SIZE",function(){return ns}),s.d(t,"PHOTO_SIZE_PLUS_PADDING",function(){return as}),s.d(t,"PHOTO_ITEM_SMALL_SIZE",function(){return rs}),s.d(t,"DOCUMENT_ITEM_HEIGHT",function(){return os}),s.d(t,"OFFER_CARD_ITEM_WIDTH",function(){return is}),s.d(t,"OFFER_CARD_ITEM_HEIGHT",function(){return cs}),s.d(t,"ACTIVATED_OFFERS_THUMBNAIL_WIDTH",function(){return ls}),s.d(t,"YAHOO_DEAL_ITEM_WIDTH",function(){return ds}),s.d(t,"YAHOO_DEAL_ITEM_HEIGHT",function(){return us}),s.d(t,"YAHOO_DEAL_ACTIVITY_HEADER_HEIGHT",function(){return ms}),s.d(t,"HEADING_FONT_WEIGHT",function(){return ps}),s.d(t,"STYLELESS_INPUT",function(){return _s}),s.d(t,"STYLELESS_BUTTON",function(){return hs}),s.d(t,"ButtonPadding",function(){return Es}),s.d(t,"PALETTE",function(){return gs}),s.d(t,"TabIndices",function(){return bs}),s.d(t,"ZIndices",function(){return Is}),s.d(t,"TAB_MIN_WIDTH",function(){return fs}),s.d(t,"TAB_MAX_WIDTH",function(){return Ss}),s.d(t,"TAB_MENU_WIDTH",function(){return As}),s.d(t,"TAB_MENU_WIDTH_WITH_CATEGORIES",function(){return Ts}),s.d(t,"NAVIGATION_WIDTH",function(){return Cs}),s.d(t,"NAVIGATION_PERCENTAGE_WIDTH",function(){return Os}),s.d(t,"NAVIGATION_MAX_WIDTH",function(){return Rs}),s.d(t,"APP_MIN_WIDTH_VERTICAL_VIEW",function(){return Ns}),s.d(t,"APP_MIN_WIDTH",function(){return Ms}),s.d(t,"APP_MAX_WIDTH",function(){return Ds}),s.d(t,"NARROW_SCREEN_WIDTH",function(){return ys}),s.d(t,"WIDE_SCREEN_WIDTH",function(){return Ls}),s.d(t,"FOLDER_INDENTATION",function(){return vs}),s.d(t,"BREAKPOINTS",function(){return Ps}),s.d(t,"PillMaxWidths",function(){return Fs}),s.d(t,"ACCESSIBLE",function(){return xs}),s.d(t,"AD_WIDTH_NARROW",function(){return ws}),s.d(t,"AD_WIDTH_WIDE",function(){return ks}),s.d(t,"MESSAGE_LIST_CAROUSEL_AD_HEIGHT",function(){return Hs}),s.d(t,"RIGHT_RAIL_WIDTH_VALUE",function(){return Us}),s.d(t,"SRP_RIGHT_RAIL_WIDTH",function(){return js}),s.d(t,"RIGHT_RAIL_WIDTH",function(){return Gs}),s.d(t,"RIGHT_RAIL_NARROW_WIDTH",function(){return Bs}),s.d(t,"FEATURE_CUE_BACKGROUND_COLOR",function(){return Vs}),s.d(t,"FEATURE_CUE_PADDING",function(){return Ws}),s.d(t,"FEATURE_CUE_HEADER_TEXT",function(){return qs}),s.d(t,"FEATURE_CUE_BODY_TEXT",function(){return zs}),s.d(t,"FEATURE_CUE_CONTAINER",function(){return Zs}),s.d(t,"FEATURE_CUE_HIGHLIGHT_COLOR",function(){return Ks}),s.d(t,"FEATURE_CUE_HIGHLIGHT_SHADOW_COLOR",function(){return Ys}),s.d(t,"MOBILE_TRANSITION_DURATION",function(){return Xs}),s.d(t,"Gradients",function(){return $s}),s.d(t,"MOBILE_CARD_HEADER_HEIGHT",function(){return Qs}),s.d(t,"ESTIMATED_SOFT_KEYBOARD_HEIGHTS",function(){return Js}),s.d(t,"DEAL_ITEM_HEIGHT",function(){return en}),s.d(t,"COUPON_LIST_ITEM_HEIGHT",function(){return tn}),s.d(t,"RECEIPT_LIST_ITEM_HEIGHT",function(){return sn}),s.d(t,"ZERO_SAVED_COUPONS_VIEW_HEIGHT",function(){return nn}),s.d(t,"RETAILERS_LIST_ITEM_HEIGHT",function(){return an}),s.d(t,"RETAILERS_LIST_ITEM_WIDTH",function(){return rn}),s.d(t,"ZERO_SAVED_GROCERY_STORES_ITEM_HEIGHT",function(){return on}),s.d(t,"ROADTRIP_PHOTO_THEME_BROWN",function(){return cn}),s.d(t,"scrollToTopButtonContainer",function(){return ln}),s.d(t,"defaultFujiIcon",function(){return dn}),s.d(t,"fujiIconButtonContent",function(){return un}),s.d(t,"YBAR_HEIGHT",function(){return mn}),s.d(t,"POPOVER_CONTENT_BORDER_RADIUS",function(){return pn});const o=4,i=a.a.ycolorBlue10a,c=a.a.ycolorBlue10a,l="transparent",d=a.a.ycolorBlue10a,u=a.a.ycolorRed2a,m="#00008B",p="#4faaff",_="#fff",h=a.a.ycolorGrayA,E="rgba(241, 241, 245, .5)",g="#a7acbb",b="#5b636a",I=a.a.ycolorGrayD,f=a.a.ycolorGrayE,S=a.a.ycolorPurple14a,A=a.a.ycolorGrayF,T=a.a.ycolorGrayG,C=a.a.ycolorOrange4a,O=a.a.ycolorGrayH,R=a.a.ycolorGrayI,N=a.a.ycolorGrayFg,M="#775eec",D=_,y=a.a.ycolorGrayFg,L="#D8DAE3",v=a.a.ycolorGrayJ,P="#1AC567",F="rgba(24, 143, 255, 0.08)",x="rgba(0, 0, 0, .08)",w="rgba(0, 0, 0, .1)",k="rgba(0, 0, 0, .16)",H="rgba(0, 0, 0, .2)",U="rgba(0, 0, 0, .3)",j="rgba(0, 0, 0, .46)",G="rgba(0, 0, 0, .6)",B="rgba(0, 0, 0, .7)",V="rgba(0, 0, 0, .85)",W="rgba(039, 41, 43, .8)",q="rgba(255, 255, 255, .06)",z="rgba(255, 255, 255, .08)",Z="rgba(255, 255, 255, .10)",K="rgba(255, 255, 255, .12)",Y="rgba(255, 255, 255, .16)",X="rgba(255, 255, 255, .2)",$="rgba(255, 255, 255, .3)",Q="rgba(255, 255, 255, .5)",J="rgba(255, 255, 255, .6)",ee="rgba(255, 255, 255, .8)",te="rgba(255, 255, 255, .95)",se="#7282fb",ne="#7934f7",ae=i,re="rgba(24,143,255, 0.08)",oe="rgba(24,143,255, 0.16)",ie="#ccf5e4",ce="#baf4d7",le="#7daae8",de="#7a50ee",ue="#7934F7",me="#7282FB",pe="#DECDFC",_e="#daedff",he="#f4f4f7",Ee="1px solid "+a.a.ycolorGrayH,ge=a.a.ycolorBlue10a,be=_,Ie=a.a.ycolorBlueviolet12a,fe=a.a.ycolorGrayG,Se=a.a.ycolorGrayH,Ae=a.a.ycolorBlue10b,Te=a.a.ycolorBlue10a,Ce=a.a.ycolorBlueviolet12a,Oe="rgba(24,143,255,0.16)",Re="rgba(24,143,255,0.04)",Ne="1px solid",Me="rgba(24,143,255,0.32)",De=a.a.ycolorGrayC,ye=a.a.ycolorGrayA,Le="bold",ve=500,Pe=400,Fe='"Helvetica Neue", "Segoe UI", Helvetica, Arial, sans-serif',xe='"Arial Rounded MT Bold", "Helvetica Rounded", Arial, sans-serif',we="Roboto, San Francisco, -apple-system, Helvetica Neue, SegoeUI, Helvetica, Arial, Sans-Serif",ke="regular",He="13px",Ue="18px",je="13px",Ge="15px",Be="20px",Ve="24px",We='"Helvetica Neue Medium", "Helvetica Neue", "Segoe UI", Helvetica, Arial, sans-serif',qe="11px",ze="12px",Ze="13px",Ke="15px",Ye="17px",Xe="24px",$e="30px",Qe="12px",Je="16px",et="20px",tt="24px",st="32px",nt="48px",at="72px",rt="96px",ot="120px",it=20,ct=32,lt=96,dt=28,ut=40,mt=24,pt=60,_t={NORMAL:h,FIRST_LEVEL_GRAY:f,FIRST_LEVEL_ORANGE:C,NORMAL_LESS_DIM:"rgba(38, 40, 42, 0.8)",IMPROVED_GRAY_DARK:b,INVERTED:_,INVERTED_MORE_DIM:"rgba(255, 255, 255, 0.3)",INVERTED_DIM:"rgba(255, 255, 255, 0.5)",INVERTED_LESS_DIM:"rgba(255, 255, 255, 0.8)",SELECTED:c,PRIMARY_HOVER:Ae,SELECTED_DARK_THEME_MODE:"#4faaff",DISABLED:A,STARRED:a.a.ycolorOrange4a,STARRED_DARK:a.a.ycolorYellow5c,SMARTVIEW_DARK:"rgba(255, 255, 255, .6)",LESS_IMPORTANT:I,SECOND_LEVEL_GRAY:A,FAINT:a.a.ycolorGrayH,COOL_FAINT:a.a.ycolorGrayFg,ADVISORY:a.a.ycolorYellow5c,WARNING:a.a.ycolorPink1a,HEADING:M,HOVER_BGCOLOR:"rgba(24, 143, 255, 0.08)",ICON_HOVER_BGCOLOR:"rgba(24, 143, 255, 0.15)",ACTIVE_BGCOLOR:"rgba(185, 189, 197, 0.3)",YBADGE:a.a.ycolorPurple14c,GREEN:a.a.ycolorGreen6b,PURPLE:S,TOUCH_PRIMARY:a.a.ycolorBlue10a,Attachments:{MEDIA:a.a.ycolorFuchsia18a,CAL:a.a.ycolorFuchsia18a,EXCEL:a.a.ycolorGreen6b,DOC:a.a.ycolorBlue10b,SLIDE:a.a.ycolorOrange4c,PDF:a.a.ycolorOrange4c,GENERIC:a.a.ycolorBlue10a,COMPRESSED:a.a.ycolorTurquoise8b},SmartViews:{PEOPLE:a.a.ycolorYellow5c,SHOPPING:"#EF5483"},SocialIcons:{FACEBOOK:"#3B5998",LINKEDIN:"#0077B5",TWITTER:"#1DA1F2"}},ht=`1px solid ${a.a.ycolorGrayI}`,Et=`1px solid ${a.a.ycolorGrayH}`,gt=`1px solid ${h}`,bt=`1px solid ${a.a.ycolorPink1a}`,It=`1px solid ${a.a.ycolorGrayF}`,ft=`1px solid ${y}`,St=`0 ${2*o}px ${2*o}px ${-2*o}px\n    rgba(0,0,0,.5)`,At={LOW:3,MEDIUM:6,HIGH:10},Tt="rgba(0, 0, 0, .3)",Ct={LOW:`0 0 ${At.LOW}px ${Tt}`,MED:`0 0 ${At.MEDIUM}px ${Tt}`,HIGH:`0 0 ${At.HIGH}px ${Tt}`,BLACK_MED:`0 0 ${At.MEDIUM}px rgb(0, 0, 0)`},Ot=`1px dotted ${a.a.ycolorGrayA}`,Rt="1px dotted #c7cad1",Nt=`1px dotted ${a.a.ycolorGrayFg}`,Mt=13*o,Dt=8*o,yt=6*o,Lt=11*o,vt=14*o,Pt=12*o,Ft=15*o,xt=18*o,wt=16*o,kt=20*o,Ht=18*o,Ut=12*o,jt=12*o,Gt=18*o,Bt=3.25*Gt,Vt=2*Ut,Wt=15*o,qt=20*o,zt=34*o,Zt=32,Kt=30,Yt=180,Xt=180,$t=180,Qt=32,Jt=45,es=8*o,ts=10*o,ss=12*o,ns=150,as=ns+8,rs=100,os=16*o,is=98*o,cs=23.5*o,ls=13*o,ds=78*o,us=31*o,ms=11*o,ps=Le,_s={border:0,boxShadow:"none",width:"100%",minHeight:"40px"},hs={fontFamily:Fe,fontSize:He,border:0,backgroundColor:l},Es={XXXS:.25*o,XXS:.5*o,XS:1*o,S:2*o,M:2*o,L:3*o,XL:4*o,XXL:4*o},gs=a.a,bs={APP_HEADER_MAIL_APPS:0,APP_HEADER_ACCOUNT_MENU:0,APP_HEADER_SEARCHBOX:10,FOLDER_LIST:20,MESSAGE_LIST_TOOLBAR:30,MESSAGE_LIST_MAIN:40,MESSAGE_GROUP_HEADER:50,SEGMENTED_CONTROL_FILTERS:60,ATTACHMENT_PREVIEW:70,ATTACHMENT_PREVIEW_TOOLBAR:80,COMMS_PROPERTIES_BAR:90,FOLDER_SELECTION_MENU:100},Is={CURSOR:11e3,MODAL:1e4,POPOVER:{LOW:100,MEDIUM:500,HIGH:900},OVERLAY:9e3,NOTIFICATION:9100,PERSISTENT_NOTIFICATION:90},fs=108,Ss=144,As=28,Ts=250,Cs=192,Os=14,Rs=224,Ns=1280,Ms=1024,Ds=1920,ys=1360,Ls=1600,vs="0 0 0 8px",Ps={H860:"@media (min-height: 860px)",W1280:"@media (min-width: 1280px)",W1360:"@media (min-width: 1360px)",W1440:"@media (min-width: 1440px)",W1600:"@media (min-width: 1600px)",W1920:"@media (min-width: 1920px)",W769:"@media (min-width: 769px)",W768:"@media (max-width: 768px)"},Fs={S:"88px",L:"160px"},xs={position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"},ws=192,ks=332,Hs=200,Us=332,js="300px",Gs=`${Us}px`,Bs=`${ws}px`,Vs=gs.ycolorBlue10a,Ws="18px 24px 24px",qs={lineHeight:"24px",fontSize:Ye,fontWeight:ve,color:h},zs={fontSize:He,lineHeight:Ue,color:h},Zs={backgroundColor:_,padding:Ws,minWidth:"200px",maxWidth:"450px"},Ks=a.a.ycolorYellow5c,Ys="rgba(255,183,0,0.30)",Xs={enter:225,leave:195,fullScreen:375},$s={POSITIVE:`linear-gradient(60deg, ${a.a.ycolorTurquoise8a}, #26D2AA, ${a.a.ycolorBluegreen7a})`,NEGATIVE:`linear-gradient(60deg, ${a.a.ycolorSalmon3b}, #F32C53, ${a.a.ycolorFuchsia18a})`,NEUTRAL:"linear-gradient(60deg, #FFA008, #FF7812, #FF501B)"},Qs=14*o,Js={iPad:{landscape:398,portrait:312}},en=29*o,tn=9*o,sn=9*o,nn=19*o,an=43.25*o,rn=51.5*o,on=26.75*o,cn="#2A211E",ln={display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",bottom:`${4*o}px`,right:0,height:`${8*o}px`,width:`${8*o}px`,marginRight:"16px",backgroundColor:Object(r.rgba)("#000",.7),borderRadius:"2px",cursor:"pointer",zIndex:2},dn={display:"inline-block",width:tt,height:tt,fill:_t.NORMAL,"pointer-events":"none",flexShrink:0,WebkitTapHighlightColor:l},un={display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},mn=21*o,pn={LOW:2,MEDIUM:4,HIGH:6,MOBILE_DEFAULT:8}},,function(e,t,s){"use strict";s.d(t,"c",function(){return a}),s.d(t,"b",function(){return r}),s.d(t,"h",function(){return o}),s.d(t,"g",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"d",function(){return l}),s.d(t,"a",function(){return d}),s.d(t,"e",function(){return u});var n=s(8);const a={S:6,M:12,L:24},r=Object(n.c)(a),o=Object(n.c)(["MOUNT","HOVER","CLICK","RIGHTCLICK"]),i=Object(n.c)(["UP","DOWN","START","END","ANY"]),c=Object(n.c)(["HORIZONTAL","VERTICAL"]),l=Object(n.c)(["DEFAULT","DARK","GRADIENT","LIGHTGRAY"]),d=Object(n.c)(["CENTER","START","END","ANY"]),u=Object(n.c)(["LOW","MEDIUM","HIGH","MOBILE_DEFAULT"])},,function(e,t,s){"use strict";s.d(t,"a",function(){return h}),s.d(t,"f",function(){return g}),s.d(t,"e",function(){return b}),s.d(t,"d",function(){return I}),s.d(t,"p",function(){return f}),s.d(t,"m",function(){return S}),s.d(t,"n",function(){return A}),s.d(t,"i",function(){return T}),s.d(t,"g",function(){return C}),s.d(t,"o",function(){return O}),s.d(t,"h",function(){return R}),s.d(t,"b",function(){return L}),s.d(t,"j",function(){return v}),s.d(t,"k",function(){return P}),s.d(t,"c",function(){return F}),s.d(t,"l",function(){return x});var n=s(0),a=s(5),r=s(19),o=s(8),i=s(44),c=s.n(i),l=s(32),d=s.n(l);const u=/^(\\.|[A-Za-z0-9!#%&`_=\/$'*+?^{}|~.-])+$/,m=/^"(\\"|[^"])+"$/,p=/^[A-Za-z0-9\-]+$/,_=["sgproxy_test_10@localhost"],h=()=>{},E=/^[^\\\/%]+$/;function g(){var e=(Date.now()+Math.floor(1e9*Math.random())).toString();return e.substr(e.length-10)}function b({min:e=0,max:t=0}){const s=Math.round(Math.random()*(t-e)+e),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let a="";for(let e=0;e<s;e++)a+=n.charAt(Math.floor(Math.random()*n.length));return a}function I(e){const t=e.lastIndexOf("@");return{localPart:e.substr(0,t),domainPart:e.substr(t+1)}}function f(e){return!(!u.test(e)&&!m.test(e))}function S(e){if(!e)return!1;if(-1!==_.indexOf(e))return!0;const{localPart:t,domainPart:s}=I(e);return!!f(t)&&!!function(e){const t=e.split("."),s=t.length;if(s<2)return!1;for(let e=0;e<s;e++)if(!p.test(t[e]))return!1;return!0}(s)}function A(e){return void 0!==e&&E.test(e.trim())}function T(e){return Object(r.a)(e,"event object is required"),e.key===n.Bb.ENTER?a.d.nav:"keydown"===e.type?a.d.shortcut:a.d.click}function C(e){return Object(o.a)(e||{},"container.id","app-container")}function O(e){const t=e.htmlAnnotations.map(e=>e.divIds?e:(e.divIds=e.divids,delete e.divids,e));return{html:e.html,htmlAnnotations:t}}function R(){let e="";for(let t=0;t<arguments.length;t++)e+=JSON.stringify(arguments[t]);return function(e){let t,s,n,a,r=new Array(256),o=0,i=-1;const c=e.length;for(a=0;256!==a;++a)r[a]=t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=a)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1;for(r="undefined"!=typeof Int32Array?new Int32Array(r):r,o=0;o<c;)(t=e.charCodeAt(o++))<128?i=i>>>8^r[255&(i^t)]:t<2048?i=(i=i>>>8^r[255&(i^(192|t>>6&31))])>>>8^r[255&(i^(128|63&t))]:t>=55296&&t<53248?(t=64+(1023&t),n=1023&e.charCodeAt(o++),i=(i=(i=(i=i>>>8^r[255&(i^(240|t>>8&7))])>>>8^r[255&(i^(128|t>>2&63))])>>>8^r[255&(i^(128|n>>6&15|3&t))])>>>8^r[255&(i^(128|63&n))]):i=(i=(i=i>>>8^r[255&(i^(224|t>>12&15))])>>>8^r[255&(i^(128|t>>6&63))])>>>8^r[255&(i^(128|63&t))];return s=-1^i,s=new Uint32Array([s])[0].toString(16)}(e)}const N=Object.freeze({isNotNothing:()=>!1,isNothing:()=>!0,chain:()=>N,checkIf:()=>N,checkIfNot:()=>N,unbox:(e,t=(()=>h))=>t(),debug:()=>(console.log("Box:[NOTHING]"),N)});function M(e){return null==e||"number"==typeof e&&isNaN(e)||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length||e===N}function D(e){return!1===e||M(e)}const y=e=>e;function L(e){return M(e)?N:{checkIf:(t,s=y)=>D(t(e))?N:L(s(e)),checkIfNot:(t,s=y)=>D(t(e))?L(s(e)):N,isNotNothing:()=>!0,isNothing:()=>!1,chain:t=>L(t(e)),unbox:(t=(()=>e))=>t(e),debug:(t=y)=>(console.log("Box:[",JSON.stringify(t(e),null,2),"]"),L(e))}}function v(e,t){return c.a.parse(e)[t]||null}function P(e){if(!e)return null;const{domainPart:t}=I(e);let s=t.split(".").slice(-2).join(".");return-1!==["co.uk","co.in","com.hk","com.tw"].indexOf(s)&&(s=t.split(".").slice(-3).join(".")),s}function F(e,t,s=[]){if(!s.length)return d()(e,t);for(const n of s)if(!d()(e[n],t[n]))return!1;return!0}function x(){try{const{localStorage:e}=window,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}},function(e,t,s){"use strict";s.d(t,"a",function(){return m});s(6);var n=s(1),a=s.n(n),r=s(504),o=s.n(r),i=s(11),c=s.n(i),l=s(3);s(8);const d={ADD:a.a.createElement("path",{d:"M13.75 9.25h-3v-3c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3h-3c-.414 0-.75.336-.75.75s.336.75.75.75h3v3c0 .414.336.75.75.75s.75-.336.75-.75v-3h3c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),ALIGN_CENTER:a.a.createElement("path",{d:"M4 5h12c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM6 7c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1H6zM16 11H4c-.6 0-1 .4-1 1s.4 1 1 1h12c.6 0 1-.4 1-1s-.4-1-1-1zM14 15H6c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1z"}),ALIGN_LEFT:a.a.createElement("path",{d:"M4 5h12c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM4 9h8c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM16 11H4c-.6 0-1 .4-1 1s.4 1 1 1h12c.6 0 1-.4 1-1s-.4-1-1-1zM12 15H4c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1z"}),APP_HIDDEN:a.a.createElement("path",{d:"M15.9 6.2c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1C6.2 2.9 5.3 2 4.1 2 2.9 2 2 2.9 2 4.1c0 1.2.9 2.1 2.1 2.1zm11.8 5.9c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1C2.9 7.9 2 8.8 2 10c0 1.2.9 2.1 2.1 2.1zM15.9 18c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zM10 18c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1z"}),ARCHIVE:a.a.createElement("path",{d:"M17.25 7H11.767v.75c0 .966-.784 1.75-1.75 1.75s-1.75-.784-1.75-1.75V7H2.75c-.414 0-.75.336-.75.75v8.5c0 .414.336.75.75.75h14.5c.414 0 .75-.336.75-.75v-8.5c0-.414-.336-.75-.75-.75zM3 5h14c.552 0 1-.448 1-1s-.448-1-1-1H3c-.552 0-1 .448-1 1s.448 1 1 1z"}),ARROW_RIGHT_DOC:a.a.createElement("path",{d:"M7.252 17.785L14.72 10 7.25 2.214c-.285-.287-.748-.287-1.035 0-.287.285-.287.75 0 1.035l6.34 6.75-6.34 6.75c-.286.285-.286.748 0 1.035.287.287.75.287 1.037 0"}),ARROW_UP:a.a.createElement("path",{d:"M14.8 8.5l-5-5-5 5c-.3.3-.3.8 0 1.1s.8.3 1.1 0L9 6.4v9.4c0 .4.3.8.8.8s.8-.3.8-.8V6.4l3.2 3.2c.1.1.3.2.5.2s.4-.1.5-.2c.3-.3.3-.8 0-1.1z"}),ATTACH:a.a.createElement("path",{d:"M16.7 16.5c-1.7 1.7-4.4 1.7-6.1 0l-3.9-3.9c-1-1-1.1-2.7 0-3.9 1.1-1.1 2.8-1.1 3.9 0l3.6 3.6c.3.3.3.8 0 1.1s-.8.3-1.1 0L9.6 9.9c-.5-.5-1.2-.5-1.7 0s-.5 1.2 0 1.7l4.1 4.1s1.8 1.5 3.6-.3c1.1-1.1 1.1-2.8 0-3.9L8.4 4.4c-1.1-1.1-2.8-1.1-3.9 0-2.1 2.1.4 4.1.4 4.1.3.3.3.8 0 1.1s-.8.3-1.1 0c0 0-3.8-2.9-.3-6.4 1.7-1.7 4.4-1.7 6.1 0l7.2 7.2c1.6 1.7 1.6 4.5-.1 6.1"}),ATTACHMENT:a.a.createElement("path",{d:"M15.6 14.4c-1.3 1.3-3.3 1.3-4.6 0l-2.9-2.9c-.8-.8-.8-2.1 0-2.9.8-.8 2.1-.8 2.9 0l2.7 2.7c.2.2.2.6 0 .8s-.6.2-.8 0l-2.7-2.7c-.3-.3-.9-.3-1.2 0s-.3.9 0 1.2l3.1 3.1s1.4 1.1 2.7-.2c.8-.8.8-2.1 0-2.9L9.3 5.3c-.8-.8-2.1-.8-2.9 0-1.6 1.6.2 3.1.2 3.1.2.2.2.6 0 .8s-.6.2-.8 0c0 0-2.8-2.2-.2-4.8 1.3-1.3 3.3-1.3 4.6 0l5.4 5.4c1.2 1.3 1.2 3.3 0 4.6"}),ATTACH_CAL:a.a.createElement("path",{d:"M16.36 4H14V2.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V4H7V2.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V4H3.64c-.35 0-.64.28-.64.64v10.73c0 .35.29.63.64.63h12.73c.35 0 .63-.28.63-.64V4.64c-.01-.36-.28-.64-.64-.64zM16 15H4v-5h12v5zm0-6H4V5h2v1.5c0 .28.22.5.5.5s.5-.22.5-.5V5h6v1.5c0 .28.22.5.5.5s.5-.22.5-.5V5h2v4z"}),ATTACH_DOC:a.a.createElement("path",{d:"M4.5 17V3h7v3.45c0 .3.25.55.55.55h3.45v10h-11zM16.34 6.19s-3.26-3.22-3.88-3.84c-.16-.14-.32-.33-.6-.35H4.23c-.4 0-.73.33-.73.73v14.55c0 .4.33.73.73.73h11.55c.4 0 .72-.33.72-.73V6.62c-.01-.2-.08-.34-.16-.43z"}),ATTACH_DOC_48:a.a.createElement("path",{d:"M17.106 4.448L13.05.445C12.86.258 12.66.03 12.297 0H3.644c-.503 0-.91.408-.91.91v18.22c0 .502.41.912.91.912h12.754c.5 0 .91-.41.91-.91V4.98c0-.247-.094-.424-.202-.534zm-.708 14.683H3.644V.91h8.2v3.873c0 .376.306.683.682.683h3.872V19.13zM11.834 7.302l-5.48.99v7.514l5.48.99v-1.31h2.26c.277 0 .5-.178.5-.455s-.223-.454-.5-.454h-2.26v-.91h2.26c.277 0 .5-.18.5-.457s-.223-.456-.5-.456h-2.26v-.91h2.26c.277 0 .5-.18.5-.457s-.223-.455-.5-.455h-2.26v-.91h2.26c.277 0 .5-.18.5-.457s-.223-.455-.5-.455h-2.26V7.302zm-1.672 6.36c-.194.1-.485-.003-.715.012-.154-.745-.334-1.485-.473-2.234-.136.727-.312 1.448-.468 2.17-.223-.01-.447-.025-.672-.04-.192-.99-.42-1.973-.6-2.966.2-.01.4-.017.598-.024.12.717.256 1.43.36 2.15l.494-2.21c.22-.012.442-.02.662-.032.155.76.313 1.518.48 2.275.132-.782.277-1.56.417-2.34.233-.008.465-.02.696-.034-.26 1.09-.49 2.19-.778 3.273z"}),ATTACH_GENERIC_48:a.a.createElement("path",{d:"M17.106 4.448L13.05.445C12.86.258 12.66.03 12.297 0H3.644c-.503 0-.91.408-.91.91v18.22c0 .502.41.912.91.912h12.754c.5 0 .91-.41.91-.91V4.98c0-.247-.094-.424-.202-.534zM3.644 19.13V.91h8.2v3.873c0 .376.306.683.682.683h3.872V19.13H3.644z"}),ATTACH_ICS_48:a.a.createElement("path",{d:"M19.09 2.73H15V1.365c0-.228-.227-.455-.455-.455-.227 0-.454.228-.454.456V2.73H5.91V1.365c0-.228-.228-.455-.455-.455C5.227.91 5 1.14 5 1.367V2.73H.91c-.5 0-.91.408-.91.908v14.546c0 .5.41.91.91.91h18.18c.5 0 .91-.41.91-.91V3.638c0-.5-.41-.91-.91-.91zm0 15.454H.91V3.638H5v.91c0 .227.227.454.455.454.227 0 .454-.227.454-.455v-.91h8.18v.91c0 .228.228.455.455.455.228 0 .455-.227.455-.455v-.91h4.09v14.547zM8.218 10.962l-.447-.076L9.48 9.25c.27-.257.396-.41.396-.702 0-.337-.29-.458-.56-.458H5.873c-.237 0-.438.2-.438.44 0 .236.2.437.438.437H8.59l-1.757 1.77c-.223.222-.27.35-.27.477 0 .238.203.44.44.44h.242c1.01 0 1.61.42 1.61 1.124 0 .66-.503 1.106-1.226 1.106-.58 0-1.067-.184-1.532-.58-.116-.097-.218-.138-.347-.138-.276 0-.518.243-.518.52 0 .143.078.28.16.362l.024.02c.59.506 1.308.752 2.194.752 1.385 0 2.315-.838 2.315-2.084 0-.992-.574-1.582-1.707-1.774zM14.036 7.99c-.2 0-.4.044-.686.122l-.995.29c-.217.064-.35.236-.35.45 0 .232.208.437.448.437.048 0 .135-.015.217-.035l.827-.244v5.212c0 .298.242.54.54.54s.54-.242.54-.54V8.53c0-.3-.243-.54-.54-.54z"}),ATTACH_IMAGE:a.a.createElement("path",{d:"M16.36 4H3.64c-.35 0-.64.28-.64.64v10.73c0 .34.29.63.64.63h12.73c.35 0 .63-.29.63-.64V4.64c-.01-.36-.28-.64-.64-.64zM16 5v8.5l-4-5-2.95 3.64L7 9.5l-3 3.2V5h12zM6.77 15H4v-.91L7 11l1.44 1.89L6.77 15zM8 15l4-5 4 5H8z"}),ATTACH_IMAGE_48:a.a.createElement("path",{d:"M19.09 1.82H.91c-.5 0-.91.4-.91.91v14.55c0 .5.41.91.91.91h18.18c.5 0 .91-.41.91-.91V2.73c0-.51-.4-.91-.91-.91zM.91 17.27v-1.02l4.55-5.54L8.2 14l-2.74 3.28-4.55-.01zm5.68 0L12.73 10l6.36 7.27H6.59zm12.5-1.36l-6.36-7.27-3.94 4.65-3.34-4-4.54 5.53V2.73h18.18v13.18z"}),ATTACH_MOVIE_48:a.a.createElement("path",{d:"M7.918 12.67c.06 0 .1-.02.17-.06l4.03-2.345c.125-.072.178-.167.178-.26s-.064-.19-.188-.262L8.062 7.398c-.07-.04-.082-.06-.142-.06-.15 0-.193.117-.193.32V12.35c0 .202.044.32.19.32zM19.09 1.822H.91c-.503 0-.91.407-.91.91v14.545c0 .502.407.91.91.91h18.18c.503 0 .91-.408.91-.91V2.73c0-.5-.407-.908-.91-.908zm0 15.455H.91V2.73h18.18v14.547z"}),ATTACH_PDF_48:a.a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09zM11.59 12.67c-.058-.065-.118-.133-.178-.203-.405-.468-.772-.973-1.08-1.478.17-.79.26-1.518.27-2.066l.002-.103c.015-.622.04-1.666-.863-1.856-.278-.058-.556-.002-.78.16-.242.173-.408.453-.443.75-.11.92.332 2.123.978 3.243-.17.71-.41 1.45-.71 2.123-.667.256-1.33.608-1.954 1.077-1.09.787-.984 1.37-.823 1.647.147.253.44.393.76.393.155 0 .32-.033.475-.104.887-.405 1.59-1.313 2.116-2.388.653-.22 1.304-.344 1.915-.393.582.585 1.385 1.225 2.123 1.245.712.02 1.072-.373 1.12-.77.052-.42-.254-.952-1.045-1.126-.532-.115-1.176-.178-1.88-.15zm-4.674 2.868c-.09.042-.17.04-.215.028.03-.09.167-.308.597-.617.277-.21.562-.392.85-.552-.356.52-.768.93-1.23 1.14zm2.38-7.57c.008-.064.05-.155.12-.206.034-.024.068-.035.108-.035.017 0 .036.002.055.006.243.05.252.535.24 1.07l-.003.106c-.006.277-.033.6-.082.954-.33-.74-.495-1.417-.438-1.897zm.465 4.963c.115-.3.218-.608.308-.914.182.26.372.51.562.742-.285.042-.576.1-.87.173zm3.543.658c.336.074.437.23.435.263-.007.016-.09.096-.32.082h-.002c-.213-.006-.547-.14-.972-.466.31.023.6.066.86.122z"}),ATTACH_PPT_48:a.a.createElement("path",{d:"M8.767 11.032v.934c.228.018.45.06.59-.175.104-.177.095-.502-.026-.64-.156-.176-.36-.15-.563-.118zM11.82 10.818h-.006V7.285l-5.467.99v7.498l5.467.99v-2.218h2.264c.246 0 .454-.203.454-.454 0-.252-.203-.454-.454-.454h-2.264v-1.294h.005c.245.366.664.608 1.14.608.676 0 1.238-.487 1.35-1.13h-1.577v-1.584c-.38.062-.705.278-.912.582zm-1.76.99c-.087.37-.327.63-.705.722-.188.046-.39.037-.604.055v1.055H8.18v-3.187c.442 0 .88-.012 1.32.01.115.004.248.09.333.177.327.335.327.752.23 1.167zM13.188 10.235v1.13h1.123c-.092-.578-.545-1.033-1.122-1.13zM17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09z"}),ATTACH_SOUND_48:a.a.createElement("path",{d:"M19.09 1.822H.91c-.503 0-.91.407-.91.91v14.545c0 .502.407.91.91.91h18.18c.503 0 .91-.408.91-.91V2.73c0-.5-.407-.908-.91-.908zm0 15.455H.91V2.73h18.18v14.547zM11.818 11.81c.25 0 .455-.202.455-.452V7.746c0-.25-.204-.45-.455-.45s-.454.2-.454.45v3.612c0 .25.203.452.454.452zM13.636 11.353c.25 0 .455-.202.455-.45V9.546c0-.25-.203-.45-.454-.45s-.454.2-.454.45v1.355c0 .25.203.45.454.45zM8.182 14.067c.25 0 .454-.202.454-.45V6.39c0-.25-.203-.452-.454-.452-.25 0-.455.202-.455.452v7.224c0 .25.204.45.455.45zM10 13.165c.25 0 .455-.202.455-.452V9.1c0-.248-.204-.45-.455-.45s-.455.202-.455.45v3.613c0 .25.204.452.455.452zM6.364 12.274c.25 0 .454-.204.454-.455V8.636c0-.25-.203-.454-.454-.454-.25 0-.455.203-.455.454v3.182c0 .25.203.454.454.454z"}),ATTACH_XLS_48:a.a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09zM12.18 9.545c0-.228-.157-.383-.366-.432V7.286l-5.467.99v7.497l5.467.99v-1.33c.21-.05.365-.205.365-.433s-.157-.383-.366-.432v-.954c.21-.05.365-.204.365-.432s-.157-.383-.366-.432v-.954c.21-.05.365-.204.365-.432 0-.23-.157-.383-.366-.433V9.98c.21-.05.365-.204.365-.433zm-2.587 4.222c-.19-.463-.425-.91-.562-1.394-.152.45-.37.876-.547 1.317-.247-.003-.494-.013-.74-.023.29-.558.57-1.12.867-1.675-.253-.572-.532-1.132-.793-1.7.248-.015.496-.03.744-.042.17.433.353.862.49 1.307.15-.472.372-.916.563-1.372.254-.017.51-.033.766-.045-.302.607-.604 1.214-.91 1.818.31.622.626 1.238.937 1.86-.27-.016-.542-.032-.814-.05zM13.233 13.636h.837c.276 0 .5-.178.5-.454s-.224-.455-.5-.455h-.837c-.277 0-.5.18-.5.455s.223.454.5.454zM13.233 15.455h.837c.276 0 .5-.18.5-.455s-.224-.455-.5-.455h-.837c-.277 0-.5.18-.5.455s.223.455.5.455zM13.233 11.818h.837c.276 0 .5-.178.5-.454s-.224-.455-.5-.455h-.837c-.277 0-.5.178-.5.454s.223.454.5.454zM13.233 10h.837c.276 0 .5-.178.5-.455 0-.276-.224-.454-.5-.454h-.837c-.277 0-.5.18-.5.455s.223.455.5.455z"}),ATTACH_ZIP_48:a.a.createElement("path",{d:"M4.272 15.458h-.365c-.15 0-.27.137-.27.287v.364c0 .15.12.257.27.257h.365c.15 0 .273-.107.273-.258v-.365c0-.15-.122-.287-.273-.287zM3.907 14.55h.365c.15 0 .273-.11.273-.26v-.363c0-.15-.122-.287-.273-.287h-.365c-.15 0-.27.136-.27.287v.364c0 .15.12.26.27.26zM5.18 14.55h-.36c-.152 0-.275.12-.275.272v.364c0 .15.123.272.274.272h.36c.152 0 .275-.122.275-.272v-.364c0-.15-.123-.273-.274-.273zM5.18 12.73h-.36c-.152 0-.275.123-.275.274v.364c0 .15.123.272.274.272h.36c.152 0 .275-.122.275-.272v-.364c0-.15-.123-.273-.274-.273zM3.907 12.73h.365c.15 0 .273-.107.273-.257v-.364c0-.152-.122-.288-.273-.288h-.365c-.15 0-.27.136-.27.287v.363c0 .15.12.258.27.258zM5.196 8.64H3.91c-.15 0-.274.122-.274.273v1.713c0 .158.13.287.287.287h.622v.65c0 .15.123.26.273.26h.366c.15 0 .27-.11.27-.26V8.9c0-.144-.115-.26-.258-.26zM19.09 4.55h-8.808L9.176 2.215c-.11-.222-.296-.394-.54-.394H.86c-.478.028-.857.42-.857.904v.454H0v14.097c0 .502.407.91.91.91h18.18c.5 0 .91-.41.91-.91V5.457c0-.5-.407-.908-.91-.908zm0 12.727H5.456v-.637c0-.15-.123-.273-.274-.273h-.36c-.152 0-.275.123-.275.273v.637H.91V2.73H8.41l1.12 2.467c.073.16.234.26.41.26h9.15v11.82z"}),ATTENTION:a.a.createElement("path",{d:"M10.727 10.727c0 .4-.326.727-.727.727-.402 0-.727-.326-.727-.727V6.364c0-.4.325-.727.727-.727.4 0 .727.326.727.727v4.363zM10 14.364c-.402 0-.727-.326-.727-.727s.325-.727.727-.727c.4 0 .727.326.727.727s-.326.727-.727.727zM10 2c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8z"}),BELL:a.a.createElement("path",{d:"M18.132 15.148c.126.16.202.36.202.58 0 .518-.42.94-.94.94-.026 0-.052-.004-.077-.005H2.684c-.025.002-.05.004-.077.004-.52 0-.94-.42-.94-.94 0-.218.076-.42.202-.58h-.002s.095-.13.314-.3c.062-.05.564-.468.97-1.2.077-.143.31-.647.347-.75.1-.275.17-.61.276-1.09.255-1.65.24-3.997.24-3.997-.003-.054-.004-.107-.004-.16 0-2.875 2.03-5.273 4.738-5.85v-.134c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25V1.8c2.707.576 4.74 2.975 4.74 5.85 0 .054 0 .107-.002.16 0 0-.018 2.348.237 3.996.108.48.177.815.278 1.092.037.102.27.607.348.75.406.732.908 1.15.97 1.2.217.17.312.3.312.3zM10 19.583c-1.15 0-2.083-.933-2.083-2.083h4.167c0 1.15-.933 2.083-2.084 2.083z"}),BIG_STAR:a.a.createElement("path",{d:"M18.38 6.917h-5.83l-1.8-5.54c-.106-.324-.41-.544-.75-.544s-.643.22-.748.543L7.45 6.916H1.62c-.34 0-.642.22-.747.544-.106.324.01.68.286.88l4.715 3.423-1.802 5.54c-.105.324.01.68.287.88.276.2.65.2.926 0L10 14.758l4.716 3.422c.138.1.3.15.463.15.16 0 .324-.05.462-.15.276-.2.392-.555.286-.88l-1.8-5.54 4.715-3.422c.276-.2.392-.556.286-.88-.107-.324-.41-.543-.75-.543z"}),BOLD:a.a.createElement("path",{d:"M15.2 8.9c.3-.6.4-1.2.4-1.8 0-2.2-1.8-4-4-4H5.1C4.5 3 4 3.5 4 4.1v11.8c0 .6.5 1.1 1.1 1.1h7.1c2.6 0 4.6-2.1 4.6-4.6 0-1.4-.6-2.7-1.6-3.5zM14 12.7c0 .9-.7 1.6-1.6 1.6H6.8v-3.1h5.7c.8-.1 1.5.6 1.5 1.5zM6.8 8.3V5.8h4.8c.7 0 1.3.6 1.3 1.3s-.6 1.3-1.3 1.3H6.8v-.1z"}),CALENDAR:a.a.createElement("path",{d:"M18 3.496h-3v-.46c0-.552-.448-1-1-1-.553 0-1 .448-1 1v.46H6.998v-.46c0-.552-.448-1-1-1s-1 .448-1 1v.46H2c-.633 0-1 .36-1 1v11.5c0 .64.367 1 1 1h16c.633 0 1-.36 1-1v-11.5c0-.64-.367-1-1-1zm-7.95 8.276v.002c0 1.296-.944 2.247-2.475 2.247-.982 0-1.717-.304-2.277-.784-.137-.12-.254-.325-.254-.54 0-.393.332-.727.725-.727.216 0 .36.088.48.186.393.334.806.51 1.344.51.57 0 .972-.324.972-.834v-.02c0-.56-.5-.873-1.344-.873h-.236c-.353 0-.647-.295-.647-.647 0-.208.087-.384.323-.62L7.998 8.33h-2.11c-.353 0-.65-.295-.65-.65 0-.35.297-.647.65-.647h3.346c.44 0 .765.255.765.668 0 .374-.176.58-.453.845L8.203 9.83c.932.157 1.846.647 1.846 1.923v.02zm4.205 2.19c-.412 0-.746-.334-.746-.746v-4.75l-.532.137c-.078.02-.186.04-.265.04-.352 0-.656-.294-.656-.647 0-.305.195-.56.498-.648l.973-.284c.284-.08.5-.128.707-.128h.02c.41 0 .745.333.745.745v5.536c0 .412-.333.746-.745.746z"}),CALENDAR_EMPTY:a.a.createElement("path",{d:"M18 3.496h-3v-.46c0-.552-.448-1-1-1-.553 0-1 .448-1 1v.46H6.998v-.46c0-.552-.448-1-1-1s-1 .448-1 1v.46H2c-.633 0-1 .36-1 1v11.5c0 .64.367 1 1 1h16c.633 0 1-.36 1-1v-11.5c0-.64-.367-1-1-1z"}),CALENDAR_SETTINGS:a.a.createElement("path",{d:"M19 7V4.496c0-.64-.367-1-1-1h-3v-.46c0-.552-.448-1-1-1-.553 0-1 .448-1 1v.46H6.998v-.46c0-.552-.448-1-1-1s-1 .448-1 1v.46H2c-.633 0-1 .36-1 1V7h18zM1 8.5v7.496c0 .64.367 1 1 1h16c.633 0 1-.36 1-1V8.5H1z"}),CAL_ACCEPT:a.a.createElement("path",{d:"M14.1 7.3c.3.3.3.8 0 1.1l-5 5c-.3.3-.8.3-1.1 0l-2.2-2.1c-.3-.3-.3-.8 0-1.1s.8-.3 1.1 0l1.6 1.6L13 7.3c.4-.3.8-.3 1.1 0zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),CAL_DECLINE:a.a.createElement("path",{d:"M11.1 10l2.3 2.4c.3.3.3.8 0 1.1s-.8.3-1.1 0L10 11.1l-2.4 2.4c-.3.3-.8.3-1.1 0-.3-.3-.3-.8 0-1.1L8.9 10 6.6 7.6c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0L10 8.9l2.3-2.3c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1L11.1 10zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),CAL_MAYBE:a.a.createElement("path",{d:"M10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 13c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm.8-4.1v.4c0 .4-.3.7-.7.7s-.7-.3-.7-.7v-1c0-.4.3-.7.7-.7.8 0 1.5-.7 1.5-1.5s-.7-1.5-1.5-1.5-1.7.7-1.6 1.6c0 .5-.3.8-.7.8-.5 0-.8-.3-.8-.8C6.9 6.5 8.4 5 10 5s3 1.3 3 3c0 1.4-1 2.6-2.2 2.9z"}),CHECKBOX_OFF:a.a.createElement("path",{d:"M14.5 17h-9C4.1 17 3 15.9 3 14.5v-9C3 4.1 4.1 3 5.5 3h9C15.9 3 17 4.1 17 5.5v9c0 1.4-1.1 2.5-2.5 2.5zm-9-13C4.7 4 4 4.7 4 5.5v9c0 .8.7 1.5 1.5 1.5h9c.8 0 1.5-.7 1.5-1.5v-9c0-.8-.7-1.5-1.5-1.5h-9z"}),CHECKBOX_ON:a.a.createElement("path",{d:"M14.5 3h-9C4.122 3 3 4.122 3 5.5v9C3 15.878 4.122 17 5.5 17h9c1.378 0 2.5-1.122 2.5-2.5v-9C17 4.122 15.878 3 14.5 3zm-.208 4.713L8.5 13.5l-2.792-2.624c-.277-.277-.277-.727 0-1.004.278-.278.727-.278 1.005 0L8.5 11.5l4.786-4.792c.278-.277.728-.277 1.006 0 .277.278.277.727 0 1.005z"}),CHECKMARK:a.a.createElement("path",{d:"M7.2 14.1l-3.5-3.5c-.3-.3-.3-.7 0-1s.8-.3 1 0l3 2.9 7.4-7.3c.3-.3.8-.3 1 0 .3.3.3.7 0 1L8.2 14c-.2.3-.7.3-1 .1z"}),CHEVRON_UP:a.a.createElement("path",{d:"M13.5 12.75c-.192 0-.384-.073-.53-.22L10 9.56l-2.97 2.97c-.293.293-.767.293-1.06 0s-.293-.767 0-1.06L10 7.44l4.03 4.03c.293.293.293.767 0 1.06-.146.147-.338.22-.53.22z"}),CIRCLE:a.a.createElement("circle",{cx:"10",cy:"10",r:"4"}),CLEAR:a.a.createElement("path",{id:"Clear",d:"M10 2c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zm3.445 10.68c.21.21.21.554 0 .765-.21.211-.554.211-.765 0L10 10.765l-2.68 2.68c-.21.211-.554.211-.765 0-.21-.21-.21-.554 0-.765L9.235 10l-2.68-2.68c-.21-.21-.21-.554 0-.765.21-.211.554-.211.766 0L10 9.235l2.68-2.68c.21-.21.554-.21.765 0 .21.212.21.554 0 .766L10.765 10l2.68 2.68z"}),CLOCK:a.a.createElement("path",{d:"M11.974 12.7c-.275.277-.723.277-.998 0L9.58 11.307c-.18-.133-.308-.337-.308-.58V7.09c0-.402.325-.727.728-.727.403 0 .728.325.728.727v3.366l1.247 1.247c.276.276.276.72 0 .997zM10 2c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8z"}),CLOCK_OUTLINE:a.a.createElement("path",{d:"M10 16.5c3.6 0 6.5-2.9 6.5-6.5S13.6 3.5 10 3.5 3.5 6.4 3.5 10s2.9 6.5 6.5 6.5zm0 1.5c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8zM12.3 11.8c.3.2.4.7.1 1-.2.3-.7.4-1 .1L9 11.1V6.5c0-.4.3-.7.7-.7s.7.3.7.7v3.9l1.9 1.4z"}),CLOSE:a.a.createElement("path",{d:"M10 9l5.1-5.1c.3-.3.7-.3 1 0 .3.3.3.7 0 1L11 10l5.1 5.1c.3.3.3.7 0 1-.3.3-.7.3-1 0L10 11l-5.1 5.1c-.3.3-.7.3-1 0-.3-.3-.3-.7 0-1L9 10 3.9 4.9c-.3-.3-.3-.7 0-1s.7-.3 1 0L10 9z"}),CLOSE_MINI:a.a.createElement("path",{d:"M12.8 13.8L10 11l-2.8 2.8c-.3.3-.7.3-1 0s-.3-.7 0-1L9 10 6.2 7.2c-.3-.3-.3-.7 0-1s.7-.3 1 0L10 9l2.8-2.8c.3-.3.7-.3 1 0s.3.7 0 1L11 10l2.8 2.8c.3.3.3.7 0 1s-.7.3-1 0z"}),COLLAPSE_LIST:a.a.createElement("path",{d:"M12 2.5H8c-.2 0-.3.2-.1.4L10 5l2.1-2.1c.2-.2.1-.4-.1-.4zm-4 15h4c.2 0 .3-.2.1-.4L10 15l-2.1 2.1c-.2.2-.1.4.1.4zm8.5-6.5h-13c-.6 0-1 .4-1 1s.4 1 1 1h13c.6 0 1-.4 1-1s-.4-1-1-1zm-13-2h13c.6 0 1-.4 1-1s-.4-1-1-1h-13c-.6 0-1 .4-1 1s.4 1 1 1z"}),COMPOSE:a.a.createElement("path",{d:"M8.79 15.834c-.09.09-.21.152-.333.167-.055.016-3.957 0-3.957 0-.3.006-.505-.242-.5-.54v-3.856c0-.148.06-.29.164-.397l4.174-4.17 4.624 4.625-4.172 4.172zm4.96-4.96L9.128 6.25l2.078-2.075c.214-.215.576-.24.783-.032l3.864 3.88c.174.175.228.525-.022.775l-2.08 2.077z"}),COMPOSE_EMOJI:a.a.createElement("path",{d:"M10 1.6c-4.7 0-8.5 3.8-8.5 8.5s3.8 8.5 8.5 8.5 8.5-3.8 8.5-8.5-3.8-8.5-8.5-8.5zm0 15.3c-3.8 0-6.9-3.1-6.9-6.9S6.2 3.2 10 3.2s6.9 3.1 6.9 6.9-3 6.8-6.9 6.8zm-2.5-9c.6 0 1.2.5 1.2 1.2s-.5 1.2-1.2 1.2-1.2-.6-1.2-1.2.5-1.2 1.2-1.2zm5.3 0c.6 0 1.2.5 1.2 1.2s-.5 1.2-1.2 1.2-1.2-.5-1.2-1.2.6-1.2 1.2-1.2zm.74 4.66c-.48 1.06-2.03 2.04-3.41 2.04s-2.93-.97-3.41-2.04c-.47-1.06.79-.96.79-.96h5.24c.01 0 1.27-.1.79.96z"}),CONTACT_CARD:a.a.createElement("path",{d:"M17.3 3H2.7c-.4 0-.7.3-.7.7v12.6c0 .4.3.7.7.7h14.6c.4 0 .7-.3.7-.7V3.7c0-.4-.3-.7-.7-.7zM5.5 7.7c.2-.7.8-1.3 1.6-1.5 1.5-.3 2.9 1 2.5 2.5-.2.8-.8 1.4-1.6 1.6-1.5.3-2.8-1-2.5-2.6zm5.1 6.8h-6c-.6 0-.9-.6-.6-1.1.7-1 2.1-1.7 3.6-1.7s2.9.7 3.6 1.7c.3.4-.1 1.1-.6 1.1zm5.2-1.3H14c-.4 0-.7-.3-.7-.7s.3-.7.7-.7h1.8c.4 0 .7.3.7.7s-.3.7-.7.7zm0-2.9h-3.3c-.4 0-.7-.3-.7-.7s.3-.7.7-.7h3.3c.4 0 .7.3.7.7 0 .3-.3.7-.7.7zm0-2.9h-3.3c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7h3.3c.4 0 .7.3.7.7 0 .3-.3.7-.7.7z"}),CONTRACT:a.a.createElement("path",{d:"M11 4.1v4.3c0 .3.3.6.6.6H16c.3 0 .6-.3.6-.6 0-.2 0-.3-.2-.4l-1.6-1.1 3-3c.2-.2.2-.5 0-.7l-1.1-1.1c-.2-.2-.5-.2-.7 0l-3 3-1-1.6c-.1-.2-.3-.2-.4-.2-.3 0-.5.2-.6.5v.3zM9 16v-4.3c0-.4-.3-.7-.6-.7H3.9c-.3 0-.6.3-.6.6 0 .2 0 .3.2.4l1.6 1.1-3 3c-.2.2-.2.5 0 .7l1.1 1.1c.2.2.5.2.7 0l3-3L8 16.5c.1.2.3.2.4.2.3 0 .5-.2.6-.5V16z"}),DEALS:a.a.createElement("path",{d:"M16.823 9.802l-6.49-6.608C10.213 3.07 10.045 3 9.87 3H3.657c-.358 0-.648.29-.648.648v6.215c0 .175.068.34.192.463l6.603 6.488c.126.123.29.186.454.186.165 0 .33-.064.458-.19l6.1-6.094c.252-.252.254-.66.005-.914zM6.896 8.126c-.706 0-1.278-.568-1.278-1.268 0-.7.572-1.268 1.278-1.268.705 0 1.277.568 1.277 1.268 0 .7-.572 1.268-1.277 1.268z"}),DELETE:a.a.createElement("path",{d:"M3.994 17.21c0 .41.335.79.745.79h10.52c.41 0 .734-.387.734-.797V7h-12v10.21zm7.256-6.946c0-.415.336-.75.75-.75.416 0 .752.335.752.75v4.49c0 .414-.336.75-.75.75-.416 0-.752-.336-.752-.75v-4.49zm-4 0c0-.415.336-.75.75-.75.416 0 .752.335.752.75v4.49c0 .414-.336.75-.75.75-.416 0-.752-.336-.752-.75v-4.49zM17 3h-4.26v-.076c0-.51-.336-.924-.76-.924H8.007c-.425 0-.773.414-.773.924V3H3c-.552 0-1 .447-1 1s.448 1 1 1h14c.552 0 1-.448 1-1s-.448-1-1-1z"}),DEVICE_PHONE:a.a.createElement("path",{d:"M14.7 1H5.8c-.4 0-.8.4-.8.8v16.4c0 .5.3.8.8.8h8.9c.4 0 .8-.4.8-.8V1.8c0-.4-.3-.8-.8-.8zm-4.4 16.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm3.7-4.3H6.5V2.5H14v10.9z"}),CAR:a.a.createElement("path",{d:"M17.868 7.572l-1.325-3.61C15.89 2.184 14.183 1 12.27 1H7.73C5.817 1 4.11 2.184 3.456 3.962l-1.325 3.61C.876 8.162 0 9.458 0 10.972v4.356C0 16.362.814 17.2 1.818 17.2v.45c0 .745.61 1.35 1.364 1.35s1.364-.605 1.364-1.35v-.45h10.91v.45c0 .745.61 1.35 1.363 1.35.752 0 1.363-.605 1.363-1.35v-.45c1.005 0 1.818-.838 1.818-1.872v-4.356c0-1.514-.876-2.81-2.132-3.4zM5.166 4.578C5.556 3.515 6.586 2.8 7.73 2.8h4.54c1.144 0 2.174.715 2.564 1.778l.973 2.722H4.193l.973-2.722zM3.636 13.6c-1.005 0-1.818-.806-1.818-1.8S2.632 10 3.636 10s1.818.806 1.818 1.8-.813 1.8-1.818 1.8zm12.728 0c-1.004 0-1.818-.806-1.818-1.8s.814-1.8 1.818-1.8c1.005 0 1.818.806 1.818 1.8s-.814 1.8-1.818 1.8z"}),DOCUMENTS_S:a.a.createElement("path",{d:"M10.97 2.994H5.11c-.335 0-.61.275-.61.61V16.39c0 .337.275.612.61.612h9.778c.337 0 .612-.275.612-.612V7.525c0-.163-.064-.318-.18-.432l-3.92-3.92c-.114-.115-.27-.18-.43-.18zm-.006 4.534V4.473l3.055 3.055h-3.056z"}),DOWNLOAD:a.a.createElement("path",{d:"M16.8 13.5c-.4 0-.8.3-.8.8v1.2H4v-1.3c0-.4-.3-.7-.7-.7s-.8.3-.8.8v2c0 .4.3.7.8.7H17c.4 0 .5-.3.5-.7v-2c0-.5-.3-.8-.7-.8zM9.5 13.1c.3.2.7.2.9 0l3.9-3.6c.3-.3.3-.7 0-1-.1-.1-.3-.2-.5-.2l-2.3.5V3.1c0-.3-.3-.6-.6-.6H9.1c-.3 0-.6.3-.6.6v5.7l-2.3-.5c-.2 0-.3 0-.5.2-.3.3-.3.7 0 1l3.8 3.6z"}),DRAFTS:a.a.createElement("path",{d:"M13.083 8.52H7.06c-.416 0-.753-.337-.753-.753s.337-.753.753-.753h6.023c.415 0 .752.337.752.753s-.337.753-.752.753zm-.037 2.99h-5.99c-.414 0-.75-.336-.75-.75s.336-.748.75-.748h5.99c.414 0 .75.334.75.748s-.336.75-.75.75zm2.767-9.498H4.258c-.397 0-.722.332-.722.74v14.26c0 .572.634.917 1.114.607l1.678-1.24 1.388 1.208c.253.195.603.2.862.015l1.457-1.22 1.458 1.22c.26.186.61.18.862-.015l1.387-1.208 1.68 1.24c.48.31 1.114-.035 1.114-.608V2.752c0-.408-.326-.74-.723-.74z"}),EMOJI_FOOD_AND_DRINK:a.a.createElement("path",{d:"M18.3 14.1c0-.6-.5-1.1-1.1-1.1H17c.7 0 1.2-.7 1-1.4-.6-2-2.3-3.4-4.5-3.4H10l.4-3.2H8.9l.7-2.3 2.2.8c.1 0 .2 0 .2-.1l.2-.7c0-.1 0-.2-.1-.2l-2.6-.8c-.3-.1-.6.1-.7.4l-.9 3.1H1.7l1.6 13.2H16.2c.8 0 1.6-.7 1.6-1.6v-.9c0-.2-.1-.5-.2-.7.3-.2.7-.6.7-1.1zm-15.6-8h6.7l-.2 2.2h-.3c-2.1 0-3.9 1.4-4.5 3.4-.2.7.3 1.4 1 1.4h-.1c-.6 0-1.1.5-1.1 1.1 0 .5.3.9.8 1-.2.2-.2.5-.2.7v.9c0 .2.1.4.2.6h-.9L2.7 6.1zm14 10.6c0 .3-.2.5-.5.5H6.3c-.3 0-.5-.2-.5-.5v-.9c0-.1.1-.2.2-.2h10.7c.1 0 .2.1.2.2v.9h-.2zm-5.4-1.5L5.8 13h10.9l-5.4 2.2zm5.1-3.1H6.1c-.4 0-.7-.5-.5-.8.6-1.2 1.9-2 3.3-2h4.7c1.4 0 2.6.8 3.3 2 .1.3-.1.8-.5.8z"}),ENTER:a.a.createElement("path",{d:"M8 6.8c.3-.3.8-.3 1.1 0s.3.8 0 1.1L6.9 10h7.6V4.8c0-.4.3-.8.8-.8.4 0 .7.3.7.8v6c0 .5-.4.8-.7.8H6.9l2.2 2.2c.1.1.2.3.2.5s-.1.4-.2.5c-.3.3-.8.3-1.1 0l-4-4 4-4z"}),EXCLAMATION_ALT:a.a.createElement("path",{d:"M2.097 15.85c-.285.517.09 1.15.68 1.15h14.446c.59 0 .964-.633.68-1.15L10.68 2.66c-.295-.537-1.065-.537-1.36 0L2.098 15.85zm8.68-4.282c0 .428-.348.776-.777.776s-.776-.348-.776-.776V8.464c0-.428.347-.776.776-.776s.777.348.777.776v3.104zM10 15.448c-.43 0-.776-.35-.776-.777s.347-.775.776-.775c.43 0 .777.348.777.776s-.348.777-.777.777z"}),EXPAND:a.a.createElement("path",{d:"M2 13.1v4.3c0 .3.3.6.6.6H7c.3 0 .6-.3.6-.6 0-.2 0-.3-.2-.4l-1.6-1.1 3-3c.2-.2.2-.5 0-.7l-1.1-1.1c-.2-.2-.5-.2-.7 0l-3 3-1-1.6c-.1-.2-.3-.2-.4-.2-.3 0-.5.2-.6.5v.3zM18 6.9V2.6c0-.3-.3-.6-.6-.6H13c-.3 0-.6.3-.6.6 0 .2 0 .3.2.4l1.6 1.1-3 3c-.2.2-.2.5 0 .7l1.1 1.1c.2.2.5.2.7 0l3-3 1 1.6c.1.2.3.2.4.2.3 0 .5-.2.6-.5v-.3z"}),EXPAND_LIST:a.a.createElement("path",{d:"M8 8h4c.2 0 .3-.2.1-.4L10 5.5 7.9 7.6c-.2.2-.1.4.1.4zm4 4H8c-.2 0-.3.2-.1.4l2.1 2.1 2.1-2.1c.2-.2.1-.4-.1-.4zm4.5 3h-13c-.6 0-1 .4-1 1s.4 1 1 1h13c.6 0 1-.4 1-1 0-.5-.4-1-1-1zM3.5 5h13c.6 0 1-.4 1-1s-.4-1-1-1h-13c-.6 0-1 .4-1 1s.4 1 1 1z"}),FEEDBACK:a.a.createElement("path",{d:"M19.07 10.56l.25-.234c.44-.41.68-.91.68-1.413 0-1.26-1.346-2.04-2.593-2.04h-4.91l.212-.627c.35-1.04.443-2.35.262-3.693-.184-1.37-1.03-2.337-2.204-2.524-.624-.097-1.237.055-1.638.415-.213.19-.46.528-.434 1.053.064 1.327-.36 2.35-1.52 3.64-.135.154-.276.307-.42.458-.523.547-1.11 1.1-1.747 1.647-.14.16-.186.215-.248.366v11.45l11.12-.01c.95 0 2.06-.54 2.06-1.915 0-.3-.06-.576-.176-.82l-.176-.372.34-.23c.494-.33.734-.735.734-1.235 0-.293-.064-.574-.193-.836l-.19-.39.37-.227c.496-.3.747-.74.747-1.294 0-.296-.064-.595-.184-.858l-.14-.31-.003-.002zM.01 8.096L0 19.526c0 .255.18.473.476.473h2.38V7.62H.477c-.295 0-.467.222-.467.476z"}),FOLDER:a.a.createElement("path",{d:"M2.5 15.8c0 .4.3.7.7.7h13.6c.4 0 .7-.3.7-.7V10h-15v5.8zM16.8 5h-6.3l-.8-1.6C9.6 3.2 9.3 3 9 3H3.2c-.4 0-.7.3-.7.7v4.8h15V5.7c0-.4-.3-.7-.7-.7z"}),FORWARD:a.a.createElement("path",{d:"M10.442 16.956c-.515.385-1.238.01-1.238-.62V14h-6.94c-.427 0-.764-.372-.764-.8V7.794c0-.427.337-.793.764-.793h6.94V4.695c0-.705.767-.97 1.238-.62l7.74 5.81c.363.272.456.894 0 1.237l-7.74 5.834z"}),GETAWAYFILL:a.a.createElement("path",{d:"M17.1 16.2c.4-.3 1-.8 2-.8V17c-.5 0-.6.2-1 .5-.3.3-1 .8-2 .8-.9 0-1.5-.5-1.9-.8s-.6-.5-1-.5c-.5 0-.7.2-1 .5-.5.3-1 .8-2.1.8-1.16 0-1.75-.5-2.14-.8-.34-.3-.53-.5-1-.5s-.65.2-1 .5c-.42.3-.99.8-2.05.8-1.07 0-1.64-.5-2.06-.8-.34-.3-.53-.5-1-.5v-1.6c1.06 0 1.63.5 2.06.8.34.3.53.4 1 .4s.65-.1 1-.4c.42-.3.99-.8 2.05-.8 1.07 0 1.64.5 2.06.8.33.3.5.4.98.4.5 0 .6-.1 1-.4.5-.3 1-.8 2.1-.8 1 0 1.5.5 2 .8.4.3.5.4 1 .4s.7-.1 1-.4zM5.91 7.75c-1.37-.4-2.34-1.91-2.44-2.09-.23-.37-.14-.84.21-1.1 2.15-1.6 4.84-2.22 7.52-1.75v-.45c.2-.44.6-.71 1-.59.5.12.8.58.6 1.02l-.1.45c2.5.89 4.4 2.75 5.4 5.21.3.4.2.9-.2 1-.3.1-1.3.75-2.4.75-.4 0-.5 0-.9-.1-.7-.25-1.4-.95-1.8-1.45-.4.2-1 .3-1.6.3L9.69 14.5c-.1.4-.42.6-.84.6h-.16c-.48-.1-.74-.6-.62-1.1l1.45-5.45c-.5-.3-.92-.7-1.18-1.1-.62.3-1.56.5-2.43.3z"}),GIF_BOX:a.a.createElement("path",{d:"M18.787 3.226C18.69 3.128 18.497 3 18.3 3H1.768C1.34 3 1 3.396 1 3.813v13.405c0 .49.378.782.767.782H18.3c.487 0 .7-.235.7-.783V3.715c0-.196-.115-.39-.213-.49zM17.5 16.5h-15v-12h15v12zM13 11h2.5v-1H13V9h3V8h-4v5h1zM10.002 8H11v5h-.998zM6.488 13.067c.434 0 .8-.085 1.097-.255.173-.097.368-.265.585-.503l.113.69H9v-2.753H7v.836h1.03c-.055.328-.204.594-.445.797-.24.203-.55.304-.928.304-.385 0-.73-.128-1.03-.384-.303-.256-.454-.692-.454-1.308 0-.612.14-1.07.42-1.374s.633-.458 1.067-.458c.227 0 .432.037.618.112.33.136.56.386.646.728H9c-.06-.482-.29-.896-.704-1.218-.416-.323-.966-.485-1.65-.485-.79 0-1.425.245-1.905.734-.48.49-.74 1.14-.74 1.95 0 .803.258 1.435.734 1.897.455.46 1.04.69 1.754.69z"}),GUEST_LIST:a.a.createElement("g",null,a.a.createElement("path",{d:"M6.3 10.4c-2.982 0-5.4 1.405-5.4 3.137v1.387c0 .43.347.776.776.776h9.248c.43 0 .776-.347.776-.776v-1.388c0-1.73-2.418-3.136-5.4-3.136zM13.8 10.4c-.725 0-1.413.086-2.045.236.91.784 1.445 1.783 1.445 2.9V15.7h5.224c.43 0 .776-.347.776-.776v-1.388c0-1.73-2.418-3.136-5.4-3.136z"}),a.a.createElement("circle",{cx:"13.8",cy:"6.4",r:"2.7"}),a.a.createElement("circle",{cx:"6.3",cy:"6.4",r:"2.7"})),HOME:a.a.createElement("path",{d:"M17.8 9.4l-7.2-7.2c-.2-.1-.4-.2-.6-.2s-.4.1-.5.2L2.2 9.4c-.3.3-.3.8 0 1.1s.8.3 1.1 0l.2-.2v6.9c0 .4.3.7.7.7h3.6V15c0-1.2 1-2.2 2.2-2.2 1.2 0 2.2 1 2.2 2.2v2.9h3.3c.4 0 1-.3 1-.7v-6.9l.2.2c.3.3.8.3 1.1 0 .3-.3.3-.8 0-1.1z"}),INBOX:a.a.createElement("path",{d:"M10 10l9-3.5V4c0-.65-.366-1-1-1H2c-.633 0-1 .35-1 1v2.5l9 3.5zm.76 1.195c-.42.165-1.102.164-1.52 0L5.12 9.598 1 8v8c0 .65.367 1 1 1h16c.633 0 1-.35 1-1V8l-8.24 3.195z"}),INDENT:a.a.createElement("path",{d:"M5 5h12c.6 0 1-.4 1-1s-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1zM17 7h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 11h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 15h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM4.6 7.8c-.4.4-.4 1 0 1.4l.8.8H2.6c-.6 0-1 .4-1 1s.4 1 1 1h2.8l-.8.8c-.4.4-.4 1 0 1.4s1 .4 1.4 0L9.2 11 6 7.8c-.4-.4-1-.4-1.4 0z"}),INFO:a.a.createElement("path",{d:"M10 7.1c-.4 0-.8-.3-.8-.8.1-.3.4-.7.8-.7s.8.3.8.8c0 .4-.4.7-.8.7zm.7 5.8c0 .4-.3.7-.7.7s-.7-.3-.7-.7V9.3c0-.4.3-.7.7-.7s.7.3.7.7v3.6zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),INPUT_ARROW_DOWN:a.a.createElement("path",{id:"Path-1009",d:"M5.5 7.5h9l-4.5 5z"}),ITALIC:a.a.createElement("path",{d:"M15.8 3H7.5c-.5 0-.9.4-.9.9s.4.9.9.9h3l-4 9.5h-3c-.5 0-.9.4-.9.9s.4.9.9.9h8.3c.5 0 .9-.4.9-.9s-.4-.9-.9-.9H8.3l4-9.5h3.4c.5 0 .9-.4.9-.9s-.3-.9-.8-.9z"}),LINK:a.a.createElement("path",{d:"M8.247 12H3.542c-.482 0-.934-.216-1.275-.592-.34-.376-.463-.876-.463-1.408 0-1.098.745-2 1.74-2h4.703c.498 0 .902-.437.902-.987S8.744 6 8.246 6H3.542C1.554 6 0 7.804 0 10c0 1.064.31 2.065.992 2.817C1.672 13.57 2.58 14 3.542 14h4.704c.498 0 .902-.463.902-1.013 0-.55-.403-.987-.9-.987zM18.944 7.183C18.262 6.43 17.356 6 16.394 6h-4.705c-.5 0-.903.463-.903 1.013 0 .55.36.987.858.987h4.748c.482 0 .934.216 1.275.592.34.376.528.876.528 1.408 0 .532-.187 1.032-.528 1.408-.34.376-.794.592-1.275.592H11.69c-.5 0-.903.437-.903.987 0 .275.1.524.264.704.164.18.39.293.64.293l4.703.017c.963 0 1.87-.43 2.55-1.183C19.626 12.064 20 11.064 20 10c0-1.064-.375-2.064-1.056-2.817zM6.684 10.005c0 .273.097.52.255.7s.374.295.615.295h4.89c.482 0 .872-.45.872-.996 0-.547-.39-1.005-.87-1.004H7.554c-.48 0-.87.458-.87 1.005z"}),LIST_ORDERED:a.a.createElement("path",{d:"M7 5h10c.552 0 1-.448 1-1s-.448-1-1-1H7c-.552 0-1 .448-1 1s.448 1 1 1zM17 9H7c-.552 0-1 .448-1 1s.448 1 1 1h10c.552 0 1-.448 1-1s-.448-1-1-1zM17 15H7c-.552 0-1 .448-1 1s.448 1 1 1h10c.552 0 1-.448 1-1s-.448-1-1-1zM4.297 15.865v-.01c.187-.052.328-.15.422-.293.093-.143.14-.308.14-.495 0-.173-.04-.325-.12-.457-.082-.132-.187-.244-.314-.336-.13-.092-.273-.16-.435-.206-.16-.045-.32-.068-.482-.068-.207 0-.395.032-.564.096-.17.064-.313.155-.434.272-.12.117-.215.258-.282.422-.068.162-.105.343-.113.54h.777c-.003-.197.048-.36.153-.49s.262-.197.468-.197c.15 0 .283.044.398.133.116.088.172.214.172.38 0 .108-.028.196-.083.263-.057.065-.127.116-.212.15-.086.035-.18.057-.28.065-.1.006-.193.006-.282 0v.548c.1 0 .204.003.312.01.112.005.21.025.303.06.093.034.17.09.228.167.06.077.09.19.09.336 0 .187-.064.335-.19.443-.127.107-.28.16-.467.16-.117 0-.22-.02-.306-.06-.086-.04-.158-.094-.215-.16-.06-.07-.102-.15-.134-.244-.03-.093-.047-.19-.05-.294h-.778c-.003.224.03.422.1.594.072.172.172.32.302.438.132.12.29.21.475.272.186.063.392.094.618.094.197 0 .386-.028.564-.082.18-.056.34-.136.477-.242.14-.108.25-.24.33-.398.083-.157.126-.337.126-.538 0-.22-.064-.41-.19-.567-.127-.158-.3-.26-.523-.308zM3.44 10.964c.133-.1.27-.196.413-.283s.28-.176.42-.266c.14-.09.266-.19.374-.3.11-.11.2-.235.267-.377.067-.142.1-.312.1-.51 0-.19-.038-.363-.114-.517-.078-.152-.18-.28-.31-.385-.13-.106-.28-.186-.452-.24-.17-.057-.35-.085-.54-.085-.247 0-.465.04-.657.12-.19.08-.347.192-.474.337-.126.143-.22.312-.282.504-.064.193-.09.4-.083.627h.803c0-.107.01-.212.033-.32.02-.104.056-.202.11-.29.05-.088.117-.158.202-.212.085-.055.188-.083.31-.083.18 0 .33.055.445.16.117.108.173.255.173.446 0 .12-.028.226-.086.32-.056.094-.127.177-.21.252s-.18.14-.28.204c-.104.062-.2.122-.29.183-.177.115-.344.23-.504.342-.16.11-.3.232-.415.365-.118.133-.21.282-.28.45-.07.17-.102.367-.102.595h3.03v-.683H3.084c.103-.135.222-.252.355-.353zM3.118 6h.903V2H3.3c-.022.152-.075.28-.156.382-.08.103-.18.185-.297.25-.116.062-.246.105-.393.13-.146.025-.298.036-.454.032v.61h1.118V6z"}),LIST_ORDERED_FLIPPED:a.a.createElement("path",{d:"M13 3H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM13 9H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM13 15H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM17.26 15.86v-.01c.19-.05.33-.15.42-.29.09-.14.14-.31.14-.49 0-.17-.04-.33-.12-.46-.08-.13-.19-.24-.31-.34-.13-.09-.27-.16-.44-.21-.16-.04-.32-.06-.48-.06-.21 0-.4.03-.56.1-.17.06-.31.16-.43.27-.12.12-.22.26-.28.42-.07.16-.11.34-.11.54h.78c0-.2.05-.36.15-.49s.26-.2.47-.2c.15 0 .28.04.4.13s.17.21.17.38c0 .11-.03.2-.08.26-.06.07-.13.12-.21.15-.09.03-.18.06-.28.06-.1.01-.19.01-.28 0v.55c.1 0 .2 0 .31.01.11.01.21.03.3.06s.17.09.23.17c.06.08.09.19.09.34 0 .19-.06.34-.19.44-.13.11-.28.16-.47.16-.12 0-.22-.02-.31-.06-.09-.04-.16-.1-.22-.16-.06-.07-.1-.15-.13-.24s-.05-.19-.05-.29h-.78c0 .22.03.42.1.59.07.17.17.32.3.44.13.12.29.21.47.27.19.06.39.09.62.09.2 0 .39-.03.56-.08.18-.06.34-.14.48-.24.14-.11.25-.24.33-.4.08-.16.13-.34.13-.54 0-.22-.06-.41-.19-.57-.13-.14-.31-.25-.53-.3zM16.05 11.32c.1-.13.22-.25.35-.35.13-.1.27-.2.41-.28s.28-.18.42-.27c.14-.09.27-.19.37-.3.11-.11.2-.24.27-.38s.1-.31.1-.51c0-.19-.04-.36-.11-.52-.08-.15-.18-.28-.31-.39-.13-.11-.28-.19-.45-.24-.17-.05-.35-.08-.54-.08-.25 0-.47.04-.66.12-.19.08-.35.19-.48.34-.13.14-.22.31-.28.5-.06.19-.09.4-.08.63h.8c0-.11.01-.21.03-.32.02-.11.06-.2.11-.29.05-.09.12-.16.2-.21.09-.05.19-.08.31-.08.18 0 .33.05.45.16s.17.25.17.45c0 .12-.03.23-.09.32-.04.08-.11.17-.2.24s-.18.14-.28.2c-.1.06-.2.12-.29.18-.18.12-.34.23-.5.34-.16.11-.3.23-.41.37-.12.13-.21.28-.28.45-.07.17-.1.37-.1.59H18v-.68h-1.95zM16.08 6h.9V2h-.72c-.02.15-.08.28-.16.38-.08.1-.18.19-.3.25s-.25.11-.39.13c-.15.02-.3.04-.45.03v.61h1.12V6z"}),LIST_UNORDERED:a.a.createElement("path",{d:"M3 15c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm0-6c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm0-6c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm14 2H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1zm0 6H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1zm0 6H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1z"}),LOCATION_MARKER:a.a.createElement("path",{d:"M10 10.004c-1.183 0-2.07-.883-2.07-2.06s.887-2.06 2.07-2.06 2.07.883 2.07 2.06-.985 2.06-2.07 2.06m0-9.006C6.155.998 3 4.18 3 8c0 3.232 4.732 8.87 6.21 10.633.494.49.987.49 1.48 0C12.17 16.968 17 11.33 17 8c0-3.82-3.155-6.996-7-6.996"}),MESSENGER:a.a.createElement("path",{d:"M10 2c-4.42 0-8 3.58-8 8 0 4.417 3.58 8 8 8 4.417 0 7.998-3.583 7.998-8 0-4.42-3.58-8-7.998-8zm2.264 4.563c.51 0 .922.413.922.922 0 .51-.413.922-.922.922-.51 0-.922-.413-.922-.922 0-.51.413-.922.922-.922zm-4.553 0c.51 0 .923.424.923.948s-.413.948-.922.948c-.508 0-.92-.424-.92-.948s.412-.947.92-.947zm5.954 7.386c-.816.715-2.664 1.064-3.653 1.05-1.01.014-2.836-.335-3.652-1.05-1.24-1.09-1.376-2.95-1.376-3.363H15.04c0 .413-.135 2.273-1.376 3.362z"}),MINUS:a.a.createElement("path",{d:"M13.75 9.25h-7.5c-.414 0-.75.336-.75.75s.336.75.75.75h7.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),MIXED_CHECKBOX:a.a.createElement("g",null,a.a.createElement("path",{fill:"#188FFF",d:"M7 11h6c.552 0 1-.448 1-1 0-.553-.448-1-1-1H7c-.552 0-1 .447-1 1 0 .552.448 1 1 1z"}),a.a.createElement("path",{d:"M14.5 17h-9C4.122 17 3 15.878 3 14.5v-9C3 4.122 4.122 3 5.5 3h9C15.878 3 17 4.122 17 5.5v9c0 1.378-1.122 2.5-2.5 2.5zm-9-13C4.673 4 4 4.673 4 5.5v9c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-9c0-.827-.673-1.5-1.5-1.5h-9z"})),MORE:a.a.createElement("g",null,a.a.createElement("circle",{cx:"3",cy:"10",r:"2"}),a.a.createElement("circle",{cx:"10",cy:"10",r:"2"}),a.a.createElement("circle",{cx:"17",cy:"10",r:"2"})),MOVE_TO_FOLDER:a.a.createElement("path",{d:"M17.25 5h-6.77l-.715-1.563C9.643 3.171 9.375 3 9.083 3H2.75c-.414 0-.75.336-.75.75v12.5c0 .414.336.75.75.75h6.5v-6.19l-1.72 1.72c-.293.293-.767.293-1.06 0s-.293-.767 0-1.06L10 7.94l3.53 3.53c.293.293.293.767 0 1.06-.146.147-.338.22-.53.22s-.384-.073-.53-.22l-1.72-1.72V17h6.5c.414 0 .75-.336.75-.75V5.75c0-.414-.336-.75-.75-.75z"}),NOTEPAD:a.a.createElement("path",{d:"M13 14.73V18l4-4h-3.11c-.66 0-.89.063-.89.73zM16 2H4c-.667 0-1 .333-1 1v14c0 .626.305.946.892.985.053.01.096.015.108.015h7.51v-4.23c.018-.832.438-1.25 1.266-1.256H17V3c-.007-.667-.34-1-1-1zM9 14H6.89c-.43 0-.78-.335-.78-.75s.35-.75.78-.75H9c.43 0 .778.335.778.75S9.428 14 9 14zm4.11-3.5H6.89c-.43 0-.78-.335-.78-.75S6.46 9 6.89 9h6.22c.43-.01.78.335.78.75s-.35.75-.78.75zm0-3.5H6.89c-.43 0-.78-.335-.78-.75s.35-.75.78-.75h6.22c.43 0 .78.335.78.75s-.35.75-.78.75z"}),NO_INTERNET:a.a.createElement("g",null,a.a.createElement("ellipse",{cx:"10",cy:"14.852",rx:"1.5",ry:"1.469"}),a.a.createElement("path",{d:"M19.268 7.865c-.31-.313-.635-.61-.967-.884C15.97 5.06 13.02 4 9.996 4S4.018 5.06 1.687 6.983c-.323.268-.637.552-.933.848-.34.34-.34.892 0 1.233.34.34.892.34 1.232 0 .258-.26.528-.505.81-.738C4.815 6.66 7.37 5.74 9.995 5.74c2.62 0 5.177.918 7.197 2.585.29.238.57.495.84.765.17.172.393.258.617.258.22 0 .443-.084.613-.252.34-.338.344-.888.005-1.23zM11 11.41V7.832c0-.507-.45-.917-1-.917-.553 0-1 .41-1 .917v3.577c0 .505.45.916 1 .916s1-.41 1-.916zM7.057 8.843c-.844.288-1.646.7-2.384 1.23-.394.284-.77.602-1.113.945-.34.34-.34.89-.002 1.23.17.172.393.257.616.257.222 0 .444-.085.615-.254.278-.278.58-.534.9-.763.445-.322.926-.573 1.424-.782.104-.044.17-.143.17-.255V9.01c.002-.12-.116-.205-.227-.167zM15.348 10.072c-.715-.515-1.49-.917-2.305-1.202-.146-.05-.3.063-.3.218v1.365c0 .112.066.21.17.254.495.208.974.46 1.42.778.315.228.62.486.9.766.34.34.893.34 1.232-.003s.337-.892-.004-1.232c-.348-.344-.722-.662-1.112-.943z"})),NONE_BELL:a.a.createElement("path",{d:"M16.065 13.117c-.28-.85-.43-1.745-.43-2.654v-2.77c0-2.626-1.69-4.918-4.062-5.708-.185-.06-.374-.108-.566-.15v-.17c0-.69-.56-1.25-1.25-1.25s-1.25.558-1.25 1.25v.17c-.192.042-.382.09-.567.15-.712.238-1.36.612-1.922 1.087l10.045 10.045h.002zM9.758 19.583c1.035 0 1.875-.84 1.875-1.875h-3.75c0 1.035.84 1.875 1.875 1.875zM18.504 17.914h.003L2.674 2.085c-.325-.326-.854-.326-1.18 0-.324.324-.324.85 0 1.178l2.653 2.652c-.174.565-.27 1.162-.27 1.78v2.77c0 1.764-.55 3.48-1.57 4.91-.3.468-.565.69-.654.92-.08.21.05.576.35.576v.004h13.103l2.22 2.22c.163.163.376.244.59.244.21 0 .425-.08.588-.244.325-.326.325-.853 0-1.18z"}),ORB:a.a.createElement("path",{d:"M.76 14.462c.505 1.253 1.21 2.29 2.115 3.11.903.818 1.966 1.424 3.182 1.82 1.22.392 2.538.59 3.96.59 1.4 0 2.708-.2 3.924-.59.49-.16 1.852-.62 3.185-1.82.906-.817 1.61-1.856 2.116-3.11.507-1.255.76-2.742.76-4.462 0-1.72-.253-3.208-.76-4.462-.505-1.255-1.21-2.29-2.115-3.108-.904-.82-1.964-1.426-3.184-1.82C12.726.216 11.417.02 10.02.02c-1.423 0-2.74.196-3.96.59-.396.127-1.83.62-3.183 1.82-.912.81-1.61 1.854-2.116 3.108C.252 6.793 0 8.278 0 10c0 1.72.253 3.207.76 4.462z"}),OUTDENT:a.a.createElement("path",{d:"M5 5h12c.6 0 1-.4 1-1s-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1zM17 7h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 11h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 15h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM8.2 10H5.5l.8-.8c.4-.4.4-1 0-1.4s-1-.4-1.4 0L1.6 11l3.2 3.2c.4.4 1 .4 1.4 0s.4-1 0-1.4l-.7-.8h2.8c.6 0 1-.4 1-1-.1-.6-.5-1-1.1-1z"}),PEOPLE:a.a.createElement("path",{d:"M5.5 10.6c1.64 0 3.078.828 3.863 2.062.36.564-.03 1.317-.684 1.317H2.32c-.652 0-1.042-.754-.683-1.318.785-1.234 2.222-2.06 3.863-2.06zm8.5 2.025c1.64 0 3.078.827 3.863 2.06.36.565-.03 1.318-.684 1.318h-6.36c-.652 0-1.042-.753-.683-1.317.785-1.234 2.222-2.06 3.863-2.06zM5.5 9C4.12 9 3 7.88 3 6.5S4.12 4 5.5 4 8 5.12 8 6.5 6.88 9 5.5 9zm8.5 2c-1.38 0-2.5-1.12-2.5-2.5S12.62 6 14 6s2.5 1.12 2.5 2.5S15.38 11 14 11z"}),POP_OUT:a.a.createElement("path",{d:"M15.4 16.4H3.6V4.6H11V3H2.8c-.4 0-.8.4-.8.8v13.4c0 .4.4.8.8.8h13.4c.5 0 .8-.4.8-.8V9.5h-1.6v6.9zM17.3 2h-4.2c-.2 0-.4.3-.4.6s.2.4.2.4l1.6 1-3.2 3.2c-.2.2-.2.5 0 .7l1 1c.2.2.5.2.7 0l3.2-3.2 1 1.6s.1.2.4.2.5-.3.5-.6V2.7c-.1-.4-.3-.7-.8-.7z"}),PRINTER:a.a.createElement("path",{d:"M13.8 13.5H6.2c-.4 0-.7.3-.7.7v2.6c0 .4.3.7.7.7h7.6c.4 0 .7-.3.7-.7v-2.6c0-.4-.3-.7-.7-.7zM15.5 3.2c0-.4-.3-.7-.7-.7H5.2c-.4 0-.7.3-.7.7v3.3h11V3.2zM17.3 8H2.7c-.4 0-.7.3-.7.7v6.6c0 .4.3.7.7.7h.6c.4 0 .7-.3.7-.7v-2.6c0-.4.3-.7.7-.7h10.6c.4 0 .7.3.7.7v2.6c0 .4.3.7.6.7h.7c.4 0 .7-.3.7-.7V8.7c0-.4-.3-.7-.7-.7zM15 11c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"}),READ:a.a.createElement("path",{d:"M10 2c-4.41 0-8 3.58-8 8s3.59 8 8 8 8-3.58 8-8-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.46 6-6 6"}),REFRESH:a.a.createElement("path",{d:"M16 10.3c0-1.4-.5-2.7-1.3-3.7l-1.1 1.1c.5.7.9 1.7.9 2.7 0 2.5-2 4.5-4.4 4.5H9l1-.8c.3-.3.4-.8.1-1.1-.3-.4-.9-.4-1.2-.1L6.5 15c-.3.3-.3.8 0 1.1l2.4 2.2c.3.3.9.3 1.2-.1.3-.3.2-.8-.1-1.1l-1-.8h1c3.3 0 6-2.7 6-6zM5.5 10.3c0-2.5 2-4.5 4.5-4.5h1.1l-1 .8c-.3.3-.3.8-.1 1.1.3.4.9.4 1.2.1l2.4-2.2c.3-.3.3-.8 0-1.1l-2.4-2.2c-.3-.3-.9-.3-1.2.1-.3.3-.2.8.1 1.1l1 .8H10c-3.3 0-6 2.7-6 6 0 1.4.5 2.6 1.2 3.7l1.1-1.1c-.5-.8-.8-1.7-.8-2.6z"}),REPLY:a.a.createElement("path",{d:"M8.71 15.946c.503.432 1.28.075 1.28-.587v-2.622c5.05 0 6.858 3.584 7.02 4.204.352.797 1.535.594 1.48-.262-.42-6.662-3.91-10.728-8.5-10.728V3.534c0-.662-.775-1.02-1.277-.588l-6.95 6.02c-.364.312-.36.875.01 1.18l6.938 5.8z"}),REPLY_ALL:a.a.createElement("path",{d:"M2.044 9.406l5.86-5.045c.324-.32.324-.838 0-1.16-.326-.32-.854-.32-1.18 0L.245 8.78c-.325.32-.325.84 0 1.16l6.507 6.42c.326.32.854.32 1.18 0 .325-.32.325-.84 0-1.16L2.043 9.407zM12.725 6.617V3.89c0-1.06-1.123-1.108-1.576-.694L4.804 9.14c-.348.32-.345.83.014 1.145l6.388 6.1c.63.525 1.526.162 1.526-.562l-.01-2.85c3.417 0 5.686 3.154 5.708 3.2.22.314.47.432.704.432.463 0 .864-.463.864-.772 0-7.27-4.44-9.216-7.275-9.216z"}),RESTORE_TO_INBOX:a.a.createElement("path",{d:"M18 4.174V3.78c0-.414-.325-.75-.727-.75H2.727c-.402 0-.727.336-.727.75v.394l8 3.782 8-3.782zM8.267 13.468l6.194-4.955c.403-.3 1.058-.073 1.058.528v1.968H18V5.824L10 9.53 2 5.826v8.456c0 .416.325.75.728.75h6.17l-.63-.506c-.39-.292-.31-.823 0-1.056zM19.678 12.51h-5.64v-.984c0-.3-.328-.414-.53-.264l-3.095 2.476c-.154.116-.194.382 0 .528l3.096 2.487c.218.164.527.004.527-.264v-.997h5.64c.183 0 .327-.16.327-.34v-2.306c0-.182-.144-.338-.326-.338z"}),RICHTEXT_OFF:a.a.createElement("path",{d:"M13 3H4c-.55 0-1 .45-1 1s.45 1 1 1h3.34l-1.868 8.792c-.115.538.232 1.07.77 1.186.538.114 1.072-.233 1.186-.77L9.385 5H13c.55 0 1-.45 1-1s-.45-1-1-1zm3.854 12.147c.195.195.195.513 0 .707s-.512.195-.707 0l-1.897-1.897-1.897 1.897c-.195.195-.513.195-.707 0-.195-.194-.195-.512 0-.707l1.897-1.897-1.897-1.897c-.195-.195-.195-.513 0-.707s.512-.195.707 0l1.897 1.897 1.897-1.897c.195-.195.513-.195.707 0s.195.512 0 .707l-1.897 1.897 1.897 1.897z"}),RICHTEXT_ON:a.a.createElement("path",{d:"M13 3H4c-.55 0-1 .45-1 1s.45 1 1 1h3.34l-1.868 8.792c-.115.538.232 1.07.77 1.186.538.114 1.072-.233 1.186-.77L9.385 5H13c.55 0 1-.45 1-1s-.45-1-1-1zm5 9.5c0 .275-.225.5-.5.5H15v2.5c0 .275-.225.5-.5.5s-.5-.225-.5-.5V13h-2.5c-.275 0-.5-.225-.5-.5s.225-.5.5-.5H14V9.5c0-.275.225-.5.5-.5s.5.225.5.5V12h2.5c.275 0 .5.225.5.5z"}),SCISSORS:a.a.createElement("path",{d:"M12.5 7.4l4.8-4.7c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L11 6l1.5 1.4zM7.9 6c.4-.6.6-1.3.6-2 0-2.2-1.8-4-4-4s-4 1.8-4 4 1.8 4 4 4c.7 0 1.4-.2 2-.6L8.1 9l-1.6 1.6c-.6-.4-1.3-.6-2-.6-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4c0-.7-.2-1.4-.6-2l1.6-1.6 6.3 6.3c.4.4 1 .4 1.4 0 .4-.4.4-1 0-1.4L7.9 6zM2.5 4c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm2 12c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),SEARCH:a.a.createElement("path",{d:"M17.5 16.5l-4.8-4.8c.8-1 1.3-2.3 1.3-3.7 0-3.3-2.7-6-6-6S2 4.7 2 8s2.7 6 6 6c1.4 0 2.7-.5 3.7-1.3l4.8 4.8c.1.1.3.2.5.2s.4-.1.5-.2c.3-.3.3-.7 0-1zm-9.5-4c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"}),SEARCH_MAIL:a.a.createElement("path",{d:"M17.81 16.47l-1.59-1.59c.31-.48.49-1.04.49-1.65 0-1.68-1.37-3.04-3.05-3.04-1.68 0-3.03 1.36-3.03 3.04s1.36 3.04 3.04 3.04c.61 0 1.18-.18 1.65-.49l1.59 1.59c.25.25.65.25.9 0 .25-.24.25-.65 0-.9zM13.68 15c-.97 0-1.76-.79-1.76-1.76s.79-1.76 1.76-1.76 1.76.79 1.76 1.76S14.65 15 13.68 15zM16 4.5V4c0-.6-.37-1-.99-1h-12C2.41 3 2 3.41 2 4v.5S8.99 7 9 7l7-2.5zM13.67 8.95c.86 0 1.66.26 2.33.7V6L9 8.5C8.99 8.5 2 6 2 6c-.01-.01 0 6.75 0 6.75 0 .6.39 1.25 1 1.25h6.46c-.04-.25-.08-.5-.08-.76.01-2.37 1.92-4.29 4.29-4.29z"}),SEARCH_MINI:a.a.createElement("path",{d:"M15.26 14.108l-2.467-2.466c.513-.737.818-1.63.818-2.596 0-2.515-2.04-4.555-4.555-4.555C6.54 4.49 4.5 6.53 4.5 9.047s2.04 4.556 4.555 4.556c.957 0 1.843-.298 2.576-.802l2.47 2.468c.16.16.37.24.58.24s.42-.08.58-.24c.32-.32.32-.84 0-1.16zm-6.205-2c-1.69 0-3.06-1.37-3.06-3.062 0-1.69 1.37-3.06 3.06-3.06s3.062 1.37 3.062 3.06-1.372 3.062-3.062 3.062z"}),SEARCH_WEB:a.a.createElement("path",{d:"M9.3 16.44c-.95-.46-1.74-1.83-2.14-3.66h1.48c.05-.49.19-.96.38-1.39H6.94c-.05-.45-.07-.91-.07-1.39s.03-.94.07-1.39H9.3v2.25c.36-.58.83-1.08 1.39-1.45v-.8h5.77c.09.44.14.89.15 1.36v.51c0 .38.31.7.7.7.38 0 .7-.31.7-.7v-.51c-.02-4.58-3.88-8.25-8.53-7.95-3.92.25-7.12 3.38-7.45 7.28-.38 4.5 2.95 8.3 7.27 8.67.08.01.2.01.32.02.24.01.46-.11.59-.31.2-.33.08-.77-.28-.93l-.63-.31zm6.69-9.22h-1.76c-.24-1.18-.64-2.22-1.14-3.06 1.27.67 2.29 1.75 2.9 3.06zM10.7 3.56c.95.46 1.74 1.83 2.14 3.66H10.7V3.56zm-1.4 0v3.66H7.16c.41-1.83 1.19-3.21 2.14-3.66zm-2.39.6c-.51.84-.9 1.88-1.14 3.06H4.01c.61-1.31 1.63-2.39 2.9-3.06zM3.39 10c0-.48.05-.94.15-1.39h2.01c-.04.45-.07.91-.07 1.39 0 .48.03.94.07 1.39H3.54c-.1-.45-.15-.91-.15-1.39zm.62 2.78h1.76c.24 1.17.63 2.22 1.14 3.06-1.27-.67-2.29-1.75-2.9-3.06zM17 16.47l-1.59-1.59c.31-.48.49-1.04.49-1.65 0-1.68-1.37-3.04-3.05-3.04-1.68 0-3.03 1.36-3.03 3.04s1.36 3.04 3.04 3.04c.61 0 1.18-.18 1.65-.49l1.59 1.59c.25.25.65.25.9 0 .24-.25.24-.65 0-.9m-4.14-1.48c-.97 0-1.76-.79-1.76-1.76s.79-1.76 1.76-1.76 1.76.79 1.76 1.76-.79 1.76-1.76 1.76"}),SELECTED:a.a.createElement("path",{d:"M10.83 16.338c-.49.385-1.184.385-1.676 0L0 9.4v9.585C0 19.585.43 20 1.077 20h17.846c.63 0 1.077-.415 1.077-1.015v-9.6l-9.17 6.953zM.37 8.985l9.168 6.8c.246.185.585.185.83 0l9.263-6.8c.186-.138.186-.415 0-.554L10.71.23c-.415-.307-1-.307-1.415 0L.37 8.43c-.185.14-.185.416 0 .555z"}),SENT:a.a.createElement("path",{d:"M17.6 9.3L3 2.8c-.5-.2-1.1.2-1 .7l1.4 5L9.2 10l-5.8 1.5L2 16.3c-.2.6.4 1.1 1 .9l14.5-6.5c.6-.3.6-1.1.1-1.4z"}),SETTINGS:a.a.createElement("path",{d:"M10.025 13.157c-1.747 0-3.167-1.416-3.167-3.157s1.42-3.157 3.167-3.157c1.746 0 3.167 1.416 3.168 3.157 0 1.74-1.422 3.157-3.168 3.157m8.66-4.62c-.023-.005-.084-.02-1.344-.22l-1.018-.17c-.03-.004-.056-.026-.065-.056l-.005-.018-.008-.018-.038-.093c-.09-.215-.302-.732-.405-.973l-.006-.016-.01-.015c-.013-.027-.012-.06.007-.086l1.374-1.91c.132-.182.12-.43-.032-.603-.027-.028-.505-.505-1.43-1.425-.09-.09-.21-.14-.34-.14-.1 0-.196.03-.278.09l-1.92 1.37c-.012.01-.03.015-.048.015-.023-.003-.03-.005-.037-.01l-.02-.008-.018-.01-1.065-.44c-.088-.036-.092-.057-.095-.078l-.384-2.32c-.036-.234-.28-.402-.476-.402H9.027c-.24 0-.44.172-.477.408l-.38 2.307c-.004.01-.015.036-.045.063-.14.065-.794.33-1.08.447l-.036.015-.022.008-.02.01c-.01.006-.023.01-.036.01-.01 0-.03-.003-.046-.016l-.1-.072C4.98 2.888 4.957 2.874 4.935 2.862c-.07-.042-.154-.064-.24-.064-.06 0-.215.012-.335.123l.002.002c-.046.043-.17.166-.58.573l-.846.844-.01.01-.012.012c-.136.16-.158.372-.055.557v-.003c.082.14.354.515 1.4 1.955.017.023.02.057.005.084l-.01.016-.006.017-.043.097c-.134.317-.254.6-.404.974l-.006.016-.005.015c-.01.03-.035.054-.066.06L1.4 8.53c-.232.036-.403.237-.403.476v1.988c0 .237.177.44.412.476l2.316.38c.03.006.057.03.066.058l.004.014.005.014c.17.43.293.74.453 1.086l.005.01.005.01c.015.028.012.063-.007.09l-1.373 1.907-.077.167c-.038.16.007.335.13.456l.09.087 1.32 1.316c.09.09.21.14.34.14.103 0 .202-.03.285-.092l1.89-1.35c.03-.015.052-.023.066-.023.01 0 .036.003.086.02l.05.022c.373.16.642.276 1.02.42l.013.006.013.004c.03.01.052.035.058.065l.384 2.318c.028.21.252.405.478.405h1.994c.24 0 .44-.172.477-.408l.378-2.286c.02-.06.047-.094.214-.153.353-.14.62-.246.962-.4.03-.01.056-.015.07-.015.007 0 .022 0 .053.018l1.902 1.358.015.012.02.01c.076.047.162.07.25.07.114 0 .223-.04.314-.117l.012-.012.012-.012.705-.703c.56-.563.703-.708.753-.77.055-.074.13-.22.07-.413-.004-.017-.01-.034-.02-.055l-.01-.025H17.2c-.057-.108-.198-.3-.547-.773l-.86-1.197c-.018-.026-.02-.06-.006-.087l.01-.017.006-.018.434-1.047c.047-.085.066-.1.108-.113 2.255-.362 2.333-.387 2.367-.397l.012-.004.012-.005c.208-.078.317-.285.317-.448V9.006c.002-.22-.146-.41-.37-.468"}),SHARE_SOCIAL:a.a.createElement("path",{d:"M13.2 12.1c-.6 0-1.2.2-1.7.6l-2.3-1.6c.1-.3.2-.7.2-1.1s-.1-.7-.2-1.1l2.3-1.6c.5.3 1.1.6 1.7.6 1.6 0 2.9-1.3 2.9-2.9s-1.3-3-2.9-3-2.9 1.3-2.9 2.9c0 .4.1.7.2 1.1L8.2 7.6c-.5-.3-1.1-.5-1.8-.5-1.6 0-2.9 1.3-2.9 2.9s1.3 2.9 2.9 2.9c.6 0 1.2-.2 1.7-.6l2.3 1.6c-.1.3-.2.7-.2 1.1 0 1.6 1.3 2.9 2.9 2.9S16 16.6 16 15s-1.2-2.9-2.8-2.9z"}),SHOPPING:a.a.createElement("path",{d:"M16.8 7h-3.4v-.7C13.4 4.5 11.9 3 10 3S6.6 4.5 6.6 6.3V7H3.2c-.5 0-.8.4-.7.8l1.9 8.7c.1.3.4.5.7.5H15c.3 0 .6-.2.7-.5l1.8-8.7c0-.1 0-.8-.7-.8zM12 7H8v-.7c0-1.1.9-2 2-2s2 .9 2 2V7z"}),SPAM:a.a.createElement("path",{d:"M12.84 11.7c.314.314.314.825 0 1.14-.316.316-.827.316-1.142 0l-1.7-1.7-1.697 1.7c-.314.316-.825.316-1.14 0-.315-.314-.315-.826 0-1.14l1.7-1.7-1.724-1.724c-.316-.315-.316-.826 0-1.14.316-.316.826-.316 1.14 0l1.725 1.723 1.725-1.725c.315-.315.826-.315 1.14 0s.316.826 0 1.14L11.142 10l1.7 1.7zm4.18-7.027c-1.296-.09-3.867-.6-6.512-2.977-.145-.13-.327-.196-.51-.196-.18 0-.363.065-.507.196C6.847 4.074 4.276 4.583 2.98 4.673c-.41.03-.706.38-.707.79 0 9.375 6.28 12.534 7.462 12.987.087.034.18.05.27.05.09 0 .18-.016.265-.047 1.182-.438 7.46-3.578 7.46-12.99 0-.412-.295-.762-.706-.79z"}),SPONSORED:a.a.createElement("path",{d:"M5.4 4.3c-.3-.3-.7-.3-1 0s-.3.7 0 1l.5.5c.3.3.7.3 1 0s.3-.7 0-1l-.5-.5zm-.5 9.8l-.5.5c-.3.3-.3.7 0 1s.7.3 1 0l.5-.5c.3-.3.3-.7 0-1s-.8-.3-1 0zm10.2 0c-.3-.3-.7-.3-1 0s-.3.7 0 1l.5.5c.3.3.7.3 1 0s.3-.7 0-1l-.5-.5zm0-8.2l.5-.5c.3-.3.3-.7 0-1s-.7-.3-1 0l-.5.5c-.3.3-.3.7 0 1 .3.3.8.3 1 0zm2.2 3.4h-.7c-.4 0-.7.3-.7.7s.3.7.7.7h.7c.4 0 .7-.3.7-.7s-.3-.7-.7-.7zM8.5 7.8h3.6c.4 0 .7-.3.7-.7s-.3-.7-.7-.7h-1.5c0-.4-.3-.7-.7-.7s-.6.3-.6.7H8.2c-1 0-1.8.8-1.8 1.8v.7c0 1 .8 1.8 1.8 1.8h2.5c.4 0 .7.3.7.7s-.3.7-.7.7H7.1c-.4 0-.7.3-.7.7s.3.7.7.7h2.2c0 .4.3.7.7.7s.7-.3.7-.7h.4c1 0 1.8-.8 1.8-1.8V11c0-1-1-1.8-2.2-1.8H8.5c-.4 0-.7-.3-.7-.7s.3-.7.7-.7zM10 4.2c.4 0 .7-.3.7-.7v-.8c0-.4-.3-.7-.7-.7s-.7.3-.7.7v.7c0 .5.3.8.7.8zM3.5 9.3h-.8c-.4 0-.7.3-.7.7s.3.7.7.7h.7c.4 0 .7-.3.7-.7s-.2-.7-.6-.7zm6.5 6.5c-.4 0-.7.3-.7.7v.7c0 .4.3.7.7.7s.7-.3.7-.7v-.7c0-.4-.3-.7-.7-.7z"}),STAR:a.a.createElement("path",{d:"M15.718 8.35c-.066-.205-.256-.35-.47-.35h-3.656l-1.13-3.475c-.066-.203-.256-.34-.47-.34s-.403.137-.47.34L8.393 8H4.736c-.214 0-.403.145-.47.35-.066.203.007.426.18.552l2.958 2.152-1.13 3.482c-.066.204.006.427.18.553.173.125.407.125.58 0l2.958-2.153 2.958 2.152c.087.062.19.094.29.094s.205-.032.29-.095c.174-.127.247-.35.18-.554l-1.13-3.482 2.96-2.152c.172-.126.244-.35.178-.553z"}),STATIONERY:a.a.createElement("path",{d:"M17.007 3H16V.78c0-.562-.43-.922-.96-.78L2 3v14c0 .548.45 1 1 1h14.007c.548 0 .993-.45.993-1V4c0-.548-.445-1-.993-1zM14.5 1.5V3H8l6.5-1.5zm2 15h-13v-12h13v12zM10 14.5l3.397-3.426c.804-.814.804-2.14 0-2.954-.395-.4-.922-.62-1.482-.62-.594 0-1.112.154-1.915 1.058C9.187 7.643 8.67 7.5 8.086 7.5c-.56 0-1.087.22-1.482.62-.805.814-.805 2.14 0 2.955L10 14.5z"}),STRIKETHROUGH:a.a.createElement("path",{d:"M8.5 7.5c-.3-.3-.8-.7-.8-1.7 0-1.2.9-2.3 2.8-2.3 1.5 0 2.3 1.1 2.7 2.1.2.4.7.7 1.3.4.5-.2.5-.8.3-1.1-.6-1.2-1.3-2.9-4.3-2.9C7.4 2 6 3.9 6 5.8c0 .9.2 1.2.5 1.7h2zM16.2 9H3.8c-.5 0-.8.3-.8.7s.3.8.8.8H10c2 .4 2.9 1.3 2.9 2.8 0 1.6-1 2.7-2.9 2.7s-2.6-.9-3-2c-.1-.4-.6-.8-1.1-.6-.3.1-.7.5-.6 1 .4 1.4 1.7 3.1 4.7 3.1s4.5-1.9 4.5-4.3c0-1.3-.4-2-1-2.7h2.7c.4 0 .8-.4.8-.8s-.3-.7-.8-.7z"}),TAB_IMAGES:a.a.createElement("path",{d:"M3.46 14.636l3.633-5.814 1.38 2.206-1.26 1.824c-.226.33-.11.76.26.96.334.18.75.104.996-.15l3.71-5.568 4.36 6.54H3.46v.002zM17.272 3H2.728C2.326 3 2 3.326 2 3.727v12.356c0 .4.326.726.728.726h14.546c.4 0 .727-.326.727-.727V3.727c0-.4-.326-.727-.727-.727z"}),TEXT:a.a.createElement("path",{d:"M11.1 17c.5 0 .7-.2.8-.6l1.1-2.8h4.2l1.1 2.8c.2.5.6.6 1.1.5.4-.1.6-.7.4-1L16 6.1c-.2-.3-.5-.6-.9-.6s-.7.3-.9.6l-3.1 8L7 3.7c-.2-.4-.5-.7-1-.7-.6 0-.9.4-1.1.8l-4.7 12s-.3.8.4 1.1c.4.2.9 0 1.1-.5L3 12.9h5.9l1.4 3.5s.2.6.8.6zm-7.6-5.4L6 5.2l2.5 6.4h-5zm10 .8L15.2 8l1.7 4.4h-3.4z"}),TEXT_COLOR:a.a.createElement("g",null,a.a.createElement("circle",{fill:"#30D3B6",cx:"5.5",cy:"14",r:"4"}),a.a.createElement("circle",{fill:"#FFD333",cx:"9.5",cy:"6",r:"4"}),a.a.createElement("circle",{fill:"#FF333A",cx:"14.5",cy:"14",r:"4"}),a.a.createElement("path",{d:"M15.9 4"})),TRAVEL:a.a.createElement("path",{d:"M6 7.59c-.1-.1-.06-.1-.3-.1H2.464c-.1 0-.293-.024-.393.076-.114.115-.06.213.04.424L4.2 11.8c.082.124.2.2.3.2h4.6l-2.33 2.333c-.24.226-.24.46-.16.54.1.1.133.13.29.13H11c.1 0 .096-.005.2-.1l3-2.903h2.088c.9 0 2.182-.36 2.182-1.8 0-1.176-1.182-1.7-2.182-1.7H6.7M9.712 8h3.7L10.6 5.1c-.1-.1-.2-.1-.3-.1H7.7c-.2 0-.294.07-.34.18-.04.232.036.295.14.42L9.712 8z"}),TRUSTED:a.a.createElement("path",{d:"M17 4.7c-1.3-.1-3.9-.6-6.5-3-.1-.1-.3-.2-.5-.2s-.4.1-.5.2C6.8 4.1 4.3 4.6 3 4.7c-.4 0-.7.4-.7.8 0 9.4 6.3 12.5 7.5 13h.6c1.2-.4 7.5-3.6 7.5-13-.2-.4-.5-.8-.9-.8zm-2.4 2.6c.3.3.3.8 0 1.1l-5 5c-.3.3-.8.3-1.1 0l-2.2-2.1c-.3-.3-.3-.8 0-1.1s.8-.3 1.1 0L9 11.8l4.5-4.5c.4-.3.9-.3 1.1 0z"}),TUMBLR:a.a.createElement("path",{d:"M11.84 17.95h-.12c-3.76 0-4.58-2.77-4.58-4.38V9.08H5.65c-.17 0-.31-.14-.31-.31V6.65c0-.22.14-.42.35-.5 1.93-.68 2.54-2.37 2.63-3.65.02-.33.2-.5.5-.5h2.21c.17 0 .31.14.31.31V5.9h2.59c.17 0 .31.14.31.31v2.54c0 .17-.14.31-.31.31h-2.6v4.15c0 1.04.69 1.33 1.11 1.33.41-.01.81-.13 1.01-.21.15-.06.28-.1.4-.07.11.03.18.1.23.25l.69 2c.06.16.1.33-.01.46-.55.57-1.8.96-2.92.98z"}),VIDEO_CALL:a.a.createElement("path",{d:"M18.4 5.1c-.1 0-.3 0-.4.1l-2.3 1.5V5.2c0-.9-.7-1.5-1.5-1.5H2.3c-.9 0-1.5.7-1.5 1.5v9.5c0 .9.7 1.5 1.5 1.5h11.8c.9 0 1.5-.7 1.5-1.5v-1.5l2.3 1.5c.1.1.3.1.4.1.5 0 .9-.4.9-.9V6c.1-.5-.3-.9-.8-.9z"}),YBADGE:a.a.createElement("g",null,a.a.createElement("path",{d:"M16 3H4c-.5 0-1 .5-1 1v12c0 .6.5 1 1 1h12c.6 0 1-.5 1-1V4c0-.5-.5-1-1-1z",fill:"#400090"}),a.a.createElement("path",{d:"M10.7 15.1H10c-.3 0-.5 0-.7.1v-.1c0-.3.1-4.3.1-4.3-.2-.4-3.5-5.9-3.5-5.9.2.1.5.1.7.1.3 0 .5-.1.7-.1.5.7 2.6 4.2 2.7 4.4.1-.1 2.2-3.7 2.6-4.4.2.1.5.1.7.1.3 0 .5 0 .7-.1 0 0-3.3 5.6-3.5 5.9.1 0 .2 4 .2 4.3z",fill:"#fff"})),TAP_TO_TOP:a.a.createElement("path",{d:"M14.4 9.7L11 6.4V19H9V6.4L5.6 9.8c-.4.4-1 .4-1.4 0s-.4-1 0-1.4L10 3l5.7 5.3c.4.4.4 1 0 1.4-.4.4-1 .4-1.3 0M3.3 1h13.4c.7 0 1.3.4 1.3 1 0 .5-.6 1-1.3 1H3.3C2.6 3 2 2.5 2 2c0-.6.6-1 1.3-1"}),SIDEBAR:a.a.createElement("path",{d:"M17.2 6H2.8C2.358 6 2 5.552 2 5s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1zm0 5H2.8c-.442 0-.8-.448-.8-1s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1zm0 5H2.8c-.442 0-.8-.448-.8-1s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1z"}),SOLID_CIRCLE:a.a.createElement("path",{d:"M10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8"}),HOTELS:a.a.createElement("path",{d:"M18.182 8.364h-9.32l-1.7-2.956c-.148-.252-.416-.406-.707-.406h-3.82v-2.47c0-.452-.366-.818-.817-.818S1 2.08 1 2.65V17.38c0 .332.367.7.818.7s.818-.368.818-.82v-1.635h14.727v1.636c0 .45.367.817.818.817s.82-.366.82-.818V9.18c0-.452-.367-.818-.818-.818zM5.985 6.638l.954 1.726H2.635V6.638h3.35zM2.635 10H5.91v3.987H2.635V10zm4.91 0h9.818v3.987H7.545V10z"}),TICKETS:a.a.createElement("path",{d:"M16.667 1.022H12.5v.833c0 .06-.01.198-.04.384-.053.313-.147.625-.29.91-.383.768-1.04 1.205-2.17 1.205S8.213 3.918 7.83 3.15c-.143-.285-.237-.597-.29-.91-.03-.186-.04-.324-.04-.385v-.833H3.333c-.457 0-.833.38-.833.846V18.19c0 .486.403.828.837.828.15 0 .307-.04.45-.134l1.935-1.418 1.603 1.383c.15.114.33.17.51.17.17 0 .338-.05.484-.153L10 17.47l1.682 1.398c.145.102.315.154.485.154.18 0 .36-.057.51-.172l1.6-1.383 1.937 1.418c.144.092.3.133.45.133.434 0 .836-.342.836-.827V1.87c0-.465-.375-.846-.833-.846zm-.834 15.53l-.568-.415-1.075-.788-1.008.87-1.025.885-1.087-.904-1.07-.89-1.07.892-1.087.904-1.027-.886-1.01-.87-1.074.788-.565.412V2.675H5.92v.012l.004.012c.08.37.207.78.414 1.195C6.995 5.21 8.214 6.022 10 6.022s3.005-.813 3.662-2.127c.21-.42.34-.833.417-1.21.002-.012 0 .004 0 .004v-.014h1.753v13.876zM13.333 11.35H6.667c-.46 0-.833.37-.833.828 0 .456.372.827.833.827h6.665c.46 0 .833-.37.833-.827 0-.457-.37-.827-.832-.827zM13.33 8H6.664c-.46 0-.833.37-.833.827 0 .456.373.827.834.827h6.665c.46 0 .832-.37.832-.827 0-.458-.37-.827-.832-.827z"}),THEATERS:a.a.createElement("path",{d:"M18.695 4.19c.222.18.334.462.298.746l-.827 6.617c-.03 2.732-2.262 4.946-5 4.946-.025 0-.05-.004-.075-.004-.396 2.362-2.45 4.17-4.924 4.17-2.738 0-4.97-2.214-5-4.946L2.34 9.103c-.036-.284.078-.565.298-.747.222-.182.524-.235.792-.147.023.007 2.195.718 4.417.783L7.34 4.937c-.036-.284.078-.566.298-.748.222-.183.524-.236.792-.147.024.008 2.408.79 4.737.79s4.712-.78 4.737-.79c.267-.09.57-.036.79.146zM8.167 19c1.66 0 3.028-1.222 3.28-2.81-1.894-.7-3.256-2.508-3.28-4.636l-.112-.892c-1.475-.013-2.922-.285-3.906-.523l.677 5.424c.004.034.007.07.007.103C4.834 17.505 6.328 19 8.167 19zm-.833-5.833c0 .46-.374.833-.834.833-.46 0-.833-.373-.833-.833s.373-.834.833-.834c.46 0 .834.374.834.834zm.833 4.166H6.5c0-.914.753-1.667 1.667-1.667s1.667.752 1.667 1.667H8.167zm8.34-5.936l.677-5.425c-1.007.245-2.503.528-4.017.528-1.513 0-3.01-.283-4.017-.528l.368 2.95.206 1.647.103.827c.004.034.007.07.007.103 0 1.287.742 2.394 1.812 2.95.157.08.32.146.49.203.087.03.173.06.265.083.07.017.14.028.21.042.183.03.367.056.557.056 1.838 0 3.333-1.495 3.333-3.333 0-.034.003-.07.007-.103zm-3.34.103h1.667c0 .914-.753 1.667-1.667 1.667S11.5 12.414 11.5 11.5h1.667zM12.334 9c0 .46-.373.833-.833.833s-.833-.373-.833-.833.373-.833.833-.833.834.373.834.833zm3.333 0c0 .46-.373.833-.833.833S14 9.46 14 9s.373-.833.833-.833.834.373.834.833z"}),CONCERTS:a.a.createElement("path",{d:"M18.62 1.368c-.505-.506-1.325-.506-1.832 0l-.717.718c-.262.262-.38.61-.37.953l-4.86 4.856-.12-2.453c-.02-.424-.333-.776-.75-.846-.414-.064-.83.16-.987.555L7.32 9.312 1.55 11.744c-.38.16-.602.555-.542.962.06.408.39.722.798.765l4.13.434.458 4.3c.043.405.355.732.758.794.047.007.092.01.137.01.355 0 .683-.208.828-.54l2.316-5.308 2.14-.77c.39-.14.635-.527.593-.94-.042-.41-.36-.74-.77-.8l-1.434-.205-.005-.12 6.03-6.03c.33 0 .66-.127.913-.38l.72-.717c.506-.506.506-1.326 0-1.832"}),SPORTS:a.a.createElement("path",{d:"M19.045 5.638c-.374-1.283-2.008-1.185-2.392-.1l-.216.613c-.192.463-.562.474-.89.474-.17 0-.333-.05-.472-.15-.506-.352-1.535-1.118-1.985-1.454-.144-.107-.317-.164-.497-.164h-1.555c-.16 0-.32.038-.45.132-1.076.78-3.58 2.628-7.74 3.41C1.746 8.606 1 9.786 1 11.018c0 1.11.686 2.655 1.805 2.655H3.5v.417c0 .46.375.834.833.834.46 0 .834-.375.834-.834v-.416h1.666v.416c0 .46.375.834.834.834.458 0 .833-.375.833-.834v-.416h1.667v.416c0 .46.375.834.833.834.458 0 .833-.375.833-.834v-.416H16v.416c0 .46.375.834.833.834.46 0 .834-.375.834-.834v-.416h.2c1.944 0 1.415-6.822 1.178-8.036zM3.415 9.994c.792-.28 1.078-.376 2.006-.666l2.68 2.68H3.78c-1.234 0-1.554-1.564-.364-2.014zm7.042 2.013l-3.3-3.3c.436-.176.845-.355 1.226-.535l3.835 3.835h-1.76zm6.9 0h-2.782L9.937 7.37c.605-.345 1.07-.647 1.366-.847h1.014c.555.413 1.357 1.007 1.803 1.32.42.292.913.448 1.427.448.846 0 1.574-.308 2.066-.853.124 1.48.066 3.664-.257 4.57z"}),FACEBOOK:a.a.createElement("path",{d:"M17.117 2H2.883C2.395 2 2 2.395 2 2.883v14.234c0 .488.395.883.883.883h7.663v-6.196H8.46V9.39h2.086V7.607c0-2.067 1.262-3.192 3.106-3.192.883 0 1.642.066 1.863.095v2.16l-1.28.002c-1.002 0-1.196.476-1.196 1.176V9.39h2.39l-.31 2.415h-2.08V18h4.076c.49 0 .884-.395.884-.883V2.883c0-.488-.395-.883-.883-.883z"}),FLICKR:a.a.createElement("g",null,a.a.createElement("circle",{cx:"5.2",cy:"10",r:"4",fill:"#1d75cf"}),a.a.createElement("circle",{cx:"14.8",cy:"10",r:"4",fill:"#fe0084"})),FLICKR_MONOCHROME:a.a.createElement("g",null,a.a.createElement("circle",{cx:"5.2",cy:"10",r:"4"}),a.a.createElement("circle",{cx:"14.8",cy:"10",r:"4"})),TWITTER:a.a.createElement("path",{d:"M18 4.5c-.6.3-1.2.4-1.9.5.7-.4 1.2-1 1.4-1.8-.6.4-1.3.6-2.1.8-.6-.6-1.5-1-2.4-1-1.8 0-3.3 1.5-3.3 3.3 0 .3 0 .5.1.7-2.7-.1-5.1-1.4-6.7-3.4-.3.5-.4 1-.4 1.6 0 1.1.6 2.1 1.5 2.7-.5 0-1-.2-1.5-.4 0 1.6 1.1 2.9 2.6 3.2-.3.1-.6.1-.9.1-.2 0-.4 0-.6-.1.4 1.3 1.6 2.2 3.1 2.3-1.1.9-2.5 1.4-4.1 1.4H2c1.5 1 3.2 1.6 5 1.6 6 0 9.3-5 9.3-9.3v-.4c.7-.5 1.3-1.1 1.7-1.8z"}),LINKEDIN:a.a.createElement("path",{d:"M15.242 15.097h-2.104v-3.405c0-.902-.163-1.44-.914-1.44-.54 0-.946.293-1.215.576v4.27H8.904V8.835h2.104v.836c.365-.396.996-.887 1.878-.887 1.477 0 2.354.952 2.354 2.907v3.405zM6.338 7.935c-.67 0-1.214-.544-1.214-1.214 0-.67.544-1.215 1.214-1.215.672 0 1.215.544 1.215 1.216 0 .67-.543 1.215-1.215 1.215zm1.066 7.162H5.3v-6.26h2.104v6.26zM17.922 2.53c-.053-.12-.117-.217-.195-.295-.078-.078-.17-.137-.273-.176-.105-.04-.222-.06-.35-.06H2.896c-.13 0-.248.02-.35.06-.104.038-.196.097-.274.175-.078.078-.144.176-.195.294-.053.116-.078.227-.078.33v14.28c0 .104.025.215.078.332.05.118.117.215.195.294.078.078.17.137.273.176.104.04.22.058.35.058h14.207c.13 0 .246-.02.35-.058.104-.04.196-.098.274-.176.078-.08.142-.176.195-.294.052-.117.078-.228.078-.332V2.86c0-.103-.026-.214-.078-.33z"}),BASKET:a.a.createElement("path",{d:"M12.51 13.71v-1.636c0-.452.368-.818.82-.818.45 0 .817.367.817.818v1.636c0 .452-.367.818-.818.818-.453 0-.82-.366-.82-.818zm-3.283 0v-1.636c0-.452.367-.818.818-.818.452 0 .82.367.82.818v1.636c0 .452-.368.818-.82.818-.45 0-.818-.366-.818-.818zm-3.272-.014V12.06c0-.452.367-.818.818-.818.452 0 .818.367.818.818v1.636c0 .452-.366.818-.817.818-.452 0-.818-.367-.818-.818zM18.18 8.002h-2.834l-3.03-4.545c-.25-.375-.758-.477-1.134-.227-.376.25-.478.76-.227 1.135l2.424 3.637H6.62l2.423-3.637c.252-.376.15-.884-.226-1.135-.376-.25-.884-.148-1.135.227l-3.03 4.545H1.82c-.45 0-.818.366-.818.818s.367.818.818.818h.21l1.928 6.426c.29.965 1.35 1.936 2.36 1.936h7.37c1.008 0 2.07-.97 2.36-1.936l1.927-6.426h.21c.45 0 .817-.367.817-.818s-.367-.818-.818-.818z"}),CAMERA_FILL:a.a.createElement("path",{d:"M7.59 10.744c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5-2.5 1.12-2.5 2.5zm-1.666 0c0-2.3 1.865-4.167 4.167-4.167s4.168 1.865 4.168 4.167c0 2.3-1.865 4.167-4.167 4.167s-4.166-1.865-4.166-4.166zm.832-6.667v-.833c0-.46-.373-.833-.833-.833h-2.5c-.46 0-.833.374-.833.834v.833h-.833c-.46 0-.833.373-.833.833v11.667c0 .46.373.833.833.833h16.687c.46 0 .812-.373.812-.833V4.91c0-.46-.352-.833-.812-.833H6.756z"}),TAG_FILL:a.a.createElement("path",{d:"M5.9 7.5c-.9 0-1.7-.7-1.7-1.6S5 4.2 5.9 4.2s1.7.8 1.7 1.7-.8 1.6-1.7 1.6zm13 2.2L10.4 1c-.1-.1-.4-.2-.6-.2H1.7c-.5 0-.8.4-.8.8v8.1c0 .2.1.4.3.6l8.6 8.5c.2.2.4.2.6.2.2 0 .4-.1.6-.2l8-8c.2-.2.2-.7-.1-1.1z"}),ADD_CONTACT:a.a.createElement("path",{d:"M15.21 6.875c0 1.496-1.212 2.71-2.71 2.71-1.495 0-2.71-1.214-2.71-2.71s1.215-2.71 2.71-2.71c1.496 0 2.71 1.214 2.71 2.71zm1.847 5.474c-.11-.105-.216-.21-.345-.305-.992-.74-2.51-1.21-4.212-1.21s-3.22.47-4.21 1.21c-.13.095-.237.2-.347.304-.534.503-.86 1.095-.86 1.74v1.328c0 .458.376.834.835.834h9.166c.46 0 .834-.376.834-.834v-1.33c0-.643-.324-1.235-.86-1.74zM7.5 8.437H6.25v-1.25c0-.46-.372-.834-.834-.834s-.834.372-.834.834v1.25h-1.3v.01c-.436.03-.782.382-.782.823s.346.795.78.824v.01h1.302v1.303h.01c.03.434.382.78.824.78s.794-.345.823-.78h.01v-1.302H7.5c.46 0 .834-.372.834-.834S7.96 8.44 7.5 8.44z"}),MONOCHROME_MIXED_CHECKBOX:a.a.createElement("path",{d:"M7 11h6c.552 0 1-.448 1-1 0-.553-.448-1-1-1H7c-.552 0-1 .447-1 1 0 .552.448 1 1 1zM14.5 17h-9C4.122 17 3 15.878 3 14.5v-9C3 4.122 4.122 3 5.5 3h9C15.878 3 17 4.122 17 5.5v9c0 1.378-1.122 2.5-2.5 2.5zm-9-13C4.673 4 4 4.673 4 5.5v9c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-9c0-.827-.673-1.5-1.5-1.5h-9z"}),NOTSPAM:a.a.createElement("path",{d:"M17.023 4.67v.002c-1.3-.09-3.87-.6-6.515-2.978-.143-.13-.326-.194-.507-.194-.182 0-.364.065-.508.195-2.644 2.38-5.216 2.89-6.513 2.978-.412.03-.707.38-.708.792C2.272 14.84 8.55 18 9.732 18.45c.087.035.18.05.272.05.09 0 .177-.014.264-.047 1.18-.437 7.46-3.578 7.46-12.99 0-.413-.294-.76-.705-.792zM10 13.864c-2.135 0-3.864-1.73-3.864-3.863S7.866 6.137 10 6.137 13.86 7.867 13.86 10s-1.73 3.863-3.863 3.863zM7.37 10c0 1.45 1.18 2.627 2.63 2.627.5 0 .962-.147 1.36-.39l-3.597-3.6c-.245.4-.392.863-.392 1.363zM9.998 7.372c-.5 0-.962.148-1.36.392l3.597 3.597c.243-.397.39-.86.39-1.36 0-1.45-1.178-2.628-2.627-2.628z"}),BLOCK_PEOPLE:a.a.createElement("path",{d:"M12.6 10c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zM12.6 11c-4.4 0-6.4 2.5-6.4 4.3V18h13v-2.7c-.1-2.1-2.1-4.3-6.6-4.3zm4.6 5H8v-.7c0-.6 1.1-2.3 4.5-2.3 3 0 4.6 1.2 4.6 2.3v.7zM6.1 10.2L5 9.1 6.1 8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L3.6 7.7 2.5 6.6c-.4-.3-1-.3-1.4 0-.3.4-.3 1 0 1.4l1.1 1.1-1.1 1.1c-.3.4-.3 1 0 1.4.4.4 1 .4 1.4 0l1.1-1.1 1.1 1.1c.4.4 1 .4 1.4 0 .4-.4.4-1 0-1.4z"}),BLOCK_PEOPLE_FILL:a.a.createElement("path",{d:"M16.1 6c0 1.8-1.5 3.2-3.2 3.2-1.8 0-3.2-1.5-3.2-3.2s1.5-3.2 3.2-3.2c1.8-.1 3.2 1.4 3.2 3.2zm2.3 6.6c.6.6 1 1.3 1 2.1v1.6c0 .5-.4 1-1 1h-11c-.6 0-1-.5-1-1v-1.6c0-.8.4-1.5 1-2.1l.4-.4c1.2-.9 3-1.5 5.1-1.5s3.9.6 5.1 1.5l.4.4zM4.8 8.9L5.9 10c.4.4.4 1 0 1.4-.4.4-1 .4-1.4 0l-1.1-1.1-1.1 1.1c-.4.3-1 .3-1.4 0s-.4-1 0-1.4L2 8.9.9 7.8c-.3-.4-.3-1 0-1.4s1-.4 1.4 0l1.1 1.1 1.1-1.1c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4L4.8 8.9z"}),PHONE:a.a.createElement("path",{d:"M18.8 16.5c.3-.4.3-.9-.1-1.2L14.2 12c-.2-.2-.5-.2-.8-.1l-3.1 1c-.6-.5-1.2-1-1.8-1.6-.4-.5-1-1.1-1.5-1.7l1-3.1c.2-.3.1-.5 0-.8L4.7 1.3c-.3-.4-.8-.4-1.2-.1L1.6 3.1C-.1 4.7 2 9.5 6.3 13.7c4.2 4.2 9 6.4 10.6 4.7l1.9-1.9z"}),COMMENT_FILL:a.a.createElement("path",{d:"M4.4 1.1h11.2c1.8 0 3.3 1.5 3.3 3.2v8.1c0 1.8-1.5 3.2-3.3 3.2H5.8l-3.4 3c-.2.1-.4.2-.6.2-.1 0-.2 0-.3-.1-.3-.1-.5-.4-.5-.7V4.3c.1-1.8 1.6-3.2 3.4-3.2zm9.7 4.8H6c-.4 0-.8.4-.8.8s.3.9.8.9h8.1c.4 0 .8-.4.8-.8s-.4-.9-.8-.9zM6 9.2c-.4 0-.8.4-.8.8s.4.8.8.8h8.1c.4 0 .8-.4.8-.8s-.4-.8-.8-.8H6z"}),CONVERSATIONS_FILL:a.a.createElement("path",{d:"M14.8 9.2V4.4c0-1.8-1.4-3.2-3.2-3.2H4.5c-1.8 0-3.2 1.4-3.2 3.2v9.3c0 .4.2.7.5.9.1 0 .2.1.4.1s.4-.1.6-.2l2.3-2.2h6.5c1.8.1 3.2-1.4 3.2-3.1zM5.3 4.4h5.6c.4 0 .8.4.8.8s-.4.8-.9.8H5.3c-.5 0-.8-.4-.8-.8s.3-.8.8-.8zm5.5 4.8H5.3c-.4 0-.8-.4-.8-.8s.4-.8.8-.8h5.6c.4 0 .8.4.8.8-.1.4-.4.8-.9.8zM16.4 5.3v3.9c0 2.6-2.1 4.8-4.8 4.8H5.7l-.3.2c.4 1.2 1.6 2.1 3 2.1h6.5l2.3 2.2c.2.2.4.2.6.2.2 0 .3-.1.4-.1.3-.2.5-.5.5-.9V8.4c.1-1.5-1-2.7-2.3-3.1z"})};class u extends a.a.Component{shouldComponentUpdate(e){return e.ariaLabel!==this.props.ariaLabel||e.colorState!==this.props.colorState||e.size!==this.props.size||e.rotate!==this.props.rotate||e.kind!==this.props.kind}render(){const e=this.props,{colorState:t,size:s,rotate:n,allowPointerEvents:r,ariaLabel:i,kind:l,flipRTL:u}=e,m=babelHelpers.objectWithoutProperties(e,["colorState","size","rotate","allowPointerEvents","ariaLabel","kind","flipRTL"]),p=c()(o.a,{colorState:t,size:s,rotate:n,allowPointerEvents:r,flipRTL:u});let _=p.icon;return u&&(_+=" "+p.rtlRawScaleX),a.a.createElement("svg",babelHelpers.extends({"aria-label":i,viewBox:"0 0 20 20",className:_},m),d[l])}}u.defaultProps={colorState:l.a.NORMAL,size:l.d.S},t.b=u;const m=d},function(e,t,s){"use strict";s.d(t,"z",function(){return A}),s.d(t,"B",function(){return T}),s.d(t,"A",function(){return C}),s.d(t,"D",function(){return O}),s.d(t,"x",function(){return R}),s.d(t,"m",function(){return N}),s.d(t,"o",function(){return M}),s.d(t,"n",function(){return D}),s.d(t,"q",function(){return y}),s.d(t,"i",function(){return L}),s.d(t,"p",function(){return v}),s.d(t,"k",function(){return P}),s.d(t,"r",function(){return F}),s.d(t,"c",function(){return x}),s.d(t,"d",function(){return w}),s.d(t,"s",function(){return H}),s.d(t,"t",function(){return U}),s.d(t,"v",function(){return j}),s.d(t,"l",function(){return G}),s.d(t,"b",function(){return B}),s.d(t,"j",function(){return V}),s.d(t,"w",function(){return W}),s.d(t,"u",function(){return q}),s.d(t,"h",function(){return z}),s.d(t,"f",function(){return Z}),s.d(t,"g",function(){return K}),s.d(t,"a",function(){return Y}),s.d(t,"e",function(){return X}),s.d(t,"y",function(){return $}),s.d(t,"C",function(){return Q});var n=s(207),a=s(44),r=s.n(a),o=s(32),i=s.n(o),c=s(7),l=s(0),d=s(70),u=s(349),m=s.n(u),p=s(19),_=s(223),h=s.n(_),E=s(47),g=s(54),b=s(8),I=s(185),f=s.n(I);function S(e){const t=[],s=m()(e,t);return{match:e=>{const n=s.exec(e);if(!n)return null;const a=n.slice(1);return t.reduce((e,t,s)=>a[s]?babelHelpers.extends({},e,{[t.name]:decodeURIComponent(a[s])}):e,{})},stringify:m.a.compile(e)}}const A=h()(e=>e.map(e=>{const t=e.path;return Object(p.a)(e.name&&t,"config.routes should be in this format [{route.name: routePattern}]"),babelHelpers.extends({},e,{pattern:S(t)})}));function T(e,t={}){const{pathname:s,query:a}=Object(n.parse)(e),o=babelHelpers.extends({},t,r.a.parse(a)),i=r.a.stringify(o);return i?s+"?"+i:s}function C(e,t={},s){const n=babelHelpers.extends({},s,t.query),a=e.find(e=>e.name===t.name);if(!a)return{query:{}};const r=a.pattern.stringify(t.params||{},{pretty:!0});return{name:t.name,params:t.params||{},query:n,url:T(r,n)}}const O=(e={},t={})=>e===t||e.name===t.name&&i()(e.params,t.params)&&i()(e.query,t.query);function R(e,t={}){const s=Object(c.Q)(e,t),n=Object(c.R)(s);return n?{name:l.Uc.LIST,params:{serializedListId:n}}:null}function N(e,t={}){return Object(c.H)(e)?H(e,t):P(e,t)}function M(e,t,s={}){const n=Object(c.R)(e);return Object(c.F)(e)||Object(c.A)(e)?{name:l.Uc.MESSAGE_FROM_LIST,params:Object.assign({serializedListId:n,groupId:t}),query:s}:Object(c.H)(e)?{name:l.Uc.MESSAGE_FROM_SEARCH_LIST,params:Object.assign({query:n,groupId:t}),query:s}:{name:l.Uc.MESSAGE_FROM_FOLDER_LIST,params:Object.assign({fid:n,groupId:t}),query:s}}function D({attachment:e,listId:t,isConversationMode:s}){const n=s?e.conversationId:e.id&&Object(E.f)(e.id);return n?{name:l.Uc.MESSAGE_FROM_SEARCH_LIST,params:{groupId:n,query:Object(c.S)(t)}}:null}function y({groupId:e,listId:t}){return e?{name:l.Uc.MESSAGE_FROM_SEARCH_LIST,params:{groupId:e,query:Object(c.S)(t)}}:null}function L(e,t,s={}){return{name:l.Uc.EDIT_DRAFT,params:{csid:t,serializedListId:Object(c.R)(e)},query:s}}function v({item:e,listId:t,isConversationMode:s}){if(Object(c.q)(t)===l.Fb.MESSAGES){if(e.messages&&1===e.messages.length&&Object(g.i)(e))return L(t,e.messages[0].csid);const n=Object(c.H)(t),a=Object(c.R)(t),r=n&&s?Object(b.a)(e,"messages.0.conversationId"):e.id;return r&&a?M(t,r):null}return D({attachment:e.attachment,listId:t,isConversationMode:s})}function P(e,t={}){const s=Object(c.Q)(e,t),n=Object(c.R)(s);return n?{name:l.Uc.FOLDER,params:{fid:n}}:null}function F(e,t,s={}){return{name:l.Uc.PHOTO,params:Object.assign({query:Object(c.R)(e),attachmentId:t}),query:s}}function x(e,t,s,n={}){const a=Object(c.R)(e);return Object(c.H)(e)?{name:l.Uc.MESSAGE_FROM_SEARCH_LIST,params:Object.assign({query:a,groupId:t,attachmentId:s}),query:n}:{name:l.Uc.MESSAGE_FROM_FOLDER_LIST,params:Object.assign({fid:a,groupId:t,attachmentId:s}),query:n}}function w(e,t,s={}){return babelHelpers.extends({},e,{params:babelHelpers.extends({},e.params,{attachmentId:t}),query:babelHelpers.extends({},e.query,s)})}const k=e=>({name:l.Uc.LIST,params:{serializedListId:Object(c.S)(e)}});function H(e,t={}){const s=Object(c.Q)(e,t);if(Object(c.F)(s)||Object(c.A)(s))return k(s);const n=Object(c.S)(s);return n?{name:l.Uc.SEARCH,params:{query:n}}:null}function U(e){return H(Object(c.d)(e))}function j(e,t){return e===l.zd.TUTORIAL?function(){return{name:l.Uc.TUTORIAL}}():U(Object(d.b)(e,t))}function G(e,t){const s={listContentType:l.Fb.OFFER_CARDS,referrer:l.Hb[l.zd.GROCERIES],listFilter:l.Gb.RECOMMENDED_OFFER_CARDS,name:e,keyword:t},n=Object(c.Q)(Object(c.d)(s));return k(n)}function B(e){const t={listContentType:l.Fb.OFFER_CARDS,referrer:l.Hb[l.zd.GROCERIES],listFilter:l.Gb.ACTIVATED_OFFER_CARDS,name:e},s=Object(c.Q)(Object(c.d)(t));return k(s)}const V=(e,t)=>P(Object(c.s)(e,t)),W=(e,t)=>({name:l.Uc.SPONSORED_MESSAGE,params:{fid:Object(c.R)(e),creativeId:t}});function q(e={},t){return babelHelpers.extends({name:l.Uc.SETTINGS,params:e},t?{query:t}:{})}function z(e={}){return{name:l.Uc.CONTACTS,query:e}}function Z(e={}){return{name:l.Uc.CONTACT_DETAILS,params:e}}function K(e,t){return{name:l.Uc.CONTACT_DETAILS_FROM_SEARCH,params:{query:Object(c.S)(e),email:t}}}function Y(e={}){return{name:l.Uc.ACCOUNT_LIST_FROM_SETTINGS,params:e}}function X(e,t={}){return{name:l.Uc.NEW_DRAFT,params:{csid:e},query:t}}function $(e={},t){const s=t&&t===l.r.BASIC_MAIL_APP?l.v:l.jb;return Object.keys(e.query||{}).filter(e=>-1===s.indexOf(e)).reduce((t,s)=>babelHelpers.extends({},t,{[s]:e.query[s]}),{})}function Q(e=[],t=(()=>!0)){const[s,n]=f()(e,e=>t(e));return[...s,...n]}},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(505),c=s.n(i),l=s(11),d=s.n(l),u=s(30),m=(s(8),s(101)),p=s.n(m);const{THEMED_LIKE_COMPSOE_BUTTON:_,PRIMARY:h,DANGER:E,SECONDARY:g}=u.a,b=[h,g,E,_],I=[_];class f extends o.a.Component{constructor(...e){var t;return t=super(...e),this.keyboardClick=(e=>{/^( |Enter)$/.test(e.key)&&(e.preventDefault(),e.stopPropagation(),this.props.onClick(e))}),t}componentWillMount(){if(I.indexOf(this.props.kind)>=0&&!this.context.getTheme)throw new Error("context.getTheme() is required for theme related button kind")}render(){const e=this.props,{kind:t,disabled:s,paddingLess:n,marginLess:a,onClick:r,children:i,isOnDarkBackground:l,overridingClass:u}=e,m=babelHelpers.objectWithoutProperties(e,["kind","disabled","paddingLess","marginLess","onClick","children","isOnDarkBackground","overridingClass"]),E=d()(c.a,babelHelpers.extends({decorated:b.indexOf(t)>=0,kind:t,disabled:s,paddingLess:n,marginLess:a,isOnDarkBackground:l,primaryHover:`${t===h}_${s}`},t===_?{[`${_}_${this.context.getTheme()}`]:!0}:{}));return o.a.createElement("button",babelHelpers.extends({tabIndex:-1,disabled:Boolean(s),className:u?p()(E.button,u):E.button,onKeyDown:r&&this.keyboardClick,onClick:r,type:"button"},m),i)}}f.contextTypes={getTheme:a.a.func},f.defaultProps={kind:u.a.PRIMARY,disabled:!1,paddingLess:!1,marginLess:!1,isOnDarkBackground:!1},t.a=f},function(e,t){e.exports={rgba:function(e,t){var s=0,n=[0,0,0,t];if(4!==e.length&&7!==e.length)throw new Error('The hex string has have length of 4 or 7 including the "#". We got: '+e);for(4===e.length&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),s=0;s<3;s++)n[s]=parseInt(e.slice(2*s+1,2*s+3),16);return"rgba("+n.join(", ")+")"}}},function(e,t,s){"use strict";t.a=function(e,t){if(!e){const e=new Error(t);throw e.name="Invariant",e}return e}},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r);var i=class extends o.a.Component{render(){return null}},c=s(36),l=s.n(c),d=s(64),u=s(13),m=s(9);class p extends r.Component{constructor(e){super(e);const t=this.props._moduleResolver(),n=!!s.m[t],a=this._interopRequireDefault(n?s(t):null);this.state={LoadedComponent:a,loaded:n,failed:!1}}_updateLoadedState(e){const{onModuleLoadFailure:t,bundleName:s="lazy_group_1"}=this.props,n=d.a.feature("lazy_component",{bundleName:s});e.then(e=>{this._isMounted&&(n.logSuccessAndLatency(),this.setState({loaded:!0,failed:!1,LoadedComponent:e.default?e.default:e}))}).catch(e=>{n.logFailure(),t&&t(e),this.setState({loaded:!0,failed:!0})})}componentWillReceiveProps(e){this.state.failed&&(this.props.isOffline&&!e.isOffline)&&this.load()}componentDidMount(){if(this._isMounted=!0,!this.state.loaded)if(this.props.defer){const e=()=>{window.requestIdleCallback?window.requestIdleCallback(()=>this.load()):setTimeout(()=>this.load())};"complete"===document.readyState?e():window.addEventListener("load",e)}else this.load()}componentWillUnmount(){this._isMounted=!1}load(){this._updateLoadedState(this.props._moduleLoader())}_interopRequireDefault(e){return e&&e.__esModule?e.default:e}render(){const e=r.Children.toArray(this.props.children);if(!this.state.loaded)return b(e.find(_));if(this.state.failed){let t=null;return this.props.isOffline&&(t=e.find(E)),b(t||e.find(h))}const t=this.state.LoadedComponent,s=l()(this.props,["import","defer","onModuleLoadFailure","_moduleLoader","_moduleResolver","isOffline","bundleName","children"]);return o.a.createElement(t,s,e.filter(g))}}function _(e){return e.props.loading}function h(e){return e.props.failed}function E(e){return e.props.offline}function g(e){return e.type!==i}function b(e){return e&&e.props.children?r.Children.only(e.props.children):null}var I=Object(u.b)(e=>{const{isOnline:t}=Object(m.b)(e);return{isOffline:!t()}})(p),f=s(17),S=s(30);class A extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(e=>{e.preventDefault(),this.context.retry()}),t}render(){return o.a.createElement(f.a,{kind:S.a.CHROMELESS,onClick:this.handleClick},this.props.children)}}A.contextTypes={retry:a.a.func};s.d(t,"a",function(){return I}),s.d(t,"b",function(){return i})},function(e,t,s){"use strict";var n=s(99),a=s.n(n),r=s(488),o=s.n(r),i=s(64),c=s(8),l=s(14),d=s(24);const u=Object(c.c)(["RETRIED","SUCCESS","FAIL"]);var m=function(e){return function(t){return t._originalEnd=t._end,t._originalShouldRetry=t._shouldRetry,t._end=(()=>{const e=t._retries;return e>0&&(t.url=Object(d.c)(t.url,{retries:e})),t._originalEnd()}),t._shouldRetry=((s,n)=>{const a=t._originalShouldRetry(s,n),r=t._retries,o=n&&n.status||"N/A",c=Object(l.j)(t.url,"ymreqid")||"";let d=s&&s.code||(200!==o?"NOT_OK_STATUS":"N/A");if(s&&s.crossDomain&&(d="OUTBOUND"),1===r&&a&&(i.a.error("superagent_retry",{apiName:e,ymreqid:c,errorCode:d,statusCode:o,state:u.RETRIED}),t.retryErrorCode=d,t.retryStatusCode=o),2===r){const{retryErrorCode:n="",retryStatusCode:a=""}=t;i.a.error("superagent_retry",s||200!==o?{apiName:e,ymreqid:c,errorCode:d,statusCode:o,retryErrorCode:n,retryStatusCode:a,state:u.FAIL}:{apiName:e,ymreqid:c,retryErrorCode:n,retryStatusCode:a,state:u.SUCCESS})}return a}),t}},p=s(35),_=s(34);const h=/<!-- status code : (\d{3}) -->\n<!-- ([\s\S]*?) -->\n<!-- host machine: ([\s\S]*?) -->/,E={400:"BAD_REQUEST",404:"NOT_FOUND",413:"PAYLOAD_TOO_LARGE",500:"INTERNAL_SERVER_ERROR",502:"BAD_GATEWAY",503:"SERVICE_UNAVAILABLE",504:"GATEWAY_TIMEOUT"};function g(e,t,s){let n=null;return n||(n=function(e){if(e&&e.crossDomain){const{message:t,status:s}=e,n=!Object(d.b)()||navigator.onLine;return new p.a("HttpTransport.OutboundError",t,{errorCode:"OUTBOUND",statusCode:s,isOnline:n})}}(e)),n||(n=function(e){if(e&&"ENOTFOUND"===e.code)return new p.a("HttpTransport.ServerNotFound",e.message,{errorCode:e.code})}(e)),n||(n=function(e){if(e&&"ECONNREFUSED"===e.code)return new p.a("HttpTransport.ConnectionRefused",e.message,{errorCode:e.code})}(e)),n||(n=function(e){if(e&&"ECONNRESET"===e.code)return new p.a("HttpTransport.ConnectionReset",e.message,{errorCode:e.code})}(e)),n||(n=function(e){if(e&&"ECONNABORTED"===e.code)return new p.a("HttpTransport.ConnectionTimedOut",e.message,{errorCode:e.code})}(e)),n||(n=function(e){if(e&&(e.parse||"SyntaxError"===e.name))return new p.a("HttpTransport.ParseError",e.message,{statusCode:e.statusCode,errorCode:"SyntaxError"===e.name?"SyntaxError":"ParseError",responseText:e.rawResponse})}(e)),n||(n=function(e){const t=e&&e.status;if(403===t){let s;const n=Object(c.a)(e,"type","");try{s="text/html"===n&&e.text?JSON.parse(e.text):Object(c.a)(e,"body",{})}catch(e){s={}}const a=Object(c.a)(s,"name","");if(a===_.c)return new p.a(_.c,{data:s.data||"",errorCode:"CRUMB",statusCode:t})}}(t)),n||(n=function(e){if(e&&200!==e.status){const{text:t="",status:s,body:n}=e;let a="NOT_OK_STATUS";s>=400&&(h.test(t)?a="YCPI":E.hasOwnProperty(s)&&(a=E[s]));const r={responseText:t,body:n,errorCode:a,statusCode:s};return new p.a("HttpTransport.NotOkStatusCode",r)}}(t)),n||(n=function(e,t){const s=t&&t.header&&(t.header.Accept||t.header.accept||""),n=e&&e.type||"";if(s&&n&&n.toLowerCase().indexOf(s.toLowerCase())<0)return new p.a("HttpTransport.ContentTypeError",`request:${s}-response:${n}`,{errorCode:"CONTENT_TYPE_MISSMATCH",statusCode:e.status,html:e.text,headers:e.headers})}(t,s)),n||(n=function(e,t){if(e||!t)return new p.a("GenericError",e&&`${e.name}: ${e.message}`||"")}(e,t)),n}var b=function(e){return btoa(unescape(encodeURIComponent(e)))};const I=["get","head"],f=3e4;class S{send(e){return new Promise((t,s)=>{const n=this._getRequest(e);n.end((e,a)=>{const r=g(e,a,n);if(r)return s(r);t(this._mapResponse(a))})})}_getRequest({method:e,url:t,body:s,withCredentials:n,headers:a,fields:r,attachments:i,parser:c,timeout:l=f,httpRetry:d=0,shouldRetry:u=(()=>{}),apiName:p="",uploadProgressCallback:_}){const h=o.a[this._getMethodName(e)](t);return this._setBody(h,e,s),n&&h.withCredentials(),this._setHeaders(h,a),this._setFields(h,r),this._setAttachments(h,i),this._setParser(h,c),this._setRetry(h,d,u),this._setUploadProgressCallback(h,_),l&&h.timeout(l),p&&h.use(m(p)),h}_getMethodName(e){return"delete"===(e=e.toLowerCase())&&(e="del"),e}_mapResponse(e){return{body:e.body,text:e.text,status:e.status,headers:e.headers}}_setBody(e,t,s){~I.indexOf(this._getMethodName(t))?e.query(s):e.send(s)}_setHeaders(e,t){t&&Object.keys(t).forEach(s=>{e.unset(s),e.set(s,t[s])})}_setFields(e,t){t&&Object.keys(t).forEach(s=>{e.field(s,t[s])})}_setAttachments(e,t){t&&Object.keys(t).forEach(s=>{const n=b(t[s].name);e.attach(s,t[s],`=?UTF-8?b?${n}?=`)})}_setParser(e,t){t&&e.parse(function(e,s){e.text="",e.on("data",function(t){e.text+=t}),e.on("end",function(){t(e.text,s)})})}_setRetry(e,t,s){e.retry(t,s)}_setUploadProgressCallback(e,t){t&&e.on("progress",t)}}class A extends S{createStream(e){const t=this._getRequest(e),s=a()();let n=!1;if("undefined"!=typeof window&&window.AppBootstrapData){const{browserName:e,browserVersion:t}=window.AppBootstrapData;n="Edge"===e&&15===parseInt(t,10)}return t.on("progress",e=>{n||s.emit("data",e.currentTarget.responseText)}),t.end((e,a)=>{const r=g(e,a,t);r?setTimeout(()=>{s.emit("error",r)},0):setTimeout(()=>{n&&s.emit("data",a.text),s.emit("end")},0)}),s}}var T=s(19),C=s(333),O=s.n(C);s.d(t,"a",function(){return R});const R=Object(c.c)(["GET","HEAD","POST","PUT","PATCH","DELETE"]),N=new O.a;function M(e,t,s={}){const{uploadProgressCallback:n,timeout:a=f,httpRetry:r=0,shouldRetry:o=(()=>{}),apiName:i=""}=s;this.adapter=new A,this.withCredentials=!1,this._method=e.toUpperCase(),Object(T.a)(R[this._method],"Invalid HTTP method. Valid options are: "+JSON.stringify(Object.keys(R))),this._timeout=a,this._url=t,this._headers={},this._fields={},this._attachments={},this._body=null,this._httpRetry=r,this._shouldRetry=o,this._apiName=i,this._uploadProgressCallback=n}M.prototype.setHeader=function(e,t){return this._headers[e]=t,this},M.prototype.setCookieHeader=function(e){Object(T.a)(e,"Cookie should not be empty"),this.setHeader("Cookie",e)},M.prototype.setField=function(e,t){return this._fields[e]=t,this},M.prototype.setAttachment=function(e,t){return this._attachments[e]=t,this},M.prototype.setParser=function(e){return this._parser=e,this},M.prototype.setRetry=function(e){return this._httpRetry=e,this},M.prototype.send=function(e){e&&(this._body=e);const t=this.adapter.send({withCredentials:!!this.withCredentials,method:this._method,url:this._url,headers:this._headers,fields:this._fields,attachments:this._attachments,parser:this._parser,body:this._body,timeout:this._timeout,httpRetry:this._httpRetry,shouldRetry:this._shouldRetry,apiName:this._apiName,uploadProgressCallback:this._uploadProgressCallback});return t.then(()=>{N.emit("success")},e=>{e.url=this._url,N.emit("error",e)}),t},M.prototype.createStream=function(e){e&&(this._body=e);const t=this.adapter.createStream({withCredentials:!!this.withCredentials,method:this._method,url:this._url,headers:this._headers,fields:this._fields,attachments:this._attachments,parser:this._parser,body:this._body,timeout:this._timeout});return t.on("error",e=>N.emit("error",e)),t},M.on=function(...e){N.on(...e)},M.off=function(...e){N.off(...e)},M.emit=function(...e){N.emit(...e)};t.b=M},function(e,t,s){"use strict";s.d(t,"a",function(){return h});s(6);var n=s(1),a=s.n(n),r=s(15),o=s(17),i=s(506),c=s.n(i),l=s(11),d=s.n(l),u=s(101),m=s.n(u);const p=/^(kind|colorState|size|rotate)$/,_=/^(?:(?:disabled|paddingLess|role|title)$|data-|aria-|on)/;function h(e){const t={},s=d()(c.a,{size:e.size,paddingLess:e.paddingLess,isOnDarkBackground:e.isOnDarkBackground,isCompact:e.isCompact,disabled:e.disabled}),n={"data-test-id":e["data-test-id"]||"icon-btn-"+e.kind.toLowerCase(),"data-iskeynav":e["data-iskeynav"],id:e.id,className:s.button};return Object.keys(e).forEach(s=>{p.test(s)?t[s]=e[s]:_.test(s)?n[s]=e[s]:"className"===s&&(n[s]=m()(n.className,e[s]))}),a.a.createElement(o.a,n,a.a.createElement("span",{className:s.content},a.a.createElement(r.b,t),e.children?a.a.createElement("span",{className:s.label},e.children):null))}h.defaultProps={isOnDarkBackground:!1}},function(e,t,s){"use strict";s.r(t),s.d(t,"Fonts",function(){return r}),s.d(t,"FontSizes",function(){return o}),s.d(t,"NO_STATIONERY",function(){return i}),s.d(t,"STATIONERY_MIN_WIDTH",function(){return c}),s.d(t,"ToolbarActions",function(){return l}),s.d(t,"FocusableRefs",function(){return d}),s.d(t,"KeyCodes",function(){return u}),s.d(t,"RTEKeyModifier",function(){return m}),s.d(t,"EditorTypes",function(){return p}),s.d(t,"ToolbarTypes",function(){return _}),s.d(t,"PreviewTypes",function(){return h}),s.d(t,"TOOLBAR_HEIGHT",function(){return E}),s.d(t,"HORIZONTAL_PADDING",function(){return g}),s.d(t,"FORMAT_DATE_OPTION",function(){return b}),s.d(t,"IMAGE_OVERLAY_INITIAL_LEFT",function(){return I}),s.d(t,"CURRENT_IMAGE_SIZE_STATUS",function(){return f}),s.d(t,"RTEHoverOverlayTypes",function(){return S}),s.d(t,"INLINE_IMAGE_PLUGIN_CLASSES",function(){return A}),s.d(t,"INLINE_IMAGE_PLUGIN_SIZE",function(){return T}),s.d(t,"HYPERLINK_PLUGIN_IGNORE_CLASS",function(){return C}),s.d(t,"COMPOSE_MIN_WIDTH",function(){return O}),s.d(t,"OutlookSupportHTMLAttributes",function(){return R}),s.d(t,"OutlookSupportHTMLHeadContent",function(){return N}),s.d(t,"EDITOR_EVENTS",function(){return M}),s.d(t,"DELETE_CONTACT",function(){return v}),s.d(t,"INLINE_IMAGE_SELECTOR",function(){return P}),s.d(t,"STATIONERY_BODY_SELECTOR",function(){return F}),s.d(t,"LINK_EHANCER_CARD_SELECTOR",function(){return x}),s.d(t,"HIDE_SELECTION_CLASS",function(){return w}),s.d(t,"IMAGE_STATUS",function(){return k});var n=s(8),a=s(71);const r=a.e,o=a.d,i="no_stationery",c=480,l={FILE_SELECT:"fileselect",SEND:"send",DELETE_DRAFT:"delete_draft",UPDATE_STATIONERY:"update_stationery",CREATE_LINK:"createlink",PLAIN_TEXT:"plaintext",RICH_TEXT:"richtext"},d=a.a,u={SEMICOLON:59,FF_SEMICOLON:186,FF_COMMA:188,COMMA:44,BREAK:13,SPACE:32,TAB:9},m={NO_MODIFIER:1,ALT:1,SHIFT:2,SPECIAL:4,NONSPECIAL:8},p=Object(n.c)(["MESSAGE","COMPOSE","VACATION_RESPONSE_SETTINGS"]),_=Object(n.c)(["MESSAGE","COMPOSE","VACATION_RESPONSE_SETTINGS"]),h=Object(n.c)(["MESSAGE","VACATION_RESPONSE"]),E=70,g=72,b={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"},I="-5000px",f=Object(n.c)(["LARGE","SMALL"]),S=Object(n.c)(["IMAGE","LINK_ENHANCER_CARD"]),A={GIF_WRAPPER_CLASS:"yahoo-gif-wrapper",INLINE_IMAGE_CLASS:"yahoo-inline-image",IMAGE_OVERLAY_CLASS:"yahoo-inline-img-overlay",ONLINE_GIF_CLASS:"yahoo-online-gif",EMOJI_WRAPPER_CLASS:"yahoo-emoji-wrapper",IGNORE_CLASS:"yahoo-ignore-inline-image"},T={IMAGE_SMALL_WIDTH:400,IMAGE_BIG_WIDTH:800,TINY_IMAGE_WIDTH:100,IMAGE_BIG_PERCENTAGE:"100%",IMAGE_SMALL_PERCENTAGE:"50%"},C="yahoo-ignore-hyperlink",O=670,R=['xmlns="http://www.w3.org/1999/xhtml"','xmlns:v="urn:schemas-microsoft-com:vml"','xmlns:o="urn:schemas-microsoft-com:office:office"'].join(" "),N="\x3c!--[if gte mso 9]><xml><o:OfficeDocumentSettings><o:AllowPNG/><o:PixelsPerInch>96</o:PixelsPerInch></o:OfficeDocumentSettings></xml><![endif]--\x3e",M=Object(n.c)(["emoji_inserted","gif_inserted","gif_removed","gif_resized","inline_attachment_inserted","inline_image_removed","inline_image_resized","inline_to_non_inline_attachment","stationery_cleared","default_stationery_cleared","link_enhancer_card_removed","link_enhancer_card_size_changed","link_enhancer_card_added","link_enhancer_card_moved"]),{INLINE_IMAGE_CLASS:D,ONLINE_GIF_CLASS:y,IGNORE_CLASS:L}=A,v="delete-contact",P=`img[class*="${D}"]:not([class*="${y}"]):not([class*="${L}"])`,F='[id$="middleBody"]',x='div[class*="yahoo-link-enhancr-card"]',w="hide-selection",k={loading:"yahoo-loading"}},function(e,t,s){"use strict";s.d(t,"b",function(){return c}),s.d(t,"d",function(){return l}),s.d(t,"c",function(){return d}),s.d(t,"e",function(){return u}),s.d(t,"h",function(){return m}),s.d(t,"g",function(){return p}),s.d(t,"f",function(){return _}),s.d(t,"a",function(){return h});var n=s(0),a=s(8),r=s(207),o=s(44),i=s.n(o);function c(){return"undefined"!=typeof window}function l(e){if(c())return new Promise(t=>{const s=new Image;s.src=e,s.onload=(()=>{t()})})}function d(e,t={}){if(!e)return e;const{protocol:s,host:n,pathname:a,query:o,hash:c}=Object(r.parse)(e),l=babelHelpers.extends({},i.a.parse(o),t),d=i.a.stringify(l);let u="";return s&&(u=s+"//"),n&&(u+=n),a&&(u+=a),d&&(u=u+"?"+d),c&&(u+=c),u}function u(e){const{partner:t="",reason:s="unkown"}=e||{},a=window.location.port;let r=window.location.protocol+"//"+window.location.hostname;a&&(r+=":"+a),r+=n.ee+"?reason="+s,"ycorp"===t&&(r+="&.partner=ycorp"),window.location.replace(r)}function m(){return c()&&"function"==typeof Object(a.a)(window,"DataTransfer.prototype.setDragImage")}function p(e){if(!c())return;const t=Object(a.a)(window,"AppBootstrapData.browserName");t&&t.toLowerCase().indexOf("safari")>=0||(e.style.position="fixed",e.style.top="-1000px",e.style.left="-1000px")}function _(e,t){return m()&&(t||((t=document.createElement("img")).src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",document.body.appendChild(t)),e.setDragImage(t,0,0)),t}function h(e){e&&document.body.removeChild(e)}},function(e,t,s){"use strict";s.d(t,"d",function(){return c}),s.d(t,"h",function(){return l}),s.d(t,"b",function(){return d}),s.d(t,"g",function(){return u}),s.d(t,"a",function(){return m}),s.d(t,"e",function(){return p}),s.d(t,"c",function(){return _}),s.d(t,"f",function(){return h}),s.d(t,"j",function(){return E}),s.d(t,"m",function(){return g}),s.d(t,"k",function(){return b}),s.d(t,"l",function(){return I}),s.d(t,"i",function(){return f});var n=s(10),a=s(8),r=s(18);const o={NIGHT_LANDSCAPE:{IMAGE:"/img/night_landscape.jpg",BG_BACKGROUND_COLOR:"#1d1f39",BACKGROUND_COLOR:"#1d1f39",BACKGROUND_SIZE:"100% auto",BACKGROUND_REPEAT:"no-repeat",MAX_BACKGROUND_SIZE:"100% auto",GRADIENT_COLOR_1:"#8DA4EC",GRADIENT_COLOR_2:"#8DA4EC",GRADIENT_COLOR_3:"#8DA4EC",HIGHLIGHT:"#8DA4EC",COMPOSE_BUTTON_COLOR:"#8DA4EC",SEGMENT_BORDER_COLOR:Object(r.rgba)("#8DA4EC",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#8DA4EC",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#8DA4EC",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#8DA4EC",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#8DA4EC",.16),FOLDER_ACTIVED_BORDER:"2px solid #8DA4EC",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#8DA4EC",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#8DA4EC",.16),OPACITY_MASK_COLOR:"#111222",PREVIEWR_TOOLBAR_COLOR:Object(r.rgba)("#111222",.3),CLIP_BUTTON_COLOR:"#8DA4EC"},ROADTRIP:{IMAGE:"/img/roadtrip.jpg",BACKGROUND_REPEAT_IMAGE:"/img/roadtrip_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"349px auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#be8f85",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#d9aa76",GRADIENT_COLOR_2:"#d9aa76",GRADIENT_COLOR_3:"#d9aa76",HIGHLIGHT:"#d9aa76",COMPOSE_BUTTON_COLOR:"#d9aa76",SEGMENT_BORDER_COLOR:Object(r.rgba)("#d9aa76",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#d9aa76",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#d9aa76",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#d9aa76",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#d9aa76",.16),FOLDER_ACTIVED_BORDER:"2px solid #d9aa76",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#d9aa76",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#d9aa76",.16),OPACITY_MASK_COLOR:n.ROADTRIP_PHOTO_THEME_BROWN,PREVIEWR_TOOLBAR_COLOR:Object(r.rgba)(n.ROADTRIP_PHOTO_THEME_BROWN,.3),CLIP_BUTTON_COLOR:"#d9aa76"},SUNSET_AUSSIE:{IMAGE:"/img/sunset_aussie.jpg",BACKGROUND_REPEAT_IMAGE:"/img/sunset_aussie_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#5B3B3E",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#ef8f4e",GRADIENT_COLOR_2:"#ef8f4e",GRADIENT_COLOR_3:"#ef8f4e",HIGHLIGHT:"#ef8f4e",COMPOSE_BUTTON_COLOR:"#ef8f4e",SEGMENT_BORDER_COLOR:Object(r.rgba)("#ef8f4e",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#ef8f4e",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#ef8f4e",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#ef8f4e",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#ef8f4e",.16),FOLDER_ACTIVED_BORDER:"2px solid #ef8f4e",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#ef8f4e",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#ef8f4e",.16),OPACITY_MASK_COLOR:"#352431",PREVIEWR_TOOLBAR_COLOR:Object(r.rgba)("#352431",.3),CLIP_BUTTON_COLOR:"#ef8f4e"},LIGHTHOUSE:{IMAGE:"/img/lighthouse.jpg",BACKGROUND_REPEAT_IMAGE:"/img/lighthouse_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"263.5px auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#03383E",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#85CBAC",GRADIENT_COLOR_2:"#85CBAC",GRADIENT_COLOR_3:"#85CBAC",HIGHLIGHT:"#85CBAC",COMPOSE_BUTTON_COLOR:"#85CBAC",SEGMENT_BORDER_COLOR:Object(r.rgba)("#85CBAC",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#85CBAC",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#85CBAC",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#85CBAC",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#85CBAC",.16),FOLDER_ACTIVED_BORDER:"2px solid #85CBAC",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#85CBAC",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#85CBAC",.16),OPACITY_MASK_COLOR:"#072328",PREVIEWR_TOOLBAR_COLOR:Object(r.rgba)("#072328",.3),CLIP_BUTTON_COLOR:"#85CBAC"}},i={DEFAULT:{BROWSER_URLBAR_COLOR:"#ffffff",GRADIENT_COLOR_1:n.HEADER_COLOR_1,GRADIENT_COLOR_2:n.HEADER_COLOR_1,GRADIENT_COLOR_3:n.HEADER_COLOR_2,HIGHLIGHT:"#4faaff",COMPOSE_BUTTON_COLOR:n.PRIMARY_BUTTON_ACTIVE_COLOR,SEGMENT_BORDER_COLOR:Object(r.rgba)("#4faaff",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#4faaff",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#4faaff",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)(n.PRIMARY_BUTTON_ACTIVE_COLOR,.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)(n.PRIMARY_BUTTON_ACTIVE_COLOR,.16),FOLDER_ACTIVED_BORDER:`2px solid ${n.PRIMARY_BUTTON_ACTIVE_COLOR}`,ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#188fff",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#188fff",.16),PREVIEWR_TOOLBAR_COLOR:n.HEADER_COLOR_2,CLIP_BUTTON_COLOR:n.PRIMARY_BUTTON_ACTIVE_COLOR},SUNRISE:{BROWSER_URLBAR_COLOR:"#e07400",GRADIENT_COLOR_1:"#f3b049",GRADIENT_COLOR_2:"#ea7d56",GRADIENT_COLOR_3:"#d4207d",HIGHLIGHT:"#ef8f4e",COMPOSE_BUTTON_COLOR:"#ef8f4e",SEGMENT_BORDER_COLOR:Object(r.rgba)("#ef8f4e",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#ef8f4e",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#ef8f4e",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#ef8f4e",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#ef8f4e",.16),FOLDER_ACTIVED_BORDER:"2px solid #ef8f4e",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#ef8f4e",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#ef8f4e",.16),PREVIEWR_TOOLBAR_COLOR:"#d4207d",CLIP_BUTTON_COLOR:"#ef8f4e"},AQUA_GREEN:{BROWSER_URLBAR_COLOR:"#008f88",GRADIENT_COLOR_1:"#a0b952",GRADIENT_COLOR_2:"#4fa46d",GRADIENT_COLOR_3:"#008f88",HIGHLIGHT:"#7aaf60",COMPOSE_BUTTON_COLOR:"#7aaf60",SEGMENT_BORDER_COLOR:Object(r.rgba)("#7aaf60",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#7aaf60",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#7aaf60",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#7aaf60",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#7aaf60",.16),FOLDER_ACTIVED_BORDER:"2px solid #7aaf60",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#7aaf60",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#7aaf60",.16),PREVIEWR_TOOLBAR_COLOR:"#008f88",CLIP_BUTTON_COLOR:"#7aaf60"},AQUA_BLUE:{BROWSER_URLBAR_COLOR:"#0034a3",GRADIENT_COLOR_1:"#26b0b1",GRADIENT_COLOR_2:"#1373aa",GRADIENT_COLOR_3:"#0034a3",HIGHLIGHT:"#1d92ae",COMPOSE_BUTTON_COLOR:"#1d92ae",SEGMENT_BORDER_COLOR:Object(r.rgba)("#1d92ae",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#1d92ae",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#1d92ae",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#1d92ae",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#1d92ae",.16),FOLDER_ACTIVED_BORDER:"2px solid #1d92ae",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#1d92ae",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#1d92ae",.16),PREVIEWR_TOOLBAR_COLOR:"#0034a3",CLIP_BUTTON_COLOR:"#1d92ae"},DEEP_PURPLE:{BROWSER_URLBAR_COLOR:"#200f35",GRADIENT_COLOR_1:"#8d7da2",GRADIENT_COLOR_2:"#59496e",GRADIENT_COLOR_3:"#200f35",HIGHLIGHT:"#b08ae4",COMPOSE_BUTTON_COLOR:"#b08ae4",SEGMENT_BORDER_COLOR:Object(r.rgba)("#b08ae4",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#b08ae4",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#b08ae4",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#b08ae4",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#b08ae4",.16),FOLDER_ACTIVED_BORDER:"2px solid #b08ae4",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#b08ae4",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#b08ae4",.16),PREVIEWR_TOOLBAR_COLOR:"#200f35",CLIP_BUTTON_COLOR:"#b08ae4"},BLUE_NIGHT:{BROWSER_URLBAR_COLOR:"#1c3e5c",GRADIENT_COLOR_1:"#1c3e5c",GRADIENT_COLOR_2:"#1c3e5c",GRADIENT_COLOR_3:"#1c3e5c",HIGHLIGHT:"#4faaff",COMPOSE_BUTTON_COLOR:"#4faaff",SEGMENT_BORDER_COLOR:Object(r.rgba)("#4faaff",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#4faaff",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#4faaff",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#4faaff",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#4faaff",.16),FOLDER_ACTIVED_BORDER:"2px solid #4faaff",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#4faaff",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#4faaff",.16),PREVIEWR_TOOLBAR_COLOR:"#1c3e5c",CLIP_BUTTON_COLOR:"#4faaff"}},c={ATT:{GRADIENT_COLOR_1:"#009fdb",GRADIENT_COLOR_2:"#009fdb",GRADIENT_COLOR_3:"#009fdb",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#009fdb",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(r.rgba)("#009fdb",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#009fdb",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#009fdb",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#009fdb",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#009fdb",.16),FOLDER_ACTIVED_BORDER:"2px solid #009fdb",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${Object(r.rgba)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#009fdb",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#009fdb",.16),CLIP_BUTTON_COLOR:"#009fdb"},FRONTIER:{GRADIENT_COLOR_1:"#BD2832",GRADIENT_COLOR_2:"#BD2832",GRADIENT_COLOR_3:"#931F27",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#BD2832",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(r.rgba)("#BD2832",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#BD2832",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#BD2832",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#BD2832",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#BD2832",.16),FOLDER_ACTIVED_BORDER:"2px solid #BD2832",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${Object(r.rgba)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#BD2832",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#BD2832",.16),CLIP_BUTTON_COLOR:"#BD2832"},ROGERS:{GRADIENT_COLOR_1:"#5C6070",GRADIENT_COLOR_2:"#5C6070",GRADIENT_COLOR_3:"#373A43",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#5C6070",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(r.rgba)("#5C6070",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#5C6070",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#5C6070",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#5C6070",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#5C6070",.16),FOLDER_ACTIVED_BORDER:"2px solid #5C6070",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${Object(r.rgba)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#5C6070",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#5C6070",.16),CLIP_BUTTON_COLOR:"#5C6070"},BT:{GRADIENT_COLOR_1:"#6400AA",GRADIENT_COLOR_2:"#6400AA",GRADIENT_COLOR_3:"#6400AA",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#6400AA",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(r.rgba)("#6400AA",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#6400AA",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#6400AA",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#6400AA",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#6400AA",.16),FOLDER_ACTIVED_BORDER:"2px solid #6400AA",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${Object(r.rgba)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#6400AA",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#6400AA",.16),CLIP_BUTTON_COLOR:"#6400AA"},SKY:{GRADIENT_COLOR_1:"#0051B7",GRADIENT_COLOR_2:"#0051B7",GRADIENT_COLOR_3:"#0051B7",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#0051B7",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(r.rgba)("#0051B7",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#0051B7",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#0051B7",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#0051B7",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#0051B7",.16),FOLDER_ACTIVED_BORDER:"2px solid #0051B7",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${Object(r.rgba)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#0051B7",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#0051B7",.16),CLIP_BUTTON_COLOR:"#0051B7"}},l=babelHelpers.extends({},c,i,o),d=babelHelpers.extends({},i,{DEFAULT:babelHelpers.extends({},i.DEFAULT,{BROWSER_URLBAR_COLOR:"#755BF9",GRADIENT_COLOR_1:"#7282fb",GRADIENT_COLOR_2:"#755BF9",GRADIENT_COLOR_3:"#7934f7"})}),u=Object(a.c)(l),m=Object(a.c)(d),p=Object(a.c)(o),_=Object(a.c)(c),h=Object(a.c)(["LIGHT","MEDIUM","DARK"]),E=(e,t)=>{const s=e||u.DEFAULT;return s.IMAGE?`url(${t(s.IMAGE)})`:`linear-gradient(45deg,\n        ${s.GRADIENT_COLOR_1},\n        ${s.GRADIENT_COLOR_2},\n        ${s.GRADIENT_COLOR_3})`},g=e=>!!p[e],b=({context:e,includeMedium:t=!1})=>{const s=e.getThemeMode();return t&&s===h.MEDIUM||s===h.DARK},I=e=>!!_[e],f=(e,t=!1)=>{const s=b({context:e,includeMedium:t}),n=g(e.getTheme());return{darkModeNonPhotoTheme:!n&&s,["darkModePhotoTheme_"+e.getTheme()]:n&&s}}},,,function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"d",function(){return l}),s.d(t,"b",function(){return d}),s.d(t,"f",function(){return m}),s.d(t,"h",function(){return p}),s.d(t,"g",function(){return _}),s.d(t,"j",function(){return h}),s.d(t,"l",function(){return E}),s.d(t,"a",function(){return I}),s.d(t,"i",function(){return f}),s.d(t,"k",function(){return S});var n=s(0),a=s(24);const r=encodeURIComponent(":"),o=encodeURIComponent(" "),i=encodeURIComponent("("),c=encodeURIComponent(")"),l=encodeURIComponent("["),d=encodeURIComponent("]"),u=/(?:^|[\s(])folderid:(\d+)/i,m=["SYNC","INVISIBLE"];function p(e){let t="";switch(e){case n.Gb.PEOPLE:t+=`${o}is${r}personal`;break;case n.Gb.SHOPPING:t+=`${o}is${r}shopping`;break;case n.Gb.TRAVEL:t+=`${o}is${r}travel`;break;case n.Gb.TRAVEL_VIEW_UPCOMING:case n.Gb.TRAVEL_VIEW_PAST:t+=`${o}decoId${r}FLR`;break;case n.Gb.SAVED_COUPON_CARDS:t+=`${o}decoId${r}${i}CPN${o}TAG${c}`;break;case n.Gb.ALL_COUPON_CARDS:t+=`${o}decoId${r}${i}CPN${c}`;break;case n.Gb.ALL_REFUND_CARDS:t+=`${o}decoId${r}${i}ORD${c}`;break;case n.Gb.FINANCE:t+=`${o}is${r}financial`;break;case n.Gb.SOCIAL:t+=`${o}is${r}social`}return t}function _(e){return(u.exec(e&&e.base||"")||[])[1]||"1"}function h(e){const t=Number(function(e,t,s){if(!e[t])return"";const n=e[t].split(" ").map(e=>e.split(":")).filter(([e])=>e===s);return 0===n.length?"":n[0][1]||""}(e,"options","count"));return isNaN(t)?0:t}function E(e,t,s){return Array.isArray(t)?Array.prototype[s?"every":"some"].call(t,t=>E(e,t)):e.some(e=>e&&e.id&&e.id===t)}class g{constructor(e,t,s){this.promise=e,this.counter=t||1,this.time=Date.now()+(s||0),e.then(e=>(this.time=Date.now(),e))}increaseCount(){this.counter+=1}age(){return Date.now()-this.time}isActive(e){return this.age()<e}getExponentialDelayTime(){return Math.min(100+Math.pow(2,this.counter),2147483647)}getExponentialDelayedPromise(){return new Promise((e,t)=>{this.promise.then(t=>{setTimeout(()=>{e(t)},this.getExponentialDelayTime())},e=>{setTimeout(()=>{e.errorCode="DEBOUNCED",t(e)},this.getExponentialDelayTime())})}).then(e=>(this.time=Date.now(),e),e=>{throw this.time=Date.now(),e})}}class b{constructor({TTL:e=0,logTTL:t=n.Od,activate:s=!1}){this.TTL=e,this.logTTL=Math.max(t,e),this.active=s,this.recentCallMap={}}cleanUpExpiredEntries(){const e=Date.now(),t={};Object.keys(this.recentCallMap).filter(t=>e-this.recentCallMap[t].time<this.logTTL).forEach(e=>t[e]=this.recentCallMap[e]),this.recentCallMap=t}execute(e){const t=Date.now(),{hash:s,log:n=(()=>{})}=e;this.cleanUpExpiredEntries();const a=this.recentCallMap[s],r=this.active&&a&&a.isActive(this.TTL);return a&&(a.increaseCount(),n({duration:a.age(),counter:a.counter,active:r})),r?(a.time=t,a.getExponentialDelayedPromise()):(this.recentCallMap[s]=new g(e.execute(),a&&a.counter,this.TTL),this.recentCallMap[s].promise)}}class I{constructor(e){this.map={},this.defaultTTL=200,this.active=!(!e||!Object.keys(e).length),this.TTLList=e,this.active&&(this.defaultTTL=e.default||200)}get(e){if(!Object(a.b)())return{execute:e=>e.execute()};const t=this.TTLList.hasOwnProperty(e)?this.TTLList[e]:this.defaultTTL;return this.map[t]||(this.map[t]=new b({TTL:t,activate:this.active})),this.map[t]}}function f(e){let t=`$.result.mailboxes[?(("${e}" in $.result.mailboxes[*].id &&  @.id=="${e}") || (@.isSelected==true && "${e}" nin $.result.mailboxes[*].id))]`,s=t=>t.id===e;return e||(t="$..mailboxes[?(@.isSelected==true)]",s=(e=>e.isSelected)),{jsonPath:t,filterFn:s}}function S(e,t){let s;return e&&((s=e.find(f(t).filterFn))||(s=e.find(f(null).filterFn))),s||{}}},function(e,t,s){"use strict";var n=s(4);t.a=Object(n.h)({error_title:{id:"compose.error_title",defaultMessage:"Error"},bigAttachment:{id:"compose.too_big_attachment",defaultMessage:"The file exceeds the {maxFileSize}MB attachment limit. Large attachment support coming soon!"},compose_view:{id:"compose.view_aria_label",defaultMessage:"Compose view"},message_body:{id:"compose.message_body",defaultMessage:"Message body"},quoted_draft:{id:"quoted_draft",defaultMessage:"On {date}, {quotedName} &lt;{quotedAddress}&gt; wrote:"},forwarded_message:{id:"forwarded_message",defaultMessage:"Forwarded Message"},quoted_message_from:{id:"quoted_message_from",defaultMessage:"<b>From:</b> {from}"},quoted_message_to:{id:"quoted_message_to",defaultMessage:"<b>To:</b> {to}"},quoted_message_cc:{id:"quoted_message_cc",defaultMessage:"<b>Cc:</b> {cc}"},quoted_message_subject:{id:"quoted_message_subject",defaultMessage:"<b>Subject:</b> {subject}"},quoted_message_sentdate:{id:"quoted_message_sentdate",defaultMessage:"<b>Sent:</b> {sentDate}"},beingUploadedAlert:{id:"being_uploaded_alert",defaultMessage:"Attachment is still being uploaded. Wait and send?"},beingUploadedAlertOK:{id:"compose.beingUploadedAlert.ok",defaultMessage:"OK"},beingUploadedAlertSendWithout:{id:"compose.beingUploadedAlert.send_without",defaultMessage:"Send Without"},emptySubjectAlert:{id:"empty_subject_alert",defaultMessage:"Do you want to send the message without any subject?"},emptySubjectAlertSend:{id:"compose.emptySubjectAlert.send",defaultMessage:"Send"},emptySubjectAlertCancel:{id:"compose.emptySubjectAlert.cancel",defaultMessage:"Cancel"},includeOriginalAttachmentsAlert:{id:"include_original_attachments_alert",defaultMessage:"Include original attachments?"},includeOriginalAttachmentsAlertMsg:{id:"include_original_attachments_alert_msg",defaultMessage:"You added new recipients to your reply. Do you want to include attachments from the original message?"},includeOriginalAttachmentsAlertYes:{id:"compose.includeOriginalAttachmentsAlert.yes",defaultMessage:"Yes"},includeOriginalAttachmentsAlertNo:{id:"compose.includeOriginalAttachmentsAlert.no",defaultMessage:"No"},switch_to_plain_text_warning_title:{id:"compose.switch_to_plain_text_warning_title",defaultMessage:"Switch to Plain Text"},switch_to_plain_text_message:{id:"compose.switch_to_plain_text_message",defaultMessage:"Converting your message to plain text will remove all formatting and inline images. Continue?"},switch_to_plain_text_warning:{id:"compose.switch_to_plain_text_warning",defaultMessage:"Converting your message to plain text will lose all formatting and remove inserted items. Continue?"},switch_to_plain_text_warning_ok:{id:"compose.switch_to_plain_text_warning_ok",defaultMessage:"OK"},switch_to_plain_text_warning_cancel:{id:"compose.switch_to_plain_text_warning_cancel",defaultMessage:"Cancel"},font_family_label_modern:{id:"compose.font_family_label_modern",defaultMessage:"Modern"},font_family_label_modernwide:{id:"compose.font_family_label_modernwide",defaultMessage:"Modern Wide"},font_family_label_classic:{id:"compose.font_family_label_classic",defaultMessage:"Classic"},font_family_label_classicwide:{id:"compose.font_family_label_classicwide",defaultMessage:"Classic Wide"},unsupportedFileType:{id:"compose.unsupportedFileType",defaultMessage:"One or more of the file types you have attached is not supported. Please remove the unsupported file(s)."},plaintext_icon_label:{id:"compose.plaintext_icon_label",defaultMessage:"Switch to plain text mode"},plaintext:{id:"compose.plaintext",defaultMessage:"Switch to plain text mode"},plaintext_text_label:{id:"compose.plaintext_text_label",defaultMessage:"Plain Text"},leftAlign:{id:"compose.left_align_icon",defaultMessage:"Left align"},rightAlign:{id:"compose.right_align_icon",defaultMessage:"Right align"},centerAlign:{id:"compose.center_align_icon",defaultMessage:"Center align"},bulletedList:{id:"compose.bulleted_list_icon",defaultMessage:"Bulleted List"},numberedList:{id:"compose.numbered_list_icon",defaultMessage:"Numbered list"},increaseIndent:{id:"compose.increase_indent_icon",defaultMessage:"Increase indent"},decreaseIndent:{id:"compose.decrease_indent_icon",defaultMessage:"Decrease indent"},strikeThrough:{id:"compose.strikethrough_icon",defaultMessage:"Strikethrough"},bold_icon_label:{id:"compose.bold_icon_label",defaultMessage:"Make selection bold"},italic_icon_label:{id:"compose.italic_icon_label",defaultMessage:"Make selection italic"},link_icon_label:{id:"compose.link_icon_label",defaultMessage:"Make selection a hyperlink"},richtext_icon_label:{id:"compose.richtext_icon_label",defaultMessage:"Switch to rich text mode"},bold:{id:"compose.bold",defaultMessage:"Bold"},italic:{id:"compose.italic",defaultMessage:"Italic"},link:{id:"compose.link",defaultMessage:"Link"},richtext:{id:"compose.richtext",defaultMessage:"Switch to rich text mode"},font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},foreground_color_text_label:{id:"compose.foreground_color_text_label",defaultMessage:"Text color"},background_color_text_label:{id:"compose.background_color_text_label",defaultMessage:"Highlight color"},color:{id:"compose.color",defaultMessage:"Color"}})},function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s(8);const a=Object(n.c)(["PLAIN","PRIMARY","SECONDARY","CHROMELESS","ICON","ICON_HIGHLIGHTED","MENUITEM","MENUITEM_PARENT_TEXT_COLOR","DANGER","SECONDARY_BORDERLESS","CUE","THEMED_LIKE_COMPSOE_BUTTON","PILL"])},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(533),o=s.n(r),i=s(11),c=s.n(i),l=s(90);s(8);class d extends a.a.Component{render(){const e=this.props,{name:t,kind:s,ariaLabel:n,dir:r,title:i}=e,l=babelHelpers.objectWithoutProperties(e,["name","kind","ariaLabel","dir","title"]),d=c()(o.a,{kind:s}),u=this.props.children||this.props.text;return a.a.createElement("li",babelHelpers.extends({name:t,title:i,"data-test-id":t,className:d.listItem,"aria-label":n,role:"menuitem",dir:r},l),u)}}d.defaultProps={kind:l.a.DEFAULT},t.a=d},,function(e,t,s){"use strict";s.d(t,"c",function(){return d}),s.d(t,"b",function(){return m}),s.d(t,"a",function(){return h}),s.d(t,"m",function(){return g}),s.d(t,"g",function(){return b}),s.d(t,"f",function(){return I}),s.d(t,"o",function(){return f}),s.d(t,"n",function(){return S}),s.d(t,"l",function(){return A}),s.d(t,"e",function(){return T}),s.d(t,"i",function(){return C}),s.d(t,"j",function(){return O}),s.d(t,"p",function(){return N}),s.d(t,"k",function(){return M}),s.d(t,"h",function(){return D}),s.d(t,"d",function(){return y});var n=s(0),a=s(8),r=s(19),o=s(373),i=s.n(o),c=s(4);const l=Object(a.c)([n.zd.PHOTOS,n.zd.DOCUMENTS,n.zd.COUPONS,n.zd.RECEIPTS,n.zd.GROCERIES,n.zd.TRAVEL,n.zd.TUTORIAL]),d=Object(a.c)([n.zd.UNREAD,n.zd.STARRED]),u=babelHelpers.extends({},n.Hc,Object(a.c)([n.zd.UNREAD,n.zd.STARRED])),m={[n.ub.INBOX]:"inbx",[n.ub.SENT]:"sent",[n.ub.DRAFT]:"drft",[n.ub.TRASH]:"trsh",[n.ub.BULK]:"spm",[n.ub.ARCHIVE]:"archve",[n.ub.USER]:"usrFldr",[n.ub.CHATS]:"cht",SEARCH_KEYWORD:"keywSrp",SEARCH_PEOPLE:"cntctSrp",SEARCH_SMARTVIEW:"smrtSrp"},p="1",_="/",h={};h[n.ub.INBOX]=0,h[n.zd.UNREAD]=1,h[n.zd.STARRED]=2,h[n.ub.DRAFT]=3,h[n.ub.SENT]=4,h[n.ub.ARCHIVE]=5,h[n.ub.BULK]=6,h[n.ub.TRASH]=7;const E=Object(c.h)({folder_inbox:{id:"folder_inbox",defaultMessage:"Inbox"},folder_draft:{id:"folder_draft",defaultMessage:"Drafts"},folder_sent:{id:"folder_sent",defaultMessage:"Sent"},folder_trash:{id:"folder_trash",defaultMessage:"Trash"},folder_bulk:{id:"folder_bulk",defaultMessage:"Spam"},folder_archive:{id:"folder_archive",defaultMessage:"Archive"},folder_all_mail:{id:"folder_all_mail",defaultMessage:"All Mail"}});function g(e,t=""){const s=E["folder_"+t.toLowerCase()];return s?e(s):null}function b(e){let t;switch(e.type){case n.ub.SENT:case n.ub.BULK:case n.ub.ARCHIVE:case n.ub.TRASH:return 0;case n.ub.DRAFT:return e.total;default:return t=e.unread<0?0:e.unread}}function I(e){switch(e){case n.ub.INBOX:return[n.tb.MARK_READ,n.tb.ARCHIVE];case n.ub.DRAFT:case n.ub.SENT:case n.ub.ARCHIVE:return[n.tb.MARK_READ];case n.ub.BULK:case n.ub.TRASH:return[n.tb.MARK_READ,n.tb.DELETE];default:return[n.tb.MARK_READ,n.tb.ARCHIVE,n.tb.DELETE,n.tb.SEPARATOR,n.tb.RENAME_FOLDER,n.tb.DELETE_FOLDER,n.tb.CREATE_FOLDER]}}function f(){return Object.keys(l).map(e=>(function(e){return{folder:{name:e,id:e,types:[e],isSmartView:!0,isSystem:!1,unread:0,total:0},children:[]}})(e))}function S(e){return e.types.find(e=>u.hasOwnProperty(e))}function A(e){const t=S(e);if(t&&m[t])return m[t]}function T(e,t){const s=e.find(e=>!0===e.isSelected);return t.find(e=>S(e.folder)===n.ub.INBOX&&e.folder.accountId===s.id).folder}function C(e,t,s=!1){const n=R(e.name);let a="",r="";const o=[];let i=!1;return e.accountId===p||s||e.name.match(/\//)&&(a=n.shift(),a+=n.shift()),n.forEach(s=>{a+=s,i?i=!1:(r+=s,t.hasOwnProperty(a)&&t[a].accountId===e.accountId&&(o.push(r),r="",i=!0))}),o}function O(e,t){const s=e.path||e.name,n=R(s);let a="",r="";const o=[];let i=!1;return e.accountId!==p&&e.uidNext&&s.match(/\//)&&(a=n.shift(),a+=n.shift()),n.forEach(s=>{if(a+=s,i)i=!1;else{r+=s;const n=Object.keys(t).find(e=>t[e].path===a);n&&t[n].accountId===e.accountId&&(o.push(r),r="",i=!0)}}),o}function R(e){let t,s,n="";const a=[];for(t=0;t<e.length;t++)(s=e.charAt(t))===_?(""!==n&&a.push(n),a.push(_),n=""):n+=s;return""!==n&&a.push(n),a}function N(e,t,s,n){const a=i()(t);if(Object(r.a)(s.length>0,"folderPathParts must be populated for insert into folder tree to work."),n===s.length-1)a.name=s[n],e.push({folder:Object.assign({},a,{level:n}),children:[]});else{const t=s[n];e.forEach(e=>{e.folder.name===t&&e.folder.accountId===a.accountId&&N(e.children,a,s,n+1)})}}function M(e,t=[]){let s="";const n=e.split(".");return s=n.length>1?e.substring(0,e.lastIndexOf(".")):n[0],t.some(({folderPrefix:e})=>e===s)?s+"_x":s}function D(e,t,s){const n=[];return t.isPrimary||n.push(t.folderPrefix||M(t.email)),s&&n.push(s),n.push(e),n.join("/")}function y(e){const t={};for(let s=0;s<e.length;s++){const n=e[s],a=n.folder;t[a.id]=a,n.children.length>0&&Object.assign(t,y(n.children))}return t}},function(e,t,s){"use strict";s.d(t,"r",function(){return a}),s.d(t,"b",function(){return r}),s.d(t,"c",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"e",function(){return c}),s.d(t,"l",function(){return l}),s.d(t,"o",function(){return d}),s.d(t,"n",function(){return u}),s.d(t,"m",function(){return m}),s.d(t,"i",function(){return p}),s.d(t,"j",function(){return _}),s.d(t,"k",function(){return h}),s.d(t,"a",function(){return E}),s.d(t,"q",function(){return g}),s.d(t,"g",function(){return b}),s.d(t,"u",function(){return I}),s.d(t,"h",function(){return f}),s.d(t,"p",function(){return S}),s.d(t,"f",function(){return A}),s.d(t,"s",function(){return T}),s.d(t,"t",function(){return C});var n=s(8);const a=0,r="Authentication.InvalidCredentials",o="Authentication.InvalidCrumb",i="Authentication.MissingCrumb",c="Authentication.WssidReissue",l="LaunchError.LaunchApiFailed",d="LaunchError.WrongMailboxState",u="LaunchError.PageNotFound",m="LaunchError.ActiveMailboxNotFound",p="Empty response returned from JEDI",_="The response returned from JEDI contains errors",h="Unhandled partial failure",E="Account is not supported",g="Multiple mailboxes found",b="One or more batch requests failed",I="Update request failed",f="Compose request failed",S="Message read request failed",A=Object(n.c)(["MISSING_YT_COOKIE","COOKIE_CHECK_SIGNATURE","COOKIE_CHECK_TIME_STAMP","INVALID_COOKIE_SCOPE","REMOVED_YT_COOKIE","DIFFERENT_USER"]),T={[E]:"unsupported_acct",[g]:"multi_mboxes"},C=["EC-4001-SetMailboxAttribute","EP-5000"]},function(e,t,s){"use strict";var n=s(40),a=s(8),r=s(481),o=s.n(r),i=s(34);const c="MAIL-ERROR";function l(e,t,s){if(!e)throw new Error("name is a required argument for MailError");"string"!=typeof t&&(s=t,t=null),Error.apply(this),Error.captureStackTrace&&Error.captureStackTrace(this,l);const n=Object(a.a)(l.MANIFEST,e);if(!n)throw new Error("Error name ["+e+"] is not in the list of available errors. see ./manifest.js");t=t||n.description,n.requiredData&&n.requiredData.forEach(t=>{if(!s||!s.hasOwnProperty(t))throw new Error("property ["+t+"] is required for ["+e+"] error. Got: "+JSON.stringify(s))}),this.token=c,this.name=e,this.message=t,this.data=s||{},this.isRetryable=!1,this.statusCode=Object(a.a)(this,"data.statusCode",null),this.errorCode=Object(a.a)(this,"data.body.error.code",null)||Object(a.a)(this,"data.body.data.errorCode",null)||Object(a.a)(this,"data.errorCode",null),this.code=n.code||i.r}l.MANIFEST=o.a,l.VALIDATE_SUCCESS=123456,(l.prototype=Object.create(Error.prototype)).getDataByName=function(e,t=null){return Object(a.a)(this.data,e,t)},l.prototype.setDataByName=function(e,t){this.data[e]=t},l.errorify=(e=>{let t;return e instanceof l?e:(e instanceof n.a?((t=new l("ApiError",e.message,e.failureMap)).stack=e.stack,t.statusCode=e.statusCode,t.errorCode=e.errorCode,t.extraStatusCode=e.extraStatusCode,t.extraErrorCode=e.extraErrorCode,t.isRetryable=e.isRetryable,Object.assign(t.data,{info:e.errorInfo})):e instanceof Error?(t=new l("GenericError",[e.name,e.message].join(": "))).stack=e.stack:t=new l("UnknownError",`Error: ${JSON.stringify(e)}`,{errorCode:"UNKNOWN"}),t)}),l.prototype.serialize=function(){return JSON.stringify(this.toJSON())},l.prototype.toJSON=function(){return{name:this.name,message:this.message,code:this.code,data:this.data,token:"MAIL-ERROR"}},l.jsonToError=function(e){return Object.assign(new Error,{stack:void 0},e)},t.a=l},,function(e,t,s){"use strict";s.d(t,"e",function(){return g}),s.d(t,"c",function(){return H}),s.d(t,"d",function(){return U}),s.d(t,"f",function(){return j}),s.d(t,"a",function(){return G}),s.d(t,"b",function(){return B});var n=s(6),a=s.n(n),r=s(0),o=s(8);const{string:i,number:c,bool:l,array:d,object:u,shape:m,oneOf:p,oneOfType:_,arrayOf:h,func:E}=a.a,g=m({name:i.isRequired,lastObservedTimezone:m({client:i,server:i}),location:m({city:i,state:i,country:i}),geoLocation:m({city:i,state:i,country:i}),longName:i,formattedOffset:i,currentOffset:c}),b=m({name:i,email:i}),I=(m({first:i.isRequired,last:i.isRequired}),m({virus:i,filename:i,size:c,partId:i,mimeType:i,type:p(Object(o.e)(r.u.Types)),messageReference:m({mid:i,pid:i}),disposition:i,downloadUrl:i,thumbnailUrl:i,contentId:i,dataId:i})),f=(m({isSpam:l,isRead:l,isFlagged:l}),m({id:i.isRequired,name:i.isRequired,isSystem:l.isRequired,types:h(i).isRequired})),S=m({folder:f.isRequired,children:h(u).isRequired}),A=(h(S),m({default:d.isRequired}),m({to:d,cc:d,bcc:d}),m({id:i.isRequired,accountId:i.isRequired,name:i.isRequired,isSystem:l,types:h(i).isRequired,total:c,unread:c})),T=(m({systemFolders:d.isRequired,customFolders:d.isRequired}),m({divIds:h(i).isRequired,classId:i})),C=m({html:i,text:i,htmlAnnotations:h(T),attachments:h(I),bidi:h(i)}),O=m({name:i.isRequired,params:u,query:u}),R=(m({route:O.isRequired,metadata:u}),m({subject:i,cc:h(b).isRequired,bcc:h(b).isRequired,to:h(b).isRequired,from:h(b).isRequired,date:i.isRequired})),N=m({id:i.isRequired,folder:A.isRequired,flags:m({flagged:l,read:l}).isRequired,headers:R.isRequired,snippet:i.isRequired,attachments:h(I).isRequired,body:C,verifiedDomains:a.a.array.isRequired,composeProps:a.a.object}),M=(m({messageId:i.isRequired,flags:m({flagged:l,read:l}).isRequired,headers:u.isRequired,snippet:i.isRequired,subject:i.isRequired,attachments:h(I).isRequired,downloadAllUrl:i.isRequired}),m({id:i.isRequired,messages:h(N).isRequired}),m({url:i,width:c,height:c}),m({name:i,email:i.isRequired,recent:l.isRequired}),m({id:i,email:i,isPrimary:l.isRequired,state:p(Object(o.e)(r.Zb)).isRequired,type:p(Object(o.e)(r.ac)).isRequired}),m({id:i,isPrimary:l.isRequired,email:i,accountVerified:l.isRequired,sendingName:i,status:p(Object(o.e)(r.f)).isRequired,type:p(Object(o.e)(r.g)).isRequired,serverUri:i,signature:i,signatureActive:l,secondaryAccounts:d,replyToAddress:i}),_([c,i]),_([c,u]),m({type:a.a.oneOf(Object(o.e)(r.Hd)),serviceId:a.a.string,name:a.a.string,emailIds:a.a.arrayOf(a.a.string)}),m({adHeadline:i.isRequired,adSummary:i.isRequired,adImg:i.isRequired,adSource:i.isRequired,clickUrl:i.isRequired,type:i.isRequired,creativeId:i,beacon:i,impressionTrackingUrls:d})),D=m({contentType:i.isRequired,url:i.isRequired,usageType:i.isRequired}),y=m({billingCountry:i,currency:i,frequency:i,isDefault:l,nextBillingDate:i,startDate:i,planId:i,fullPrice:u,pricePostTax:c}),L=m({nextBillingDate:i.isRequired,orderExternalId:i,piId:i,planId:i,startDate:i,status:i.isRequired,unitPrice:c}),v=(m({subscriptionPlan:y,subscriptionStatus:L}),m({creativeId:i.isRequired,pencilAd:M,nativeAd:D}),m({position:i.isRequired,bookId:c.isRequired})),P=(m({spaceId:i.isRequired,positions:h(v).isRequired}),m({content:u,state:p(Object(o.e)(r.Rc))})),F=(m({pages:P.isRequired,numPages:c.isRequired,height:c.isRequired,width:c.isRequired,exceptions:u.isRequired,sheets:u.isRequired}),m({folderActionValueBean:m({folder:m({name:i.isRequired})}).isRequired})),x=m({type:p(Object(o.e)(r.ob)),value:F}),w=m({field:p(Object(o.e)(r.pb)),operator:p(Object(o.e)(r.rb)),matchCase:l,value:i.isRequired}),k=(m({index:c.isRequired,name:i.isRequired,matchType:p(Object(o.e)(r.qb)),actions:h(x).isRequired,criterions:h(w).isRequired}),m({domains:h(i).isRequired,domainMessageBody:i.isRequired})),H=(m({enabled:l.isRequired,startDate:c,endDate:c,messageBody:i,domainSpecificResponse:k}),m({loadModule:E.isRequired})),U=m({firstDay:c,name:i}),j=(m({requireInteraction:l,sticky:l,modal:l,icon:i,type:p(Object(o.e)(r.tc))}),m({code:c,isRetryable:l}),m({title:i.isRequired,options:m({body:i.isRequired,icon:i.isRequired,lang:i.isRequired,tag:i.isRequired,timestamp:c.isRequired}).isRequired,onClick:E}),m({id:i,status:p(Object(o.e)(r.z)).isRequired,progress:c.isRequired,expires:c}),m({spam:l,ham:l,move:l,archive:l,restore:l,delete:l,permDelete:l,raf:l}),m({request:E})),G=m({getAuthorizationURL:E}),B=(m({city:i,state:i,country:i,timezone:m({name:i.isRequired,longName:i,currentOffset:i,offsetPositive:l}).isRequired}),m({id:i,defaultMessage:i,description:i}),m({id:c.isRequired,name:i.isRequired,text:i.isRequired,imgUrl:i.isRequired,handle:i.isRequired,creationTime:a.a.instanceOf(Date).isRequired}),m({playlist:u.isRequired}),m({get:E})),V=(m({domainLogo:i.isRequired,domainColor:i.isRequired}),m({unicode:i.isRequired,unicode_alt:i.isRequired,code_decimal:i.isRequired,name:i.isRequired,shortname:i.isRequired,category:i.isRequired,emoji_order:i.isRequired,aliases:d.isRequired,aliases_ascii:d.isRequired,keywords:d.isRequired}),m({id:i,name:i,email:i,iataCode:i}),{number:i.isRequired,type:i}),W={type:i,value:i};m({id:i.isRequired,xobniId:i,categories:d,emails:h(i).isRequired,name:i,phonesWithType:h(m(V)),position:i,company:i,flickr:i,facebook:i,twitter:i,linkedIn:i,notes:i,addressesWithType:h(m(W))}),m({id:i,name:i.isRequired,position:i,company:i,editToken:i,isBusiness:l,phonesWithType:h(m(V)),emails:h(i),emailType:u,backyard:i,flickr:i,facebook:i,twitter:i,linkedIn:i,website:i,relationshipHistory:u,notes:i,birthday:i,anniversary:i,addressesWithType:h(m(W))}),m({name:a.a.string,keyword:a.a.string,emailAddresses:a.a.arrayOf(a.a.string),accountIds:a.a.arrayOf(a.a.string),folders:a.a.arrayOf(a.a.string),listFilter:a.a.string}),m({scrollThresholdPercentage:c,render:E})},,function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(27),c=s(508),l=s.n(c),d=s(509),u=s.n(d),m=s(510),p=s.n(m),_=s(511),h=s.n(_),E=s(11),g=s.n(E),b=s(123),I=s(12);var f=s(10),S=(s(8),s(9)),A=s(13),T=s(36),C=s.n(T);s.d(t,"a",function(){return O});class O extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={isVisible:!1,arrowDirection:this.props.permittedArrowDirections[0]},this.handleKeyDown=(e=>{switch(e.key){case"Escape":return e.preventDefault(),e.stopPropagation(),void this.hide();default:return}}),this.handleClick=(()=>{!this.props.persistent&&this.props.hideOnContentClick&&this.hide()}),this.getArrowClassNames=(e=>{let t=p.a;return this.props.arrowSize===I.b.S?t=u.a:this.props.arrowSize===I.b.L&&(t=h.a),g()(t,{arrowDirectionDown:e===I.g.DOWN,arrowDirectionLeft:e===I.g.START,arrowDirectionRight:e===I.g.END,bg:this.props.bg,zAltitude:this.props.zAltitude,align:this.props.align,highlight:this.props.highlight})}),this.updatePosition=(()=>{const{overflowScroll:e,popoverAnchor:t,align:s,offset:n,arrowSize:a,isArrowVisible:r,permittedArrowDirections:o,customPositioning:c,fullWidthPositioning:l,isTwoColumnLayout:d,isRTL:u}=this.props,m=function(e,t,s,n,a,r,o){let i=t.getBoundingClientRect();const c=I.c[n],l=Math.sqrt(2*Math.pow(c,2)),d=Math.sqrt(Math.pow(c,2)-Math.pow(l/2,2)),u={height:e.ownerDocument.documentElement.offsetHeight,width:e.ownerDocument.documentElement.offsetWidth},m=e.getBoundingClientRect();let p=s;const _=e=>e<.4?I.a.START:e>.6?I.a.END:I.a.CENTER;s===I.a.ANY&&(r.indexOf(I.g.UP)>-1||r.indexOf(I.g.DOWN)>-1)?p=_((m.left+m.width/2)/u.width):s===I.a.ANY&&(r.indexOf(I.g.START)>-1||r.indexOf(I.g.END)>-1)&&(p=_((m.top+m.height/2)/u.height));const h=e.ownerDocument.scrollingElement?e.ownerDocument.scrollingElement.scrollLeft:e.ownerDocument.body.scrollLeft,E=e.ownerDocument.scrollingElement?e.ownerDocument.scrollingElement.scrollTop:e.ownerDocument.body.scrollTop,g={top:m.top+E,right:m.right+h,bottom:m.bottom+E,left:m.left+h,height:m.height,width:m.width},b=-(g.width/2+i.width/2),f=g.height/2-i.height/2,S={below:(e.ownerDocument.scrollingElement?e.ownerDocument.scrollingElement.scrollHeight:u.height)-g.bottom,above:g.top,left:g.left,right:u.width-g.right},A={},T=Math.floor(Math.max(S.above,S.below)-u.height*(1-.95)),C=Math.floor(Math.max(S.left,S.right)-u.width*(1-.95));let O,R;if(i.height+d>T&&(O=T-d),i.width+d>C&&(R=C-d),O||R){const e=O||i.height,t=R||i.width;i=Object.assign({},i,{height:e,bottom:i.top+e,width:t,right:i.left+t}),A.overflow="auto",O&&(A.maxHeight=`${O}px`),R&&(A.maxWidth=`${R}px`)}const N=.95*S.below-i.height>=0,M=.95*S.above-i.height>=0,D=.95*S.left-i.width>=0,y=.95*S.right-i.width>=0;r[0]===I.g.ANY&&(r=[I.g.UP,I.g.DOWN,I.g.START,I.g.END]);const{positioningStyles:L,arrowDirection:v,canNotPosition:P}=function(){const e={};let t,s=!1;for(let s=0;s<=r.length;s++){if((t=r[s])===I.g.UP&&N){e.top=`${g.bottom+d}px`,e.left=`${g.right+b}px`;break}if(t===I.g.DOWN&&M){e.top=`${g.top-(i.height+d)}px`,e.left=`${g.right+b}px`;break}if(t===I.g.START&&y||t===I.g.END&&y&&o){e.top=`${g.top+f}px`,e.left=o?`${g.right+(g.width+d)}px`:`${g.right+d}px`;break}if(t===I.g.END&&D||t===I.g.START&&D&&o){e.top=`${g.top+f}px`,e.left=o?`${g.left-i.width-d}px`:`${g.left-(i.width+d)}px`;break}}return t===I.g.UP||t===I.g.DOWN?p===I.a.START?o?i.width?e.left=`${g.right-i.width+a}px`:s=!0:e.left=`${g.left-a}px`:p===I.a.END&&(o?e.left=`${g.left}px`:i.width?e.left=`${g.right-i.width+a}px`:s=!0):t!==I.g.START&&t!==I.g.END||(p===I.a.START?e.top=`${g.top-a}px`:p===I.a.END&&(e.top=`${g.bottom-i.height+a}px`)),{positioningStyles:e,arrowDirection:t,canNotPosition:s}}();return{canNotPosition:P,positioningStyles:L,innerContentScrollingStyles:A,arrowDirection:v,adjustedAlign:p}}(Object(i.findDOMNode)(t),Object(i.findDOMNode)(this.refs.popoverContent),s,a,n,o,u),{arrowDirection:p,canNotPosition:_,adjustedAlign:h}=m;if(_)return;let{positioningStyles:E,innerContentScrollingStyles:g}=m;c&&(E=null),l&&!d&&(E.left=`${2*f.GRID_UNIT}px`,E.width=`calc(100% - ${4*f.GRID_UNIT}px)`),e||(g=null),r&&Object.assign(this.refs.popoverArrow.style,this.getArrowStyle(h)),p!==this.state.arrowDirection?this.setState({arrowDirection:p},()=>{Object.assign(this.refs.popoverContent.style,E),Object.assign(this.refs.popoverInnerContent.style,g)}):(Object.assign(this.refs.popoverContent.style,E),Object.assign(this.refs.popoverInnerContent.style,g))}),this.handleWindowMouseDown=(e=>{const t=Object(i.findDOMNode)(this.refs.popoverContent),s=Object(i.findDOMNode)(this.props.popoverAnchor),n=!t.contains(e.target)&&t!==e.target,a=s.contains(e.target)||s===e.target;n&&!a&&this.hide()}),this.hide=(()=>{this.props.onHide()}),this.getArrowStyle=(e=>{const{offset:t,arrowSize:s,popoverAnchor:n,isRTL:a}=this.props,r=Object(i.findDOMNode)(n).getBoundingClientRect(),o=this.state.arrowDirection;let c,l=t-I.c[s],d="",u="";if(e!==I.a.CENTER)return e===I.a.END?u="flex-end":e===I.a.START&&(u="flex-start"),o===I.g.START||o===I.g.END?(c=I.f.VERTICAL,l+=r.height/2):(c=I.f.HORIZONTAL,l+=r.width/2),(e===I.a.END&&!a||a&&e===I.a.START)&&(l*=-1),o!==I.g.DOWN&&o!==I.g.END||(d="rotate(180deg)",e===I.a.END?u="flex-start":e===I.a.START&&(u="flex-end")),{transform:c===I.f.HORIZONTAL?`translateX(${l}px) ${d}`:`translateY(${l}px) ${d}`,justifyContent:u}}),t}getChildContext(){return{notifyPopoverChanged:this.updatePosition}}componentDidMount(){this.updatePosition(),this.props.onShow(),this.setState({isVisible:!0},()=>{this.props.persistent||(window.addEventListener("resize",this.hide,!1),window.addEventListener("mousedown",this.handleWindowMouseDown,!1))})}componentWillUnmount(){clearTimeout(this.positionTimeout),window.removeEventListener("resize",this.hide,!1),window.removeEventListener("mousedown",this.handleWindowMouseDown,!1)}componentDidUpdate(){this.positionTimeout=setTimeout(()=>{this.refs.popoverContent&&this.updatePosition()},0)}render(){const e=this.state.isVisible?"visible":"hidden",t=this.getArrowClassNames(this.state.arrowDirection),s=g()(l.a,{bg:this.props.bg,zAltitude:this.props.zAltitude,animate:this.props.animate,highlight:this.props.highlight,borderRadius:this.props.borderRadius});return o.a.createElement(b.a,null,o.a.createElement("div",babelHelpers.extends({"data-test-id":"popover-content",className:s.popover,onClick:this.handleClick,onKeyDown:this.handleKeyDown},C()(this.props,["triggerOn","permittedArrowDirections","zAltitude","onShow","boundingBox","align","arrowSize","bg","onHide","overflowScroll","persistent","isArrowVisible","customPositioning","fullWidthPositioning","animate","popoverAnchor","highlight","hideOnContentClick","borderRadius","isTwoColumnLayout","isRTL","dispatch"]),{style:{visibility:e},ref:"popoverContent"}),o.a.createElement("div",{className:s.popoverContent,ref:"popoverInnerContent"},this.props.children),o.a.createElement("div",{className:t.pointerWrapper,ref:"popoverArrow"},this.props.isArrowVisible?o.a.createElement("div",{"data-test-id":"popover-content-arrow",className:t.pointer}):null)))}}O.displayName="PopoverContent",O.childContextTypes={notifyPopoverChanged:a.a.func},O.defaultProps={permittedArrowDirections:[I.g.ANY],boundingBox:void 0,triggerOn:I.h.MOUNT,align:I.a.CENTER,arrowSize:I.b.M,offset:0,bg:I.d.DEFAULT,zAltitude:f.ZIndices.POPOVER.LOW,onHide:()=>{},onShow:()=>{},overflowScroll:!0,persistent:!1,isArrowVisible:!0,customPositioning:!1,animate:!1,highlight:!1,hideOnContentClick:!0,borderRadius:I.e.LOW};const R=Object(A.b)(e=>{const{getEnvironmentSelectors:t,getPrescribedNumberOfColumns:s}=Object(S.b)(e),n=t();return{isTwoColumnLayout:2===s(),isRTL:"rtl"===n.getPageDirection()}})(O);t.b=R},function(e,t,s){"use strict";var n=s(19),a=s(8),r=s(34);const o="API-ERROR";function i(e,t,s=!0,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack=(new Error).stack,Object(n.a)(t&&"object"==typeof t,"Expected failureMap to be an object."),Object.keys(t).forEach(e=>{const s=t[e];Object(n.a)(s&&"object"==typeof s,`Invalid map passed to ApiError: ${e} had a value of ${s}`)}),this.token=o,this.name=this.constructor.name,this.message=e,this.failureMap=t,this.extraStatusCode=this.getExtraStatusCode(),this.extraErrorCode=this.getExtraErrorCode(),this.statusCode=this.getStatusCode(),this.errorCode=this.getErrorCode(),this.errorInfo=a,this.isRetryable=!!s&&this.getRetryable()}(i.prototype=Object.create(Error.prototype)).constructor=i,i.prototype.getStatusCode=function(){const e=String(this.extraStatusCode).split(",")[0].split(":")[1]||r.r;return Number(e)},i.prototype.getErrorCode=function(){return this.message===r.i?"EMPTY_RESPONSE":String(this.extraErrorCode).split(",")[0].split(":")[1]||r.r},i.prototype.getExtraStatusCode=function(){const e=[];return Object.keys(this.failureMap).forEach(t=>{e.push(`${t}:${this.failureMap[t].httpCode||r.r}`)}),e.join(",")||r.r},i.prototype.getExtraErrorCode=function(){const e=[];return Object.keys(this.failureMap).forEach(t=>{const s=this.failureMap[t],n=Object(a.a)(s,"response.error.code",r.r);e.push(`${t}:${n}`)}),e.join(",")||r.r},i.prototype.getRetryable=function(){return this.message===r.i||Object.keys(this.failureMap).every(e=>{const t=this.failureMap[e];if(429===t.httpCode)return!1;if(!t.response||!t.response.error)return!0;const s=t.response.error.code||"",n=s.split("-")[0],a=(t.response.id||"").split("_")[0],o=[a,s,`${s}-${a}`];for(const e of o)if(-1!==r.t.indexOf(e))return!0;return"EC"!==n&&"EP"!==n&&"EB-6000"!==s&&"EB-6003"!==s})},t.a=i},function(e,t,s){"use strict";s.d(t,"k",function(){return a}),s.d(t,"j",function(){return r}),s.d(t,"g",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"a",function(){return l}),s.d(t,"i",function(){return d}),s.d(t,"f",function(){return u}),s.d(t,"b",function(){return m}),s.d(t,"h",function(){return p}),s.d(t,"e",function(){return _}),s.d(t,"l",function(){return h});var n=s(8);const a="INTERACTION_SELECTION_TOGGLED",r="INTERACTION_SELECTION_MULTIPLE_TOGGLED",o="INTERACTION_GROUP_SPAM",i="INTERACTION_GROUP_NOT_SPAM",c="INTERACTION_GROUP_MOVE",l="INTERACTION_GROUP_DELETE",d="INTERACTION_GROUP_UNREAD",u="INTERACTION_GROUP_READ",m="INTERACTION_GROUP_FLAGGED",p="INTERACTION_GROUP_UNFLAGGED",_="INTERACTION_GROUP_PRINT",h=Object(n.c)(["ACCOUNT","FOLDER","NONE"])},function(e,t,s){"use strict";s.d(t,"d",function(){return a}),s.d(t,"f",function(){return r}),s.d(t,"c",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"b",function(){return c}),s.d(t,"e",function(){return l});var n=s(8);const a="Boundary_721950_932302703_1435368466480",r=6e4,o=20,i="BROWSER_TO_BOOTCAMP_STRATEGY",c="BROWSER_TO_NODE_STRATEGY",l="NODE_TO_BOOTCAMP_STRATEGY";Object(n.c)(["searchTenorGifs","searchGifs","getGifCategories","getPlaAdsByKeyword","localStores"])},function(e,t,s){"use strict";s.d(t,"c",function(){return _}),s.d(t,"a",function(){return E}),s.d(t,"b",function(){return g}),s.d(t,"f",function(){return b}),s.d(t,"m",function(){return I}),s.d(t,"e",function(){return f}),s.d(t,"h",function(){return S}),s.d(t,"g",function(){return A}),s.d(t,"d",function(){return T}),s.d(t,"o",function(){return C}),s.d(t,"i",function(){return O}),s.d(t,"k",function(){return R}),s.d(t,"j",function(){return N}),s.d(t,"n",function(){return M}),s.d(t,"l",function(){return D});var n=s(0),a=s(19),r=s(63),o=s.n(r),i=s(3);const{Types:c,SubTypes:l,Dispositions:d,SimplifiedTypes:u}=n.u,m=/\?(size|h|w)=([^&]*)/g,p=/&(size|h|w)=([^&]*)/g,_=(()=>{function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return"<"+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()+"@yahoo.com>"}})();const h=(e,t=d.ATTACHMENT)=>babelHelpers.extends({},function(e,t=_()){const[s,n]=e.type.split("/");return{downloadUrl:e.downloadLink||URL.createObjectURL(e),filename:e.name,mimeType:e.type,size:e.size,type:s,subtype:n,contentId:t,dataId:t,isFromDataURI:!!e.isFromDataURI}}(e),{disposition:t}),E=e=>h(e,d.INLINE),g=e=>h(e,d.ATTACHMENT);function b(e,t=!1){return e.filter(({type:e,disposition:s})=>e===c.MESSAGE||s===d.ATTACHMENT||t&&s===d.INLINE)}function I(e){return e.filter(({type:e,subtype:t,disposition:s})=>!(e===c.MESSAGE&&t===l.RFC822&&s===d.INLINE))}function f(e,t){const s={};if(!e)return[];const n=e.filter(e=>!e);return n.length?(Object(a.a)(n,"Invalid attachment information: "+JSON.stringify(n)),[]):e.filter(Boolean).filter(({type:e,disposition:n,size:a,filename:r})=>{if(!a)return!1;const o=((r||"")+(a||0)).replace(/\s\s+/g," ");return!s[o]&&(s[o]=!0)&&(n!==d.INLINE||e!==c.IMAGE||a>=t)})}function S(e){return e.filter(Boolean).filter(({type:e,subtype:t})=>T(e,t)===u.CAL)}function A(e=[]){const t=e.filter(Boolean).map(e=>{switch(T(e.type,e.subtype)){case u.CAL:return i.b.ATTACH_CAL;case u.IMAGE:return i.b.ATTACH_IMAGE;case u.DOC:case u.PDF:case u.XLS:case u.PPT:case u.CSV:case u.TEXT:return i.b.ATTACH_DOC;default:return i.b.ATTACHMENT}});return 1===o()(t).length?t[0]:i.b.ATTACHMENT}function T(e,t){switch(e){case c.IMAGE:switch(t){case l.TIFF:return u.TIFF;default:return u.IMAGE}case c.AUDIO:return u.AUDIO;case c.VIDEO:return u.VIDEO;case c.APPLICATION:switch(t){case l.ACROBAT:case l.PDF:case l.VND_PDF:case l.X_PDF:return u.PDF;case l.GZIP:case l.TAR:case l.X_COMPRESSED:case l.X_ZIP:case l.ZIP:return u.COMPRESSED;case l.EXCEL:case l.GXLS:case l.MSEXCEL:case l.X_EXCEL:case l.X_MS_EXCEL:case l.XLS_M:case l.X_XLS:case l.XLS:case l.XLS_M_TEMPLATE:case l.XLS_TEMPLATE:case l.XLSX:return u.XLS;case l.DOC:case l.DOCX:case l.DOT:case l.FRAMEMAKER:case l.GDOCX:case l.MS_WORD:case l.MSTNEF:case l.RICHTEXT:case l.SC2:case l.VND_MS_WORD:case l.VND_MSWORD:case l.WINWORD:case l.WORD:case l.X_DOT:case l.X_FM:case l.X_FRAMEMAKER:case l.X_MAKER:case l.X_MS_WORD:case l.X_MSW6:case l.X_RTF:case l.X_SOFFICE:case l.ZZ_DOT:return u.DOC;case l.PPT:case l.PPTX:case l.GPPT:case l.PPTX_SLIDESHOW:case l.PPTX_TEMPLATE:return u.PPT;case l.ICS:return u.CAL;default:return u.APPLICATION}case c.TEXT:switch(t){case l.CALENDAR:return u.CAL;case l.CSV:return u.CSV;default:return u.TEXT}default:return u.FILE}}function C({id:e},t=[],s=!0){return t.map(t=>{const n=s?{dataId:t.dataId?t.dataId:_(),contentId:t.contentId?t.contentId:_()}:{};return babelHelpers.extends({messageReference:{id:e,pid:t.partId}},t,n)})}function O(e,t,s){Object(a.a)(e<=t,"You cannot have a page number greater than the last page of the document.");const n=e-(e%s||s)+1;let r=n+(s-1);return r>t&&(r=t),{startPage:n,endPage:r}}function R(e){const{type:t,subtype:s,size:a,isExternal:r}=e,o=`${t}/${s}`,i=T(t,s);return!r&&a>0&&(n.s.previewableMimeTypes.indexOf(o)>-1||i===u.IMAGE)}function N(e,t){return e?(e=e.replace(m,"?").replace(p,""))+"&size="+t+"w&w="+t+"&h="+t:""}function M(e){return e?e=e.replace(m,"?").replace(p,""):""}function D(e){if(!e)return!0;const t=e.split(".");if(t.length>1){const e=t.pop();if(n.Yd[e])return!1}return!0}},,function(e,t,s){"use strict";s.d(t,"a",function(){return d}),s.d(t,"e",function(){return p}),s.d(t,"t",function(){return _}),s.d(t,"z",function(){return h}),s.d(t,"s",function(){return E}),s.d(t,"h",function(){return g}),s.d(t,"i",function(){return b}),s.d(t,"c",function(){return I}),s.d(t,"k",function(){return f}),s.d(t,"q",function(){return S}),s.d(t,"d",function(){return A}),s.d(t,"w",function(){return T}),s.d(t,"x",function(){return C}),s.d(t,"b",function(){return O}),s.d(t,"y",function(){return N}),s.d(t,"l",function(){return M}),s.d(t,"f",function(){return D}),s.d(t,"p",function(){return y}),s.d(t,"g",function(){return L}),s.d(t,"j",function(){return P}),s.d(t,"r",function(){return F}),s.d(t,"v",function(){return x}),s.d(t,"u",function(){return w}),s.d(t,"m",function(){return k}),s.d(t,"n",function(){return H}),s.d(t,"o",function(){return U});var n=s(332),a=s.n(n),r=s(157),o=s.n(r),i=s(267),c=s.n(i);const l=o()(Intl.DateTimeFormat),d=86400,u=/[^0-9\/\ :.-]/g,m=/[\/\s:.-]/;function p(e,t,s){return l(t,s).format(e)}const _=function(e,t){const s=new c.a({max:t});return function(t,n){t instanceof Date||(t=new Date(t));const a=t.getTime()+"-"+n;let r=s.get(a);return void 0===r&&(r=e(t,n),s.set(a,r)),r}}(function(e,t){const s=p(e,"en-US",{timeZone:t,hour12:!1,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}).replace(u,"").split(m),n=parseInt(s[2],10);return(Date.UTC(n,s[0]-1,s[1],s[3],s[4],s[5])-new Date(e).setMilliseconds(0))/6e4},1e3);function h(e,{timezone:t}){let s=0;return e instanceof Date&&(e=e.getTime()),void 0!==t&&(s=_(e,t)),new Date(e+6e4*s)}function E({timezone:e,offset:t=0}){const s=Date.now();void 0!==e&&(t=_(s,e));const n=new Date(s+6e4*t),a=n.getUTCDate(),r=n.getUTCMonth(),o=n.getUTCFullYear(),i=Date.UTC(o,r,a);return void 0!==e?i-6e4*(t=_(i,e)):i}function g({timezone:e,time:t}){const s=new Date(t).getTime(),n=t=>6e4*_(t,e),a=e=>e-n(e),r=new Date((e=>e+n(e))(s)),o=r.getUTCDay(),i=r.getUTCDate(),c=r.getUTCMonth(),l=r.getUTCFullYear();return{weekday:o,date:i,month:c,year:l,startOfPastHour:e=>a(Date.UTC(l,c,i,-1*e)),startOfPastDay:e=>a(Date.UTC(l,c,i,-24*e)),startOfMonth:e=>a(Date.UTC(l,e,1)),startOfYear:e=>a(Date.UTC(e,0,1))}}function b(){return new Date}function I(e){return e?new Date(1e3*e):b()}function f(e){return S(e)+(d-1)}function S(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor(+t/1e3)}function A(e,t){return!(!C(e)||!C(t))&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())}function T(e){if(!(e instanceof Date))throw new Error("Expected date to be an instance of Date");return A(new Date,e)}function C(e){return function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e)&&!isNaN(e.getTime())}function O(e){if(!C(e))throw new Error("Expected date to be an instance of Date");return new Date(e.valueOf())}function R(e){const t=O(e);return t.setDate(t.getDate()-t.getDay()),t}function N(e){const t=e.getDay();return 0===t||6===t}function M(e){const t=Date.now()+864e5*e,s=new Date(t);return s.getUTCMonth()+1+"/"+s.getUTCDate()+"/"+s.getUTCFullYear()}function D(e){const t=R(e),s=[t];for(let e=1;e<=6;e++){const n=O(t);n.setDate(n.getDate()+e),s.push(n)}return s}function y(e,t){const s=[];for(let n=1;n<=t;n++){const t=O(e);t.setDate(t.getDate()+n),s.push(t)}return s}function L(e){const t=O(e);t.setDate(1);const s=t.getMonth(),n=O(R(t)),a=[O(n)];for(n.setDate(n.getDate()+7);n.getMonth()===s;)a.push(O(n)),n.setDate(n.getDate()+7);return a}const v=1e3*d;function P(e,t){const s=new Date(t).getTime()-new Date(e).getTime();return Math.ceil(s/v)}function F(e){return S(e)-d}function x(e,t=0){const s=new Date(e);return s.setDate(s.getDate()+t),s.getDay()}function w(e=new Date){return Math.ceil(a()(new Date(e.getFullYear(),e.getMonth(),e.getDate()))/7)}function k(e){const t=e=>e<10?`0${e}`:e;return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}`}function H(e){const t=e=>e<10?`0${e}`:e;return`${e.getUTCFullYear()}-${t(e.getUTCMonth()+1)}-${t(e.getUTCDate())}`}function U(e){return"zh-Hant-HK"===e||"ko-KR"===e?"numeric":"short"}},function(e,t,s){"use strict";s.d(t,"k",function(){return r}),s.d(t,"j",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"e",function(){return l}),s.d(t,"g",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"d",function(){return m}),s.d(t,"h",function(){return p}),s.d(t,"a",function(){return _}),s.d(t,"b",function(){return h}),s.d(t,"i",function(){return E});var n=s(0),a=s(33);function r(e,t){if(t.isPrimary!==e.isPrimary)return t.isPrimary-e.isPrimary;if(t.type===n.g.DEA&&e.type!==n.g.DEA)return-1;if(t.type===n.g.DEA&&e.type===n.g.DEA){const s=e.email.toLowerCase()||"",n=t.email.toLowerCase()||"";return s.localeCompare(n)}return t.type!==n.g.DEA&&e.type===n.g.DEA?1:e.id-t.id}function o(e){const[t,s]=e.toLowerCase().split("@");let a=t;if(function e(t){if(!t)return!1;if(n.zc[t])return!0;const s=t.indexOf(".");return!(s<0)&&e(t.substr(s+1))}(s))a=e;else{if(!function(e){if(!e)return!1;const t=e.split(".");return!(t[0]!==n.hb.YAHOO||t.length>3||(t.length>2&&n.de[t[2]]?!n.Pd[t[1]]:2!==t.length||!n.Pd[t[1]]&&!n.de[t[1]]))}(s))return!1;"yahoo.cn"===s&&(a=e)}return!(a.length<4||a.length>32)&&!!a}function i({domainCheck:e},t){let s=!1;if(e&&e.length>0){const n="(@"+e.join(".com$|@")+".com$)";if(!(s=new RegExp(n,"i").test(t))){const n="(@"+e.join("|@")+")\\.";s=new RegExp(n,"i").test(t)}}return s}function c(e){if(!e)return null;if(/@oath.com$/i.test(e))return n.hb.OATH;return/@verizonmedia.com$/i.test(e)?n.hb.VERIZON_MEDIA:o(e)?n.hb.YAHOO:n.bd.find(t=>i(n.xb[t],e))}function l(e){if(e.type!==n.g.IMAPIN)return null;switch(e.serverUri){case"imaps://gmail.com":return"google";case"imaps://outlook.com":return"outlook";case"imaps://aol.com":return"aol";default:return"yahoo"}}function d(e){const{email:t}=e;return c(t)}function u(e){const t=[n.g.SENDAS,n.g.POPIN,n.g.IMAPIN,n.g.BIZMAIL];return e.filter(e=>{const{isPrimary:s,type:a,accountVerified:r,status:o}=e;return s||a===n.g.ALIAS||a===n.g.DEA||"ENABLED"===o&&r&&t.indexOf(a)>-1})}function m(e){if(e.serverUri){const t=e.serverUri.split("://")[1].split(".")[0];return"gmail"===t?"google":t}return"Your mailbox"}function p(e){return e.charAt(0).toUpperCase()+e.slice(1)}function _({status:e,type:t,createTime:s,syncTime:a=20}){const r=Date.now();return e===n.f.ENABLED&&t===n.g.IMAPIN&&r/1e3-s<60*a}function h(e,t){return void 0!==e.find(e=>e.email===t)}function E({email:e,provider:t,type:s,sendingName:r="",description:o="",wssid:i="",crumb:c="",linkedAccounts:l},d){let u={email:e,type:s,sendingName:r,description:o};const m={};if(i&&(m.wssid=i),c&&(m.crumb=c),s===n.g.IMAPIN){const s=e,{imapServer:r}=n.xb[t];u=babelHelpers.extends({},u,{serverUri:r,status:"ENABLED",authType:"OAUTH2",email:s,replyToAddress:s,folderPrefix:Object(a.k)(e,d)})}else s===n.g.SENDAS&&l.length>0&&Object.assign(u,{linkedAccounts:l});return{newAccount:u,config:m}}},function(e,t,s){"use strict";s.d(t,"g",function(){return i}),s.d(t,"j",function(){return c}),s.d(t,"m",function(){return l}),s.d(t,"l",function(){return d}),s.d(t,"k",function(){return u}),s.d(t,"a",function(){return m}),s.d(t,"e",function(){return p}),s.d(t,"f",function(){return _}),s.d(t,"d",function(){return h}),s.d(t,"i",function(){return E}),s.d(t,"p",function(){return g}),s.d(t,"n",function(){return b}),s.d(t,"h",function(){return I}),s.d(t,"c",function(){return S}),s.d(t,"b",function(){return A}),s.d(t,"o",function(){return T});var n=s(0),a=s(33),r=s(19),o=s(8);function i({messageGroupId:e,mId:t}){return t?e+"-"+t:e}function c(e){return Object(a.n)(e.folder)===n.ub.DRAFT}function l(e){return Object(a.n)(e.folder)===n.ub.TRASH}function d(e){return Object(a.n)(e.folder)===n.ub.BULK}function u(e){return t=>t.folder.id===e}function m(e){return e.length>27?e.split("_").pop().replace(/\+/g,"-").replace(/\//g,"_"):e}function p({partId:e,contentId:t},s){return Object(r.a)(s,"#generateAttachmentId must receive a messageId"),`${s}:${e||t}`}function _(e=""){const[t]=e.split(":");return t}function h(e,t){return e.filter(({folder:e})=>t(Object(a.n)(e)))}function E({decos:e}){return!(!e||!Array.isArray(e))&&e.findIndex(e=>{if("CRD"===e.id)return!0})>-1}function g(e,t=[]){return e.schemaOrg.forEach(s=>{const a=s.schema||s,r=a["@type"];switch(r){case n.ed.ReservationPackage:a.subReservation&&(e.schemaOrg=a.subReservation,g(e,t));break;case n.ed.FlightReservation:{if(!a.reservationFor)break;const{reservationId:e="",reservationFor:s}=a;let{underName:i=[],potentialAction:c=[]}=a;const{departureAirport:l,departureTime:d,departureTerminal:u="",arrivalAirport:m,arrivalTerminal:p="",flightNumber:_="",arrivalTime:h=""}=s;if(!(l&&m&&d&&a["@id"]))break;let E="";Array.isArray(c)||(c=[c]),Array.isArray(i)||(i=[i]),c.some(e=>{if(e["@type"]===n.ed.CheckInAction&&e.url)return E=Object(o.a)(e,"url.@value")||Object(o.a)(e,"url",""),!0}),t.push({id:a["@id"],type:r,providerName:Object(o.a)(s,"provider.name",""),providerIataCode:Object(o.a)(s,"provider.iataCode",""),providerUrl:Object(o.a)(s,"provider.url",""),departureAirportName:Object(o.a)(l,"name",""),departureAirportDesc:Object(o.a)(l,"description",""),departureAirportCode:Object(o.a)(l,"iataCode",""),departureTime:d,departureTerminal:u,arrivalAirportName:Object(o.a)(m,"name",""),arrivalAirportDesc:Object(o.a)(m,"description",""),arrivalAirportCode:Object(o.a)(m,"iataCode",""),arrivalTime:h,arrivalTerminal:p,flightNumber:_,reservationId:e,passengers:i.map(e=>e.name),checkInUrl:E});break}case n.ed.Coupon:{let s;const i=a["@id"],c=Object(o.a)(a,"validThrough",""),l=Object(o.a)(a,"description",""),d=Object(o.a)(e,"headers.from",[]),u=Object(o.a)(e,"cardConversationId",""),m=Object(o.a)(e,"decos",[]).some(e=>e&&e.id===n.dc.TAG),p=Object(o.a)(a,"category",[]),_=Object(o.a)(a,"identifier",[]),h=Object(o.a)(_.find(e=>e&&"inferredExpiryDate"===e.propertyID),"value",""),E=Object(o.a)(a,"image.url",null);let g="";if(!i||!l||!d.length||!c&&!h)break;if(a.potentialAction&&a.potentialAction.length>0){const{object:{savedSearchQuery:e=null}={}}=a.potentialAction.find(e=>e["@type"]===n.dd.SUBSCRIBE_ACTION);s=e}const b=Object(o.a)(p.find(e=>"GPT"===e.taxonomy&&"haifaproduct"===e.method),"name","").split(">");g=b[b.length-1],t.push({id:i,type:r,validThrough:c||h,isInferredDate:!c&&!!h,description:l,dealLink:Object(o.a)(a,"url.value",a.url||""),savedSearchQuery:s,clipped:m,from:d[0],cardConversationId:u,gptCategory:g,retailer:Object(o.a)(a,"broker.name",""),imageUrl:E});break}case n.ed.Order:{const{acceptedOffer:e={},orderedItem:s=[],potentialSaving:n={},orderDate:i,seller:c,inferredOrderDate:l,broker:d={}}=a;if(!s.length||!a["@id"])break;t.push({id:a["@id"],type:r,price:Number(Number(Object(o.a)(e,"price",0)).toFixed(2)),potentialSavings:Number(Number(Object(o.a)(n,"price",0)).toFixed(2)),orderedItems:s,orderDate:i||l,sellerName:c?Object(o.a)(c,"name",""):"",broker:d});break}case n.ed.Recommendation:{const{description:e="",recommendedItem:s=[],provider:n=""}=a;if(!s.length||!a["@id"])break;const o=s.filter(e=>e.name).map(e=>e.name);o.length&&t.push({id:a["@id"],type:r,description:e,provider:n.name||"",recommendedItems:o});break}}}),t}function b(e){const{decos:t}=e;return!(!t||!Array.isArray(t))&&t.some(e=>{if("USB"===e.id)return!0})}function I(e){const t=e.schemaOrg,s={};if(!t)return null;const n=Object(o.a)(t[0],"schema.potentialAction",[]);let a=Object(o.a)(n[0],"object.listUnsubscribe","").split(",")[0];return">"===a.charAt(a.length-1)&&(a=a.substring(1,a.length-1)),-1!==a.indexOf("mailto")?s.mailTo=a.substring(a.indexOf(":")+1,a.length):s.unsubLink=a,s}function f(e){return`${e.email}@${e.name}`}function S(e){const t=e.length;if(t<=1)return e;const s=e[0],n={[f(s)]:s,[f(e[t-1])]:e[t-1]},a=[s];return e.slice(1,t-1).forEach(e=>{const t=f(e),a=n[t];(a!==s&&!a||!a.recent&&e.recent)&&(n[t]=e)}),e.slice(1,t-1).forEach(e=>{const t=f(e);n[t]===e&&a.push(e)}),a.push(e[t-1]),a.every(({email:e,recent:t,name:n})=>s.email===e&&s.recent===t&&s.name===n)?[s]:a}function A(e){if(1===e.length)return[0];const t=[0,e.length-1];let s=2;for(let n=1;n<e.length-1;n++){e[n].recent?(t.splice(s,0,n),s++):t.push(n)}return t}function T({recipients:e,participants:t,myAddresses:s}){let n=function(...e){const t={},s=[];let n=0;return e.forEach(e=>{e.forEach(e=>{const a=t[e.email];void 0===a?(t[e.email]=n,s[n]=Object.assign({},e),n++):s[a].recent=s[a].recent||e.recent})}),s}(e,t);if(n.length){const e=n.filter(e=>!s[e.email]);e.length&&(n=e)}return n}},function(e,t,s){"use strict";s.d(t,"i",function(){return c}),s.d(t,"h",function(){return l}),s.d(t,"g",function(){return d}),s.d(t,"f",function(){return u}),s.d(t,"c",function(){return m}),s.d(t,"b",function(){return p}),s.d(t,"l",function(){return _}),s.d(t,"k",function(){return h}),s.d(t,"a",function(){return E}),s.d(t,"j",function(){return g}),s.d(t,"e",function(){return b}),s.d(t,"d",function(){return I}),s.d(t,"m",function(){return f});var n=s(2),a=s(9),r=s(16),o=s(0),i=s(14);s(7);const c=e=>babelHelpers.extends({type:n.Cg},e),l=e=>babelHelpers.extends({},c({route:Object(r.v)(o.zd.PEOPLE,{accountIds:e.accountId})}),{updatedSettingAttributes:e.updatedSettingAttributes,accountId:e.accountId}),d=(e={})=>{let{csid:t}=e,s=babelHelpers.objectWithoutProperties(e,["csid"]);return c(babelHelpers.extends({},s,{route:Object(r.e)(t||Object(i.f)())}))},u=e=>c({route:Object(r.j)(e.inboxFolderId)}),m=(e={})=>(t,s)=>{const{getRoute:r}=Object(a.b)(s());t(babelHelpers.extends({type:n.xb},e,{route:e.route||r()}))},p=(e={})=>t=>{t(babelHelpers.extends({type:n.vb},e))},_=e=>babelHelpers.extends({type:n.mj},e),h=e=>babelHelpers.extends({type:n.ui},e),E=e=>babelHelpers.extends({type:n.hb},e),g=e=>babelHelpers.extends({type:n.Db},e),b=e=>babelHelpers.extends({type:n.Fe},e),I=e=>babelHelpers.extends({type:n.Yg},e),f=e=>(t,s)=>{const{messageGroupIds:r,i13nModel:o}=e,[i]=r,{__getLastNonDraftMessageIdByGroupId:c}=Object(a.b)(s()),l=c(i);t({type:n.kk,i13nModel:o,messageId:l})}},function(e,t,s){"use strict";s.d(t,"a",function(){return n});const n={SEMICOLON:59,FF_SEMICOLON:186,FF_COMMA:188,COMMA:44,BREAK:13,LEFT:37,UP:38,RIGHT:39,DOWN:40,ESCAPE:27,SPACE:32,TAB:9,EQUAL:187,MINUS:189,PERIOD:190,BACKSPACE:8,DELETE:46,BRACKETLEFT:91,BRACKETRIGHT:93,ENTER:13,SLASH:47,PAGE_UP:33,PAGE_DOWN:34}},function(e,t,s){"use strict";s.d(t,"l",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"k",function(){return r}),s.d(t,"g",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"j",function(){return c}),s.d(t,"f",function(){return l}),s.d(t,"e",function(){return d}),s.d(t,"i",function(){return u}),s.d(t,"h",function(){return m}),s.d(t,"d",function(){return p}),s.d(t,"a",function(){return _});const n={HtmlPrimary:"HTML_PRIMARY",VideoPreview:"VIDEO_PREVIEW",VideoPrimary:"VIDEO_PRIMARY",NativeAdType:"NativeAdType",VideoAdType:"VideoAdType",PencilAdType:"PencilAdType",SearchAdType:"SearchAdType",FlashSaleAdType:"FlashSaleAdType",ShoppingCartAdType:"ShoppingCartAdType",ImagePortrait:"IMAGE_PORTRAIT"},a="http://n.gemini.yahoo.com:4080",r="/ssi",o=5443516,i=5582415,c=5559660,l="secOrigImagePortrait",d="secHqImage",u=5545469,m=5554834,p={bucket:"bk",apiVersion:"ve",size:"sz",sectionId:"se",creativeCode:"cc",contentType:"ct",adCount:"tk",propertyName:"ui",siteLanguage:"sl",countryCode:"co",requestId:"ri",publisherInfo:"pb",contentInHttps:"hs",forceFilter:"ff",format:"format",nonRevenue:"nr",adCategories:"ac",referer:"pu",domain:"dm"},_={5564286:2,5564699:18}},function(e,t,s){"use strict";s.d(t,"p",function(){return o}),s.d(t,"C",function(){return i}),s.d(t,"D",function(){return c}),s.d(t,"c",function(){return l}),s.d(t,"d",function(){return d}),s.d(t,"o",function(){return u}),s.d(t,"f",function(){return m}),s.d(t,"b",function(){return p}),s.d(t,"q",function(){return _}),s.d(t,"r",function(){return h}),s.d(t,"e",function(){return E}),s.d(t,"j",function(){return g}),s.d(t,"k",function(){return b}),s.d(t,"u",function(){return I}),s.d(t,"t",function(){return f}),s.d(t,"m",function(){return S}),s.d(t,"l",function(){return A}),s.d(t,"y",function(){return T}),s.d(t,"A",function(){return C}),s.d(t,"z",function(){return O}),s.d(t,"n",function(){return R}),s.d(t,"E",function(){return N}),s.d(t,"i",function(){return M}),s.d(t,"s",function(){return D}),s.d(t,"a",function(){return y}),s.d(t,"B",function(){return L}),s.d(t,"x",function(){return v}),s.d(t,"w",function(){return P}),s.d(t,"v",function(){return F}),s.d(t,"h",function(){return x}),s.d(t,"g",function(){return w});var n=s(2),a=s(0),r=s(5);s(57);const o=e=>babelHelpers.extends({type:n.Ng},e),i=e=>babelHelpers.extends({type:n.I},e),c=e=>babelHelpers.extends({type:n.J},e),l=e=>babelHelpers.extends({type:n.H},e),d=e=>babelHelpers.extends({type:e.error?n.Pc:n.Qc},e),u=()=>({type:n.Pf}),m=()=>({type:n.be,name:a.mb.IS_WIDER_MAIL_EXTN_ENABLED}),p=e=>babelHelpers.extends({type:n.L},e),_=e=>babelHelpers.extends({type:n.Wg},e),h=e=>babelHelpers.extends({type:n.Xg},e),E=e=>babelHelpers.extends({type:n.Rc},e),g=e=>babelHelpers.extends({type:n.oe},e),b=({sectionIds:e})=>({type:n.pe,sectionIds:e}),I=({geminiAd:e,sectionIds:t})=>({type:n.ne,geminiAd:e,sectionIds:t}),f=({error:e,sectionIds:t})=>({type:n.me,error:e,sectionIds:t}),S=({creativeId:e,asset:t})=>({type:n.re,creativeId:e,asset:t}),A=({creativeId:e,error:t,url:s})=>({type:n.qe,creativeId:e,error:t,url:s}),T=({subject:e,asset:t})=>({type:n.Ki,subject:e,asset:t}),C=({message:e,simpleBody:t})=>({type:n.Li,message:e,simpleBody:t}),O=()=>({type:n.Ji}),R=({onWindowExpand:e,onMessageSend:t}={})=>({type:n.He,onWindowExpand:e,onMessageSend:t,i13nModel:{mKey:r.e.HIDE_RIGHT_RAIL_AD,sec:r.g.RIGHT_RAIL,actionData:{onWindowExpand:e,onMessageSend:t}}}),N=({i13nModel:e})=>({type:n.lk,i13nModel:e}),M=()=>({type:n.ke}),D=({i13nModel:e})=>({type:n.oh,i13nModel:e}),y=({i13nModel:e})=>({type:n.G,i13nModel:e}),L=({i13nModel:e})=>({type:n.ri,i13nModel:e}),v=({i13nModel:e})=>({type:n.Eh,i13nModel:e}),P=({i13nModel:e})=>({type:n.Dh,i13nModel:e}),F=({i13nModel:e})=>({type:n.Ch,i13nModel:e}),x=({i13nModel:e,adPosition:t})=>({type:n.Rd,adPosition:t,i13nModel:e}),w=({i13nModel:e,adPosition:t,errorCode:s,errorMessage:a})=>({type:n.Qd,adPosition:t,errorCode:s,errorMessage:a,i13nModel:e})},function(e,t,s){"use strict";s.d(t,"o",function(){return I}),s.d(t,"p",function(){return f}),s.d(t,"a",function(){return S}),s.d(t,"b",function(){return A}),s.d(t,"u",function(){return T}),s.d(t,"v",function(){return C}),s.d(t,"f",function(){return O}),s.d(t,"d",function(){return R}),s.d(t,"k",function(){return N}),s.d(t,"h",function(){return M}),s.d(t,"l",function(){return D}),s.d(t,"i",function(){return y}),s.d(t,"j",function(){return L}),s.d(t,"n",function(){return v}),s.d(t,"g",function(){return P}),s.d(t,"m",function(){return F}),s.d(t,"s",function(){return k}),s.d(t,"t",function(){return H}),s.d(t,"e",function(){return U}),s.d(t,"w",function(){return j}),s.d(t,"r",function(){return G}),s.d(t,"q",function(){return B}),s.d(t,"c",function(){return V});var n=s(2),a=s(0),r=s(33),o=s(7),i=s(47),c=s(14),l=s(9);function d(e,t){const{getFeaturesSelectors:s}=Object(l.b)(e.store.getState()),n=s();return t.length>=n.getSetting("bulkActionDialogThreshold")}function u({context:e,messageGroupIds:t=[],folderId:s,listId:n}){const{getAccountIdByFolderId:r,getAccountIdFromMessageGroupId:o,getAccountById:i,getFeaturesSelectors:c}=Object(l.b)(e.store.getState()),d=i(s?r(s):o(t[0],n));return c().isEnabled(a.mb.CONVERSATIONS)&&"IMAPIN"===d.type&&-1!==a.a.indexOf(d.serverUri)&&t.length<=a.T}function m(e,{sourceListId:t,fromMessageGroupView:s,destinationFolderId:r,messageIds:o,messageGroupIds:i,nextGroupId:c,streamId:u,streamItem:m,i13nModel:p}){const _=i.length,h=d(e,i),{getFeaturesSelectors:E}=Object(l.b)(e.store.getState()),b=E().isEnabled(a.mb.CONVERSATIONS);if(0===(o=g(e,t,r,o,s)).length)return;const I={triageActionType:a.Vd.MOVE_SELECTED_ITEMS,count:_,conversations:b};e.dispatch(n.qg,{messageIds:o,destinationFolderId:r,isAsync:h,count:_,folderId:r,conversations:b,nextGroupId:c,listId:t,streamId:u,streamItem:m,i13nModel:p,triageActionType:a.Vd.MOVE_SELECTED_ITEMS,isV2Action:!0,fromMessageGroupView:s,successAction:babelHelpers.extends({type:n.Qj},{triageActionType:a.Vd.MOVE_SELECTED_ITEMS,count:_,conversations:b,folderId:r}),failureAction:babelHelpers.extends({type:n.Pj},I)})}function p(e,{messageIds:t,messageGroupIds:s,sourceListId:n,fromMessageGroupView:a,destinationFolderType:r,flags:o,isAsync:i,checkForDuplicates:c}){const{__getFolderIdMapFromFolderType:d}=Object(l.b)(e.store.getState()),m=d(t,r);return Object.keys(m).map(t=>{let r=m[t];const l=!!c&&u({context:e,messageGroupIds:s,folderId:t,listId:n});return r=g(e,n,t,r,a),Object.assign({destinationFolderId:t,messageIds:r,deleteDuplicates:l,isAsync:i},o&&{flags:o})})}function _(e,{sourceListId:t,streamId:s,streamItem:r,i13nModel:o,fromMessageGroupView:i,destinationFolderType:c,messageIds:u,messageGroupIds:m,flags:_,triageActionType:h,checkForDuplicates:E}){const g=d(e,m),b=p(e,{sourceListId:t,destinationFolderType:c,messageIds:u,messageGroupIds:m,fromMessageGroupView:i,flags:_,isAsync:g,checkForDuplicates:E});if(0===(u=b.reduce(function(e,t){return e.concat(t.messageIds)},[])).length)return;const I=m.length,{getFeaturesSelectors:f}=Object(l.b)(e.store.getState()),S=f().isEnabled(a.mb.CONVERSATIONS);e.dispatch(n.qg,{messageIds:u,destinationFolderType:c,isAsync:g,i13nModel:o,successAction:{type:n.Qj,triageActionType:h,count:I,conversations:S},failureAction:{type:n.Pj,triageActionType:h,count:I,conversations:S},count:I,conversations:S,listId:t,fromMessageGroupView:i,triageActionType:h,streamId:s,streamItem:r,deleteDuplicates:b.some(e=>e.deleteDuplicates),isV2Action:!0})}function h(e,t){return t&&t===a.ub.SENT||!t?e:function(e){return Object(i.d)(e,e=>e!==a.ub.SENT)}(e)}const E=[{moveFrom:a.ub.DRAFT,allow:!1},{moveTo:a.ub.DRAFT,allow:!1},{moveTo:a.ub.SENT,allow:!1}];function g(e,t=null,s,n,c){const{__patchV2MessageId__:d}=Object(l.b)(e.store.getState()),{getFeaturesSelectors:u,doesFolderIdExist:m,getPrimaryFolderTypeByFolderId:p}=Object(l.b)(e.store.getState()),_=p(s);let g=n.map(e=>d(e,t));const b=Object(o.m)(t),I=b&&m(b)&&p(b)||null,f=u().isEnabled(a.mb.CONVERSATIONS);return c?_!==a.ub.TRASH&&(g=h(g,I)):g=h(g=function(e,t,s){if(t&&s){const s={[a.ub.TRASH]:!0,[a.ub.BULK]:!0};return s[t]?Object(i.d)(e,e=>e===t):Object(i.d)(e,e=>!s[e])}return e}(g,I,f),I),function(e,t){return e.filter(e=>{const s=Object(r.n)(e.folder);let n=!0;return E.some(e=>{let a=!1;return e.hasOwnProperty("moveFrom")&&e.moveFrom===s?(n=e.allow,a=!0):e.hasOwnProperty("moveTo")&&e.moveTo===t&&(n=e.allow,a=!0),a}),n})}(g,_).map(({id:e})=>e)}function b(e,{messageIds:t,flags:s,itemId:n,streamId:a,streamItem:r,isRead:o,isStarred:i,i13nModel:c,persistStreamItemExpansionStates:d,triageActionType:u},{pendingActionType:m}){const{getCurrentListId:p,doesMessageGroupIdExist:_}=Object(l.b)(e.store.getState()),h=p();_(n)&&e.dispatch(m,{i13nModel:c,isV2Action:!0,messageIds:t,itemId:n,listId:h,streamId:a,streamItem:r,flags:s,isRead:o,isStarred:i,persistStreamItemExpansionStates:d,triageActionType:u})}function I(e,{listId:t,destinationFolderId:s,messageIds:n,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{sourceListId:t,destinationFolderId:s,messageIds:n,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i})}function f(e,{listId:t,destinationFolderId:s,messageIds:n,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{sourceListId:t,fromMessageGroupView:!0,destinationFolderId:s,messageIds:n,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i})}function S(e,{listId:t,messageIds:s,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i}){return _(e,{destinationFolderType:a.ub.ARCHIVE,sourceListId:t,messageIds:s,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i,triageActionType:a.Vd.ARCHIVE_SELECTED_ITEMS})}function A(e,{listId:t,messageIds:s,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i}){return _(e,{fromMessageGroupView:!0,destinationFolderType:a.ub.ARCHIVE,messageIds:s,messageGroupIds:n,sourceListId:t,streamId:r,streamItem:o,i13nModel:i,triageActionType:a.Vd.ARCHIVE_SELECTED_ITEMS})}function T(e,{listId:t,messageIds:s,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i}){return _(e,{destinationFolderType:a.ub.INBOX,sourceListId:t,messageIds:s,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i,triageActionType:a.Vd.RESTORE_SELECTED_ITEMS})}function C(e,{listId:t,messageIds:s,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i}){return _(e,{destinationFolderType:a.ub.INBOX,fromMessageGroupView:!0,messageIds:s,messageGroupIds:n,sourceListId:t,streamId:r,streamItem:o,i13nModel:i,triageActionType:a.Vd.RESTORE_SELECTED_ITEMS})}function O(e,t){const{messageGroupIds:s,permanent:r,listId:o,fromMessageGroupView:i,deleteOne:c,deleteMany:m}=t,_=Object(l.b)(e.store.getState()),{__patchV2MessageId__:h,getMessagesSelectors:E,getFeaturesSelectors:g,getRoute:b,isPermDeleteFolderType:I,getContentProviders:f}=_,S=g(),A=S.isEnabled(a.mb.CONVERSATIONS),T=d(e,s),C=u({context:e,messageGroupIds:s,listId:o});let O,{messageIds:R}=t;if(b().name===a.Uc.SEARCH){let t=null,n=null;const r=R.map(e=>h(e)).filter(({folder:e})=>I(e.id)).map(({id:e})=>e),c=R.map(e=>h(e)).filter(({folder:e})=>!I(e.id)).map(({id:e})=>e);c.length&&(t=p(e,{destinationFolderType:a.ub.TRASH,sourceListId:o,fromMessageGroupView:i,messageIds:c,messageGroupIds:s,checkForDuplicates:!0,isAsync:T})),r.length&&(n={messageIds:r,deleteDuplicates:C,isAsync:T}),O={trashPayload:t,deletePayload:n}}else r?O={messageIds:R,deleteDuplicates:C,isAsync:T}:R=(O=p(e,{destinationFolderType:a.ub.TRASH,sourceListId:o,fromMessageGroupView:i,messageIds:R,messageGroupIds:s,checkForDuplicates:!0,isAsync:T})).reduce((e,{messageIds:t})=>e.concat(t),[]);const{doesMessageIdExist:N,getDecos:M}=E(),D=s.length;if(0===R.length)return;let y=!1;if(S.isEnabled(a.mb.BULK_DELETE_MSG_EARNY_UPSELL)){const e=R.some(e=>N(e)&&M(e).some(e=>e.id===a.dc.ORD)),{doesContentProviderExist:t,isContentProviderConnected:s}=f();y=!(t(a.N.EARNY)&&s(a.N.EARNY))&&e&&!i}const L={triageActionType:a.Vd.DELETE_SELECTED_ITEMS,count:D,conversations:A};e.dispatch(n.ed,Object.assign({},t,{isV2Action:!0,triageActionType:a.Vd.DELETE_SELECTED_ITEMS,messageIds:R,successAction:babelHelpers.extends({type:n.Qj},{triageActionType:a.Vd.DELETE_SELECTED_ITEMS,count:D,conversations:A,permanent:r}),failureAction:babelHelpers.extends({type:n.Pj},L),count:D,conversations:A,enableEarnyBulkDeleteUpsell:y,deleteDuplicates:C,isAsync:T,deleteOne:c,deleteMany:m}))}function R(e,{listId:t,messageIds:s,messageGroupIds:n,permanent:r,streamId:o,streamItem:i,i13nModel:c,deleteOne:l,deleteMany:d}){return O(e,{i13nModel:c,listId:t,streamId:o,streamItem:i,destinationFolderType:a.ub.TRASH,messageIds:s,fromMessageGroupView:!0,messageGroupIds:n,permanent:r,deleteOne:l,deleteMany:d})}function N(e,{listId:t,messageIds:s,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i}){return _(e,{destinationFolderType:a.ub.BULK,messageIds:s,messageGroupIds:n,sourceListId:t,flags:{spam:!0},streamId:r,streamItem:o,i13nModel:i,triageActionType:a.Vd.SPAM_SELECTED_ITEMS,checkForDuplicates:!0})}function M(e,{listId:t,messageIds:s,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i}){return _(e,{destinationFolderType:a.ub.INBOX,messageIds:s,messageGroupIds:n,sourceListId:t,flags:{ham:!0},streamId:r,streamItem:o,i13nModel:i,triageActionType:a.Vd.NOT_SPAM_SELECTED_ITEMS,checkForDuplicates:!0})}function D(e,{listId:t,messageIds:s,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i}){return _(e,{destinationFolderType:a.ub.BULK,fromMessageGroupView:!0,messageIds:s,messageGroupIds:n,sourceListId:t,flags:{spam:!0,read:!0},streamId:r,streamItem:o,i13nModel:i,triageActionType:a.Vd.SPAM_SELECTED_ITEMS,checkForDuplicates:!0})}function y(e,{listId:t,messageIds:s,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i}){return _(e,{destinationFolderType:a.ub.INBOX,fromMessageGroupView:!0,messageIds:s,messageGroupIds:n,sourceListId:t,flags:{ham:!0},streamId:r,streamItem:o,i13nModel:i,triageActionType:a.Vd.NOT_SPAM_SELECTED_ITEMS,checkForDuplicates:!0})}function L(e,{messageIds:t,itemId:s,streamId:r,streamItem:o,i13nModel:i,persistStreamItemExpansionStates:c}){return b(e,{i13nModel:i,messageIds:t,itemId:s,isRead:!1,flags:{read:!0},streamId:r,streamItem:o,persistStreamItemExpansionStates:c,triageActionType:a.Vd.READ_CHANGE_SELECTED_ITEMS},{pendingActionType:n.gh})}function v(e,{messageIds:t,itemId:s,streamId:r,streamItem:o,i13nModel:i}){return b(e,{i13nModel:i,messageIds:t,itemId:s,isRead:!0,flags:{read:!1},streamId:r,streamItem:o,triageActionType:a.Vd.READ_CHANGE_SELECTED_ITEMS},{pendingActionType:n.gh})}function P(e,{messageIds:t,itemId:s,streamId:r,streamItem:o,i13nModel:i}){return b(e,{i13nModel:i,messageIds:t,itemId:s,isStarred:!1,flags:{flagged:!0},streamId:r,streamItem:o,triageActionType:a.Vd.STAR_CHANGE_SELECTED_ITEMS},{pendingActionType:n.Ti})}function F(e,{messageIds:t,itemId:s,streamId:r,streamItem:o,i13nModel:i}){return b(e,{i13nModel:i,messageIds:t,itemId:s,isStarred:!0,flags:{flagged:!1},streamId:r,streamItem:o,triageActionType:a.Vd.STAR_CHANGE_SELECTED_ITEMS},{pendingActionType:n.Ti})}const x=a.J.Modes;function w(e,t,s,r,o){const i=s.id||s.messageId,d=Object(l.b)(e.store.getState()),{getCurrentListId:u,doesMessageBodyExist:m,findReplyForwardCsidsOfMessage:p,getDraftMessageId:_,isSent:h}=d,E=u(),{getFeaturesSelectors:g}=Object(l.b)(e.store.getState()),b=g().isEnabled(a.mb.CONVERSATIONS),I=(p(i)||[]).filter(e=>!_(e)&&!h(e)),f=I.length?I[0]:Object(c.f)(),{getMessageBodiesSelectors:S}=Object(l.b)(e.store.getState()),{get:A}=S();return e.dispatch(n.Rf,{i13nModel:o,csid:f,listId:E,composeMode:r,messageGroupId:t,conversationsMode:b,groupId:t,messageId:i,secure:!1,full:!0,message:Object.assign({},s,{id:i,body:m(i)?A(i):void 0})})}function k(e,{messageGroupId:t,message:s,i13nModel:n}){return w(e,t,s,x.REPLY,n)}function H(e,{messageGroupId:t,message:s,i13nModel:n}){return w(e,t,s,x.REPLY_ALL,n)}function U(e,{messageGroupId:t,message:s,i13nModel:n}){return w(e,t,s,x.FORWARD,n)}function j(e,{messageGroupId:t,message:s,composeMode:n,i13nModel:a}){return w(e,t,s,n,a)}function G(e,{messageGroupId:t,message:s,i13nModel:r}){const{getCurrentListId:o}=Object(l.b)(e.store.getState()),i=o(),{getMessageBodiesSelectors:c}=Object(l.b)(e.store.getState()),{isSecureMessage:d}=c(),{getFeaturesSelectors:u}=Object(l.b)(e.store.getState()),m=!u().isEnabled(a.nd.SHOW_IMAGES),p=s.id||s.messageId;return e.dispatch(n.Nf,{i13nModel:r,messageGroupId:t,mId:p,listId:i,messageId:p,full:!0,secure:d(p)&&m})}function B(e,{messageId:t}){const{getSelectedMailboxId:s}=Object(l.b)(e.store.getState()),{mailAPIClient:n}=e,{wssid:a,appId:r}=n,o=n.ymreqidGenerator.generate(),i=s();window.open(`https://apis.mail.yahoo.com/ws/v3/mailboxes/@.id==${i}/messages/@.id==${t}/content/rawplaintext?appId=${r}&ymreqid=${o}&wssid=${a}`,"_blank")}function V(e,{hrefLink:t,message:s,i13nModel:a}){e.dispatch(n.Df,{hrefLink:t,message:s,i13nModel:a})}},function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});const n=(e=[])=>e.sort().join(""),a=(e,t)=>`${e}:${t}`},function(e,t,s){"use strict";s.d(t,"d",function(){return o}),s.d(t,"g",function(){return i}),s.d(t,"h",function(){return c}),s.d(t,"a",function(){return d}),s.d(t,"b",function(){return u}),s.d(t,"i",function(){return p}),s.d(t,"k",function(){return _}),s.d(t,"j",function(){return h}),s.d(t,"l",function(){return E}),s.d(t,"e",function(){return g}),s.d(t,"c",function(){return b}),s.d(t,"f",function(){return I});var n=s(47),a=s(7),r=s(0);s(63);function o(e){const t=e.messages;let s=!0,n=!1,a=!1,r=!1;for(let e=0;e<t.length;e++){const o=t[e];o.flags.read||(s=!1),o.flags.flagged&&(n=!0),o.flags.answered&&(a=!0,r=!1),o.flags.forwarded&&(r=!0,a=!1)}return{read:s,flagged:n,answered:a,forwarded:r}}function i(e){return e.filter(e=>e.headers.from.length>0&&(e.headers.from[0].email||e.headers.from[0].name)).map(e=>({email:e.headers.from[0].email,name:e.headers.from[0].name,recent:!e.flags.read}))}function c(e){return e.messages.some(e=>e.attachments&&e.attachments.length)}function l(e){return e.messages.some(e=>(function(e=[]){return e.map(e=>e.domain).join("").toLowerCase().indexOf("yahoo")>=0})(e.verifiedDomains))}function d(e){return e.messages.reduce((e,{attachments:t})=>e.concat(t),[]).filter(Boolean)}function u(e){return e.messages.reduce((e,{attachmentCount:t=0})=>e+t,0)}function m(e){return e.messages.some(n.j)}function p(e){return e.messages.every(n.j)}function _(e){return e.messages.every(n.m)}function h(e){return e.messages.every(n.l)}function E(e=""){return e.replace(/\^_(.+?)\^_/g,"$1")}function g(e){const t=e.messages;for(let e=t.length-1;e>=0;e--){if(t[e].folder.types[0]!==r.ub.TRASH)return t[e].folder}return t[t.length-1].folder}function b(e,t={}){const{listId:s}=t;let r;return s&&(r=Object(a.m)(s)),(function(e,t){return function(e,t){const s=e.messages;let n;for(let e=s.length-1;e>=0;e--)if(t(s[e])){n=s[e];break}return n}(e,Object(n.k)(t))}(e,r)||e.messages[e.messages.length-1]).headers.date}function I(e,t={}){const s=o(e),n=i(e.messages),a=function(e){return e.reduce((e,t)=>t.headers.to.filter(e=>e.email||e.name).reduce((e,s)=>(e.push({email:s.email,name:s.name,recent:!t.flags.read}),e),e),[])}(e.messages),r=e.messages[0].headers.subject,d=e.messages[e.messages.length-1].snippet;return{flags:s,participants:n,recipients:a,subjectWithMatchDelimiter:r,snippetWithMatchDelimiter:d,subject:E(r),snippet:E(d),date:b(e,t),messageCount:e.messages.length,hasAttachment:c(e),hasVerifiedMessage:l(e),hasDraft:m(e),folder:g(e)}}},function(e,t,s){"use strict";var n=s(4);t.a=Object(n.h)({move_msgs:{id:"move_msgs",defaultMessage:"Move the selected {conversations, select,\n            true {conversations}\n            false {messages}\n        } to another folder"},mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as SPAM"},mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as Not SPAM"},confirm_delete_title:{id:"message_list.confirm_delete_title",defaultMessage:"Delete message"},confirm_delete_messages:{id:"message_list.confirm_delete_messages",defaultMessage:"\n            Are you sure you want to move {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            } to Trash?\n        "},confirm_permanently_delete_messages:{id:"message_list.confirm_permanently_delete_messages",defaultMessage:"\n            Are you sure you want to permanently delete {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            }\n        "},confirm_move_title:{id:"message_list.confirm_move_title",defaultMessage:"Move messages"},confirm_move_messages:{id:"message_list.confirm_move_messages",defaultMessage:"\n            Are you sure you want to move {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            }?\n        "},confirm_spam_title:{id:"message_list.confirm_spam_title",defaultMessage:"Spam messages"},confirm_spam_messages:{id:"message_list.confirm_spam_messages",defaultMessage:"\n            Are you sure you want to mark {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            } as spam?\n        "},confirm_ham_title:{id:"message_list.confirm_ham_title",defaultMessage:"Mark as not spam"},confirm_ham_messages:{id:"message_list.confirm_ham_messages",defaultMessage:"\n            Are you sure you want to mark {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            } as not spam?\n        "},confirm_archive_title:{id:"message_list.confirm_archive_title",defaultMessage:"Archive message"},confirm_archive_messages:{id:"message_list.confirm_archive_messages",defaultMessage:"\n            Are you sure you want to archive {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            }?\n        "},confirm_restore_title:{id:"message_list.confirm_restore_title",defaultMessage:"Archive message"},confirm_restore_messages:{id:"message_list.confirm_restore_messages",defaultMessage:"\n            Are you sure you want to restore {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            }?\n        "},sort_menu:{id:"sort_menu",defaultMessage:"Sort"},sort_by_date_desc:{id:"sort_by_date_desc",defaultMessage:"Date: Newest on top"},sort_by_date_asc:{id:"sort_by_date_asc",defaultMessage:"Date: Oldest on top"},sort_by_unread:{id:"sort_by_unread",defaultMessage:"Unread"},sort_by_flagged:{id:"sort_by_flagged",defaultMessage:"Starred"},sort_by_sender:{id:"sort_by_sender",defaultMessage:"Sender"},sort_by_recipient:{id:"sort_by_recipient",defaultMessage:"Recipient"},sort_by_subject:{id:"sort_by_subject",defaultMessage:"Subject"},sort_by_asc:{id:"sort_by_asc",defaultMessage:"Date: Oldest on top"},sort_by_desc:{id:"sort_by_desc",defaultMessage:"Date: Newest on top"},sort_by_relevance:{id:"sort_by_relevance",defaultMessage:"Relevance"},sort_by_attachment:{id:"sort_by_attachment",defaultMessage:"Attachments"},list_filter_from:{id:"list_filter_from",defaultMessage:"From"},list_filter_to:{id:"list_filter_to",defaultMessage:"To"},list_filter_all:{id:"list_filter_all",defaultMessage:"All"},delete_msg_group:{id:"delete_msg_group",defaultMessage:"Delete all these messages"},move_msg_group:{id:"move_msg_group",defaultMessage:"Move these messages to another folder"},close:{id:"close",defaultMessage:"Close"},message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},previous:{id:"button.previous",defaultMessage:"Previous {conversations, select,\n                true {conversation}\n                false {message}\n            } [ ← Left ]"},next:{id:"button.next",defaultMessage:"Next {conversations, select,\n                true {conversation}\n                false {message}\n            } [ → Right ]"},expand_list:{id:"expand_list",defaultMessage:"Expand message cards"},collapse_list:{id:"collapse_list",defaultMessage:"Collapse message cards"},list_is_expanded:{id:"list_is_expanded",defaultMessage:"Conversation is expanded"},list_is_collapsed:{id:"list_is_collapsed",defaultMessage:"Conversation is collapsed"},photos_from_email:{id:"photos_from_email_label",defaultMessage:"Photos from email"},photos:{id:"photos_label",defaultMessage:"Photos"},documents:{id:"document_label",defaultMessage:"Documents from email"},disable_move_msgs_across_accunts:{id:"disable_move_msgs_across_accounts",defaultMessage:"Messages can't be moved across mailboxes."},disable_move_msgs_default:{id:"disable_move_msgs_default",defaultMessage:"Messages can't be moved."}})},function(e,t,s){"use strict";s.d(t,"a",function(){return d}),s.d(t,"b",function(){return u});s(6);var n=s(1),a=s.n(n),r=s(8),o=s(515),i=s.n(o),c=s(11),l=s.n(c);const d=Object(r.c)(["S","M"]);function u({size:e,inverted:t,flex:s}){const n=l()(i.a,{size:e,inverted:t,flex:s});return a.a.createElement("div",{className:n.wrapper},a.a.createElement("div",{className:n.container,"data-test-id":"loading_indicator"},a.a.createElement("svg",{className:n.spinner,viewBox:"0 0 24 24",width:"24",height:"24"},a.a.createElement("path",{className:n.arc,d:"M12,22C6.477,22,2,17.523,2,12S6.477,2,12,2"}),a.a.createElement("path",{className:n.arc,d:"M12,2c5.523,0,10,4.477,10,10s-4.477,10-10,10"}))))}u.defaultProps={size:d.M}},function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"b",function(){return c}),s.d(t,"i",function(){return l}),s.d(t,"k",function(){return d}),s.d(t,"j",function(){return u}),s.d(t,"e",function(){return m}),s.d(t,"g",function(){return p}),s.d(t,"f",function(){return _}),s.d(t,"l",function(){return h}),s.d(t,"d",function(){return E}),s.d(t,"h",function(){return g});var n=s(2),a=s(9),r=s(0);const o=e=>{let{name:t,value:s}=e,o=babelHelpers.objectWithoutProperties(e,["name","value"]);return(e,i)=>{const{isMobileRoute:c}=Object(a.b)(i());return t===r.nd.NOTIFICATION&&c()?(t=r.nd.MOBILE_NOTIFICATION,s=Boolean(s)):t===r.nd.NOTIFICATION&&(t=r.nd.DESKTOP_NOTIFICATION,s=s?1:0),e(babelHelpers.extends({},o,{name:t,value:s,type:n.ci}))}},i=e=>babelHelpers.extends({type:n.di},e),c=e=>babelHelpers.extends({type:n.bi},e),l=e=>babelHelpers.extends({},e,{type:n.q}),d=e=>babelHelpers.extends({},e,{type:n.r}),u=e=>babelHelpers.extends({},e,{type:n.p}),m=e=>babelHelpers.extends({},e,{type:n.pi}),p=e=>babelHelpers.extends({},e,{type:n.qi}),_=e=>babelHelpers.extends({},e,{type:n.oi}),h=e=>babelHelpers.extends({},e,{type:n.pj}),E=e=>({type:n.mi,name:r.nd.MESSAGE_FILTERS,value:e,runV3:!0}),g=e=>babelHelpers.extends({type:n.Ah},e)},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n);class r extends a.a.Component{render(){const e=a.a.Children.only(this.props.children);return a.a.cloneElement(e,{onClick:this.props.onClick,onContextMenu:this.props.onContextMenu,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut})}}r.displayName="PopoverAnchor",t.a=r},,function(e,t,s){"use strict";s.d(t,"a",function(){return c});var n=s(529),a=s(530);const r="/",o=/^\s*\//,i=/\/\s*$/;const c=function(e){if(!e||"object"!=typeof e)throw new TypeError(e+" is not an object");return function(t){return e[t]?n.a.replace(i,"")+r+e[t].replace(o,""):t}}(a)},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(27),c=s(11),l=s.n(c),d=(s(103),s(8),s(512)),u=s.n(d),m=s(88),p=s(49);const _=()=>{},h=["escape","left","right","up","down","tab"];class E extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={cursorIndex:-1},this.handleKeyDown=(e=>{switch(e.which||e.keyCode){case p.a.LEFT:case p.a.UP:e.preventDefault(),e.stopPropagation(),this.navigate(-1);break;case p.a.RIGHT:case p.a.DOWN:e.preventDefault(),e.stopPropagation(),this.navigate(1);break;case p.a.TAB:return void this.setState({cursorIndex:-1});case p.a.ESCAPE:return e.preventDefault(),e.stopPropagation(),void this.escape();default:return}}),this.handleBlur=(()=>{const e=Object(i.findDOMNode)(this);setTimeout(()=>{this._isMounted&&!e.contains(document.activeElement)&&this.props.onHide()},0)}),t}componentDidMount(){this._isMounted=!0,this.props.focusOnMount&&setTimeout(()=>this.list&&this.list.focus(),0),this.mousetrap=this.context.bindShortcut(h,this.handleKeyDown,this.list),this.props.onShow()}componentWillUnmount(){this._isMounted=!1,this.context.unbindShortcut(h,this.mousetrap)}escape(){Object(i.findDOMNode)(this).focus(),Object(i.findDOMNode)(this).blur(),this.setState({cursorIndex:-1}),this.props.onEscape()}navigate(e){const{min:t,max:s}=Math,n=Object(i.findDOMNode)(this),a=n.getElementsByTagName("li"),r=a.length-1;let o;this.props.circularNavigation?(o=this.state.cursorIndex+e)>r?o=0:o<0&&(o=r):o=t(s(this.state.cursorIndex+e,0),r);const c=a[o];if(n.querySelector("button")||n.querySelector("a")||n.querySelector('[role="checkbox"]')){const t=c.querySelector("button")||c.querySelector("a")||c.querySelector('[role="checkbox"]');t?(this.setState({cursorIndex:o}),t.focus()):this.setState({cursorIndex:o},function(){this.navigate(e)})}}getRole(){switch(this.props.kind){case m.a.MENU:return"menu";case m.a.TOOLBAR:return"menubar";default:return"list"}}render(){const e=this.getRole(),t=l()(u.a,{layout:this.props.layout,kind:this.props.kind,disabled:this.props.disabled,isRestrictedHeight:this.props.isRestrictedHeight});return o.a.createElement("ul",{"data-test-id":this.props["data-test-id"]||"navigable-list",ref:e=>this.list=e,tabIndex:this.props.tabIndex,role:e,onBlur:this.handleBlur,className:t.list},this.props.children)}}E.contextTypes={bindShortcut:a.a.func,unbindShortcut:a.a.func},E.defaultProps={disabled:!1,tabIndex:-1,circularNavigation:!0,focusOnMount:!1,onShow:_,onHide:_,onEscape:_,isRestrictedHeight:!1},t.a=E},function(e,t,s){"use strict";var n=s(1),a=s.n(n),r=s(12);s(19),s(58);t.a=class extends a.a.Component{constructor(...e){var t;return t=super(...e),this.state={visiblePopoverTypes:[r.h.MOUNT]},this.toggle=(e=>{this.state.visiblePopoverTypes.indexOf(e)>-1?this.hide(e):this.show(e)}),this.show=(e=>{const t=this.state.visiblePopoverTypes;t.indexOf(e)>-1||(t.push(e),this.setState({visiblePopoverTypes:t}))}),this.hide=((e,t)=>{const s=this.state.visiblePopoverTypes,n=s.indexOf(e);if(!t){const s=a.a.Children.toArray(this.props.children).filter(({props:t})=>t.triggerOn&&t.onHide&&t.triggerOn===e).map(({props:e})=>e.onHide);t=(()=>s.forEach(e=>e()))}-1!==n&&(s.splice(n,1),this.setState({visiblePopoverTypes:s},t))}),this.showContextualPopovers=(e=>{a.a.Children.toArray(this.props.children).some(e=>e.props.triggerOn===r.h.RIGHTCLICK)&&(e.preventDefault(),this.show(r.h.RIGHTCLICK))}),this.toggleClickPopovers=(()=>{this.toggle(r.h.CLICK)}),this.showHoverPopovers=(()=>{this.show(r.h.HOVER)}),this.hideHoverPopovers=(()=>{this.hide(r.h.HOVER)}),t}componentDidMount(){this.forceUpdate()}render(){const e=a.a.Children.toArray(this.props.children),t=e.shift(),s=a.a.cloneElement(t,{ref:"popoverAnchor",onClick:e=>{this.toggleClickPopovers(e),t.props.onClick&&t.props.onClick(e)},onContextMenu:this.showContextualPopovers,onMouseOver:this.showHoverPopovers,onMouseOut:this.hideHoverPopovers});let n=[];return this.refs.popoverAnchor&&(n=e.filter(e=>this.state.visiblePopoverTypes.indexOf(e.props.triggerOn)>-1).map(e=>{const{onHide:t}=e.props;return a.a.cloneElement(e,{onHide:this.hide.bind(this,e.props.triggerOn,t),popoverAnchor:this.refs.popoverAnchor})})),a.a.createElement("div",this.props,s,n)}}},,function(e,t,s){"use strict";var n=s(59);t.a=s.n(n).a.create("norrin/app")},function(e,t,s){"use strict";s.r(t),s.d(t,"makeArray",function(){return u}),s.d(t,"hasInvalidComposeField",function(){return m}),s.d(t,"hasInvalidComposeHeader",function(){return p}),s.d(t,"hasInvalidComposeFields",function(){return _}),s.d(t,"hasTooFewComposeFields",function(){return h}),s.d(t,"hasTooManyComposeFields",function(){return E}),s.d(t,"getInvalidEmails",function(){return g}),s.d(t,"_getAccountFieldFromSelection",function(){return b}),s.d(t,"getFromAddress",function(){return I}),s.d(t,"getFromAddressForReplyForward",function(){return f}),s.d(t,"getSixDigitHexColor",function(){return S}),s.d(t,"getInitialFocusRef",function(){return A}),s.d(t,"addressHTMLString",function(){return T}),s.d(t,"getCaretCoordinates",function(){return C}),s.d(t,"getFontSizeStyle",function(){return O}),s.d(t,"getLocalizedFontFamilyName",function(){return R}),s.d(t,"isJSONString",function(){return N}),s.d(t,"buildRecipients",function(){return M}),s.d(t,"getAttachmentDisposition",function(){return D}),s.d(t,"extractPidFromString",function(){return y}),s.d(t,"getFileFromDataURI",function(){return L});var n=s(14),a=s(46),r=s(23),o=s(2),i=s(43),c=s(0),l=s(71),d=s(29);function u(e){return""===e||null==e?[]:Array.isArray(e)?e.slice(0):[e]}function m(e){const{to:t,cc:s,bcc:n}=e,a=g(t,s,n)||[];return a.length?{name:o.yb,params:{invalidAddresses:a}}:t&&t.length||s&&s.length||n&&n.length?t.length+s.length+n.length>l.f?{name:o.Cb}:null:{name:o.Bb}}function p(e){return _(e)||h(e)||E(e)}function _(e){const{to:t=[],cc:s=[],bcc:n=[]}=e,a=g(t,s,n)||[];return a.length?{name:o.yb,params:{invalidAddresses:a}}:null}function h(e){const{to:t=[],cc:s=[],bcc:n=[]}=e;return t.length+s.length+n.length<=0?{name:o.Bb}:null}function E(e){const{to:t=[],cc:s=[],bcc:n=[]}=e;return t.length+s.length+n.length>l.f?{name:o.Cb}:null}function g(){let e=[];return Array.prototype.slice.call(arguments).forEach(function(t){e=e.concat(t)}),e.map(({email:e})=>e).filter(e=>!Object(n.m)(e))}function b(e,t){let s;const n=Object(a.c)(e);return t&&(s=n.find(({email:e})=>e===t)),s||(s=n.find(({isSending:e})=>!!e)),s||(s=n[0]||e[0]),s}function I(e,t){return b(e,t)}function f(e,t={}){const s=Object(a.c)(e);let n;return["to","cc","bcc"].forEach(e=>{n||(e=new Set(t[e].map(({email:e})=>e)),n=s.find(({email:t})=>e.has(t)))}),n||s.find(({isSending:e})=>!!e)||s.find(({isPrimary:e})=>!!e)||s[0]}function S(e){let t,s;if("number"==typeof e){for(e=e.toString(16);e.length<6;)e="0"+e;e="#"+(e=e.substr(4,2)+e.substr(2,2)+e.substr(0,2))}return"string"==typeof e&&(e.indexOf("rgb")>-1&&(t=e.split("(")[1].split(")")[0],e="#"+(s=(t=t.split(",")).map(function(e){return 1===(e=parseInt(e,10).toString(16)).length?"0"+e:e})).join("")),4===e.length)?e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]:e}function A({focusSubject:e,initialTo:t=[],initialSubject:s=""}){let n=r.FocusableRefs.EDITOR;return e?n=r.FocusableRefs.SUBJECT:0===t.length?n=r.FocusableRefs.TO:0===s.length&&(n=r.FocusableRefs.SUBJECT),n}function T({name:e,email:t}){return e||(e=`"${t}"`),`${e} &lt;${t}&gt;`}function C(e){const t=window.getSelection(),s=e.getBoundingClientRect();let n=0,a=0;if(t&&t.rangeCount){const e=t.getRangeAt(0).cloneRange();if(e.getClientRects){e.collapse(!0);const t=e.getClientRects();if(t.length>0){const e=t[0];n=e.left-s.left,a=e.top-s.top}}if(0===n&&0===a){const t=document.createElement("span");if(t.getClientRects){t.appendChild(document.createTextNode("​")),e.insertNode(t);const r=t.getClientRects(),o=t.parentNode;if(r.length>0){const e=r[0];n=e.left-s.left,a=e.top-s.top}o.removeChild(t),o.normalize()}}}return{x:n,y:a}}function O(e){const t=Math.min(Number(e),7),s=l.d.find(e=>e.fontSize===t);return s?s.value:l.c.MEDIUM}function R(e,t=""){const s=d.a["font_family_label_"+t.toLowerCase()];return s?e(s):null}function N(e){try{return JSON.parse(e),!0}catch(e){return!1}}function M(e){return e.reduce((e,t=[])=>e.concat(t.map(({email:e})=>e)),[]).filter(e=>Object(n.m)(e))}function D(e){const t=e.type.split("/");let s;return(s=t.length>1?Object(i.d)(t[0],t[1]):Object(i.d)(e.type,e.subtype))===c.u.SimplifiedTypes.IMAGE?c.u.Dispositions.INLINE:c.u.Dispositions.ATTACHMENT}function y(e){const t=/https:\/\/.*?mail.yahoo.com.*?(?:\?|&)pid=([0-9]*)/i;if(t.test(e)){const[,s]=t.exec(e);return s}return""}function L(e){const t=e.match(/^(data):(.+)?;(.+?),/);if(!t||!window.atob)return null;const s=e.split(",")[1];let n;const a=(n="base64"===t[3]?atob(s):window.unescape(s)).length,r=t[2],o=new Uint8Array(a);for(let e=0;e<a;e++)o[e]=n.charCodeAt(e);const i=new Blob([o],{type:r});return i.name=`dataURI-${Date.now()}`,i.lastModifiedDate=new Date,i.isFromDataURI=!0,i}},function(e,t,s){"use strict";s.d(t,"o",function(){return l}),s.d(t,"p",function(){return d}),s.d(t,"a",function(){return u}),s.d(t,"b",function(){return m}),s.d(t,"u",function(){return p}),s.d(t,"v",function(){return _}),s.d(t,"c",function(){return h}),s.d(t,"d",function(){return E}),s.d(t,"k",function(){return g}),s.d(t,"h",function(){return b}),s.d(t,"l",function(){return I}),s.d(t,"i",function(){return f}),s.d(t,"j",function(){return S}),s.d(t,"n",function(){return A}),s.d(t,"g",function(){return T}),s.d(t,"m",function(){return C}),s.d(t,"w",function(){return O}),s.d(t,"r",function(){return R}),s.d(t,"t",function(){return N}),s.d(t,"s",function(){return M}),s.d(t,"f",function(){return D}),s.d(t,"e",function(){return y}),s.d(t,"q",function(){return L});var n=s(52),a=s(0),r=s(2),o=s(7),i=s(9);function c(e,t,s=(()=>!0)){const{getMessageIdsFromMessageGroupId:n,__getMessageWithFlagsAndFolderId:a}=Object(i.b)(e.store.getState()),r=t.map(e=>{return n(e).filter(e=>{const t=a(e);return s(t)})});return[].concat(...r)}function l(e,{destinationFolderId:t,listId:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){n.o(e,{destinationFolderId:t,listId:s,streamId:r,streamItem:o,messageIds:c(e,a),messageGroupIds:a,i13nModel:i})}function d(e,{destinationFolderId:t,listId:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){n.p(e,{listId:s,streamId:r,streamItem:o,destinationFolderId:t,messageIds:c(e,a),messageGroupIds:a,i13nModel:i})}function u(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:r,i13nModel:o}){n.a(e,{listId:t,streamId:a,streamItem:r,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function m(e,{messageGroupIds:t,listId:s,streamId:a,streamItem:r,i13nModel:o}){n.b(e,{messageIds:c(e,t),messageGroupIds:t,listId:s,streamId:a,streamItem:r,i13nModel:o})}function p(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:r,i13nModel:o}){n.u(e,{listId:t,streamId:a,streamItem:r,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function _(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:r,i13nModel:o}){n.v(e,{listId:t,streamId:a,streamItem:r,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function h(e,{listId:t,messageGroupIds:s,permanent:r,streamId:o,streamItem:l,i13nModel:d,batchRemoveItems:u,batchDelete:m}){let p=c(e,s);if(0!==p.length){if(r){const{__isPermDeleteMessage:t}=Object(i.b)(e.store.getState());p=p.filter(e=>{return t(e)})}return n.f(e,{listId:t,streamId:o,streamItem:l,isV2Action:!0,destinationFolderType:a.ub.TRASH,messageIds:p,messageGroupIds:s,permanent:r,i13nModel:d,batchRemoveItems:u,batchDelete:m})}}function E(e,{listId:t,permanent:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:l}){const{doesMessageGroupIdExist:d}=Object(i.b)(e.store.getState()),u=a.filter(e=>d(e));0!==u.length&&n.d(e,{messageGroupIds:u,messageIds:c(e,u),permanent:s,listId:t,streamId:r,streamItem:o,i13nModel:l})}function g(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:r,i13nModel:o}){n.k(e,{listId:t,streamId:a,streamItem:r,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function b(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:r,i13nModel:o}){n.h(e,{listId:t,streamId:a,streamItem:r,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function I(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:r,i13nModel:o}){n.l(e,{listId:t,streamId:a,streamItem:r,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function f(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:r,i13nModel:o}){n.i(e,{listId:t,streamId:a,streamItem:r,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function S(e,{messageGroupIds:t,streamId:s,streamItem:a,i13nModel:r}){n.j(e,{itemId:t[0],messageIds:c(e,t,e=>!e.flags.read),streamId:s,streamItem:a,i13nModel:r})}function A(e,{messageGroupIds:t,streamId:s,streamItem:a,i13nModel:r}){n.n(e,{itemId:t[0],messageIds:c(e,t,e=>e.flags.read),streamId:s,streamItem:a,i13nModel:r})}function T(e,{messageGroupIds:t,streamId:s,streamItem:a,i13nModel:r}){n.g(e,{itemId:t[0],messageIds:c(e,t,e=>!e.flags.flagged),streamId:s,streamItem:a,i13nModel:r})}function C(e,{messageGroupIds:t,streamId:s,streamItem:a,i13nModel:r}){n.m(e,{itemId:t[0],messageIds:c(e,t,e=>e.flags.flagged),streamId:s,streamItem:a,i13nModel:r})}function O(e,{messageGroupIds:t,i13nModel:s}){const[a]=t,{__getLastNonDraftMessageIdByGroupId:r}=Object(i.b)(e.store.getState()),o=r(a);n.q(e,{messageId:o,i13nModel:s})}function R(e,{messageGroupIds:t,i13nModel:s}){const[a]=t,{__getLastNonDraftMessageIdByGroupId:r,__getMessageWithFlagsAndFolderId:o}=Object(i.b)(e.store.getState()),c=o(r(a));n.r(e,{messageGroupId:a,message:c,i13nModel:s})}function N(e,{messageGroupId:t,i13nModel:s}){const{__getLastNonDraftMessageIdByGroupId:a,__getMessageWithFlagsAndFolderId:r}=Object(i.b)(e.store.getState()),o=r(a(t));n.s(e,{messageGroupId:t,message:o,i13nModel:s})}function M(e,{messageGroupId:t,i13nModel:s}){const{__getLastNonDraftMessageIdByGroupId:a,__getMessageWithFlagsAndFolderId:r}=Object(i.b)(e.store.getState()),o=r(a(t));n.t(e,{messageGroupId:t,message:o,i13nModel:s})}function D(e,{messageGroupId:t,i13nModel:s}){const{__getLastNonDraftMessageIdByGroupId:a,__getMessageWithFlagsAndFolderId:r}=Object(i.b)(e.store.getState()),o=r(a(t));n.e(e,{messageGroupId:t,message:o,i13nModel:s})}function y(e,{listId:t,card:s}){const{messageId:n,csid:i,streamId:c,folderType:l}=s;if(!n&&!i)return;const d=Object(o.Q)(t,{listContentType:l===a.ub.DRAFT?a.Fb.COMPOSE:a.Fb.MESSAGE});e.dispatch(r.Ff,{streamId:c,streamItem:{id:n||i,listId:d},card:s})}function L(e,{downloadUrl:t}){e.dispatch(r.U,{downloadUrl:t})}},function(e,t,s){"use strict";s.d(t,"d",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"a",function(){return c});var n=s(0),a=s(8);const r=n.Td,o=Object(a.c)(["TIMECHUNK"]),i=4,c=Object(a.c)(["LEFT","CENTER","RIGHT","NONE"])},function(e,t,s){"use strict";var n=s(89),a=s(35),r=s(19),o=s(24),i=s(8),c=s(111),l=s(34);class d{constructor(e={}){Object(r.a)(e.loggerName,"loggerName is missing");const{loggerName:t,loggerParams:s={},crumb:n,wssid:a,isOnline:o=(()=>!0)}=e;this.loggerName=t,this.loggerParams=s,n&&(this.crumbValue=n),a&&(this.wssid=a),this.isOnline=o,this.getMailboxParams=(()=>({}))}get crumb(){return this.crumbValue||""}set crumb(e){e&&(this.crumbValue=e)}get wssid(){return Object(o.b)()?d.wssid||"":this.wssidValue||""}set wssid(e){e&&(Object(o.b)()?d.wssid=e:this.wssidValue=e)}setRequestBlocked(e=!1){Object(o.b)()&&(d.requestBlocked=e)}isRequestBlocked(e=!0){return!!Object(o.b)()&&(e&&d.requestBlocked)}getRequestBlockedPromise(){return Promise.reject(new a.a("BaseClient.RequestBlocked",{errorCode:"REQUEST_BLOCKED",statusCode:0}))}logRequest(e,t,s="",n=0){this._logRequest(e,t,s,n).catch(()=>{})}_logRequest(e,t,s,r){const o=this.isOnline(),d=Object.assign({isOnline:o},this.loggerParams,t),u=s||this.loggerName,m=n.a.feature(u,d);return e.then(e=>{if(!e)throw new a.a("BaseClient.EmptyResponse");m.logSuccessAndLatency();const{error:t={}}=e||{};if(t.message===l.u||t.message===l.h||t.message===l.p)throw t}).catch(e=>{e=this.handleCommonError(e),this.isRetryableError(e,r)||(!1===Object(i.a)(e,"data.isOnline",!0)&&(d.isOnline=!1),c.a(n.a,u,d,e))})}handleAuthError(e){return null}handleYdodError(e){const{statusCode:t}=e;if(429===t)return this.setRequestBlocked(!0),e}handleWssidReissueError(e){return null}handleCommonError(e){let t=null;return e=a.a.errorify(e),t||(t=this.handleAuthError(e)),t||(t=this.handleYdodError(e)),t||(t=this.handleWssidReissueError(e)),t||e}setMailboxParams(e){this.getMailboxParams=e}isRetryableError(e,t){return!1}shouldRetry(e,t){return!(!t||!t.status||408!==t.status)||(!e||!e.code||"ECONNRESET"!==e.code)&&void 0}}d.wssid="",d.requestBlocked=!1,t.a=d},function(e,t,s){"use strict";var n=s(14),a=s(33),r=s(43),o=s(46),i=s(7),c=s(47),l=s(0),d=s(5),u=s(8),m=s(70),p=s(147),_=s(9);function h({messageGroupIds:e=[]},t){const{doesMessageGroupIdExist:s,getMessageIdsFromMessageGroupId:n}=Object(_.b)(t.getState());return e.reduce((e,t)=>e.concat(s(t)?n(t):[]),[])}function E({listId:e},t){const{getListsSelectors:s}=Object(_.b)(t.getState()),{doesListExist:n,getItemIdsSelectors:a}=s();return{numMsg:n(e)?a(e).getItemIds().length:0}}function g(e,t){const{messageIds:s,itemsToUpdate:n}=e;let a="",r=0;return n?(a=n.map(e=>e.messageId),r=n.length):r=h(e,t).length,{numMsg:r,mid:s&&s.length?s:a}}function b(e){return{msgID:e.messageIds.join(",")}}function I(e,t){const{doesMessageGroupIdExist:s,getMessageIdsFromMessageGroupId:n}=Object(_.b)(t.getState());if(!s(e.messageGroupId))return{};const a=n(e.messageGroupId)||[];return{numMsg:a.length,mid:e.messageId||(a&&a.length?a[a.length-1]:"")}}function f(e,t){const{destinationFolderId:s,destinationFolderType:n,messageIds:r,itemsToUpdate:o}=e,{getFoldersSelectors:i}=Object(_.b)(t.getState()),{doesFolderIdExist:c,getPrimaryFolderTypeByFolderId:l}=i(),d=c(s)?a.b[l(s)]:void 0;let u="",m=0;return o?(u=o.map(e=>e.messageId),m=o.length):m=h(e,t).length,{numMsg:m,destin:d||n||"",mid:r&&r.length?r:u}}function S({itemsToUpdate:e}){return{numMsg:e.filter(e=>e.isAffected).length}}function A(e){const{attachment:t}=e;return{fileType:Object(r.d)(t.type,t.subtype),fileSize:t.size,msgId:t.id&&Object(c.f)(t.id)}}function T(e,t){const{route:s,i13nModel:{actionData:a={}}={}}=e,r={};let o,c,l;s?(o=Object(i.t)(s),c=s.params.groupId,l=Object(u.a)(e,"hashParams.itemId"),r.query=s.params.query||s.params.fid):(o=e.listId,c=e.itemId);const{getImportantContactsSelectors:d,doesMessageGroupIdExist:m,getMessageIdsFromMessageGroupId:p,getMessageGroupParticipantsInfo:h,getMessageFromAddress:E,getListItemIdIndex:g,getMessagesSelectors:b}=Object(_.b)(t.getState()),{getDecos:I}=b();if(!m(c))return{};const{getImportantContacts:f}=d(),S=f()||[],A=p(c),T=l||A.join(","),{senders:C=[]}=h(c,o),O=E(l=l||A[A.length-1]),R=O.length>0?O[0]:{},N=Object(n.m)(R.email)?Object(n.d)(R.email).domainPart:"NODOMAIN.COM",M={},D=[];A.forEach(e=>{I(e).forEach(e=>M[e.id]=e.id)});for(const e in M)D.push(M[e]);return Object.assign({},a,r,{mid:c,msgID:T,sdrDomain:N,mailDecos:D,numRcpt:C.length,numMsg:A.length,importntCntct:S.some(e=>-1!==e.emails.indexOf(R.email)),itemIdx:g(o,c)})}function C(e,t){const s={accountIds:Object(_.b)(t.getState()).getSelectedAccountId()},n=Object(m.b)(e.smartViewName,s),a=Object(i.d)(n);return{srchQry:Object(i.S)(a),srchType:Object(i.G)(a)?"cntct":"kwrd"}}function O(e){const t=e.listId||Object(i.t)(e.route),s=Object(i.S)(t),n=Object(i.p)(t),a=Object(i.k)(t),r=Object(i.G)(t);let o="kwrd";if(!r)switch(e.i13nModel.mKey){case d.e.SEARCH_BUTTON:o="kwrd";break;case d.e.SEARCH_RECENT_SUGGEST:o="recentSearch";break;case d.e.SEARCH_KWRD_SUGGEST:o="suggestedSearch";break;default:o="kwrd"}return Object.assign({srchQry:s,srchType:r?"cntct":o,query:r?a:n},Object(u.a)(e,"i13nModel.actionData",{}))}function R(e){const{value:t}=e,s={[l.Gc.NO]:"none",[l.Gc.RIGHT]:"vrtcl",[l.Gc.BOTTOM]:"hrztl"};if(s[t])return{setTo:s[t]}}function N(e){const{value:t}=e,s={[l.ec.SLIM]:"slm",[l.ec.NORMAL]:"rglr",[l.ec.RELAXED]:"rlxd"};if(s[t])return{setTo:s[t]}}function M(e){const{value:t}=e;return{setTo:t?"true":"false"}}function D({messageId:e,schemaCard:{id:t=""}={},i13nModel:{mKey:s="",sec:n="",actionData:a={}}={},recommendations:r=!1}={},o){if(e&&t){const{getMessagesSelectors:i,getCouponsSelectors:c}=Object(_.b)(o.getState()),{getParentMessageIdForCardConversationId:l}=i(),{isSingleCouponParentMessageId:u,getCardConversationId:m,getFromAddress:p}=c(),h=m(t),E=r?l(h):"",{email:g=""}=p(t),b=r&&s===d.e.COUPON_CLIPPED&&n===d.g.MSG_BODY&&u(E);return babelHelpers.extends({},a,{ccid:h,fromEmail:g,cardMid:e,parentMid:E,recommendationsEligible:b})}return{}}function y(e){const{files:t}=e,s=[],n=[];return t.forEach(e=>{const t=e.type.split("/");let a;a=t.length>1?Object(r.d)(t[0],t[1]):Object(r.d)(e.type,e.subtype),s.push(a),n.push(e.size)}),{attmTypes:s,attmSizes:n}}function L(e,t){const{getMessagesSelectors:s,getMessageGroupsSelectors:n}=Object(_.b)(t.getState()),{doesMessageGroupIdExist:a,getMessageIdsFromMessageGroupId:r}=n(),{getDecos:o,doesMessageIdExist:i}=s();if(!e||!e.streamItem)return{};const{groupId:c}=e.streamItem;if(!i(c)&&!a(c))return{};const l=a(c)?r(c):[c],d={},u=[];l.forEach(e=>{o(e).forEach(e=>d[e.id]=e.id)});for(const e in d)u.push(d[e]);return{mailDecos:u}}function v(e,t){const{isFeatureEnabled:s}=Object(_.b)(t.getState()),n=Object(u.a)(e,"i13nModel.actionData",{});return s(l.mb.CLICK_URL_LOGGING)?n:babelHelpers.extends({},n,{mHref:null})}var P={[d.a.SEARCH_SUGGESTION]:function(e,t){const{query:s,suggestions:n}=e,{getImportantContactsSelectors:a,getRecentSearchesSelectors:r,isFeatureEnabled:o}=Object(_.b)(t.getState()),{getImportantContacts:i}=a(),c=i(),{getRecentSearches:d}=r(),u=d(),m=(o(l.mb.SEARCH_SUGGESTIONS_V2)?p.e:p.d)(n,c,u,s,o(l.mb.SHOW_RECENT_SUGGESTIONS),o(l.mb.SHOW_EMPTY_SEARCH_SUGGESTIONS)).reduce((e,t)=>(t.hasOwnProperty("type")&&(e[t.type]?e[t.type]++:e[t.type]=1),e),{});return{query:s,people:m[l.Hd.PERSON]||0,keyword:m[l.Hd.KEYWORD]||0,recent:0}},[d.a.SEARCH_ZERO_RESULTS]:O,[d.e.MSG_REPLY]:I,[d.e.MSG_REPLY_ALL]:I,[d.e.MSG_FORWARD]:I,[d.e.TOOLBAR_REPLY]:I,[d.e.TOOLBAR_REPLYALL]:I,[d.e.TOOLBAR_FORWARD]:I,[d.e.QUICK_REPLY]:I,[d.e.QUICK_REPLYALL]:I,[d.e.QUICK_FORWARD]:I,[d.e.MSG_HDR_MARK_READ]:b,[d.e.MSG_HDR_MARK_UNREAD]:b,[d.e.MSG_HDR_MARK_STAR]:b,[d.e.MSG_HDR_MARK_UNSTAR]:b,[d.e.MSG_GRP_HDR_MARK_READ]:g,[d.e.MSG_GRP_HDR_MARK_UNREAD]:g,[d.e.MSG_GRP_HDR_MARK_STAR]:g,[d.e.MSG_GRP_HDR_MARK_UNSTAR]:g,[d.e.TOOLBAR_SELECTALL_MSG]:E,[d.e.TOOLBAR_SELECT_NONE]:E,[d.e.TOOLBAR_BULK_CONTEXT_ALL]:E,[d.e.TOOLBAR_BULK_CONTEXT_NONE]:E,[d.e.TOOLBAR_BULK_CONTEXT_READ]:E,[d.e.TOOLBAR_BULK_CONTEXT_UNREAD]:E,[d.e.TOOLBAR_BULK_CONTEXT_STARRED]:E,[d.e.TOOLBAR_BULK_CONTEXT_UNSTARRED]:E,[d.e.TOOLBAR_ARCHIVE]:g,[d.e.TOOLBAR_DELETE]:g,[d.e.TOOLBAR_MOVE]:f,[d.e.DRAG_DROP_MOVE]:f,[d.e.TOOLBAR_SPAM]:g,[d.e.TOOLBAR_NOT_SPAM]:g,[d.e.TOOLBAR_MARK_READ]:g,[d.e.TOOLBAR_MARK_UNREAD]:g,[d.e.TOOLBAR_MARK_STARRED]:g,[d.e.TOOLBAR_MARK_UNSTARRED]:g,[d.e.TOOLBAR_VIEW_RAW]:g,[d.e.SELECT_MSG]:g,[d.e.MARK_MSG_READ]:g,[d.e.MARK_MSG_UNREAD]:g,[d.e.MARK_MSG_STARRED]:g,[d.e.MARK_MSG_UNSTARRED]:g,[d.e.MSG_LIST_DEL]:g,[d.e.UNDO_DELETE_ACTION]:S,[d.e.UNDO_ARCHIVE_ACTION]:S,[d.e.UNDO_MOVE_ACTION]:S,[d.e.PHOTO_DOWNLOAD]:A,[d.e.OPEN_MSG]:T,[d.e.RIGHT_RAIL_MSG_OPEN]:T,[d.e.DOC_READ_MSG]:T,[d.e.PHOTO_READ_MSG]:T,[d.e.ATTACHMENT_LIGHTBOX_DOCUMENT_MSG]:T,[d.e.ATTACHMENT_LIGHTBOX_IMAGE_MSG]:T,[d.e.OPEN_LINK]:function(e,t){const{hrefLink:s,message:n}=e,{isFeatureEnabled:r}=Object(_.b)(t.getState());return{msgID:n.id,mHref:r(l.mb.CLICK_URL_LOGGING)?s:null,mSndr:n.headers.from.length>0?n.headers.from[0].email:"",mFldr:Object(a.l)(n.folder)}},[d.e.UNREAD_SMARTVIEW]:C,[d.e.STARRED_SMARTVIEW]:C,[d.e.PHOTO_SMARTVIEW]:C,[d.e.DOCUMENT_SMARTVIEW]:C,[d.e.SEARCH_BUTTON]:O,[d.e.ADVANCED_SEARCH_BUTTON]:O,[d.e.CONTACT_SEARCH]:O,[d.e.SUBJECT_SEARCH]:O,[d.e.SEARCH_PEOPLE_SUGGEST]:O,[d.e.SEARCH_KWRD_SUGGEST]:O,[d.e.SEARCH_RECENT_SUGGEST]:O,[d.e.SETTINGS_POPUP_PREVIEW_PANE]:R,[d.e.SETTINGS_PREVIEW_PANE]:R,[d.e.SETTINGS_POPUP_MSG_LIST_DENSITY]:N,[d.e.SETTINGS_MSG_LIST_DENSITY]:N,[d.e.SETTINGS_POPUP_TAB_SETTING]:M,[d.e.SETTINGS_TAB_SETTING]:M,[d.e.SETTINGS_POPUP_SNIPPET]:M,[d.e.SETTINGS_SNIPPET]:M,[d.e.SETTINGS_BLOCK_IMAGES]:M,[d.e.SETTINGS_NOTIFICATIONS]:M,[d.e.SETTINGS_CONVERSATION]:M,[d.e.SETTINGS_AUTOMATIC_REPLY]:function({value:e}){const{enabled:t}=e;return{setTo:t?"true":"false"}},[d.e.BLOCK_SENDERS_SUBMIT]:function(e){const{deleteItemsFromSenders:t}=e;return{deleteItemsFromSenders:t?t.length:0}},[d.e.SEND]:function(e,t){const{to:s=[],cc:n=[],bcc:a=[],csid:r,attachmentsInfo:o=[],containsStationery:i}=e,{isReplyMessage:c,isReplyAllMessage:l,isForwardMessage:d,getInForwardToMessageId:u}=Object(_.b)(t.getState()),m=u(r);return{sttnry:i,to:s?s.length:0,cc:n?n.length:0,bcc:a?a.length:0,mid:m||"",compType:c(r)||l(r)||d(r)?"inline":"comp",numAttchmts:o.length,sizeAttchmts:o.reduce((e,{size:t})=>e+t,0)}},[d.e.COMPOSE_ADD_ATTACHMENT]:y,[d.e.COMPOSE_DRAG_ATTACHMENT]:y,[d.e.COUPON_CLIPPED]:D,[d.e.COUPON_UNCLIPPED]:D,[d.e.DOWNLOAD_ATTACHMENT]:A,[d.e.ATTACHMENT_PREVIEW_DOCUMENT_DOWNLOAD]:A,[d.e.ATTACHMENT_PREVIEW_IMAGE_DOWNLOAD]:A,[d.e.ATTACHMENT_LIGHTBOX_DOCUMENT_DOWNLOAD]:A,[d.e.ATTACHMENT_LIGHTBOX_IMAGE_DOWNLOAD]:A,[d.e.DOWNLOAD_ATTACHMENT_ALL]:function({attachments:e=[]}){return e.map(({type:e,subtype:t,size:s})=>({fileType:Object(r.d)(e,t),fileSize:s}))},[d.e.AUTHORIZE_IMAP_ACCOUNT]:function(e){const{email:t}=e;return{prvdr:Object(o.f)(t)}},[d.e.COUPON_OPENED]:L,[d.e.RECEIPT_OPENED]:L,[d.e.TRAVEL_READ_MSG]:L,[d.e.PLA_GPT_CATEGORY_CLICKED]:function(e,t){const{keyword:s}=e,{getAdsSelectors:n,getCouponsSelectors:a}=Object(_.b)(t.getState()),{couponsRetailer:r}=a().getCouponsGPTData(),o=n().getPlaAdsForKeyword(s,r);if(o)return babelHelpers.extends({loadDataFromStore:!0,plaAdCount:o.length},Object(u.a)(e,"i13nModel.actionData",{}))},[d.e.LINK_ENHANCER_MOVE_LINK_INLINE]:v,[d.e.LINK_ENHANCER_ADD_LINK]:v,[d.e.LINK_ENHANCER_RESIZE_LINK]:v,[d.e.LINK_ENHANCER_REMOVE_LINK]:v,[d.e.LINK_ENHANCER_MOVE_LINK_BOTTOM]:v,[d.e.LINK_ENHANCER_SHARE_LINK]:v,[d.e.LINK_ENHANCER_OPEN_LINK]:v,[d.e.TOGGLE_LIST_VISIBILITY]:function(e,t){const s=Object(u.a)(e,"i13nModel.actionData",{}),{getListsSelectors:n}=Object(_.b)(t.getState()),{isListExpanded:a}=n();return babelHelpers.extends({},s,{listId:e.listId,isExpanding:a(e.listId)})}},F=s(59),x=s.n(F).a.create("norrin/i13n_client"),w=s(106),k=s(144),H=s(19);s.d(t,"a",function(){return j});const U={init(e){if("undefined"==typeof window)return;const t=window,s=t.rapidInstance;t.Y=t.YAHOO||{},t.Y.i13n=t.Y.i13n||{};const n=Object.assign({},e.rapid);if(n&&(n.pageview_on_init=!1),t.Y.i13n.Rapid){if(!s)try{t.rapidInstance=new t.Y.i13n.Rapid(n)}catch(e){const t=new k.a(e);w.a.error("Rapid init error",{rapidConfig:n,name:e.name||"",message:e.message||"",stack:t.toString()})}}else w.a.error("Rapid is not loaded");return t.rapidInstance},getRapidInstance:()=>"undefined"!=typeof window&&void 0!==window.rapidInstance&&window.rapidInstance,sendI13nModel(e,t,s=!1){const n=Object.assign({},e.i13nModel),a=P[n.mKey];"function"==typeof a&&(n.actionData=Object.assign({},n.actionData,a.call(this,e,t))),s&&n.mKeyGroup!==d.f.search&&n.sec!==d.g.FEATURE_CUE&&(n.mKey="SRP_"+n.mKey),function({mKey:e,sec:t,mKeyGroup:s,actionData:n={},interactionType:a=d.d.click}={}){if(!t||!e)return;d.d[a]||(a=d.d.click);const{mHref:r}=n,o=babelHelpers.objectWithoutProperties(n,["mHref"]),i={mKey:e,mHref:r?r.slice(0,290):null,intrctn:a,coreActn:s||null,actnData:Object(u.b)(o)?null:JSON.stringify(o)},c=x.feature(l.p.RapidClient,Object.assign({},{sec:t},i)),m=U.getRapidInstance();m?(c.logSuccess(),m.beaconClick(t,null,0,i)):c.logFailure()}(n)},sendBeaconEvent(e,t){const{i13nModel:s}=e,n=P[s.eventName];"function"==typeof n&&(s.pageParams=n.call(this,e,t),s.pageParams.etrg=s.etrg),function({eventName:e,pageParams:t,outcome:s}){const n=x.feature(l.p.RapidClient,{eventName:e,outcome:s}),a=U.getRapidInstance();a?(n.logSuccess(),a.beaconEvent(e,t,s)):n.logFailure()}(s)}};t.b=U;function j(e){return Object(H.a)(e,"the section id doesn't exist"),function(t){Object(H.a)(t,"expected a payload containg at least a mKey");const{mKey:s,event:a}=t,r=babelHelpers.objectWithoutProperties(t,["mKey","event"]);return Object(H.a)(s,"mKey can't be undefined. Check typo or define it in constants"),{i13nModel:babelHelpers.extends({},r,{mKey:s,sec:e,interactionType:a?Object(n.i)(a):d.d.click})}}}},function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"e",function(){return i}),s.d(t,"d",function(){return c}),s.d(t,"a",function(){return l});var n=s(0),a=s(7);function r(e){return e&&e.types?e.types[0]:""}function o(e,t={}){let s={};switch(e){case n.zd.UNREAD:s={keyword:n.wd.UNREAD,excludefolders:[n.ub.ARCHIVE],referrer:n.Hb[n.zd.UNREAD]};break;case n.zd.STARRED:s={keyword:n.wd.STARRED,referrer:n.Hb[n.zd.STARRED]};break;case n.zd.PHOTOS:s={listContentType:n.Fb.IMAGES,referrer:n.Hb[n.zd.PHOTOS],listFilter:n.Gb.ALL_PHOTOS};break;case n.zd.PHOTOS_EMAIL:s={listContentType:n.Fb.IMAGES,referrer:n.Hb[n.zd.PHOTOS],listFilter:n.Gb.EMAIL_PHOTOS};break;case n.zd.PHOTOS_MOBILE:s={listContentType:n.Fb.IMAGES,referrer:n.Hb[n.zd.PHOTOS],listFilter:n.Gb.MOBILE_PHOTOS};break;case n.zd.DOCUMENTS:s={listContentType:"DOCUMENTS",referrer:n.Hb[n.zd.DOCUMENTS]};break;case n.zd.COUPONS:s={listContentType:n.Fb.COUPON_CARDS,referrer:n.Hb[n.zd.COUPONS],listFilter:n.Gb.ALL_COUPON_CARDS};break;case n.zd.GROCERIES:s={listContentType:n.Fb.GROCERY_STORES,referrer:n.Hb[n.zd.GROCERIES],listFilter:n.Gb.LINKED_GROCERY_STORES};break;case n.zd.RECEIPTS:s={listContentType:n.Fb.REFUND_CARDS,referrer:n.Hb[n.zd.RECEIPTS],listFilter:n.Gb.ALL_REFUND_CARDS};break;case n.zd.TRAVEL:s={excludefolders:[n.ub.TRASH,n.ub.BULK],listContentType:n.Fb.TRAVEL_CARDS,sortOrder:n.Cd.CARD_DATE_ASC,listFilter:n.Gb.TRAVEL_VIEW_UPCOMING,referrer:n.Hb[n.zd.TRAVEL]};break;case n.zd.TRAVEL_PAST:s={excludefolders:[n.ub.TRASH,n.ub.BULK],listContentType:n.Fb.TRAVEL_CARDS,sortOrder:n.Cd.CARD_DATE_DESC,listFilter:n.Gb.TRAVEL_VIEW_PAST,referrer:n.Hb[n.zd.TRAVEL]};break;case n.zd.TRAVEL_EMAILS:s={keyword:n.wd.TRAVEL,listContentType:n.Fb.MESSAGES,sortOrder:n.Cd.DATE_DESC,referrer:n.Hb[n.zd.TRAVEL]};break;case n.zd.PEOPLE:s={listFilter:n.Gb.PEOPLE,excludefolders:[n.ub.TRASH,n.ub.BULK],referrer:n.Hb[n.zd.PEOPLE]};break;case n.zd.SHOPPING_EMAILS:s={listFilter:n.Gb.SHOPPING,excludefolders:[n.ub.TRASH,n.ub.BULK],referrer:n.Hb[n.zd.COUPONS]};break;case n.zd.SHOPPING_YAHOO_DEALS:s={listContentType:n.Fb.YAHOO_DEAL_CARDS,referrer:n.Hb[n.zd.COUPONS]}}return s.excludefolders&&t.excludefolders&&(s.excludefolders=t.excludefolders),delete t.excludefolders,Object.assign(s,t)}function i(e){const t=Object(a.q)(e),s=Object(a.x)(e);return Object(a.E)(e)&&t===n.Fb.MESSAGES&&s===n.xd[n.zd.TRAVEL]}function c(e){const t=Object(a.t)(e);return e.name===n.Uc.SEARCH&&Object(a.q)(t)===n.Fb.IMAGES&&Object(a.x)(t)===n.xd[n.zd.PHOTOS]}function l(e){const t=e.split(":");if(2!==t.length)return null;const s=function(e){return Object.keys(n.Y).find(t=>n.Y[t]===e)||null}(t[0]);return s&&n.Qd.indexOf(s)>-1?{name:s,status:parseInt(t[1],10)||0}:null}},function(e,t,s){"use strict";s.d(t,"e",function(){return a}),s.d(t,"d",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"a",function(){return l}),s.d(t,"g",function(){return d});var n=s(8);const a=[{name:"modern",label:"Modern",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},{name:"modernwide",label:"Modern Wide",fontFamily:"verdana, helvetica, sans-serif"},{name:"classic",label:"Classic",fontFamily:'"times new roman", "new york", times, serif'},{name:"classicwide",label:"Classic Wide",fontFamily:'"bookman old style", "new york", times, serif'},{name:"courier",label:"Courier New",fontFamily:'"courier new", courier, monaco, monospace, sans-serif'},{name:"garamond",label:"Garamond",fontFamily:'garamond, "new york", times, serif'},{name:"lucida",label:"Lucida Console",fontFamily:'"lucida console", sans-serif'}],r=[{name:"tiny",fontSize:1,value:"10px"},{name:"small",fontSize:2,value:"13px"},{name:"medium",fontSize:3,value:"16px"},{name:"large",fontSize:5,value:"24px"},{name:"xlarge",fontSize:6,value:"32px"},{name:"huge",fontSize:7,value:"48px"}],o={10:"1",13:"2",16:"3",24:"5",32:"6",48:"7"},i={TINY:"10px",SMALL:"13px",MEDIUM:"16px",LARGE:"24px",XLARGE:"32px",HUGE:"48px"},c=100,l={EDITOR:"editor",FROM:"from",TO:"to",SUBJECT:"subject",CC:"cc",BCC:"bcc"},d=Object(n.c)(["SENDING","SENT","SEND_FAILED"])},function(e,t,s){"use strict";var n=s(4);t.a=Object(n.h)({all_mail_title:{id:"advanced_search.all_mail_title",defaultMessage:"All mail"},unknown_folder_title:{id:"advanced_search.unknown_folder_title",defaultMessage:"Unknown Folder"},system_folder_label:{id:"advanced_search.system_folder_label",defaultMessage:"Select this system folder for searching"},custom_folder_label:{id:"advanced_search.custom_folder_label",defaultMessage:"Select this custom folder for searching"},yahoo_account_description:{id:"advanced_search.yahoo_brand_name",defaultMessage:"Yahoo"},gmail_account_description:{id:"advanced_search.gmail_brand_name",defaultMessage:"Gmail"},aol_account_description:{id:"advanced_search.aol_brand_name",defaultMessage:"Aol"},outlook_account_description:{id:"advanced_search.outlook_brand_name",defaultMessage:"Outlook"},unknown_account_description:{id:"advanced_search.unknown_account_description",defaultMessage:"Unknown"}})},function(e,t,s){"use strict";s.d(t,"i",function(){return u}),s.d(t,"h",function(){return m}),s.d(t,"j",function(){return p}),s.d(t,"l",function(){return _}),s.d(t,"n",function(){return h}),s.d(t,"m",function(){return E}),s.d(t,"f",function(){return g}),s.d(t,"g",function(){return b}),s.d(t,"d",function(){return I}),s.d(t,"k",function(){return f}),s.d(t,"a",function(){return O}),s.d(t,"b",function(){return R}),s.d(t,"c",function(){return N}),s.d(t,"o",function(){return M}),s.d(t,"e",function(){return D}),s.d(t,"q",function(){return y}),s.d(t,"p",function(){return L});var n=s(36),a=s.n(n),r=s(0),o=s(35),i=s(34),c=s(47),l=s(8),d=s(139);function u(e,{listContentType:t},s){if(!e||!t)throw new o.a("BootcampApiClient.SearchError");const{items:n=[],totalHits:a,extendUrl:r="",cursor:i}=e;return{totalHits:a,offset:n.length?i:"",nextItemsUrl:r,items:d.a[t]?d.a[t](n,s):n}}function m({items:e=[],cursor:t=0,totalHits:s=0,extendUrl:n=""}={}){return{cardGroupList:d.a[r.Fb.COUPON_CARDS](e),offset:parseInt(""===t?0:t,10),totalHits:s,hasMoreItems:!!n,nextItemsUrl:n}}function p(e){if(!e)throw new o.a("BootcampApiClient.LocalStoresError");const{items:[{listing:[t={}]=[]}={}]=[]}=e;return{nearbyListing:t}}function _(e){if(!e)throw new o.a("BootcampApiClient.RecentSearchError");return e}function h(e={}){if(void 0===e.offer)throw new o.a("BootcampApiClient.RetailerOffersError");const{offer:t=[],paginationInfo:{offset:s=0,offerType:n=""}={},statusCode:a}=e;return{offers:t.map(e=>{const t=Object(l.a)(e,"offerExpiryDate",""),s=Object(l.a)(e,"requirements",{}),n=Object(l.a)(s,"rewards.discounts",[]),a=Object(l.a)(n[0],"value","0")||"0",o=Object(l.a)(n[0],"amountUnit","USD"),i=Object(l.a)(s,"offerType",r.Lc.AMOUNT);return{amountUnit:o,brandName:Object(l.a)(e,"brandName",""),description:Object(l.a)(e,"offerDescription",""),discountType:i,expiryTimestamp:new Date(t).getTime(),imageUrl:Object(l.a)(e,"offerImage.offerImage1",""),offerId:Object(l.a)(e,"offerId",""),value:i===r.Lc.AMOUNT?Number(a).toFixed(2):Number(a).toFixed(0)}}),hasMoreItems:!!n,offset:parseInt(""===s?0:s,10),offerType:n,statusCode:a}}function E(e={}){if(void 0===e.offer)throw new o.a("BootcampApiClient.RetailerActivatedOffersError");const{offer:t=[],paginationInfo:{startRecord:s=0,totalRecordsPerPage:n=0,totalRecords:a=0}={},statusCode:i}=e,c=s+n<a;return{offers:t.map(e=>{const t=Object(l.a)(e,"offerExpiryDate",""),s=Object(l.a)(e,"requirements",{}),n=Object(l.a)(s,"rewards.discounts",[]),a=Object(l.a)(n[0],"value","0")||"0",o=Object(l.a)(n[0],"amountUnit","USD"),i=Object(l.a)(s,"offerType",r.Lc.AMOUNT);return{amountUnit:o,brandName:Object(l.a)(e,"brandName",""),description:Object(l.a)(e,"offerDescription",""),discountType:i,expiryTimestamp:new Date(t).getTime(),imageUrl:Object(l.a)(e,"offerImage.offerImage1",""),offerId:Object(l.a)(e,"offerId",""),value:i===r.Lc.AMOUNT?Number(a).toFixed(2):Number(a).toFixed(0)}}),hasMoreItems:c,offset:c?s+n:0,numActivatedOffers:a,statusCode:i}}function g(e){if(!e)throw new o.a("BootcampApiClient.LocalStoresError");return{messageGroupsResponses:[{cardGroupList:e.items.map(e=>({id:e.immutableId,messages:[a()(babelHelpers.extends({},e.messageMetadata,{schemaCards:Object(c.p)(e.messageMetadata)}),["schemaOrg"])]})),filter:r.Gb.ALL_COUPON_CARDS,hasMoreItems:!1,offset:""}],parentMessagesMap:{}}}function b(e){return e&&e.items?e.items.map(e=>Object(l.a)(e,"messageMetadata.schemaOrg.0.schema",{})):null}function I(e,{listContentType:t},s){if(!e||!t)throw new o.a("BootcampApiClient.gifCategoriesApiError");return{categories:e.categories.map(({gifs:n={},itemsUrl:a="",queryString:r=""},o)=>{const{items:i=[],extendUrl:c="",cursor:l=""}=n;return babelHelpers.extends({},e.categories[o],{gifs:{offset:l,nextItemsUrl:c||a||"",items:d.a[t]?d.a[t](i,[],s):i},itemsUrl:a||"",queryString:r||""})})}}function f({status:e,response:t}){if(401===e)throw new o.a(i.b,{statusCode:e,errorCode:"AUTH",refresh:!1});if(!t||200!==e)throw new o.a("BootcampApiClient.SearchError");let s=[];if(t.verticals){t.verticals.reduce((e,t={})=>e.concat(Object(l.a)(t,"contentBlocks",[])),[]).forEach(e=>{const{blockType:t,content:n}=e;if("ADS"===t){const e="PLAADS",{items:t}=n,a=d.a[e](t);s=s.concat(a)}})}return s}const S=e=>e&&e.items&&0===e.items.length&&!!e.extendUrl,A=e=>"CPN"===e.id,T=e=>"CRD"===e.id,C=e=>e.reduce((e,t)=>{if("CARDS"!==t.blockType)e.push(t);else{const s={};t.content.items.forEach(e=>{const{decos:n}=e.messageMetadata;let a=r.Fb.CARDS;n.some(T)&&n.some(A)&&(a=r.Fb.COUPON_CARDS),s[a]||(s[a]=babelHelpers.extends({},t,{blockType:a,content:babelHelpers.extends({},t.content,{items:[]})})),s[a].content.items.push(e)}),e.push(...Object(l.e)(s))}return e},[]);function O(e,t){const s=e.reduce((e,t={})=>e.concat(Object(l.a)(t,"contentBlocks",[])),[]);return C(s).reduce((e,s={})=>{const{filter:n=r.Gb.WITH_KEYWORD,content:a}=s;let{blockType:o}=s;if("ADS"===o&&(o="PLAADS"),!r.Gb[n]||S(a))return e;if(e[o]||(e[o]={}),e[o][n]={items:[],suggestedWords:[],totalHits:0,nextItemsUrl:"",offset:0},a){const{items:s=[],suggestedWords:r=[],extendUrl:i="",totalHits:c,cursor:l,queryResponse:u}=a;e[o][n]=babelHelpers.extends({totalHits:c,offset:s.length?l:void 0,nextItemsUrl:i,suggestedWords:r,items:d.a[o]?d.a[o](s,t):s},u&&{lmv3Query:u})}return e},{})}function R(e){const t=Object(l.a)(e,"UNIResponse.AdResponse.0.Results.0.ResultSet.0.Listing",[]),s=d.a[r.Fb.ADS](t);return{[r.Fb.ADS]:{[r.Gb.WITH_KEYWORD]:{items:s}}}}function N(e){const t=e.getElementsByTagName("Listing"),s=d.a[r.Fb.ADS](t);return{[r.Fb.ADS]:{[r.Gb.WITH_KEYWORD]:{items:s}}}}function M(e){if(!e||!e.response)throw new o.a("BootcampApiClient.SuggestionError");return e.response.suggestions}function D(e){return e.reduce((e,t)=>{const{name:s,isConnected:n,additionalProperties:a={}}=t,r=(a.additionalStatus||[]).reduce((e,t)=>Object.assign(e,{[t.name]:"connected"===t.status}),{});return Object.assign(e,{[s]:{isConnected:n,connectionDetails:r}})},{})}function y(e){const t=Object(l.a)(e,"pivotInfoList.0.pivotInfoList",null);if(!t)throw new o.a("BootcampApiClient.TopRetailersError");return t.map(({count:e,pivotName:t,contentItems:s})=>{return{count:e,email:t,nameFromEmail:Object(l.a)(s,"0.internalKVSet.custom.messageMetadata.headers.from.0.name","")}})}function L(e){const t=Object(l.a)(e,"pivotInfoList.0.pivotInfoList",null),s={};if(!t)throw new o.a("BootcampApiClient.TopDealCategoriesError");for(const e of t){const t=e.pivotName.split(">")[0];"Other"!==t&&(s[t]=s[t]?s[t]+e.count:e.count)}return Object.keys(s).sort((e,t)=>s[t]-s[e])}},function(e,t,s){"use strict";s.d(t,"a",function(){return l}),s.d(t,"b",function(){return d});var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(10),c=(s(8),s(37),s(258));const l="https://s.yimg.com/dh/ap/social/profile/profile_a64.png",d={C:{imageSize:i.AVATAR_SIZE_COMPACT,requestSize:64},S:{imageSize:i.AVATAR_SIZE_S,requestSize:64},M:{imageSize:i.AVATAR_SIZE_M,requestSize:80},L:{imageSize:i.AVATAR_SIZE_L,requestSize:256},QUOTIENT_M:{imageSize:i.AVATAR_SIZE_40,requestSize:80},NOBLE_S:{imageSize:i.AVATAR_SIZE_24,requestSize:64},NOBLE_L:{imageSize:i.AVATAR_SIZE_40,requestSize:64},NOBLE_XL:{imageSize:i.AVATAR_SIZE_60,requestSize:64}};class u extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={imageLoaded:!1},this.src=(()=>{const{fallback:e=l,contact:t,size:s}=this.props,{requestSize:n}=s,{appId:a}=this.context;return Object(c.a)(t,n,e,a)}),t}componentDidMount(){this._isMounted=!0;const e=this.props.useFallbackImage?null:this.src();e&&(this.image=new Image,this.image.onload=(()=>{this._isMounted&&this.setState({imageLoaded:!0})}),this.image.src=e,window.requestAnimationFrame(()=>{this.refs.image&&(this.refs.image.removeAttribute("clip-path","url(#clip-orb)"),this.refs.image.setAttribute("clip-path","url(#clip-orb)"))}))}componentWillUnmount(){this._isMounted=!1}render(){const{imageLoaded:e}=this.state,{size:t,useFallbackImage:s,customFallbackImageData:n}=this.props,{imageSize:a}=t;return o.a.createElement("svg",{width:a,height:a,viewBox:"0 0 20 20"},o.a.createElement("image",{ref:"image",xlinkHref:e&&!s?this.src():n,width:"20",height:"20",clipPath:"url(#clip-orb)"}))}}u.contextTypes={appId:a.a.string},u.defaultProps={size:d.M,useFallbackImage:!1,customFallbackImageData:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAAAAACPAi4CAAACGElEQVRYw83WWXPaMBSG4fz/XyUdSba8yLKN3WwlNyFt4ialKc3SFKwCLZhYR8QeJzO81995xgzLcEQGdkRGnwY0WgLlyYDKgwCK4wEV7wEMfhc+ECh0kqTFm0BeOoqJryJBuB/qwrXJ9wAZnZplL98vTwREhRvICjQljs22b5Ljs8wFjIR/+tQApj6HrBcgdW1ed86dwMguJY+tezOHBBm6gCA3VkXgANLcjlc28EUgwxQHNJnbwCPJOgPKN0hU44DOrOIQA0DZS+0AAhRIcCBJrSKJP4G9THAg9jAAWzoAgb2EmkkcULqdIi/YE9wTjUwxIGLYvflDko6AIjUGPDieIE6s6E8MqLi9jHFAXGBA4eFApKwCuHq2XsAlRZYRDigfTttAxgLVHVAhtL6PT/huBYQxFr96DXzm6Cx0Ar5s/aAFbiBCo3e7wIThqz2AUDv3C+G7gSBEC+BrA4xZ6Fg5AekB/bG5vybgyT6A5EDV+ObXBpjdjBUFLnFABq0Eo+Xtov1BWtyWlIn2VlqAFOBN5ujX2cwnHgi5F5CchlVtnNVVSLlsAb7c5DOip+aNpnr5l6M52QUETWemQ7N8+RQ7gOf/i0FlOnbH2f8jrwE4fzCd+x2wNuCRe9OjZxBbQHirmDa9Ktn6TDTAWT/grAG4WAV9AVif8YMAGF8FQvVKwPqMbQEGPWMNMKiDAGBQ7wHQQR0EMLC/CsyEDBnhc8AAAAAASUVORK5CYII=",contact:{}},t.c=u},function(e,t,s){"use strict";var n=s(13),a=s(165),r=s(9),o=s(0);t.a=Object(n.b)(function(e,{folderId:t,isCountVisible:s}){const n=Object(r.b)(e).getFoldersSelectors(),a=n.getFolderName(t),i=n.getFolderDisplayTypeByFolderId(t);let c;return s&&(c=i===o.Jd.DRAFT?n.getFolderTotal(t):n.getFolderUnreadCount(t)),{name:a,folderDisplayType:i,count:c}})(a.a)},function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"a",function(){return l}),s.d(t,"d",function(){return d});var n=s(0),a=s(2),r=s(5),o=s(8);function i(e,t){switch(t){case n.Uc.FOLDER:return e.launchFolder;case n.Uc.NEW_DRAFT:case n.Uc.EDIT_DRAFT:return e.launchCompose;case n.Uc.MESSAGE_FROM_FOLDER_LIST:return e.launchMessage;default:return e.root}}const c=(e,t)=>e&&`https://redirect.viglink.com?u=${encodeURIComponent(e)}&key=${t}`,l=Object(o.c)([a.mk,a.H,a.Rf,a.Ef,a.Zg,a.Qe,a.ed,a.Vh,a.vh,a.ak,a.Ph,a.Mh,a.Pf,a.F,a.ji,a.Eb,a.qg,a.Re,a.Fh,a.ke]),d=e=>{switch(e.type){case a.R:return e.isVisible;case a.Cg:return e.route.name!==n.Uc.SPONSORED_MESSAGE;case a.Vi:return e.previewPane!==n.Gc.NO;case a.Bg:return e.online&&e.rotateAdsOnline;case a.mj:return e.forceSync&&Object(o.a)(e,"i13nModel.mKey",null)===r.e.PULL_TO_REFRESH;case a.rb:case a.qb:return e.rotateAds;case a.Pf:return!1;default:return!!l[e.type]}}},function(e,t,s){"use strict";s.d(t,"c",function(){return u}),s.d(t,"a",function(){return m}),s.d(t,"d",function(){return p}),s.d(t,"b",function(){return _});const n=/'/g,a="‍",r=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u08A0-\u08A9\u08AF\u08B0\u08B3\u08B4\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA872]|\uD802[\uDEC0-\uDEC4\uDECD\uDED3-\uDEDC\uDEDE-\uDEE0\uDEEB-\uDEEE\uDF80\uDF82\uDF86-\uDF88\uDF8A\uDF8B\uDF8D\uDF90\uDFAD\uDFAE]/,o=/[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u08A0-\u08AC\u08AE-\u08B4\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA871]|\uD802[\uDEC0-\uDEC5\uDEC7\uDEC9\uDECA\uDECE-\uDED6\uDED8-\uDEE1\uDEE4\uDEEB-\uDEEF\uDF80-\uDF91\uDFA9-\uDFAE]/;function i(e){return e.charCodeAt(0)>=1568}function c(e){return(e=e.slice(-1))&&i(e)&&r.test(e)}function l(e){return(e=e[0])&&i(e)&&o.test(e)}const d=(e="",t="")=>{const s=m(t);return e.search(new RegExp(`(^${s}| +${s})`,"i"))};function u(e="",t=""){let s=d(e,t);if(s>0&&s++,s>=0){const n=s+t.length;return function(e,t=a){return e.forEach((e,s,n)=>{0!==s&&l(e)&&c(n[s-1])&&(n[s-1]=n[s-1]+t,n[s]=t+n[s]),n[s+1]&&c(e)&&l(n[s+1])&&(n[s+1]=t+n[s+1],n[s]=n[s]+t)}),e}([e.substring(0,s),e.substring(s,n),e.substring(n)])}return[e]}function m(e=""){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function p(e,t,s){var n="";return s=void 0!==s?s:"...",n=e=e||"",e.length>(t=t||0)&&(n=e.substr(0,t-s.length)+s),n}function _(e=""){return e.replace(n,'"')}},function(e,t,s){"use strict";s.d(t,"s",function(){return a}),s.d(t,"r",function(){return r}),s.d(t,"f",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"e",function(){return c}),s.d(t,"x",function(){return l}),s.d(t,"v",function(){return d}),s.d(t,"w",function(){return u}),s.d(t,"q",function(){return m}),s.d(t,"p",function(){return p}),s.d(t,"o",function(){return _}),s.d(t,"n",function(){return h}),s.d(t,"c",function(){return E}),s.d(t,"a",function(){return g}),s.d(t,"b",function(){return b}),s.d(t,"k",function(){return I}),s.d(t,"j",function(){return f}),s.d(t,"m",function(){return S}),s.d(t,"l",function(){return A}),s.d(t,"u",function(){return T}),s.d(t,"t",function(){return C}),s.d(t,"g",function(){return O}),s.d(t,"i",function(){return R}),s.d(t,"h",function(){return N});var n=s(2);const a=({retailers:e,listIds:t,hasMoreItems:s})=>({type:n.zh,retailers:e,listIds:t,hasMoreItems:s}),r=(e,t)=>({type:n.yh,listIds:e,error:t}),o=({retailers:e,listIds:t,i13nModel:s})=>({type:n.kf,retailers:e,listIds:t,i13nModel:s}),i=(e,t,s,a)=>({type:n.if,retailerId:e,error:t,errorHint:s,i13nModel:a}),c=({retailerId:e="",loyaltyId:t="",linked:s=null,parentName:a=""}={})=>({type:n.jf,retailerId:e,loyaltyId:t,linked:s,parentName:a}),l=({retailers:e,listIds:t})=>({type:n.Fj,retailers:e,listIds:t}),d=(e,t)=>({type:n.Dj,retailerId:e,error:t}),u=({retailerId:e=""}={})=>({type:n.Ej,retailerId:e}),m=({listId:e="",offers:t=[],hasMoreItems:s=!1,offset:a="",offerType:r=""})=>({type:n.Ag,listId:e,offers:t,hasMoreItems:s,offset:a,offerType:r}),p=(e,t)=>({type:n.zg,listId:e,error:t}),_=({listId:e="",offers:t=[],hasMoreItems:s=!1,offset:a="",offerType:r=""})=>({type:n.gg,listId:e,offers:t,hasMoreItems:s,offset:a,offerType:r}),h=(e,t)=>({type:n.fg,listId:e,error:t}),E=(e=[],t="",s={})=>({type:n.B,listId:t,offers:e,i13nModel:s}),g=e=>({type:n.z,error:e}),b=({retailerId:e="",offer:t={}}={})=>({type:n.A,retailerId:e,offer:t}),I=({listId:e="",offers:t=[],hasMoreItems:s=!1,offset:a="",numActivatedOffers:r=0})=>({type:n.y,listId:e,offers:t,hasMoreItems:s,offset:a,numActivatedOffers:r}),f=(e,t)=>({type:n.x,listId:e,error:t}),S=({listId:e="",offers:t=[],hasMoreItems:s=!1,offset:a="",numActivatedOffers:r=0})=>({type:n.Xf,listId:e,offers:t,hasMoreItems:s,offset:a,numActivatedOffers:r}),A=(e,t)=>({type:n.Wf,listId:e,error:t}),T=({retailerId:e="",totalSavings:t=0,offersUsed:s=0}={})=>({type:n.Jh,retailerId:e,totalSavings:t,offersUsed:s}),C=e=>({type:n.Ih,error:e}),O=(e={})=>({type:n.Ve,i13nModel:e.i13nModel}),R=(e={})=>({type:n.eh,i13nModel:e.i13nModel}),N=({retailerId:e=""}={})=>({type:n.ah,retailerId:e})},function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s(8);const a=Object(n.c)(["TopLeft","TopCenter","TopRight","CenterLeft","CenterCenter","CenterRight","BottomLeft","BottomCenter","BottomRight"])},function(e,t,s){"use strict";s.d(t,"x",function(){return a}),s.d(t,"y",function(){return r}),s.d(t,"s",function(){return o}),s.d(t,"t",function(){return i}),s.d(t,"C",function(){return c}),s.d(t,"E",function(){return l}),s.d(t,"D",function(){return d}),s.d(t,"z",function(){return u}),s.d(t,"B",function(){return m}),s.d(t,"A",function(){return p}),s.d(t,"d",function(){return _}),s.d(t,"f",function(){return h}),s.d(t,"e",function(){return E}),s.d(t,"u",function(){return g}),s.d(t,"w",function(){return b}),s.d(t,"v",function(){return I}),s.d(t,"g",function(){return f}),s.d(t,"i",function(){return S}),s.d(t,"h",function(){return A}),s.d(t,"b",function(){return T}),s.d(t,"q",function(){return C}),s.d(t,"r",function(){return O}),s.d(t,"a",function(){return R}),s.d(t,"c",function(){return N}),s.d(t,"k",function(){return M}),s.d(t,"l",function(){return D}),s.d(t,"p",function(){return y}),s.d(t,"o",function(){return L}),s.d(t,"n",function(){return v}),s.d(t,"m",function(){return P}),s.d(t,"j",function(){return F});var n=s(2);const a=e=>babelHelpers.extends({type:n.ki},e),r=e=>babelHelpers.extends({type:n.li},e),o=e=>babelHelpers.extends({type:n.Fg},e),i=e=>babelHelpers.extends({type:n.Eg},e),c=e=>babelHelpers.extends({type:n.fi},e),l=e=>babelHelpers.extends({type:n.gi},e),d=e=>babelHelpers.extends({type:n.ei},e),u=e=>babelHelpers.extends({type:n.nc},e),m=e=>babelHelpers.extends({type:n.oc},e),p=e=>babelHelpers.extends({type:n.mc},e),_=e=>babelHelpers.extends({type:n.N},e),h=e=>babelHelpers.extends({type:n.O},e),E=e=>babelHelpers.extends({type:n.M},e),g=e=>babelHelpers.extends({type:n.Gb},e),b=e=>babelHelpers.extends({type:n.Hb},e),I=e=>babelHelpers.extends({type:n.Fb},e),f=e=>babelHelpers.extends({type:n.qd},e),S=e=>babelHelpers.extends({type:n.rd},e),A=e=>babelHelpers.extends({type:n.pd},e),T=e=>babelHelpers.extends({type:n.sd},e),C=e=>babelHelpers.extends({type:n.g},e),O=e=>babelHelpers.extends({type:n.k},e),R=e=>babelHelpers.extends({type:n.i},e),N=e=>babelHelpers.extends({type:n.w},e),M=e=>babelHelpers.extends({type:n.fe},e),D=e=>babelHelpers.extends({type:n.a},e),y=e=>babelHelpers.extends({type:n.bh},e),L=e=>babelHelpers.extends({type:n.Ge},e),v=e=>babelHelpers.extends({type:n.E},e),P=e=>babelHelpers.extends({type:n.b},e),F=e=>babelHelpers.extends({type:n.ai},e)},function(e,t,s){"use strict";s.d(t,"b",function(){return _}),s.d(t,"a",function(){return E});var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(27),c=s(4),l=s(49),d=s(8);const u=Object(c.h)({focus_group_aria_label:{id:"focus_group_aria_label",defaultMessage:"Keyboard navigation group. Use arrow keys to navigate, or tab to the next group."}}),m="data-iskeynav",p=`[${m}]`,_=Object(d.c)(["HORIZONTAL","VERTICAL"]),h=["escape","left","meta+left","right","meta+right","up","meta+up","down","meta+down",",","."];class E extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(e=>{const t=this.getNavigableElements();let s=e.target;for(;s!==e.currentTarget&&!s.getAttribute(m);)if(!(s=s.parentElement))return;t.indexOf(s)>-1&&-1===s.tabIndex&&this.applyFocusTo(s)}),this.handleKeyDown=(e=>{if(!e.target.isContentEditable&&!(this.props.skipKeydownOnFormElement&&-1!==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)||this.props.excludeKeyCodes.indexOf(e.key)>=0||this.props.excludeKeyCodes.indexOf(e.which)>=0)){switch(e.key){case"Escape":document.activeElement.blur()}if(this.props.axis===_.HORIZONTAL)switch(e.key){case"ArrowLeft":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToTop():this.navigate(-1);break;case"ArrowRight":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToEnd():this.navigate(1)}else switch(e.key){case"ArrowUp":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToTop():this.navigate(-1);break;case"ArrowDown":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToEnd():this.navigate(1)}switch(e.which){case l.a.COMMA:case l.a.FF_COMMA:e.preventDefault(),e.stopPropagation(),this.navigate(-1);break;case l.a.PERIOD:e.preventDefault(),e.stopPropagation(),this.navigate(1);break;default:return}}}),this.jumpToTop=(()=>{this.jump()}),this.jumpToEnd=(()=>{this.jump(!0)}),this.jump=(e=>{const t=this.getNavigableElements();let s,n=0,a=1,r=t.length-1;for(e&&(n=r,a=-1,r=0),s=t[n];this.isNotFocusable(s)&&n!==r;)s=t[n+=a];this.applyFocusTo(s)}),this.isNotFocusable=(e=>!(e&&e.offsetHeight&&!e.disabled)),this.getNavigableElements=(()=>{const e=Object(i.findDOMNode)(this);return Array.prototype.slice.call(e.querySelectorAll(p))}),this.navigate=(e=>{const t=this.getNavigableElements(),{min:s,max:n}=Math,a=t.length-1,r=t.indexOf(document.activeElement);let o,i;if(t.length){for(this.props.circularNavigation?(o=r+e)>a?o=0:o<0&&(o=a):o=s(n(r+e,0),a),i=t[o];i&&this.isNotFocusable(i);)i=t[o+=e];i&&this.applyFocusTo(i)}}),this.resetTabIndex=(()=>{const e=Object(i.findDOMNode)(this).querySelectorAll('[tabindex="'+this.props.groupTabIndex+'"]');for(let t=0;t<e.length;++t)e[t].tabIndex=-1}),this.applyFocusTo=(e=>{this.resetTabIndex(),e.tabIndex=this.props.groupTabIndex,e.focus()}),t}componentDidMount(){const e=Object(i.findDOMNode)(this),t=this.getNavigableElements();t.length&&!e.querySelector(`[tabindex="${this.props.groupTabIndex}"]`)&&(t[0].tabIndex=this.props.groupTabIndex),this.mousetrap=this.context.bindShortcut(h,this.handleKeyDown,e)}componentWillUnmount(){this.context.unbindShortcut(h,this.mousetrap)}render(){const{formatMessage:e}=this.context.intl,t=Object.assign({},this.props);return delete t.axis,delete t.circularNavigation,delete t.groupTabIndex,delete t.groupTabIndex,delete t.excludeKeyCodes,delete t.skipKeydownOnFormElement,o.a.createElement("div",babelHelpers.extends({"data-test-id":"focus-group",ref:e=>this.focusGroup=e,onKeyDown:this.handleKeyDown,onClick:this.handleClick,"aria-label":e(u.focus_group_aria_label)},t),this.props.children)}}E.contextTypes={intl:c.i.isRequired,bindShortcut:a.a.func,unbindShortcut:a.a.func},E.defaultProps={axis:_.VERTICAL,circularNavigation:!0,groupTabIndex:0,skipKeydownOnFormElement:!0,excludeKeyCodes:[]}},function(e,t,s){"use strict";s.d(t,"f",function(){return c}),s.d(t,"h",function(){return l}),s.d(t,"g",function(){return d}),s.d(t,"o",function(){return u}),s.d(t,"n",function(){return m}),s.d(t,"a",function(){return p}),s.d(t,"c",function(){return _}),s.d(t,"b",function(){return h}),s.d(t,"q",function(){return E}),s.d(t,"r",function(){return g}),s.d(t,"j",function(){return b}),s.d(t,"p",function(){return I}),s.d(t,"k",function(){return f}),s.d(t,"m",function(){return S}),s.d(t,"l",function(){return A}),s.d(t,"e",function(){return T}),s.d(t,"d",function(){return C}),s.d(t,"i",function(){return O});var n=s(2),a=s(48),r=s(16),o=s(0),i=s(5);function c(e){return babelHelpers.extends({type:n.n},e)}function l(e){return babelHelpers.extends({type:n.o},e)}function d(e){return babelHelpers.extends({type:n.m},e)}function u(e){return babelHelpers.extends({type:n.d},e)}function m(e){return babelHelpers.extends({type:n.c},e)}function p(e){return babelHelpers.extends({type:n.h},e)}function _(e){return babelHelpers.extends({type:n.j},e)}function h(e){return babelHelpers.extends({type:n.f},e)}function E(e){return babelHelpers.extends({},e,{type:n.Ai})}function g(e){return babelHelpers.extends({},e,{type:n.Ci})}function b(){return Object(a.i)({route:Object(r.u)({settingsGroupId:o.qd.PERSONALIZE_INBOX}),i13nModel:{interactionType:i.d.nav,mKey:i.e.SETTINGS_LEFT_RAIL_SOCIAL_ACCOUNTS,sec:i.g.SETTINGS_LEFT_RAIL}})}function I(e){return babelHelpers.extends({},e,{type:n.Bi})}const f=e=>babelHelpers.extends({type:n.u},e),S=e=>babelHelpers.extends({type:n.v},e),A=e=>babelHelpers.extends({type:n.t},e);function T(e){return babelHelpers.extends({},e,{type:n.l})}function C(e){return babelHelpers.extends({type:n.e},e)}function O(e){return babelHelpers.extends({type:n.ie},e)}},function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return r});var n=s(106);function a(e,t=!0){try{return function(e,t=!0){if(!e||!/^https?:\/\//.test(e))return"";const s=new Image;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+encodeURIComponent((new Date).getTime())),s.src=e,s.src}(e,t)}catch(t){return n.a.error("sendBeacon_exception",{url:e}),""}}function r(e){if(!e||!/^https?:\/\//.test(e))return"";const t=document.createElement("iframe");t.src=e,t.width="1px",t.height="1px",t.style.display="none",document.body.appendChild(t)}},function(e,t,s){"use strict";s.d(t,"e",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"g",function(){return c}),s.d(t,"k",function(){return l}),s.d(t,"d",function(){return d}),s.d(t,"f",function(){return u}),s.d(t,"b",function(){return m}),s.d(t,"j",function(){return p}),s.d(t,"i",function(){return _}),s.d(t,"h",function(){return h});var n=s(2),a=s(7),r=s(0);const o=e=>babelHelpers.extends({type:n.eg},e),i=e=>babelHelpers.extends({type:n.bg},e),c=e=>babelHelpers.extends({type:n.kg},e),l=e=>babelHelpers.extends({type:n.og},e),d=e=>babelHelpers.extends({type:n.dg},e),u=e=>babelHelpers.extends({type:n.jg},e),m=e=>babelHelpers.extends({type:n.ag},e),p=e=>babelHelpers.extends({type:n.ng},e),_=e=>babelHelpers.extends({type:n.mg},e),h=e=>babelHelpers.extends({type:n.lg},e);t.a=(e=>{const t=Object(a.r)(e.listId);switch(Object(a.q)(e.listId)){case r.Fb.COUPON_CARDS:return babelHelpers.extends({type:n.Zf},e);case r.Fb.OFFER_CARDS:return babelHelpers.extends({type:t===r.Gb.ACTIVATED_OFFER_CARDS?n.Yf:n.hg},e);case r.Fb.REFUND_CARDS:return babelHelpers.extends({type:n.ig},e);default:return babelHelpers.extends({type:n.cg},e)}})},function(e,t,s){"use strict";s.d(t,"b",function(){return c}),s.d(t,"a",function(){return l}),s.d(t,"d",function(){return d}),s.d(t,"c",function(){return u});var n=s(7),a=s(0),r=s(63),o=s.n(r);const i=(e=[])=>e.reduce((e,t)=>{if(Object(n.q)(t.listId)!==a.Fb.MESSAGES||void 0===t.folder)return e;const{groupId:s,folder:r,destinationFolder:i={},flags:c=[],isAffected:l}=t,{originalFolderIds:d=[],folderIds:u=[],folderTypes:m=[],flags:p=[]}=e[s]||{};let _,h;return l?(_=i.id?[i.id]:[],h=i.types?[].concat(i.types):[]):(_=[r.id],h=[].concat(r.types)),babelHelpers.extends({},e,{[s]:{flags:l?p:p.concat(c),originalFolderIds:o()(d.concat(r.id)),folderIds:o()(u.concat(_)),folderTypes:o()(m.concat(h))}})},{}),c=(e=[],t=[])=>{const s=i(e);return Object.keys(s).filter(e=>{const{folderIds:n=[],folderTypes:r=[]}=s[e];return t.length?!n.some(e=>-1!==t.indexOf(e)):!r.some(e=>-1===[a.ub.TRASH,a.ub.BULK].indexOf(e))})},l=(e=[],t,s=[])=>{const a=i(e);return Object.keys(a).filter(e=>{const{flags:r=[]}=a[e];return s.some(e=>Object(n.N)(t,e))&&!r.some(e=>!e.read)})},d=(e,t)=>{const s=e.path.toLocaleLowerCase(),n=t.path.toLocaleLowerCase(),a=s.split("/"),r=n.split("/");let o=0,i=0;for(;o<a.length&&i<r.length;){const e=a[o],t=r[i];if(e!==t)return e.localeCompare(t);o++,i++}const c=s.localeCompare(n);return c||(s.localeCompare(n)||s.length-n.length)},u=(e,t,s)=>{const n=Math.floor(s/t),a=[];let r=0,o=0;return e.forEach(e=>{a[r]||(a[r]=[]),a[r].push(e),++o%n==0&&(r++,o=0)}),a}},function(e,t,s){"use strict";var n=s(21),a=s(24),r=s(59),o=s.n(r).a.create("norrin/push_notifications"),i=s(106);s.d(t,"a",function(){return p}),s.d(t,"b",function(){return _}),s.d(t,"e",function(){return h}),s.d(t,"c",function(){return E}),s.d(t,"f",function(){return g}),s.d(t,"g",function(){return I}),s.d(t,"h",function(){return f}),s.d(t,"d",function(){return S}),s.d(t,"i",function(){return T});const c={TEST:"/sw_test.js",PROD:"/sw.js"},l="/onepush/v1/public/yql?format=json",d="com.yahoo.mail.browser.chrome",u="mail",m="CR-SDK v=1;id=mail;sig=2a99128d27f0438381b5ae0124edeb97b82271265bf9dc62907b7a7f3d7abc2e",p={DEFAULT:"default",GRANTED:"granted",DENIED:"denied"},_={RENEW:"renew-subscription",SUBSCRIBE:"subscribe"};function h(){return Object(a.b)()&&"serviceWorker"in window.navigator&&"PushManager"in window&&"showNotification"in ServiceWorkerRegistration.prototype}function E(e){if(h())return window.navigator.serviceWorker.addEventListener("message",e)}function g(){return h()?window.navigator.serviceWorker.getRegistration().then(e=>e&&e.pushManager.getSubscription()).then(e=>!!e).catch(()=>!1):Promise.resolve(!1)}function b(){if(!h())return Promise.reject(new Error("Service Workers not supported"));const e=window.AppBootstrapData&&("alpha"===window.AppBootstrapData.environment||"beta"===window.AppBootstrapData.environment);return window.navigator.serviceWorker.register(e?c.TEST:c.PROD)}function I(e){const t=o.feature("push_notifications_subscription",{subscriptionIds:e});return b().then(function(e){return window.navigator.serviceWorker.ready.then(e=>e.pushManager.subscribe({userVisibleOnly:!0})).then(t=>{if(t){const s=btoa(JSON.stringify(t)),a=t.endpoint.substring(t.endpoint.lastIndexOf("/")+1);return function({channelId:e,deviceId:t,subscriptionIds:s}){const a={appId:d,accountId:u,accountKey:m,deviceId:t,channelId:e,tags:s.map(C).join(",")},r=new n.b(n.a.POST,l);return r.send(function({accountId:e,accountKey:t}){return`q=select * from cloudrepo.app_attributes where account_id="${e}" and account_key="${t}" and issue_crumb="true"`}(a)).then(e=>e.body.query.results.json.crumb).then(e=>a.crumb=e).then(()=>r.send(function({accountId:e,accountKey:t,appId:s,deviceId:n,channelId:a,crumb:r}){return`q=insert into cloudrepo.app_attributes(account_id, account_key, app_id, device_id, attributes, crumb) values("${e}", "${t}", "${s}", "${n}",'{"version":"1.0","push_addresses":{"browserw3c":{"push_app_id":"${s}","channel_id":"${a}"}},"name":"${s}"}', "${r}");`}(a))).then(()=>r.send(function({accountId:e,accountKey:t,appId:s,deviceId:n,tags:a,crumb:r}){return`q=insert into cloudrepo.user_app_tags(account_id, account_key, app_id, device_id, tags, crumb) values("${e}","${t}","${s}","${n}",'[${a}]',"${r}")`}(a))).catch(e=>{i.a.error("onepush_subscription_error",{message:e.message||"",name:e.name,statusCode:e.statusCode||"",responseText:e.data?e.data.responseText:""})})}({channelId:s,deviceId:a,subscriptionIds:e})}return Promise.reject(new Error("Subscribing failed"))})}.bind(this,e)).then(t.logSuccess).catch(e=>(t.logFailure(e),f().then(()=>Promise.reject(e),()=>Promise.reject(e))))}function f(){return h()?window.navigator.serviceWorker.getRegistration().then(e=>e&&e.pushManager.getSubscription()).then(e=>!e||e.unsubscribe().then(e=>!!e||Promise.reject(new Error("Unsubscription failed")))):Promise.reject(new Error("Service Workers not supported"))}function S(){try{if("undefined"!=typeof Notification)return Notification.permission;throw new Error("Browser unsupported")}catch(e){return e}}function A(e,t){if(!e)return;return e.postMessage({type:"translations",data:t})}function T(e){h()&&(window.navigator.serviceWorker.controller?A(window.navigator.serviceWorker.controller,e):b().then(t=>{A(t.active,e)}).catch(e=>(console.log("SW register error",e),Promise.reject(e))))}function C(e){return`"mail/new_mail_v4|notify|${e}|deco:FTI"`}},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(22),o=(s(3),s(8),s(101)),i=s.n(o),c=s(516),l=s.n(c),d=s(11);const u=s.n(d)()(l.a);t.a=class extends a.a.Component{constructor(...e){var t;return t=super(...e),this.state={hovered:!1},this.handleHover=(e=>{this.setState({hovered:e})}),t}render(){const e=this.props,{colorStates:t}=e,s=babelHelpers.objectWithoutProperties(e,["colorStates"]),n=!this.props.disabled&&this.state.hovered?t.hovered:t.normal;return a.a.createElement(r.a,babelHelpers.extends({title:""},s,{className:i()(this.props.className||"",u.button),onMouseOver:this.handleHover.bind(this,!0),onMouseOut:this.handleHover.bind(this,!1),colorState:n}))}}},function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s(8);const a=Object(n.c)(["DEFAULT","MENU","TOOLBAR"])},function(e,t,s){"use strict";var n=s(59);t.a=s.n(n).a.create("norrin/base_client")},function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s(8);const a=Object(n.c)(["DEFAULT","GRID","WRAP_CONTENT"])},function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"a",function(){return c});var n=s(0),a=s(7);const r=(e,t,s=!1)=>{const{isFeatureEnabled:a,getRoute:r,isNarrowScreen:o,getActionableRightRailPane:i}=t,c=r(),l=a(n.mb.HIDE_RIGHT_RAIL),d=a(n.mb.WIDE_RIGHT_RAIL),u=!!c.params.attachmentId;return e&&!l&&(!o()||d||s)&&!i()&&!u},o=(e,t)=>{const s=t.getRoute(),a=t.getSetting(n.nd.PREVIEW_PANE)!==n.Gc.NO;let o=[n.Uc.MESSAGE_FROM_FOLDER_LIST,n.Uc.MESSAGE_FROM_SEARCH_LIST,n.Uc.MESSAGE_FROM_LIST];return a&&(o=[...o,n.Uc.FOLDER,n.Uc.LIST]),r(e,t)&&-1!==o.indexOf(s.name)&&!!t.getGroupId()},i=(e,t,s)=>{const{isFeatureEnabled:o,getRoute:i}=t,c=i(),l=Object(a.t)(c),d=Object(a.q)(l),u=c.name===n.Uc.SEARCH,m=o(n.mb.COUPONS_SMART_VIEW_SEARCH)&&[n.Fb.COUPON_CARDS,n.Fb.OFFER_CARDS].includes(d),p=u&&!!Object(a.k)(l)&&!m;if(!r(!0,t,!0))return!1;switch(s){case n.mb.RIGHT_RAIL_CONTACT_CARD:return p;case n.mb.RIGHT_RAIL_PHOTO_CARD:return d!==n.Fb.IMAGES&&p;case n.mb.RIGHT_RAIL_DOCS_CARD:return d!==n.Fb.DOCUMENTS&&p;case n.mb.RIGHT_RAIL_MESSAGES_CARD:return d!==n.Fb.MESSAGES&&p;default:return!1}},c=(e,t)=>{const{getAdsSelectors:s,isFeatureEnabled:r,getCurrentListId:o}=t,{getShoppingCartAd:i}=s(),c=Object(a.q)(o())===n.Fb.YAHOO_DEAL_CARDS;return e||r(n.mb.IS_WIDER_MAIL_EXTN_ENABLED)||!!i().length||c}},function(e,t,s){"use strict";s.d(t,"i",function(){return d}),s.d(t,"b",function(){return u}),s.d(t,"a",function(){return m}),s.d(t,"j",function(){return p}),s.d(t,"f",function(){return _}),s.d(t,"d",function(){return h}),s.d(t,"e",function(){return E}),s.d(t,"h",function(){return g}),s.d(t,"c",function(){return b}),s.d(t,"g",function(){return I});var n=s(2),a=s(0),r=s(7),o=s(138),i=s(9);function c(e,t){const{getFolderIdsForSelectedAccount:s}=Object(i.b)(e.store.getState());return s(t)[0]}function l(e,t,s){const{getListLmv3Query:a,getSelectedAccountId:c,doesListExist:l}=Object(i.b)(e.store.getState()),d=c(),{listId:u,destinationFolderId:m,allItemsCount:p,flags:_,triageActionType:h}=t,E=Object(r.m)(u),g=l(u)?a(u):void 0,b=g?JSON.parse(g):void 0;let I=b?b.base:null;if(!I&&E&&(I=Object(o.e)({folderId:E})),!I)return;b&&b.token&&(I+=` querytoken:${b.token}`);const f=-1!==[n.ed,n.gh].indexOf(s)?E:m;e.dispatch(s,babelHelpers.extends({},t,{accountId:d,folderId:f,isAsync:!0,conversations:!1,count:p,allSelected:!0,isV2Action:!0,successAction:{type:n.Qj,triageActionType:h,folderId:f,conversations:!1},failureAction:{type:n.Pj,triageActionType:h,folderId:f}}));const S=babelHelpers.extends({folderId:E,query:I,isAsync:!0,isConversation:!1},m&&{destinationFolderId:m},_&&{flags:_});return e.mailAPIClient.request(t.permanent?"folderList.delete":"folderList.update",[S]).then(({task:t})=>e.dispatch(n.gb,t)).catch(s=>e.dispatch(n.Pj,{conversations:!1,count:p,allSelected:!0,destinationFolderType:t.destinationFolderType,triageActionType:h,error:s}))}function d(e,t){return l(e,babelHelpers.extends({},t,{triageActionType:a.Vd.MOVE_ALL_ITEMS,flags:null}),n.qg)}function u(e,t){return l(e,babelHelpers.extends({},t,{flags:null,destinationFolderType:a.ub.TRASH,destinationFolderId:c(e,a.ub.TRASH),triageActionType:a.Vd.DELETE_ALL_ITEMS}),n.ed)}function m(e,t){return l(e,babelHelpers.extends({},t,{flags:null,destinationFolderType:a.ub.ARCHIVE,destinationFolderId:c(e,a.ub.ARCHIVE),triageActionType:a.Vd.ARCHIVE_ALL_ITEMS}),n.qg)}function p(e,t){return l(e,babelHelpers.extends({},t,{flags:null,destinationFolderType:a.ub.INBOX,destinationFolderId:c(e,a.ub.INBOX),triageActionType:a.Vd.RESTORE_ALL_ITEMS}),n.qg)}function _(e,t){return l(e,babelHelpers.extends({},t,{flags:{spam:!0},destinationFolderType:a.ub.BULK,destinationFolderId:c(e,a.ub.BULK),triageActionType:a.Vd.SPAM_ALL_ITEMS}),n.qg)}function h(e,t){return l(e,babelHelpers.extends({},t,{flags:{ham:!0},destinationFolderType:a.ub.INBOX,destinationFolderId:c(e,a.ub.INBOX),triageActionType:a.Vd.NOT_SPAM_ALL_ITEMS}),n.qg)}function E(e,t){return l(e,babelHelpers.extends({},t,{isRead:!1,flags:{read:!0},triageActionType:a.Vd.READ_CHANGE_ALL_ITEMS}),n.gh)}function g(e,t){return l(e,babelHelpers.extends({},t,{isRead:!0,flags:{read:!1},triageActionType:a.Vd.READ_CHANGE_ALL_ITEMS}),n.gh)}function b(e,t){return l(e,babelHelpers.extends({},t,{isStarred:!1,flags:{flagged:!0},triageActionType:a.Vd.STAR_CHANGE_ALL_ITEMS}),n.Ti)}function I(e,t){return l(e,babelHelpers.extends({},t,{isStarred:!0,flags:{flagged:!1},triageActionType:a.Vd.STAR_CHANGE_ALL_ITEMS}),n.Ti)}},function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"a",function(){return c});s(6);var n=s(1),a=s.n(n),r=s(39),o=(s(12),s(58),s(8),s(10));const i={MOUNT:1,CLICK:2,HOVER:4,HOVER_DELAYED:8},c={HOVER_OUT_ANCHOR:1,HOVER_OUT:2,CLICK:4,DRAG_START:8};class l extends a.a.Component{constructor(...e){var t;return t=super(...e),this.state={popoverShown:!1},this.handleClick=(()=>{const e=this.state.popoverShown,{triggerOn:t,triggerOff:s}=this.props;e||(t&i.CLICK)!==i.CLICK?e&&(s&c.CLICK)===c.CLICK&&this.setState({popoverShown:!1}):this.setState({popoverShown:!0})}),this.handleDragStart=(()=>{const e=this.state.popoverShown,{triggerOff:t}=this.props;e&&(t&c.DRAG_START)===c.DRAG_START&&this.setState({popoverShown:!1})}),this.handleMouseOver=(()=>{clearTimeout(this._hideTimeout);const{triggerOn:e,triggerDelayTime:t}=this.props;(e&i.HOVER)===i.HOVER?this.setState({popoverShown:!0}):(e&i.HOVER_DELAYED)===i.HOVER_DELAYED&&(this._shownTimeout=setTimeout(()=>{this.setState({popoverShown:!0})},t))}),this.handleMouseOut=(e=>{const t=this.state.popoverShown,{triggerOff:s}=this.props;clearTimeout(this._shownTimeout),t&&(this.refs.anchor!==e.target&&!this.refs.anchor.contains(e.target)||(s&c.HOVER_OUT_ANCHOR)!==c.HOVER_OUT_ANCHOR?(s&c.HOVER_OUT)===c.HOVER_OUT&&(this._hideTimeout=setTimeout(()=>{this.setState({popoverShown:!1})},0)):this.setState({popoverShown:!1}))}),this.handlePopoverHide=(()=>{clearTimeout(this._shownTimeout),this.setState({popoverShown:!1})}),t}componentWillUnmount(){clearTimeout(this._shownTimeout),clearTimeout(this._hideTimeout)}componentDidMount(){const{triggerOn:e,disabled:t}=this.props;t||(e&i.MOUNT==i.MOUNT?this.setState({popoverShown:!0}):this.forceUpdate())}componentDidUpdate(e,t){this.state.popoverShown!==t.popoverShown&&(this.state.popoverShown?this.props.onShown():this.props.onHide())}render(){const{align:e,arrowSize:t,disabled:s,isArrowVisible:n,offset:o,permittedArrowDirections:i,persistent:c,zAltitude:l}=this.props,[d,u]=a.a.Children.toArray(this.props.children),m=!s&&this.state.popoverShown;return a.a.createElement("span",null,a.a.cloneElement(d,s?{ref:"anchor"}:{onClick:this.handleClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onDragStart:this.handleDragStart,ref:"anchor"}),m&&this.refs.anchor?a.a.createElement(r.b,{popoverAnchor:this.refs.anchor,arrowSize:t,align:e,offset:o,permittedArrowDirections:i,zAltitude:l,onMouseOver:e=>{this.handleMouseOver(e),this.props.onContentMouseOver(e)},onMouseOut:e=>{this.handleMouseOut(e),this.props.onContentMouseOut(e)},onClick:this.handleClick,onHide:this.handlePopoverHide,persistent:c,isArrowVisible:n},u):null)}}l.defaultProps={disabled:!1,stopClickPropagation:!1,onShown:()=>{},onHide:()=>{},onContentMouseOver:()=>{},onContentMouseOut:()=>{},persistent:!1,zAltitude:o.ZIndices.POPOVER.MEDIUM,isArrowVisible:!0},t.c=l},function(e,t,s){var n=s(300);function a(e,t,s,a,r){if(!e)throw new Error("guidMd5 is required argument");if("number"!=typeof t&&"number"!=typeof s)throw new Error("clientId and sessionId are required and have to be numeric values");this.state={guiMd5Section:n.toNBits(n.hexToBin(e),64),clientIdSection:n.toNBits(t.toString(2),8),sessionSection:n.toNBits(s.toString(2),16),versionSection:n.toNBits(1..toString(2),8),randomClientSection:n.toNBits((a||Math.floor(256*Math.random())).toString(2),8),debugSection:n.toNBits((r||0).toString(2),8)},this._seq=0}a.prototype.generate=function(){var e=n.toNBits(this._getNextSeq().toString(2),16),t=[this.state.guiMd5Section,this.state.clientIdSection,this.state.sessionSection,e,this.state.versionSection,this.state.randomClientSection,this.state.debugSection].join("");return this._formatBinary(t)},a.prototype._formatBinary=function(e){var t=n.binToHex(e),s=0;return[8,4,4,4,12].map(function(e){var n=t.substr(s,e);return s+=e,n}).join("-")},a.prototype._getNextSeq=function(){return this._seq>65535&&(this._seq=0),this._seq++},a.getSeq=function(e){var t=e.substr(26,4);return parseInt(t,16)},e.exports=a},function(e,t,s){"use strict";var n=s(4);t.a=Object(n.h)({UNREAD:{id:"smart_view_unread_tooltip",defaultMessage:"Unread - Click to see unread mails"},smart_view_selected_UNREAD:{id:"smart_view_selected_unread_tooltip",defaultMessage:"Unread, selected - Showing unread mails"},STARRED:{id:"smart_view_starred_tooltip",defaultMessage:"Starred - Click to see starred mails"},smart_view_selected_STARRED:{id:"smart_view_selected_starred_tooltip",defaultMessage:"Starred, selected - Showing starred mails"},DOCUMENTS:{id:"smart_view_document_tooltip",defaultMessage:"Documents - Click to see all documents"},smart_view_selected_DOCUMENTS:{id:"smart_view_selected_document_tooltip",defaultMessage:"Documents, selected - Showing all documents"},PHOTOS:{id:"smart_view_photos_tooltip",defaultMessage:"Photos - Click to see all Photos"},smart_view_selected_PHOTOS:{id:"smart_view_selected_photos_tooltip",defaultMessage:"Photos, selected - Showing all Photos"},TUTORIAL:{id:"smart_view_tutorial_tooltip",defaultMessage:"Tutorials - Click to see all tutorial videos"},COUPONS:{id:"smart_view_coupons_tooltip",defaultMessage:"Deals - Click to see all deals"},GROCERIES:{id:"smart_view_groceries_tooltip",defaultMessage:"Groceries - Click to see all grocery stores where you can save"},RECEIPTS:{id:"smart_view_receipts_tooltip",defaultMessage:"Receipts - Click to see all receipts"},smart_view_selected_TUTORIAL:{id:"smart_view_selected_tutorial_tooltip",defaultMessage:"Tutorial, selected - Showing the tutorial video"},TRAVEL:{id:"smart_view_travel_tooltip",defaultMessage:"Travel - Click to see your travel details"},smart_view_UNREAD:{id:"smart_view_unread",defaultMessage:"Unread"},smart_view_STARRED:{id:"smart_view_starred",defaultMessage:"Starred"},show_folder_menu:{id:"show_folder_menu",defaultMessage:"Show folder menu"},smart_view_DOCUMENTS:{id:"smart_view_document",defaultMessage:"Documents"},smart_view_PHOTOS:{id:"photos_label",defaultMessage:"Photos"},smart_view_TUTORIAL:{id:"smart_view_tutorial",defaultMessage:"Tutorials"},smart_view_COUPONS:{id:"smart_view_coupons",defaultMessage:"Deals"},smart_view_selected_COUPONS:{id:"smart_view_selected_coupons_tooltip",defaultMessage:"Deals, selected - Showing your deals"},smart_view_GROCERIES:{id:"smart_view_groceries",defaultMessage:"Groceries"},smart_view_selected_GROCERIES:{id:"smart_view_selected_groceries_tooltip",defaultMessage:"Groceries, selected - Showing your grocery stores"},smart_view_TRAVEL:{id:"smart_view_travel",defaultMessage:"Travel"},smart_view_selected_TRAVEL:{id:"smart_view_selected_travel_tooltip",defaultMessage:"Travel, selected - Showing all flights"},smart_view_RECEIPTS:{id:"smart_view_reciepts",defaultMessage:"Purchases"},smart_view_selected_RECEIPTS:{id:"smart_view_selected_receipts_tooltip",defaultMessage:"Purchases, selected - Showing your purchases"},smart_view_ALL:{id:"category.all_header",defaultMessage:"All"},smart_view_PEOPLE:{id:"category.people_header",defaultMessage:"People"},smart_view_PEOPLE_HINT:{id:"category.people_hint",defaultMessage:"Messages from real people, not businesses or promotions"},smart_view_PEOPLE_SHORT_HINT:{id:"category.people_short_hint",defaultMessage:"Turn on <strong>People View</strong> to see messages from people in one place."},smart_view_SHOPPING:{id:"category.shopping_header",defaultMessage:"Shopping"},smart_view_SHOPPING_HINT:{id:"category.shopping_hint",defaultMessage:"Subscriptions, coupons, deals and order confirmations"},smart_view_SHOPPING_SHORT_HINT:{id:"category.shopping_short_hint",defaultMessage:"Subscriptions, coupons, deals and orders"},smart_view_SOCIAL:{id:"category.social_header",defaultMessage:"Social"},smart_view_SOCIAL_HINT:{id:"category.social_hint",defaultMessage:"Updates from social networks like Facebook, LinkedIn and others"},smart_view_SOCIAL_SHORT_HINT:{id:"category.social_short_hint",defaultMessage:"Updates from social networks"},smart_view_FINANCE:{id:"category.finance_header",defaultMessage:"Finance"},smart_view_FINANCE_HINT:{id:"category.finance_hint",defaultMessage:"Banks, credit card and transaction notifications"},smart_view_FINANCE_SHORT_HINT:{id:"category.finance_short_hint",defaultMessage:"Banks, credit card and transaction notifications"},smart_view_TRAVEL_HINT:{id:"category.travel_hint",defaultMessage:"Flights, hotel reservations and travel confirmations"},smart_view_TRAVEL_SHORT_HINT:{id:"category.travel_short_hint",defaultMessage:"Messages about flights, hotel reservations"},moveCategoryUp:{id:"move_category_up",defaultMessage:"Move view up"},moveCategoryDown:{id:"move_category_down",defaultMessage:"Move view down"},categorization_header:{id:"categorization_header",defaultMessage:"Inbox views"},categorization_hint:{id:"categorization_hint",defaultMessage:"Automatically group messages by views for easier organization"},categorization_onboarding:{id:"categorization_onboarding",defaultMessage:"Automatically group messages by category for easier organization"}})},function(e,t,s){"use strict";s.d(t,"h",function(){return a}),s.d(t,"i",function(){return r}),s.d(t,"g",function(){return o}),s.d(t,"k",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"l",function(){return l}),s.d(t,"j",function(){return d}),s.d(t,"m",function(){return u}),s.d(t,"d",function(){return m}),s.d(t,"c",function(){return p}),s.d(t,"a",function(){return _}),s.d(t,"b",function(){return h}),s.d(t,"e",function(){return E});var n=s(2);function a(e){return babelHelpers.extends({},e,{type:n.Xj})}function r(e){return babelHelpers.extends({},e,{type:n.Yj})}function o(e){return babelHelpers.extends({},e,{type:n.Wj})}function i(e){return babelHelpers.extends({},e,{type:n.ak})}function c(e){return babelHelpers.extends({},e,{type:n.Vj})}function l(e){return babelHelpers.extends({},e,{type:n.bk})}function d(e){return babelHelpers.extends({},e,{type:n.Zj})}function u(e){return babelHelpers.extends({},e,{type:n.Hh})}function m(e){return babelHelpers.extends({},e,{type:n.Ee})}function p(e){return babelHelpers.extends({},e,{type:n.dh})}function _(e){return babelHelpers.extends({},e,{type:n.Rb})}function h(e){return babelHelpers.extends({},e,{type:n.Wb})}function E(e){return babelHelpers.extends({},e,{type:n.Rj})}},,,,function(e,t,s){"use strict";s.d(t,"b",function(){return _}),s.d(t,"a",function(){return h}),s.d(t,"i",function(){return E}),s.d(t,"f",function(){return g}),s.d(t,"h",function(){return I}),s.d(t,"j",function(){return f}),s.d(t,"c",function(){return S}),s.d(t,"g",function(){return A}),s.d(t,"e",function(){return O}),s.d(t,"d",function(){return R});var n=s(322),a=s(0);const r=e=>{const t=[],s={};return e.forEach(({ep:e,type:n})=>{const a=(e=>e.match(/^smtp:(\S+)/)[1])(e);t.push(a),s[a]=n||"Email"}),{emails:t,emailType:s}},o=/^(?:https?|ftp):(?:\/\/)?/i,i={FACEBOOK:"facebook",TWITTER:"twitter",LINKEDIN:"linkedin"},c=babelHelpers.extends({NAME:"name",POSITION:"position",COMPANY:"company"},i,{WEBSITE:"website",BIRTHDAY:"birthday",ANNIVERSARY:"anniversary",NOTES:"notes"}),l=e=>e?!(e=e.trim())||o.test(e)?e:`http://${e}`:e,d=e=>"ke"===e||"user"===e,u=e=>e+"_url";function m({ep:e,xobniId:t=""}){return{xobniId:t,emails:[e].filter(e=>/^smtp:(\S+)/.test(e)).map(e=>e.match(/^smtp:(\S+)/)[1]),name:"",phonesWithType:[],id:""}}const p=e=>{const{name:t={},role:s={},attributes:n=[],endpoints:a=[],is_known_entity:o,edit_token:m}=e||{};return babelHelpers.extends({name:t.name||"",position:s.position,company:s.company,editToken:m,isBusiness:o},(e=>({phonesWithType:e.filter(({ep:e})=>/^tel:(\+|)\d+/.test(e)).map(({ep:e,type:t,display:s})=>({number:s||e.match(/^tel:(\S+)/)[1],type:t||"Phone"}))}))(a),r((e=>e.filter(({ep:e})=>/^smtp:(\S+)/.test(e)))(a)),(({attributes:e=[]})=>{const t={};return Object.keys(i).forEach(s=>{s=i[s];const n=e.find(({source:e,key:t})=>"link"===t&&e===s||d(e)&&t===u(s))||{},a=l(n.value);t[s]=a}),t.backyard=(e.find(({key:e,source:t})=>"user_id"===e&&"corpdir"===t)||{}).value,t})({attributes:n}),((e=[])=>{return{website:l((e.find(({key:e,source:t})=>e===c.WEBSITE&&d(t))||{}).value)}})(n),(e=>({[c.NOTES]:(e.find(({key:e})=>e===c.NOTES)||{}).value,[c.BIRTHDAY]:(e.find(({key:e})=>e===c.BIRTHDAY)||{}).value,[c.ANNIVERSARY]:(e.find(({key:e})=>e===c.ANNIVERSARY)||{}).value}))(n),(e=>{const t=[];return e.filter(({ep:e})=>/^adr:/.test(e)).forEach(({ep:e,type:s,display:n})=>{const a=n||e.replace("adr:","").split(";").filter(e=>e).join(",");a&&t.push({value:a,type:s||"Address"})}),{addressesWithType:t}})(a))};function _({ep:e,contacts_info:t,contacts_by_ep:s,relationshipHistory:n}){if(!s||!s[e])return m({ep:e});const[a]=s[e];if(!t||!t[a])return m({ep:e,xobniId:a});const r=p(t[a]);return babelHelpers.extends({xobniId:a,id:r.emails[0],relationshipHistory:n},r)}function h(e){const{id:t}=e||{},s=p(e);return babelHelpers.extends({id:t},s)}function E({results:e={}},t){return Object.keys(t).reduce((s,n)=>{const a=t[n],r=e[a];return r&&(s[n]={spid:a,connected:!r.is_expired,connectedTimestamp:r.issued_ts}),s},{})}function g(e){const t=e.filter(({emails:e})=>void 0!==e),s=function(e){const t={[n.a]:{categoryName:"All Contacts",contactIds:[]}};return e.forEach(({categories:e})=>{Array.isArray(e)&&e.forEach(e=>{!t.hasOwnProperty(e.id.toString())&&e.name&&(t[e.id]={categoryName:e.name,contactIds:[]})})}),t}(t),a={};return t.forEach(e=>{const{categories:t,emails:r,name:o}=e,i=[n.a];Array.isArray(t)&&t.forEach(e=>{const t=e.id.toString();s.hasOwnProperty(t)&&i.push(t)});const c=r.map(e=>e.ep);r.forEach(({ep:e})=>{a[e]={id:e,categories:i,emails:c,name:b(o)},i.forEach(t=>s[t].contactIds.push(e))})}),{contacts:a,categoryIdToGroupNameAndContacts:s}}function b(e={}){const{givenName:t,familyName:s}=e;return`${t||""} ${s||""}`.trim()}function I(e){return[{category:"top",remainingCount:0,contacts:(e["contacts-with-ranks"]||[]).map(({endpoints:e=[],name:t={},id:s})=>babelHelpers.extends({id:s},r(e),{name:t.name,isBusiness:!1}))}]}const f=e=>({[a.Gb.PEOPLE]:0,[a.Gb.NOT_PEOPLE]:1,[a.Gb.USER_CREATED_CONTACTS]:2})[e]||0;function S({response:e,type:t}){return{groups:t===f(a.Gb.USER_CREATED_CONTACTS)&&e.available_groups||[],contacts:(e.contact_rank_list||[]).map(({category:e,remaining_count:t,contacts:s=[]})=>({category:e.toUpperCase(),remainingCount:t,contacts:s.map(({endpoints:e=[],id:t,name:s})=>babelHelpers.extends({id:t},r(e),{name:s}))}))}}function A(e){return[{category:"search",remainingCount:0,contacts:e.map(({i:e,n:t,e:s,a_e:n})=>({id:e,name:t,emails:[s].concat(n)}))}]}function T(e,t,s){const{emails:n,emailType:a,phonesWithType:r}=e,{emailType:o,phonesWithType:i}=t,c=[],l={};return n.map(e=>{o&&o[e]&&o[e]===a[e]||c.push({ep:"smtp:"+e,type:a[e]})}),r&&r.map(e=>{i&&i.find(t=>t.number===e.number&&t.type===e.type)||c.push({ep:"tel:"+e.number,type:e.type||""})}),c.length?(l[s]=c)&&l:{}}function C(e,t){const s={},n=!t;return Object.keys(c).forEach(a=>{let r=a=c[a];switch(e[a]=e[a]||"",a){case c.FACEBOOK:case c.TWITTER:e[a]=l(e[a]),r=u(a);break;case c.WEBSITE:e[a]=l(e[a])}n?e[a]&&(s[r]=e[a]):(t[a]=t[a]||"",t[a]!==e[a]&&(s[r]=e[a]))}),s}function O(e,t){const s=C(t,e);return{source:t.editToken,changes:babelHelpers.extends({},s,T(e,t,"removed_endpoints"),T(t,e,"added_endpoints"))}}function R({contact:e,image:t}){const s=C(e);return t&&(s.image=t),{source_contacts:[babelHelpers.extends({},s,T(e,{},"endpoints"))]}}},,function(e,t,s){"use strict";s.d(t,"u",function(){return l}),s.d(t,"m",function(){return d}),s.d(t,"b",function(){return u}),s.d(t,"t",function(){return m}),s.d(t,"q",function(){return p}),s.d(t,"s",function(){return _}),s.d(t,"r",function(){return h}),s.d(t,"l",function(){return E}),s.d(t,"a",function(){return g}),s.d(t,"o",function(){return b}),s.d(t,"c",function(){return I}),s.d(t,"k",function(){return f}),s.d(t,"n",function(){return S}),s.d(t,"p",function(){return A}),s.d(t,"e",function(){return T}),s.d(t,"f",function(){return C}),s.d(t,"d",function(){return O}),s.d(t,"h",function(){return R}),s.d(t,"g",function(){return N}),s.d(t,"j",function(){return M}),s.d(t,"i",function(){return D});var n=s(0),a=s(2),r=s(7),o=s(16),i=s(5),c=s(48);const l=e=>babelHelpers.extends({},e,{type:a.Bh,name:n.Sc.CONTACTS_PANE}),d=e=>babelHelpers.extends({},e,{name:n.Sc.CONTACTS_PANE}),u=e=>{let{listFilter:t}=e,s=babelHelpers.objectWithoutProperties(e,["listFilter"]);return babelHelpers.extends({},s,{listFilter:t,type:a.Ob})},m=e=>babelHelpers.extends({},e,{type:a.lb}),p=e=>babelHelpers.extends({},e,{type:a.Lb}),_=e=>babelHelpers.extends({},e,{type:a.Kb}),h=e=>babelHelpers.extends({},e,{type:a.Mb}),E=e=>babelHelpers.extends({},e,{type:a.Tc}),g=e=>babelHelpers.extends({},e,{type:a.Xb}),b=e=>{let{keyword:t}=e,s=babelHelpers.objectWithoutProperties(e,["keyword"]);return babelHelpers.extends({},s,{keyword:t,listId:Object(r.j)(t),type:a.Pb})},I=e=>babelHelpers.extends({},e,{type:a.gc}),f=e=>babelHelpers.extends({type:a.Sb},e),S=(e={})=>{const{smtp:t,name:s,sectionValue:n}=e;return Object(c.i)({route:Object(o.t)({emailAddresses:t,name:s||t}),i13nModel:{interactionType:i.d.click,mKey:i.e.CONTACT_SEARCH,sec:n||i.g.RIGHT_RAIL,mKeyGroup:i.f.search}})},A=e=>babelHelpers.extends({},e,{type:a.Nb}),T=e=>babelHelpers.extends({type:a.ec},e),C=e=>babelHelpers.extends({type:a.fc},e),O=e=>babelHelpers.extends({type:a.dc},e),R=e=>babelHelpers.extends({type:a.cc},e),N=e=>babelHelpers.extends({type:a.bc},e),M=e=>babelHelpers.extends({type:a.Ic},e),D=e=>babelHelpers.extends({type:a.Hc},e)},function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s(8);const a=Object(n.c)(["HORIZONTAL","VERTICAL","GRID"])},function(e,t,s){"use strict";function n(e,t){for(let s=e.length;s;s--)if(t(e[s-1]))return s-1;return-1}function a(e,t=0){const s=Array(e);for(;e--;)s[e]=e+t;return s}function r(e,...t){return e.concat(t)}function o(e,t,s=1){return-1===t?e:e.slice(0,t).concat(e.slice(t+s))}s.d(t,"b",function(){return n}),s.d(t,"d",function(){return a}),s.d(t,"a",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"c",function(){return i});const i=e=>Array.prototype.concat.apply([],e)},function(e,t,s){"use strict";s.d(t,"e",function(){return c}),s.d(t,"f",function(){return l}),s.d(t,"b",function(){return d}),s.d(t,"d",function(){return u}),s.d(t,"a",function(){return m}),s.d(t,"c",function(){return p}),s.d(t,"g",function(){return _}),s.d(t,"h",function(){return h});var n=s(2),a=s(9),r=s(0),o=s(82);let i=5;function c(e){const{getCurrentListId:t}=Object(a.b)(e.store.getState());e.dispatch(n.Re,{listId:t()})}function l(e,{isVisible:t}){const s=e.heartbeatAPIClient.emergencyRefresh,{getFeaturesSelectors:c,isAppVisible:l,getApplicationLastVisibleTimeStamp:d,getPrimaryAccount:u,getRoute:m}=Object(a.b)(e.store.getState()),p=c(),_=p.getSetting("appRefreshIdleInterval"),h=p.isEnabled("heartbeatRefresh"),E=l(),g=u(),{name:b}=m();t!==E&&(t&&b===r.Uc.SETTINGS&&g.forwardEmail&&!g.forwardEmailVerified&&i>0&&(e.store.dispatch(o.i({accountId:g.id,updatedProperties:{forwardEmailVerified:g.forwardEmailVerified}})),i--),e.dispatch(n.R,{isVisible:t,emergencyRefresh:s,appRefreshIdleInterval:_,heartbeatRefresh:h,applicationLastVisibleTimeStamp:d()}))}function d(e,{i13nModel:t}){e.dispatch(n.Fe,{i13nModel:t})}function u(e){e.dispatch(n.ji)}function m(e,{i13nModel:t}){e.dispatch(n.s,{i13nModel:t})}function p(e,{i13nModel:t}){e.dispatch(n.Sj,{i13nModel:t})}function _(e,{i13nModel:t}){e.dispatch(n.Dg,{i13nModel:t})}function h(e,t){e.dispatch(n.mj,t)}},function(e,t,s){"use strict";var n=s(59);t.a=s.n(n).a.create("norrin/info")},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(25),c=s(609),l=s.n(c),d=s(17),u=s(10);const m=(e,{getCss:t,getThemeMode:s})=>{let{onClick:n,isSelected:a=!1,title:r,itemRef:c,maxWidth:m,isOnRightRail:p}=e,_=babelHelpers.objectWithoutProperties(e,["children","onClick","isSelected","title","itemRef","maxWidth","isOnRightRail"]);const h={},E=s(),g=t(l.a,{isSelected:a,showWhiteLabels:p&&E===i.f.MEDIUM||E===i.f.DARK,showEllipsis:!!m});return _["data-test-id"]&&(h["data-test-id"]=_["data-test-id"]),m&&(h.style={maxWidth:m}),o.a.createElement("li",{className:g.segment,role:"presentation",ref:c},o.a.createElement(d.a,babelHelpers.extends({},h,{"data-iskeynav":!0,tabIndex:u.TabIndices.SEGMENTED_CONTROL_FILTERS,className:g.button,role:"tab","aria-selected":a,onClick:n,title:r}),o.a.createElement("span",{className:g.buttonText,"aria-hidden":!0},r)))};m.defaultProps={isOnRightRail:!1},m.contextTypes={getCss:a.a.func,getThemeMode:a.a.func},t.a=m},function(e,t,s){"use strict";s.d(t,"i",function(){return a}),s.d(t,"f",function(){return r}),s.d(t,"d",function(){return o}),s.d(t,"e",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"h",function(){return l}),s.d(t,"g",function(){return d}),s.d(t,"a",function(){return u}),s.d(t,"b",function(){return m});var n=s(2);const a=e=>babelHelpers.extends({type:n.Ne},e),r=e=>babelHelpers.extends({type:n.Me},e),o=e=>babelHelpers.extends({type:n.Ub},e),i=e=>babelHelpers.extends({type:n.Vb},e),c=e=>babelHelpers.extends({type:n.Tb},e),l=e=>babelHelpers.extends({type:n.Jb},e),d=e=>babelHelpers.extends({type:n.Ib},e),u=e=>babelHelpers.extends({type:n.Uc},e),m=e=>babelHelpers.extends({type:n.Sc},e)},function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"g",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"b",function(){return l}),s.d(t,"f",function(){return d}),s.d(t,"e",function(){return u});var n=s(2),a=s(0);const r=e=>"click"===e.userAction?babelHelpers.extends({type:n.de,fromFeature:e.name},e):babelHelpers.extends({type:n.Sd},e),o=e=>babelHelpers.extends({type:n.Wd},e),i=e=>babelHelpers.extends({type:n.ae},e),c=e=>"click"===e.userAction?babelHelpers.extends({type:n.Zd,name:a.nd.SCOUT_ONBOARDING},e):babelHelpers.extends({type:n.Ud,name:a.nd.SCOUT_ONBOARDING},e),l=({userAction:e,error:t})=>"click"===e?{type:n.Yd,error:t}:{type:n.Td,error:t},d=e=>babelHelpers.extends({type:n.Xd,name:a.nd.SCOUT_ONBOARDING},e),u=e=>({type:n.Vd,error:e})},function(e,t,s){"use strict";s.d(t,"b",function(){return u}),s.d(t,"a",function(){return m});var n=s(1),a=s.n(n),r=s(4),o=s(135),i=s(19);const c={};let l=0;function d(e,t,s){const n={};if(Object.keys(s).forEach(e=>{n[e]=++l}),!0===e)return n;let i=c[t.id];return i||(c[t.id]=i={group:t,keys:[]}),Object.keys(s).forEach(e=>{const{key:t,description:c}=s[e],l=function(e,t){for(let s=0;s<e.length;s++){const n=e[s],o=n.description;if(o===t)return n;if(!(a.a.isValidElement(o)&&o.type!==r.c||a.a.isValidElement(t)&&t.type!==r.c)&&(a.a.isValidElement(o)?o.props.id:o.id)===(a.a.isValidElement(t)?t.props.id:t.id))return n}}(i.keys,c);if(l)l.key.indexOf(t)<0&&(l.key+=o.b+t);else{const s={id:n[e],key:t,description:c};-1===i.keys.indexOf(s)&&i.keys.push(s)}}),n}function u({invisible:e,group:t,keys:s}){return function(e,t,s){Object(i.a)(e||"object"==typeof t&&"string"==typeof t.description.id,`The 'group' has to be an object returned by React Intl's defineMessages. Currently we got ${t}`),Object.keys(s).forEach(t=>{const n=s[t];Object(i.a)(e||a.a.isValidElement(n.description)||"object"==typeof n.description&&"string"==typeof n.description.id,`The 'message' has to be an object returned by React Intl's defineMessages\n            or has to be an instance of a React element (FormattedMessage). Currently, the key is ${t}`)})}(e,t,s),function(e,t){const s={};return Object.keys(e).forEach(n=>{const{key:a}=e[n],r=t[n];s[n]=(e=>({id:r,key:a,callback:e}))}),s}(s,d(e,t,s))}function m(){return c}},function(e,t,s){"use strict";s.d(t,"a",function(){return m}),s.d(t,"b",function(){return p});var n=s(24),a=s(8),r=s(19),o=s(0),i=s(35),c=s(69);const l=Object(a.c)([o.p.BootcampClient,o.p.MailAPIClient,o.p.UDBClient]),d=Object(a.c)([o.p.CredstoreClient,o.p.LinkEnhancerClient,o.p.XobniClient]);function u(e,t,s){const{apiName:a,statusCode:r,errorCode:i,alertTAE:c=!0}=s;return!1===c?100:function({apiName:e,isOnline:t,alertTAE:s=!0},a,r){if(!1===s)return!1;if(!Object(n.b)())return!0;if(!t)return!1;if(["CRUMB","AUTH","EC-4008","EC-4012","EC-4023"].includes(a))return!1;if(["REQUEST_BLOCKED","DEBOUNCED","ES-2001"].includes(a))return!1;if(d[r])return!1;switch(e){case"checkMail":case"messages.autosave":case"messages.autoSaveV3":case"messages.prefetchGetBodies":case"messages.prefetchGetBodiesFull":case"messages.prefetchGetExtractedBodies":case"messages.prefetchGetExtractedBodiesFull":case"getContentProviders":case"getRetailers":case"getSRRetailers":case"searchSuggestions":return!1}return!0}(s,i,e)?function(e,t){return 429===e||"EC-4017"===t||"EC-4018"===t}(r,i)?19:a&&function(e){return 0===e.indexOf("launch.")}(a)?15:function(e,t="",s){return!([400,500].indexOf(s)>-1)&&(0===e.indexOf("HttpTransport.")&&!t||["ECONNABORTED","ECONNREFUSED","ECONNRESET","ENOTFOUND","OUTBOUND","REQUEST_QUEUE_TIMEOUT","REQUEST_QUEUE_REJECTED","YCPI"].indexOf(t)>-1)}(t.name,i,r)?18:function(e){return e===o.p.UDBClient}(e)?1:function(e,t){return e===o.p.BootcampClient||["search_list.get","search_list.update"].indexOf(t)>-1}(e,a)?20:function(e){return["messages.getBodies","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messageGroups.getList","message_view.get","message_view.update"].indexOf(e)>-1}(a)?4:function(e){return["messages.saveV3","messages.saveWithAttachment","messages.saveAndSend","messages.saveAndSendWithAttachment","messageGroups.saveAndSend","messageGroups.saveAndSendWithAttachment","messageGroups.saveRawMessage","messageGroups.send","compose.open","compose.replyFwd","compose.attach","compose.save","compose.send"].indexOf(e)>-1}(a)?13:function(e){return"document.fetch"===e}(a)?22:function(e){let t;switch(e){case"ET-5003":t=1;break;case"ET-5004":t=4;break;case"ET-5005":case"ET-5008":case"ET-5009":case"ET-5010":case"ET-5011":t=2;break;default:t=14}return t}(i):100}function m(e,t,s,a){Object(r.a)(s.apiName,"logData.apiName must be present");const o={},{statusCode:i=null,errorCode:m=null}=a;if(null!==i&&(o.statusCode=i),null!==m&&(o.errorCode=m),l[t]||d[t]){const{extraStatusCode:e=null,extraErrorCode:r=null}=a;e&&(o.extraStatusCode=e),r&&(o.extraErrorCode=r);const l=u(t,a,Object.assign({},s,o));o.tae=l,function(e,t,s){if(Object(n.b)()){const n=t||s||"",a=c.b.getRapidInstance();a&&a.beaconEvent(0,{etrg:"error",taeCode:e,errCode:n},"norrin_tae")}}(l,m,i)}e.feature(t,Object.assign({},s,o)).logFailure(a)}function p({logger:e,apiName:t,message:s,loggerName:n=o.p.MailAPIClient,statusCode:a=0,errorCode:r="",extraStatusCode:c="",extraErrorCode:l="",ymreqid:d=""}){const u={apiName:t,alertTAE:!1,statusCode:a,errorCode:r,extraStatusCode:c,extraErrorCode:l,ymreqid:d};m(e,n,u,i.a.jsonToError({name:t,message:s,data:u,statusCode:a,errorCode:r,extraStatusCode:c,extraErrorCode:l}))}},function(e,t,s){"use strict";s.d(t,"g",function(){return r}),s.d(t,"d",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"e",function(){return l}),s.d(t,"b",function(){return d}),s.d(t,"a",function(){return u}),s.d(t,"h",function(){return m}),s.d(t,"j",function(){return p}),s.d(t,"i",function(){return _});var n=s(2),a=s(9);const r=e=>babelHelpers.extends({type:n.Zg},e);function o(e){return babelHelpers.extends({type:n.Bf},e)}function i(e){return babelHelpers.extends({type:n.zf},e)}function c(e){return babelHelpers.extends({type:n.Jf},e)}function l(e){return babelHelpers.extends({type:n.If},e)}const d=e=>t=>{const{itemsToUpdate:s}=e,a=s.length?s[s.length-1]:void 0;return t(babelHelpers.extends({},e,{streamItem:{listId:a.listId,id:a.messageId},type:n.Ef}))},u=e=>(t,s)=>{const{listId:r,messageGroupId:o,expansionState:i}=e,c={id:o,listId:r},{getMessageGroupStreamItems:l}=Object(a.b)(s());return t({itemsToUpdate:l(c).map(e=>babelHelpers.extends({},e,{expansionState:i})),type:n.Gf})},m=e=>babelHelpers.extends({type:n.Lf},e),p=e=>babelHelpers.extends({type:n.Of},e),_=e=>babelHelpers.extends({type:n.Mf},e)},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(17),o=s(30);class i extends a.a.Component{render(){const e=this.props,{hasText:t,isActive:s,children:n}=e,i=babelHelpers.objectWithoutProperties(e,["hasText","isActive","children"]);return a.a.createElement(r.a,babelHelpers.extends({},i,{"aria-controls":"react-menu-component","aria-haspopup":!0,kind:t?o.a.CHROMELESS:s?o.a.ICON_HIGHLIGHTED:o.a.ICON}),n)}}i.defaultProps={hasText:!1,isActive:!1},t.a=i},function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"a",function(){return o}),s.d(t,"b",function(){return i});var n=s(2),a=s(28);const r=e=>babelHelpers.extends({type:n.Ue},e),o=e=>{let{initialMailboxAttributes:t={},mailboxAttributes:s={}}=e,r=babelHelpers.objectWithoutProperties(e,["initialMailboxAttributes","mailboxAttributes"]);const o=Object(a.k)(r.mailboxes,r.bizMboxId),{responses:i={},success:c}=s,l={responses:Object.assign(i,t),success:c};return babelHelpers.extends({type:n.Oe,mailboxAttributes:l,selectedMailbox:o},r)},i=({error:e})=>({type:n.Se,error:e})},function(e,t,s){"use strict";s.d(t,"c",function(){return d}),s.d(t,"w",function(){return u}),s.d(t,"a",function(){return m}),s.d(t,"u",function(){return p}),s.d(t,"b",function(){return _}),s.d(t,"v",function(){return h}),s.d(t,"h",function(){return E}),s.d(t,"g",function(){return g}),s.d(t,"f",function(){return b}),s.d(t,"e",function(){return I}),s.d(t,"l",function(){return f}),s.d(t,"m",function(){return S}),s.d(t,"k",function(){return A}),s.d(t,"t",function(){return T}),s.d(t,"s",function(){return C}),s.d(t,"q",function(){return O}),s.d(t,"r",function(){return R}),s.d(t,"o",function(){return N}),s.d(t,"p",function(){return M}),s.d(t,"n",function(){return D}),s.d(t,"j",function(){return y}),s.d(t,"d",function(){return L}),s.d(t,"i",function(){return v}),s.d(t,"x",function(){return P});var n=s(0),a=s(2),r=s(7),o=s(9);const i=(e=!0)=>t=>{let{cardMid:s,schemaId:i}=t,c=babelHelpers.objectWithoutProperties(t,["cardMid","schemaId"]);return(t,l)=>{const{getSelectedAccountId:d,getMessagesSelectors:u,getCouponsSelectors:m}=Object(o.b)(l()),{getParentMessageIdForCardConversationId:p}=u(),{getCardConversationId:_}=m(),h=p(_(i)),E=d(),g=Object(r.Q)("{}",{listContentType:n.Fb.COUPON_CARDS,listFilter:e?n.Gb.SAVED_COUPON_CARDS:n.Gb.ALL_COUPON_CARDS,accountIds:[E],referrer:n.Hb[n.zd.COUPONS]});t(babelHelpers.extends({type:e?a.qc:a.vc,listId:g,streamId:g,messageDecosPayloads:[{messageId:s}],parentMessageId:h,messageId:s,schemaCard:{id:i,type:n.ed.Coupon,clipped:e},accountId:E},c))}},c=e=>t=>babelHelpers.extends({type:e},t),l=e=>t=>({type:e,error:t}),d=(e={})=>c(a.rc)(e),u=(e={})=>c(a.wc)(e),m=e=>l(a.pc)(e),p=e=>l(a.uc)(e),_=(e={})=>i(!0)(e),h=(e={})=>i(!1)(e),E=()=>({type:a.lk}),g=()=>({type:a.Cc}),b=(e="")=>({type:a.Bc,listId:Object(r.e)({referrer:n.Hb.COUPON_RECOMMENDATIONS,keyword:e})}),I=()=>({type:a.Ac}),f=(e={})=>babelHelpers.extends({type:a.Od},e),S=(e={})=>c(a.Pd)(e),A=e=>l(a.Nd)(e),T=()=>({type:a.Uh}),C=()=>({type:a.Th}),O=({i13nModel:e})=>({type:a.nh,i13nModel:e}),R=({i13nModel:e})=>({type:a.Rh,i13nModel:e}),N=e=>({type:a.Jg,cardConversationId:e}),M=e=>babelHelpers.extends({},e,{type:a.Kg}),D=e=>({error:e,type:a.Ig}),y=({i13nModel:e})=>({type:a.xc,i13nModel:e}),L=e=>({type:a.yc,i13nModel:e}),v=e=>({type:a.Dc,i13nModel:e}),P=e=>({type:a.qk,i13nModel:e})},function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"d",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"b",function(){return c});var n=s(4);const a=Object(n.h)({general:{id:"shortcut_group.general",defaultMessage:"General"},selection:{id:"shortcut_group.selection",defaultMessage:"Checking/Unchecking"},action:{id:"shortcut_group.actions",defaultMessage:"Actions"},attachmentPreview:{id:"shortcut_group.attachmentPreview",defaultMessage:"Attachment Preview"}}),r={priority:0,id:"general",description:a.general},o={priority:1,id:"selection",description:a.selection},i={priority:2,id:"action",description:a.action},c={priority:3,id:"attachmentPreview",description:a.attachmentPreview}},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(13),o=s(9),i=s(27),c=s.n(i),l=s(187),d=s(123),u=(s(103),s(8),s(61)),m=s(88),p=s(11),_=s.n(p),h=s(531),E=s.n(h);const g=()=>{},b=["click","focus","resize"],I=["resize"];class f extends a.a.Component{constructor(...e){var t;return t=super(...e),this.state={show:!1,dimensionStyles:{}},this.handleHide=(e=>{const t=c.a.findDOMNode(this.refs.menu),s=c.a.findDOMNode(this.props.actionNode);!t||e.target instanceof Node&&(t.contains(e.target)||s.contains(e.target))||(this.setState({show:!1}),this.props.onHideMenu())}),this.handleEscape=(()=>{this.setState({show:!1}),this.props.onHideMenu(),c.a.findDOMNode(this.props.actionNode).focus()}),this.handleKeyDown=(e=>{switch(e.key){case"Escape":e.preventDefault(),e.stopPropagation(),this.handleEscape();break;default:return void e.stopPropagation()}}),t}componentDidMount(){this.refs.menu&&(this.setState({show:!0,dimensionStyles:Object(l.a)(c.a.findDOMNode(this.props.actionNode),c.a.findDOMNode(this.refs.menu),this.props.isRTL)},function(){c.a.findDOMNode(this.refs.navigableList).focus()}),(this.props.persistOnClick?I:b).forEach(e=>{window.addEventListener(e,this.handleHide,!1)}))}componentWillUnmount(){b.forEach(e=>{window.removeEventListener(e,this.handleHide,!1)})}render(){if(!this.props.children)return null;const e=_()(E.a),t=Object.assign({position:"absolute",visibility:this.state.show?"visible":"hidden"},this.state.dimensionStyles);return a.a.createElement(d.a,null,a.a.createElement("div",{onKeyDown:this.handleKeyDown,className:e.menu,onClick:this.props.persistOnClick?this.props.focusBackEditor:this.handleEscape,ref:"menu",style:t,"data-test-id":"menu"},a.a.createElement(u.a,babelHelpers.extends({ref:"navigableList",kind:m.a.MENU,layout:this.props.menuLayout,onHide:this.handleHide,onEscape:this.handleEscape},this.props),this.props.children)))}}f.defaultProps={onHide:g,persistOnClick:!1,focusBackEditor:g};t.a=Object(r.b)(e=>{const{getEnvironmentSelectors:t}=Object(o.b)(e);return{isRTL:"rtl"===t().getPageDirection()}})(f)},,,function(e,t,s){"use strict";s.d(t,"h",function(){return a}),s.d(t,"g",function(){return r}),s.d(t,"i",function(){return o}),s.d(t,"e",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"d",function(){return l}),s.d(t,"b",function(){return d}),s.d(t,"a",function(){return u}),s.d(t,"c",function(){return m});var n=s(2);const a=e=>babelHelpers.extends({type:n.Wc},e),r=e=>babelHelpers.extends({type:n.Vc},e),o=e=>babelHelpers.extends({type:n.Xc},e),i=e=>babelHelpers.extends({type:n.ic},e),c=e=>babelHelpers.extends({type:n.jc},e),l=e=>babelHelpers.extends({type:n.hc},e),d=e=>babelHelpers.extends({type:n.pk},e),u=e=>babelHelpers.extends({type:n.ok},e),m=e=>babelHelpers.extends({type:n.Y},e)},function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"c",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"i",function(){return c}),s.d(t,"h",function(){return l}),s.d(t,"g",function(){return d}),s.d(t,"j",function(){return u}),s.d(t,"e",function(){return m}),s.d(t,"f",function(){return p});var n=s(2);function a(e){return babelHelpers.extends({type:n.Ye},e)}function r(e){return babelHelpers.extends({type:n.Ze},e)}function o(e){return babelHelpers.extends({type:n.Xe},e)}function i(e){return babelHelpers.extends({type:n.We},e)}function c(e){return babelHelpers.extends({type:n.ef},e)}function l(e){return babelHelpers.extends({type:n.df},e)}function d(e){return babelHelpers.extends({type:n.cf},e)}function u(e){return babelHelpers.extends({type:n.ff},e)}function m(e){return babelHelpers.extends({type:n.af},e)}function p(e){return babelHelpers.extends({type:n.bf},e)}},,function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(27),o=s.n(r),i=s(24);class c extends a.a.Component{constructor(...e){var t;return t=super(...e),this.onEventHandler=(e=>{e.stopPropagation()}),t}render(){if(!Object(i.b)())return null;const{position:e,left:t,top:s,visibility:n,styles:r}=this.props;let c=Object.assign({position:e,left:t,top:s,visibility:n},r);return e&&t&&s&&n||(c=null),this.rootNode&&document.body.contains(this.rootNode)||(this.rootNode=document.getElementById(this.props.rootId)),o.a.createPortal(a.a.createElement("div",{style:c,onClick:this.onEventHandler,onKeyUp:this.onEventHandler,onKeyPress:this.onEventHandler,onMouseOver:this.onEventHandler,onMouseUp:this.onEventHandler,onBlur:this.onEventHandler},this.props.children),this.rootNode)}}c.defaultProps={rootId:"app"},t.a=c},,function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(27),o=s.n(r),i=(s(87),s(113),s(117),s(11)),c=s.n(i),l=s(532),d=s.n(l);const u=()=>{};class m extends a.a.Component{constructor(...e){var t;return t=super(...e),this.state={isMenuVisible:!1},this.toggleMenu=(()=>{this.state.isMenuVisible?this.hideMenu():this.showMenu()}),this.showMenu=(()=>{this.setState({isMenuVisible:!0}),this.props.onMenuShow()}),this.hideMenu=(()=>{this.setState({isMenuVisible:!1}),this.props.onMenuHide()}),this.handleMenuButtonKeyDown=(e=>{switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),this.toggleMenu();break;case"Escape":e.preventDefault(),this.hideMenu(),this.blurMenuButton()}}),this.blurMenuButton=(()=>{o.a.findDOMNode(this.refs.button).blur()}),t}componentDidUpdate(e,t){this.props.afterMenuHide&&!this.state.isMenuVisible&&t.isMenuVisible&&this.props.afterMenuHide()}componentDidMount(){this.props.parentMenu&&this.setState({isMenuVisible:!0})}render(){const e=this.props,{onFocus:t,onBlur:s,children:n,showMenuActiveState:r,parentMenu:o}=e,i=babelHelpers.objectWithoutProperties(e,["onFocus","onBlur","onMenuShow","onMenuHide","afterMenuHide","children","showMenuActiveState","parentMenu"]),[l,u]=a.a.Children.toArray(n),{isMenuVisible:m}=this.state,p=c()(d.a,{active:m&&r});let _=null;l&&(_=a.a.cloneElement(l,{ref:"button","aria-expanded":m,onClick:this.toggleMenu,onKeyDown:this.handleMenuButtonKeyDown,onFocus:t,onBlur:s,isActive:m}));let h=null;return o&&u?h=a.a.cloneElement(u,{ref:"submenu",actionNode:o.refs.button,onHideMenu:this.hideMenu}):m&&u&&(h=a.a.cloneElement(u,{ref:"menu",actionNode:this.refs.button,onHideMenu:this.hideMenu})),a.a.createElement("div",babelHelpers.extends({},i,{className:p.buttonContainer}),_,h)}}m.defaultProps={onMenuShow:u,onMenuHide:u,onFocus:u,onBlur:u,showMenuActiveState:!1},t.a=m},function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return r});var n=s(0);const a={REG:"reg",MAIL_ADFREE:"mail_adfree",YM_MAIL_CONV:"ym_mail_conv",YM_MAIL_THM:"ym_mail_thm",YM_TZ:"ym_tz",YM_LAST_OBSERVED_TZ:"ym_last_observed_tz",YM_MAIL_TABS:"ym_mail_tabs",YM_MAIL3:"ym_mail3",YM_MAIL_SCOUT:"ym_mail_scout",YM_FE_CURRENT:"ym_fe_current",YM_FE_PREVIOUS:"ym_fe_previous",YM_FE_HISTORY:"ym_fe_history",YM_FE_MIGRATION:"ym_fe_migration",YM_MAIL_SSA_ALERT:"ym_mail_ssa_alert",YM_MAIL_COMPROMISE:"ym_mail_compromise",YM_MAIL_SH:"ym_mail_sh",YM_MAIL_ONBOARD:"ym_mail_onboard"},r={[a.YM_FE_CURRENT]:n.Xb,[a.YM_MAIL_CONV]:{ON:"1",OFF:"-1"},[a.YM_MAIL_TABS]:{OFF:"0",ON:"1"}}},function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return r});var n=s(19);function a(e){if("undefined"!=typeof Storage&&"string"==typeof e)try{return localStorage.getItem(e)}catch(e){}}function r(e,t){if("undefined"!=typeof Storage){Object(n.a)("string"==typeof e,"key is not a string");try{localStorage.setItem(e,t)}catch(e){}}}},function(e,t,s){"use strict";var n=s(99),a=s.n(n);const r=/^[\w\-]+:.+$/gim;t.a=function({boundary:e,useBuffer:t=!0,consolidate:s=!1}){let n="";return a()(function(a){t||(n="");const o=(a=n+a).split(new RegExp(`--${e}-{0,2}`,"gm")),i=[];for(;o.length>1;){const e=o.shift().replace(r,"").trim();""!==e&&(s?i.push(e):this.emit("data",e))}s&&i.length>0&&this.emit("data",i),n=o[0]})}},function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"a",function(){return c}),s.d(t,"f",function(){return l}),s.d(t,"h",function(){return d}),s.d(t,"g",function(){return u}),s.d(t,"c",function(){return m}),s.d(t,"e",function(){return p}),s.d(t,"d",function(){return _}),s.d(t,"j",function(){return h}),s.d(t,"i",function(){return E});var n=s(2),a=s(9),r=s(0),o=s(77);const i=({folder:e})=>({folder:e,type:n.Lc}),c=({error:e,folderName:t})=>({folderName:t,error:e,type:n.Jc}),l=({folderId:e,folderName:t,i13nModel:s={}})=>(i,c)=>{const{getFolderName:l,getFeaturesSelectors:d,getFolderFullName:u}=Object(a.b)(c()),m=l(e),p=t.substr(t.lastIndexOf("/")+1),_=u(e),h=_.replace(RegExp(Object(o.a)(m)+"$"),p),E=d().getSetting(r.nd.MESSAGE_FILTERS).map(e=>(function(e,t,s){return babelHelpers.extends({},e,{actions:e.actions.map(e=>{const{value:{folderActionValueBean:{folder:{name:n}}}}=e;if(n!==t)return e;const a=babelHelpers.extends({},e);return a.value.folderActionValueBean.folder.name=s,a})})})(e,_,h));return i({folderId:e,folderName:t,i13nModel:s,originalFolderName:m,newFolderName:p,filters:E,type:n.th,name:r.nd.MESSAGE_FILTERS,value:E})},d=({newFolderName:e,folderId:t,originalFolderName:s,folder:a,subfolders:r=[]})=>({newFolderName:e,folderId:t,originalFolderName:s,folder:a,subfolders:r,type:n.uh}),u=({folderId:e,newFolderName:t,originalFolderName:s,filters:a,error:r})=>({folderId:e,newFolderName:t,originalFolderName:s,filters:a,error:r,type:n.sh}),m=({folderId:e,folderName:t,i13nModel:s={}})=>({folderId:e,folderName:t,i13nModel:s,type:n.bd}),p=({folderId:e,folderName:t,i13nModel:s})=>({folderId:e,folderName:t,i13nModel:s,type:n.cd}),_=({folderId:e,folderName:t,error:s})=>({folderId:e,folderName:t,error:s,type:n.ad});const h=e=>babelHelpers.extends({type:n.Jd},e),E=e=>babelHelpers.extends({type:n.lj},e)},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(4),o=s(174);const i=Object(r.h)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptLabel:{id:"confirm.accept",defaultMessage:"OK"},defaultCancelLabel:{id:"confirm.cancel",defaultMessage:"Cancel"}});class c extends a.a.Component{render(){const{title:e,onConfirm:t,onAbort:s,hideIcon:n,customTitle:r,showCustomTitle:i,acceptLabel:c,cancelLabel:l,message:d,onOuterClick:u,wideContainer:m=!1}=this.props;return a.a.createElement(o.a,{primaryButtonLabel:c,secondaryButtonLabel:l,hideIcon:n,title:e,customTitle:r,showCustomTitle:i,message:d,onPrimaryButtonClick:t,onSecondaryButtonClick:s,onClose:s,onOuterClick:u,wideContainer:m},this.props.children)}}c.contextTypes={intl:r.i.isRequired},c.defaultProps={acceptLabel:i.defaultAcceptLabel,cancelLabel:i.defaultCancelLabel,showCustomTitle:!1,hideIcon:!1},t.a=c},,,function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return r});var n=s(8);const a=Object(n.c)(["EMPTY_FOLDER","SELECTED_MESSAGES","ATTACHMENT_PREVIEW_ERROR","PLAY_VIDEO","GEAR_ICON","DOCUMENTS_ICON"]),r=138},,function(e,t,s){"use strict";s.d(t,"b",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"d",function(){return l});var n=s(1),a=s.n(n),r=s(4);const o=",",i="+",c={reply:{key:"R",description:a.a.createElement("strong",null,a.a.createElement(r.c,{id:"shortcut.reply",defaultMessage:"Reply"}))},replyAll:{key:"A",description:a.a.createElement("strong",null,a.a.createElement(r.c,{id:"shortcut.reply_all",defaultMessage:"Reply All"}))},forward:{key:"F",description:a.a.createElement("strong",null,a.a.createElement(r.c,{id:"shortcut.forward",defaultMessage:"Forward"}))},print:{key:"P",description:a.a.createElement("strong",null,a.a.createElement(r.c,{id:"shortcut.print",defaultMessage:"Print"}))}},l=["r","a","f","p"]},,,function(e,t,s){"use strict";s.d(t,"e",function(){return d}),s.d(t,"b",function(){return u}),s.d(t,"f",function(){return m}),s.d(t,"a",function(){return p}),s.d(t,"c",function(){return _}),s.d(t,"g",function(){return h}),s.d(t,"h",function(){return E}),s.d(t,"d",function(){return g});var n=s(2),a=s(7),r=s(16),o=s(0),i=s(9);const c=1e4;function l(e,t){const{getFeaturesSelectors:s}=Object(i.b)(e.store.getState());return t>=s().getSetting("bulkActionDialogThreshold")}function d({folderId:e,filterUnread:t=!1}){let s=`folderId:${e} count:${c}`;return t&&(s+=" is:unread"),s}function u(e,{accountId:t,folderName:s,i13nModel:a={}}){return e.dispatch(n.Kc,{accountId:t,folderName:s,i13nModel:a}),e.mailAPIClient.request("folders.create",{folderName:s,accountId:t}).then(t=>{e.dispatch(n.Lc,{folder:t.folder})}).catch(t=>{e.dispatch(n.Jc,{folderName:s,error:t})})}function m(e,{streamId:t,listId:s,folderId:a,unreadCount:r,i13nModel:i}){const d=Math.min(r,c),u=l(e,d);e.dispatch(n.gh,{folderId:a,listId:s,isAsync:u,count:d,isRead:!1,flags:{read:!0},allSelected:!0,streamId:t,triageActionType:o.Vd.READ_CHANGE_FOLDER_ITEMS,isV2Action:!0,successAction:{type:n.Qj,triageActionType:o.Vd.READ_CHANGE_FOLDER_ITEMS,folderId:a},failureAction:{type:n.Pj,triageActionType:o.Vd.READ_CHANGE_FOLDER_ITEMS,folderId:a},i13nModel:i})}function p(e,{folderId:t,total:s,streamId:r,i13nModel:i}){const d=Object(a.s)(t),u=o.ub.ARCHIVE,m=Math.min(s,c),p=l(e,m);e.dispatch(n.qg,{streamId:r,listId:d,folderId:t,destinationFolderType:u,isAsync:p,count:m,allSelected:!0,triageActionType:o.Vd.ARCHIVE_FOLDER_ITEMS,isV2Action:!0,successAction:{type:n.Qj,triageActionType:o.Vd.ARCHIVE_FOLDER_ITEMS,folderId:t},failureAction:{type:n.Pj,triageActionType:o.Vd.ARCHIVE_FOLDER_ITEMS,folderId:t},i13nModel:i})}function _(e,{folderId:t,total:s,streamId:d,i13nModel:u}){const{isPermDeleteFolderType:m,getMainStreamItems:p,normalizeRoute:_}=Object(i.b)(e.store.getState()),h=Object(a.s)(t),E=m(t),g=Math.min(s,c),b=l(e,g),I=_(Object(r.j)(t));e.dispatch(n.ed,{streamId:d,listId:h,folderId:t,destinationFolderType:o.ub.TRASH,permanent:E,isAsync:b,count:g,conversations:!1,allSelected:!0,triageActionType:o.Vd.DELETE_FOLDER_ITEMS,streamItems:p(I),isV2Action:!0,successAction:{type:n.Qj,triageActionType:o.Vd.DELETE_FOLDER_ITEMS,folderId:t},failureAction:{type:n.Pj,triageActionType:o.Vd.DELETE_FOLDER_ITEMS,folderId:t},i13nModel:u})}function h(e,{i13nModel:t}){e.dispatch(n.le,{i13nModel:t})}function E(e,{i13nModel:t}){e.dispatch(n.Id,{i13nModel:t})}function g(e,{folderId:t,i13nModel:s}){e.dispatch(n.gd,{folderId:t,i13nModel:s})}},function(e,t,s){"use strict";(function(e){s.d(t,"a",function(){return h});var n=s(119),a=s.n(n),r=s(36),o=s.n(r),i=s(47),c=s(0),l=s(100),d=s(50),u=s(24),m=s(8);function p(e){const t=e=>({email:e.id,name:e.name});return e.map(e=>{const s=Number(e.creationDate)/1e3,n={id:e.mid,folder:{id:e.folderNumber.toString()},conversationId:e.conversationId,flags:{flagged:e.isFlagged,read:e.isRead},cardConversationId:e.cardConversationId||"",decos:e.decos||[],headers:{subject:e.subject||"",cc:e.ccList?e.ccList.map(t):[],bcc:e.bccList?e.bccList.map(t):[],to:e.toList?e.toList.map(t):[],from:e.fromList?e.fromList.map(t):[],date:s},snippet:e.snippet||"",attachments:_(e.attachments.map(t=>Object.assign({},t,{mid:e.mid,creationDate:e.creationDate,csid:e.csid}))).map(e=>e.attachment),verifiedDomains:e.verifiedDomains||[]};return e.csid&&(n.csid=e.csid),n})}function _(e){return e.map(e=>{const[t,s]=e.mimeType.split("/"),{partId:n=e.id,conversationId:a,csid:r,source:o}=e,{Dispositions:l}=c.u,d=e.mid?Object(i.a)(e.mid):void 0;return{attachment:{id:d?Object(i.e)({partId:n},d,!1):e.id,virus:"N",filename:e.name,size:e.size,partId:n,type:t,subtype:s,conversationId:a,source:o,csid:r,disposition:e.disposition||l.ATTACHMENT,downloadUrl:e.online?e.onlineContentLink:e.downloadLink,thumbnailUrl:e.thumbnail,isExternal:e.online||!1,creationDate:e.creationDate,documentId:e.documentId},message:{id:d,subject:e.subject}}})}const h={[c.Fb.MESSAGES]:function(e,t){return e.map(e=>{const{itemType:t}=e;return"THREAD"===t?{id:e.conversationId,messages:p(e.messages.reverse())}:"MESSAGE"===t?{id:e.mid,messages:p([e])}:void 0})},[c.Fb.DOCUMENTS]:_,[c.Fb.IMAGES]:_,[c.Fb.PEOPLE]:function(e){return e.map(e=>{const t=e.payload,s=t.id,n={[s]:t},a=c.Fb.PEOPLE,r={[a]:[s]},o=e.relationshipHistory;return{contactDetails:Object(l.b)({ep:a,contacts_info:n,contacts_by_ep:r,relationshipHistory:o})}})},[c.Fb.ADS]:Object(u.b)()?function(e){const t=[];for(let s=0;s<e.length;s++){const n=Array.prototype.slice.call(e[s].attributes).reduce((e,t)=>(e[t.name]=t.value,e),{});t.push({creativeId:n.ListingId||"",pencilAd:{adHeadline:a()(n.title)||"",adSummary:a()(n.description)||"",adImg:n.faviconUrl||"",adSource:n.siteHost||"",clickUrl:e[s].getElementsByTagName("ClickUrl")[0].innerHTML||"",beacon:"",impressionTrackingUrls:[],type:d.l.SearchAdType,adFeedbackBeacon:"",rating:n.MRRating||null}})}return t}:function(e){return(e||[]).map(e=>{const t=e.$;return{creativeId:t.ListingId||"",pencilAd:{adHeadline:a()(t.title)||"",adSummary:a()(t.description)||"",adImg:t.faviconUrl||"",adSource:t.siteHost||"",clickUrl:e.ClickUrl[0]._||"",beacon:"",impressionTrackingUrls:[],type:d.l.SearchAdType,adFeedbackBeacon:"",rating:t.MRRating||null}}})},[c.Fb.GIFS]:function(e){return(e||[]).map(e=>{const{downloadLink:t,height:s,width:n,id:a,online:r,onlineContentLink:o,ownerId:i,source:c,thumbnail:l,thumbnailHeight:d,thumbnailWidth:u,thumbnails:m,feedbackUrl:p="",h1_title:_=""}=e;return{downloadLink:t,height:s,width:n,id:a,online:r,onlineContentLink:o,ownerId:i,source:c,thumbnail:l,thumbnailHeight:d,thumbnailWidth:u,thumbnails:m,feedbackUrl:p,altText:_}})},[c.Fb.COUPON_CARDS]:function(e=[]){return e.map(({immutableId:e,messageMetadata:t})=>({id:e,messages:[babelHelpers.extends({},o()(babelHelpers.extends({},t,{schemaCards:Object(i.p)(t)}),["schemaOrg"]),{id:e})]}))},[c.Fb.PLAADS]:function(t){if(t&&t.length>0){const s=JSON.parse(new e(t[0].ads,"base64").toString("utf8")),n=Object(m.a)(s,"response.search.moduleGroups",[]),r=Object(m.a)(s,"response.search.modules",{});let o=[],i=[];return n.forEach(e=>{"pla"===e.name&&(o=e.modules)}),o.forEach(e=>{const t=Object(m.a)(r,`${e}.data.list`,[]);i=i.concat(t)}),(i||[]).map(e=>({title:a()(e.title.replace(/<[^>]+>/g,""))||"",url:e.url||"",abstract:a()(e.abstract)||"",sellerName:e.sellername||"",originalPrice:e.originalprice||"",dealPrice:e.dealprice||"",image:e.image||"",eliteBadge:e.eliteBadge&&{domain:e.eliteBadge&&e.eliteBadge.domain||"",rating:e.eliteBadge&&e.eliteBadge.rating||"",numberOfRatings:e.eliteBadge&&e.eliteBadge.numberOfRatings||""},priceDropAlert:e.priceDropAlert&&{displayedText:e.priceDropAlert&&e.priceDropAlert.displayedText||"",longText:e.priceDropAlert&&e.priceDropAlert.longText||""},productRating:e.productRating&&{rating:e.productRating&&e.productRating.rating||"",numberOfReviews:e.productRating&&e.productRating.numberOfReviews||""}}))}return[]}}}).call(this,s(324).Buffer)},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(123),c=s(11),l=s.n(c),d=s(527),u=s.n(d),m=s(366);s(8);class p extends o.a.Component{constructor(...e){var t;return t=super(...e),this.forceFocus=(()=>{this.refs.content&&this.refs.content.focus()}),this.handleBlurCapture=(e=>{this.refs.content.contains(e.relatedTarget||e.nativeEvent.explicitOriginalTarget||e.nativeEvent.srcElement)||setTimeout(this.forceFocus,0)}),this.handleKeyDown=(e=>{const{onKeyDown:t,onClose:s}=this.props;e.stopPropagation(),"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),s(e)):t&&t(e)}),this.handleOuterPartClick=(e=>{if(e.stopPropagation(),this.props.onOuterClick)return this.props.onOuterClick(e);this.props.onClose(e)}),t}componentDidMount(){this.forceFocus(),window.addEventListener("focus",this.forceFocus),this.refs.content&&(this.mousetrap=this.context.bindShortcut(["esc"],this.handleKeyDown,this.refs.content))}componentWillUnmount(){window.removeEventListener("focus",this.forceFocus),this.mousetrap&&this.context.unbindShortcut(["esc"],this.mousetrap)}render(){const{children:e,kind:t,ariaLabelledBy:s,ariaDescribedBy:n,hideShadow:a}=this.props,r=l()(u.a,{kind:t,hideShadow:a});return o.a.createElement(i.a,null,o.a.createElement("div",{onClick:this.handleOuterPartClick,className:r.grayOverlay,"data-test-id":"modal-outer",id:"modal-outer",role:s||n?"alertdialog":null,"aria-labelledby":s,"aria-describedby":n},o.a.createElement("div",{"data-test-id":"modal-content",className:r.container,ref:"content",onBlurCapture:this.handleBlurCapture,onKeyDown:this.handleKeyDown,onClick:_,tabIndex:0,role:s||n?"document":null},e)))}}function _(e){e.stopPropagation()}p.contextTypes={bindShortcut:a.a.func,unbindShortcut:a.a.func},p.defaultProps={hideShadow:!1,kind:m.a.DARK,ariaLabelledBy:null,ariaDescribedBy:null},t.a=p},,function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"b",function(){return l}),s.d(t,"c",function(){return d}),s.d(t,"d",function(){return u});var n=s(1),a=s.n(n),r=s(67);const o=/^\^_+|\^_+$/g;function i(e,t){let s=-1;if(t&&e){const t=e.indexOf("^_");if(-1!==t){s=t/e.length}}return s>.66?r.a.RIGHT:s>.33?r.a.CENTER:s>=0?r.a.LEFT:r.a.NONE}function c(e){return e.split(/(\^_[^^]*?\^_)/g)}function l(e=null,t,s){return e&&t?function(e,t){return c(e).map(function(e){return 0===e.indexOf("^_")?a.a.createElement("span",{key:e,className:t,"data-test-id":"highlight"},e.replace(o,"")):e})}(e,s):e}function d(e,t,s){if(e&&t&&s){let n="",a=0,r=0,o=t.exec(e);for(;null!==o;)n+=e.substring(r,o.index),a=o.index,r=o.index+o[0].length,o.length>1&&(r=(a=e.indexOf(o[1],a))+o[1].length),n+=e.substring(o.index,a)+"^_"+e.substring(a,r)+"^_"+e.substring(r,o.index+o[0].length),r=o.index+o[0].length,o=t.flags&&t.flags.includes("g")?t.exec(e):null;n+=e.substring(r),e=l(n,s,s)}return e}function u(e=null){if(e){return c(e).map(function(e){return 0===e.indexOf("^_")?e.replace(o,""):e}).join("")}return e}},function(e,t,s){"use strict";var n=s(4);t.a=Object(n.h)({mailBrandName:{id:"mail.yahoo_mail_brand_name",defaultMessage:"Yahoo Mail"},brandName:{id:"yahoo_brand_name",defaultMessage:"Yahoo"}})},function(e,t,s){"use strict";s.d(t,"a",function(){return d});const n=/^\s*at .*(\S+\:\d+|\(native\))/m,a=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,r=/[\(\)]/g,o=/^\s+/,i=/'/g,c="\n",l=1e4;class d{constructor(e){this.error=e||null}toString(){try{let e=this.parse().join(c);return e.length>l&&(e=e.substr(0,l)+"..."),e}catch(e){return e.message||"Error in parsing an Error object"}}parse(){const e=this.error;if(null===e)throw new Error("Error is null or undefined");if(e.stack&&e.stack.match(n))return this.parseChromeOrIE();if(e.stack)return this.parseFFOrSafari();throw new Error("Cannot parse an Error object")}parseChromeOrIE(){return this.error.stack.split(c).map(e=>e=(e=e.replace(o," ")).replace(i,'"'))}parseFFOrSafari(){const e=this.error.stack.split(c).filter(e=>""!==e).map(e=>{if(-1===e.indexOf("@")&&-1===e.indexOf(":"))e=` at ${e}`;else{const t=e.split("@"),s=this.extractLocation(t.pop()),n=t.join("@")||void 0,[a,r,o]=s;e=` at ${n} (${a}:${r}:${o})`}return e});return[`${this.error.name}:${this.error.message}`.replace(i,'"')].concat(e)}extractLocation(e){if(-1===e.indexOf(":"))return[e];const t=a.exec(e.replace(r,""));return[t[1],t[2]||void 0,t[3]||void 0]}}},,function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(11),o=s.n(r),i=s(597),c=s.n(i),l=s(8);const d=Object(l.c)(["LI","SPAN"]),u=o()(c.a);class m extends a.a.Component{shouldComponentUpdate(){return!1}render(){return a.a.createElement(this.props.tagName===d.LI?"li":"span",{className:u.flexSpacer})}}m.defaultProps={kind:d.SPAN};t.a=m},function(e,t,s){"use strict";s.d(t,"b",function(){return c}),s.d(t,"a",function(){return d}),s.d(t,"c",function(){return p}),s.d(t,"d",function(){return h}),s.d(t,"e",function(){return g});var n=s(0),a=s(77),r=s(119),o=s.n(r);function i(e=[]){const t=[];return e.forEach(e=>{Object.keys(e.entities).forEach(s=>{const a=e.entities[s];t.push(Object.assign({},a,e.intent===n.Gd.ALL?{name:o()(a.name)}:null))})}),t}function c(e=[]){return i(e.filter(e=>e.intent===n.Gd.PEOPLE).filter(e=>{const t=e.entities;return Object.keys(t).forEach(e=>{const s=t[e];s.type!==n.Hd.PERSON||s.emailIds&&0!==s.emailIds.length||delete t[e]}),Boolean(Object.keys(t).length)}))}function l(e){return i(e.filter(e=>e.intent===n.Gd.ALL).filter(e=>{const t=e.entities;let s=!1;return Object.keys(t).forEach(e=>{const a=t[e];a.type===n.Hd.KEYWORD&&a.name&&(s=!0)}),s}))}function d(e){return i(e.filter(e=>e.intent===n.Gd.ALL).filter(e=>{const t=e.entities;let s=!1;return Object.keys(t).forEach(e=>{const a=t[e];a.type===n.Hd.EMAIL&&a.name&&(s=!0)}),s}))}function u(e=[],t){const s=new RegExp("(^|\\s)"+Object(a.a)(t),"gi");return e.filter(e=>{const{name:n="",backyard:a="",emails:r=[]}=e,o=n+" "+a+" "+r.join(" ");return t&&-1!==o.search(s)}).map(e=>(function(e){return{emailIds:e.emails,imageUrl:`https://proddata.xobni.yahoo.com/v4/contacts/${e.xobniId}/photo`,name:e.name,serviceId:e.xobniId,sourceService:"XOBNI",type:n.Hd.PERSON}})(e)).filter((e,t,s)=>s.findIndex(t=>t.serviceId===e.serviceId)===t)}function m(e=[],t=[]){const s=e.map(e=>{const s=t.find(t=>t.serviceId===e.serviceId);return void 0!==s?s:e}),n=t.filter(e=>!s.find(t=>t.serviceId===e.serviceId));return[].concat(s,n)}function p(e){const t=[];return e.forEach(e=>{e.emailIds.forEach(s=>{const n=JSON.parse(JSON.stringify(e));n.emailIds=[s],t.push(n)})}),t}function _(e,t=""){const s=[];return e.forEach(e=>{e.query&&-1!==e.query.indexOf(t)&&s.push({type:n.Hd.RECENT,name:e.query})}),s}function h(e=[],t=[],s=[],n,a=!1,r=!1){const o=n&&""===n.trim();if(!r&&o)return[];const i=c(e),d=l(e).slice(0,6),p=u(t,n),h=_(s,n),E=m(p,i);let g=[],b=0;return b=Math.max(0,2-E.length)+Math.max(0,2-d.length)+Math.max(0,2-h.length),E.length&&(g=E.slice(0,2+b),b-=Math.max(0,g.length-2)),g=g.concat(d.slice(0,2+b)),b-=Math.max(0,g.length-4),h.length&&a&&(g=g.concat(h.splice(0,2+b))),g.slice(0,6)}function E(e,t=!1){return{type:n.Hd.HEADER,headerType:n.Fd[e],firstEntry:t}}function g(e=[],t=[],s=[],a="",r=!1,o=!1){const i=""===a.trim();if(!o&&i)return[];const p=c(e),h=l(e).slice(0,4),g=u(t,a),b=d(e),I=r?_(s,a):[],f=m(g,p);let S;const A=[],T=[],C=[];if((S=i?I.length?I:h:h.length?h:I).length){const e=0===p.length;A.push(E(S[0].type===n.Hd.KEYWORD?n.Hd.KEYWORD:n.Hd.RECENT,e))}f.length&&T.push(E(n.Hd.PERSON,!0));const O=2+Math.max(0,2-S.length),R=2+Math.max(0,2-f.length);if(b.length){C.push(E(n.Hd.EMAIL,0===b.length))}return[].concat(T,f.slice(0,O),A,S.slice(0,R),C,b.slice(0,3))}},function(e,t,s){"use strict";var n=s(59);t.a=s.n(n).a.create("norrin/bootcamp_client")},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(17),o=s(140),i=s(586),c=s.n(i),l=s(11),d=s.n(l),u=s(10),m=s(15),p=s(22),_=s(4),h=s(3);const E=d()(c.a),g={margin:`14px ${u.GRID_UNIT}px ${5*u.GRID_UNIT}px 0`,border:0,padding:`0 ${7*u.GRID_UNIT}px`},b=Object(_.h)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptText:{id:"alert.ok",defaultMessage:"OK"}}),I=()=>{};class f extends a.a.Component{constructor(...e){var t;return t=super(...e),this.state={shown:!0},this.handleKeyDown=(e=>{("Enter"===e.key||"Escape"===e.key&&!this.props.onClose)&&(e.preventDefault(),e.stopPropagation(),this.props.onAccept())}),this.handleAccept=(e=>{e.stopPropagation(),this.props.onAccept()}),this.handleClose=(e=>{e.stopPropagation(),this.props.onClose()}),t}render(){const{formatMessage:e}=this.context.intl,t=e(this.props.acceptText);let s;return s=this.props.hideClose?null:a.a.createElement("div",{className:E.close},a.a.createElement(p.a,{onClick:this.props.onClose?this.handleClose:this.handleAccept,kind:h.b.CLOSE,size:h.d.XS,title:e(b.close),"aria-label":e(b.close),"data-test-id":"alert-button-close"})),a.a.createElement(o.a,{onKeyDown:this.handleKeyDown,onClose:this.props.onClose?this.props.onClose:I},a.a.createElement("div",{className:E.container,"data-test-id":"alert-dialog",role:"alertdialog"},a.a.createElement("div",{className:E.icon},a.a.createElement(m.b,{kind:h.b.EXCLAMATION_ALT,size:h.d.L,colorState:h.a.WARNING_GRAD_RED})),a.a.createElement("header",{className:E.header},a.a.createElement("h3",{className:E.title,"data-test-id":"alert-title"},this.props.title),s),a.a.createElement("section",{className:E.message,"data-test-id":"alert-message"},this.props.message),a.a.createElement("footer",{className:E.controls},a.a.createElement(r.a,{onClick:this.handleAccept,style:g,"data-test-id":"alert-button-ok"},t))))}}f.contextTypes={intl:_.i.isRequired},f.defaultProps={acceptText:b.defaultAcceptText},t.a=f},,function(e,t,s){"use strict";s.d(t,"a",function(){return m});var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(11),c=s.n(i),l=s(13),d=(s(25),s(8),s(9));const u=e=>{const{getFeaturesSelectors:t}=Object(d.b)(e),s=t();return{theme:s.getSetting("theme"),themeMode:s.getSetting("themeMode")}},m=e=>Object(l.b)(u)(function(e){var t,s;return s=t=class extends o.a.Component{getChildContext(){return{getCss:(e,t)=>c()(e,Object.assign({},t,{themeMode:this.props.themeMode,theme:this.props.theme,themeCombo:`${this.props.themeMode}_${this.props.theme}`})),getTheme:()=>this.props.theme,getThemeMode:()=>this.props.themeMode}}render(){return o.a.createElement(e,babelHelpers.extends({key:`${this.props.theme}-${this.props.themeMode}`,ref:"childComponent"},this.props))}},t.displayName="WrappedThemeProvider",t.childContextTypes={getCss:a.a.func,getTheme:a.a.func,getThemeMode:a.a.func},s}(e))},,function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(4),o=s(19),i=s(117),c=s(113),l=s(125),d=s(65),u=s(578),m=s.n(u),p=s(210),_=s.n(p),h=s(11),E=s.n(h),g=s(15),b=s(3),I=s(22),f=s(17),S=s(61),A=s(31),T=s(90),C=s(103);const O=E()(m.a),R=E()(_.a),N=Object(r.h)({foreground_color_text_label:{id:"compose.foreground_color_text_label",defaultMessage:"Text color"},background_color_text_label:{id:"compose.background_color_text_label",defaultMessage:"Highlight color"},back_button_text_label:{id:"compose.back_button_text_label",defaultMessage:"Back"}});class M extends a.a.Component{constructor(...e){var t;return t=super(...e),this.handleBackButton=(e=>{e.stopPropagation(),this.props.goToMainMenu()}),this.onColorChange=((e,t)=>{e(t)}),t}render(){const{formatMessage:e}=this.context.intl,t=e(N.foreground_color_text_label),{onFGColorChange:s,onBGColorChange:n,swatchColors:o,selectedFGColor:u,selectedBGColor:m}=this.props,p=e(N.background_color_text_label),_=Object(d.getSixDigitHexColor)(u),h=Object(d.getSixDigitHexColor)(m),E=o.map(e=>{const t=`#${e}`;return a.a.createElement(y,{key:"fc-"+e,name:"fc-"+e,color:t,selected:_===t,onClick:this.onColorChange.bind(this,s,t),isDark:D(e)})}),f=o.map(e=>{const t=`#${e}`;return a.a.createElement(y,{key:"bc-"+e,name:"bc-"+e,color:t,selected:h===t,onClick:this.onColorChange.bind(this,n,t),isDark:D(e)})});return a.a.createElement(l.a,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1,parentMenu:this.props.parentMenu},this.props.parentMenu?a.a.createElement(c.a,{style:{display:"none"}}):a.a.createElement(c.a,{"data-test-id":"icon-btn-text_color",title:t,"aria-label":t},a.a.createElement(g.b,{kind:b.b.TEXT_COLOR,size:b.d.XS,colorState:b.a.NORMAL})),a.a.createElement(i.a,{onHide:this.handleMenuHide,menuLayout:C.a.VERTICAL,"data-test-id":"color-picker"},this.props.parentMenu?a.a.createElement(I.a,{title:e(N.back_button_text_label),kind:b.b.ARROW_UP,size:b.d.XS,rotate:b.c.D270,colorState:b.a.SECOND_LEVEL_GRAY,onClick:this.handleBackButton,"data-test-id":"icon-btn-text_color_back"},a.a.createElement("span",{className:R.backButtonLabel},a.a.createElement(r.c,N.back_button_text_label))):"",a.a.createElement("div",{className:this.props.parentMenu?O.subColorMenu:O.colorMenu},a.a.createElement(S.a,{layout:C.a.HORIZONTAL},a.a.createElement("li",{className:O.swatchItem},a.a.createElement("div",{className:O.swatchTitleBase},a.a.createElement(r.c,N.foreground_color_text_label)),a.a.createElement("div",{className:O.swatchContent},a.a.createElement(S.a,{layout:C.a.GRID},E))),a.a.createElement("li",{className:O.swatchItem},a.a.createElement("div",{className:O.swatchTitleBase},a.a.createElement(r.c,N.background_color_text_label)),a.a.createElement("div",{className:O.swatchContent},a.a.createElement(S.a,{layout:C.a.GRID,title:p},f)))))))}}function D(e){Object(o.a)(6===e.length,"Expect input to be 6 digit hex color");const t=parseInt(e.slice(0,2),16)/255,s=parseInt(e.slice(2,4),16)/255,n=parseInt(e.slice(4,6),16)/255;return(Math.max(t,s,n)+Math.min(t,s,n))/2<.55}function y({color:e,selected:t,name:s,isDark:n,onClick:r}){return a.a.createElement(A.a,{name:s,kind:T.a.GRID},a.a.createElement("div",{className:O.colorElement},a.a.createElement(f.a,{title:e,className:O.color,style:{backgroundColor:e,boxShadow:"#ffffff"===e?"inset 0 0 0 1px #e2e2e6":null},onClick:r},t&&a.a.createElement(g.b,{kind:b.b.CHECKMARK,size:b.d.XXS,colorState:n?b.a.INVERTED:b.a.NORMAL}))))}M.contextTypes={intl:r.i.isRequired},M.DEFAULTS={FG_COLOR:"#000000",BG_COLOR:"#ffffff"},M.defaultProps={swatchColors:["000000","808080","ffffff","9d1811","cd232c","d36a53","a46016","dd902f","e4ac64","ac9e19","fdef2b","fdf869","5b8828","8fca40","add773","4c76a2","70aced","7dbef1","440062","652191","845aa7","9c005c","cb008e","d264aa"],parentMenu:null},t.a=M},function(e,t,s){"use strict";var n=s(68),a=s(94),r=s.n(a),o=s(8),i=s(24),c=s(19),l=s(21),d=s(35),u=s(34);function m(e,t){let s=null;return s||(s=function(e,t){if(0===t.indexOf("launch.")){const{message:s,statusCode:n,errorCode:a,extraStatusCode:r="",extraErrorCode:o=""}=e;let i=15;return 429===n&&(i=19),new d.a(u.l,s,{apiName:t,code:i,errorCode:a,statusCode:n,extraErrorCode:o,extraStatusCode:r})}return null}(e,t)),s||e}var p=s(40),_=s(0),h=s(44),E=s.n(h),g=s(89),b=s(14),I=s(493),f=s.n(I);const S=["EC-4001","EC-4002","EC-4004","EC-4020"],A={Transport:l.b,request:(e,t,s,n,a)=>{if(!a[e])throw new Error(`Invalid method '${e}'.\n                List of available methods: ${JSON.stringify(Object.keys(a))}`);const r=a[e];if(s&&!s.timeout&&A._isGSBMethod(e)&&(s.timeout=6e4),!r.getBatchPayload)throw new TypeError("Method "+e+" does not implement the required function `getBatchPayload`");const o=r.getBatchPayload(t,s);if(null==o||0===Object.keys(o).length||0===o.requests.length)return Promise.reject(new d.a("MailApiClient.EmptyRequestPayload",Object.assign({methodName:e,ymreqid:s.ymreqid,errorCode:"EMPTY_REQUEST"},t)));const i=Object.assign({},o,{responseType:"json"});s.hash=Object(b.h)(i,s.wssid,s.retryCount,A._getHeaders(s,r,t));const c=A._getEndpoint(e,s),{apiDebounceManager:l}=s;return l.get(e).execute({execute:()=>A._request(e,c,i,s,n,r,t),hash:s.hash,log:({duration:t,counter:n,active:a})=>{g.a.error("mail_api_client_debounced",{apiName:e,hash:s.hash||"",ymreqid:s.ymreqid||"",appId:s.appId||"",useHostname:s.useHostname||!1,duration:t,counter:n,active:a})}})},_getHeaders:(e,t,s)=>Object.assign({},A._getCustomHeaders(t,s),e.headers),_request:(e,t,s,n,a,r,i)=>{const c=A._getHeaders(n,r,i),{appId:l="",ymreqid:d="",debugRequestPayload:_=!1}=n;return A._sendRequest(e,t,s,n,a,c).then(c=>{let m,_;const h=Object(o.a)(c,"body.result.responses",[]);if(!h.length){const e=Object(o.a)(c,"text","Not Available"),t=Object(o.a)(c,"headers","Not Available"),s=Object.assign(e?{}:{headers:t},{responseText:e});m=new p.a(u.i,{},!0,s)}else _=A._generateSuccessAndFailureResponses(h),m=A._getError(r,_,i,e);if(m){const{retryCount:o=0}=n,{statusCode:c,errorCode:p,extraStatusCode:_,extraErrorCode:h,isRetryable:E=!1}=m;if(n.isComposite&&E&&o<1)return n.retryCount=o+1,A._request(e,t,s,n,a,r,i);if(m.message!==u.k)throw m;g.a.error("mail_api_unhandled_error",{apiName:e,appId:l,ymreqid:d,statusCode:c,errorCode:p,extraStatusCode:_,extraErrorCode:h})}return r.transformResponses(_,babelHelpers.extends({},n,i),s)}).catch(t=>{const{errorCode:n=""}=t;throw _&&S.includes(n)&&g.a.error("debug_request_payload",{apiName:e,appId:l,ymreqid:d,errorCode:n,requestPayload:f()(s)}),t=m(t,e)||t})},_generateSuccessAndFailureResponses:e=>{const t={successMap:{},failureMap:{}};return e.forEach(e=>{e.httpCode<400?t.successMap[e.id]=e:t.failureMap[e.id]=e}),t},_getError:(e,t,s,n)=>{const{successMap:a,failureMap:r}=t,i=Object.keys(r).length,{mailboxSwitcher:c,externalAndPhoneRegTrapPage:l,allowUsernameAndPhoneReg:m}=s;if(-1!==n.indexOf("launch.")&&a.GetMailboxes){const e=Object(o.a)(a.GetMailboxes,"response.result.mailboxes",[]);if(e.length>1&&!c){return new p.a(u.q,{GetMailboxes:{id:"GetMailboxes",response:e}},!1)}}if((!m||l)&&a.GetAccounts){const e=Object(o.a)(a.GetAccounts,"response.result.accounts",[]),t=e.find(e=>e.isPrimary&&(e.type===_.g.EXTERNAL||e.type===_.g.PHONE));if(t){const s={GetAccounts:{id:"GetAccounts",response:t}};if(!m)return new p.a(u.a,s,!1);if(l){if(!e.find(e=>{const{type:t,status:s}=e;return t===_.g.IMAPIN&&(s===_.f.ENABLED||s===_.f.PENDING)}))return new d.a(u.m,{accountType:t.type},!1)}}}if(e.getBatchError){const n=e.getBatchError(t,s);return!n&&i?new p.a(u.k,r):n}return i?new p.a(u.j,r):null},_getCustomHeaders:(e,t)=>{let s=null;return e.getHeaders&&(s=e.getHeaders(t)),s},_setCustomHeaders:(e,t)=>{t&&Object.keys(t).forEach(s=>{e.setHeader(s,t[s])})},_isGSBMethod:e=>/^messages\.[a-z]+(Bodies|BodiesFull)$/i.test(e),_sendRequest:(e,t,s,n,a,r)=>{const{timeout:o,httpRetry:i,shouldRetry:c,uploadProgressCallback:l}=n,d=new A.Transport("post",t,{timeout:o,httpRetry:i,shouldRetry:c,apiName:e,uploadProgressCallback:l});return n.cookie&&d.setCookieHeader(n.cookie),d.setHeader("Accept","application/json"),A._setCustomHeaders(d,r),d.setField("batchJson",JSON.stringify(s)),a&&a.forEach(e=>{d.setAttachment(encodeURIComponent(e.name),e)}),d.send()},_getEndpoint:(e,t)=>{const{appId:s="",wssid:n="",ymreqid:a="",useHostname:r=!1,hash:o="",retryCount:i=0}=t,l=r?"http://"+_.Ab:"";Object(c.a)(n,"wssid is required for making request to JEDI"),Object(c.a)(a,"ymreqid is required for making request to JEDI");const d=Object.assign({name:e,hash:o,appId:s,ymreqid:a,wssid:n},i>0?{retryCount:i}:{});return l+"/ws/v3/batch?"+E.a.stringify(d)}};var T=A;const C=_.ee+"/mail_api/",O="post";var R=s(33),N=s(369);var M=s(63),D=s.n(M),y=s(32),L=s.n(y);const v={[_.Yb.DELIVERY_BLOCKED_SENDERS]:"senders",[_.Yb.SCOUT_ONBOARDING]:"value",[_.Yb.SUPPRESSED_UPSELLS]:"value"};function P(e,{mailboxId:t,filter:s,count:n,offset:a,sortOrder:r=_.Cd.CARD_DATE_DESC,accountId:o},i,c,l){return T.request("refundCards.getList",{mailboxId:t,filter:s,count:n,offset:a,sortOrder:r,accountId:o},i,c,l).then(e=>{const s=[],n=[];return e.cardGroupList.forEach(e=>{e.messages.forEach(e=>{-1===n.indexOf(e.cardConversationId)&&n.push(e.cardConversationId)})}),s.push(n.length>0?T.request("messages.getExtractions",{mailboxId:t,cardConversationIds:n},i,c,l):Promise.resolve({result:{extractedMessagesList:[]}})),Promise.all(s).then(([t])=>{const s=t.result.extractedMessagesList.filter(e=>e&&e.decos&&e.decos.some(e=>e&&e.id&&e.id===_.dc.EML)),n=s.map(e=>e.cardConversationId),a=e.cardGroupList.filter(e=>e.messages.every(e=>-1!==n.indexOf(e.cardConversationId))),r=s.reduce((e,t)=>babelHelpers.extends({},e,{[t.id]:babelHelpers.extends({},t)}),{});return babelHelpers.extends({messageGroupsResponses:{cardGroupList:a,hasMoreItems:e.hasMoreItems,offset:e.offset}},{parentMessagesMap:r})})})}var F=s(28);const x=1;class w extends n.a{constructor({appId:e=_.ge,loginHash:t,wssid:s,crumb:n,cookie:a,bizMboxId:o,loggerParams:l,httpRetry:d,requestQueue:u,isOnline:m,throttleAPIList:p,batchMethods:h,headers:E,executeRequestsSequentially:g=Object(i.b)(),config:{debugRequestPayload:b=!1}={}},I){if(super({loggerName:_.p.MailAPIClient,loggerParams:Object(i.b)()?{}:l,crumb:n,wssid:s,isOnline:m}),"string"==typeof I&&!w.STRATEGIES[I])throw new Error("strategy has to be one of "+JSON.stringify(Object.keys(w.STRATEGIES)));this.batchMethods=h,this.appId=e,this.cookie=a,this.bizMboxId=o,this.headers=E||{},this.httpRetry=d,this.strategy=I||this._getDefaultStrategy(),this._validateStrategy(this.strategy),g&&(Object(c.a)(u,"if you are executing requests sequentially, you must pass a request queue."),this.executeRequestsSequentially=!0,this.requestQueue=u),t&&(this.ymreqidGenerator=new r.a(t,_.fe,_.Wc)),this.apiDebounceManager=new F.a(p||{}),this.debugRequestPayload=b}_getDefaultStrategy(){return Object(i.b)()?w.STRATEGIES.BROWSER_TO_JEDI:w.STRATEGIES.NODE_TO_JEDI}_validateStrategy(e){if(Object(i.b)()&&e===w.STRATEGIES.NODE_TO_JEDI)throw new Error(w.STRATEGIES.NODE_TO_JEDI+" strategy can not be used in the browser");if(!Object(i.b)()&&[w.STRATEGIES.BROWSER_TO_NODE_TO_JEDI,w.STRATEGIES.BROWSER_TO_JEDI].indexOf(e)>-1)throw new Error(w.STRATEGIES.BROWSER_TO_NODE_TO_JEDI+" or "+w.STRATEGIES.BROWSER_TO_JEDI+" strategies can not be used on the server")}_getRequest(e,t,s,n){if(s.useHostname=s.strategy===w.STRATEGIES.NODE_TO_JEDI,s.strategy===w.STRATEGIES.BROWSER_TO_NODE_TO_JEDI)return Object(c.a)(!n,"We cannot proxy a request with files."),w.REQUESTS.BrowserProxy.bind(null,e,t,s.ymreqid,this.crumb,this.wssid,s.httpRetry);return(w.REQUESTS[e]||w.REQUESTS.Batch).bind(null,e,t,s,n,this.batchMethods)}request(e="",t={},s={},n){if(!s.ymreqid&&!this.ymreqidGenerator)throw new Error("`ymreqid` is missing. You should either specify `ymreqid` in `requestConfig` object when making a request or initialize MailAPIClient with `loginHash`, so that it can generate a new one");const a=this.strategy===w.STRATEGIES.NODE_TO_JEDI&&s.ymreqid?s.ymreqid:this.ymreqidGenerator.generate(),{retryCount:r=0,retryErrorCode:o="",retryStatusCode:c="",retryYmreqid:l="",uploadProgressCallback:d}=s,u={useHostname:null,ymreqid:a,cookie:this.cookie,retryCount:r};s.crumb&&(this.crumb=s.crumb),s.wssid&&(this.wssid=s.wssid),this.appId!==_.ge||Object(i.b)()||s.appId||(s.appId=_.ne),u.appId=s.appId||this.appId,u.ymreqid=a,u.wssid=s.wssid||this.wssid,u.strategy=s.strategy||this.strategy,u.noRetry=s.noRetry,u.timeout=s.timeout,u.headers=s.headers||this.headers,u.uploadProgressCallback=d,u.httpRetry=this.httpRetry,u.shouldRetry=this.shouldRetry,u.loggerParams=this.loggerParams,u.apiDebounceManager=this.apiDebounceManager,u.debugRequestPayload=this.debugRequestPayload,this._validateStrategy(u.strategy);const m=this.getMailboxParams(),p=Array.isArray(t)?t.map(e=>babelHelpers.extends({},e,m)):babelHelpers.extends({},t,this.getMailboxParams());this.bizMboxId&&(p.bizMboxId=this.bizMboxId);const h=this._getRequest(e,p,u,n),E={apiName:e,ymreqid:a,retryCount:r};let g;return t.prefetchMode&&(E.prefetchMode=t.prefetchMode),"document.fetch"===e&&(E.documentId=t.documentId||"",E.mimeType=t.mimeType||"",E.size=t.size||"",E.page=`${t.startPage}-${t.endPage}`,E.pageRetryCount=t.retryCount,E.isFirstReq=0===t.retryCount&&1===t.startPage),1===r&&Object.assign(E,{retryErrorCode:o,retryStatusCode:c,retryYmreqid:l}),g=this.isRequestBlocked("checkMail"!==e)?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(h,e):h(),this.logRequest(g,E,null,r),g.then(e=>(this.setRequestBlocked(!1),e),o=>{if(o=this.handleCommonError(o),this.isRetryableError(o,r)){const{errorCode:i="",statusCode:c=""}=o,l=Object.assign({},s,{retryCount:r+1,retryYmreqid:a||"",retryErrorCode:i,retryStatusCode:c});return-1!==i.indexOf("DOC-814")?function(e){return new Promise(t=>setTimeout(t,e))}(2e3).then(()=>this.request(e,t,l,n)):this.request(e,t,l,n)}throw o})}handleAuthError(e){const{statusCode:t}=e;if(401===t){const s=Object(o.a)(e,"data.body.error.code","");return new d.a(u.b,{statusCode:t,errorCode:s,body:e.getDataByName("body",""),refresh:!0})}return null}handleWssidReissueError(e){const{statusCode:t}=e;if(400===t){const s=Object(o.a)(e,"data.body.error.code","");if("EC-4003"===s){const n=Object(o.a)(e,"data.body.error.details.wssid","");if(n)return this.wssid=n,new d.a(u.e,{statusCode:t,errorCode:s,wssid:n})}}return null}isRetryableError(e,t){if(this.appId===_.me)return!1;if(t<x){const{isRetryable:t=!1,name:s="",errorCode:n="",statusCode:a=0}=e;if(s===u.e)return!0;if("HttpTransport.NotOkStatusCode"===s&&(a>=500&&501!==a||408===a))return!0;if(["ECONNABORTED","OUTBOUND"].includes(n))return!0;if(t)return!0}return!1}shouldRetry(e,t){if(t&&t.status&&(t.status>=500||408===t.status))return!1;if(e){if(e.timeout&&"ECONNABORTED"===e.code)return!1;if(e.crossDomain)return!1}return super.shouldRetry(e,t)}}w.STRATEGIES=Object(o.c)(["NODE_TO_JEDI","BROWSER_TO_NODE_TO_JEDI","BROWSER_TO_JEDI"]),w.REQUESTS={Batch:T.request,BrowserProxy:function(e,t,s,n,a,r){const o=new l.b(O,C+e+"?crumb="+n+"&ymreqid="+s+"&wssid="+a,{httpRetry:r});return o.setHeader("Accept","application/json"),o.send({params:t,ymreqid:s}).then(e=>e.body)},checkMail:function(e,{accountId:t,mailboxId:s,folderId:n,sortOrder:a,filter:r,count:o,offset:i,conversationsMode:c,highestModSeq:l,resetUnseenCount:d,alertStoreHighestModSeq:u,excludeFolderTypes:m},p={},h,E){return p.isComposite=!0,T.request("mailbox.sync",{mailboxId:s},p,h,E).then(e=>{const g=Object(R.d)(e.folders),b=g[n],I=Object(N.a)(p.timezone),f=!(b&&void 0!==l&&b.highestModSeq===l),S=[],A=Object.keys(g).find(e=>-1!==g[e].types.indexOf(_.ub.ALERTSTORE)),C=(g[A]||"").highestModSeq,O=!(!u||!C||u===C);return f||O?(S.push(f?T.request("messageGroups.getList",{mailboxId:s,folderId:n,sortOrder:a,filter:r,count:o,offset:i,conversationsMode:c,excludeFolderTypes:m},p,h,E):Promise.resolve()),S.push(O?T.request("account.getAlerts",{mailboxId:s},p,h,E):Promise.resolve([])),d&&S.push(T.request("unseenCount.reset",{mailboxId:s,accountId:t},p,h,E)),Promise.all(S).then(([t,s])=>babelHelpers.extends({currentTimezoneOffset:I},e,t,{accountAlerts:s}))):babelHelpers.extends({currentTimezoneOffset:I},e)})},saveArrayAttributes:function(e,{mailboxId:t,attribute:s,items:n,overWrite:a=!1,dedupFn:r=null},i={},c,l){i.isComposite=!0;const d=e=>T.request("settings.saveWebMailboxAttributes",{mailboxId:t,attributes:[{id:s,value:e}]},i,c,l);return Array.isArray(n)?Object(o.e)(_.Yb).indexOf(s)<0?Promise.reject("attribute must be defined first."):a?d(n).then(()=>n):(()=>T.request("mailbox.getAttributes",{mailboxId:t,attributes:{[s]:s}},i,c,l).then(({responses:e})=>{const t=e[s][v[s]||s];return Array.isArray(t)?t:Promise.reject("current list is not an array")}))().then(e=>{let t;return t="function"==typeof r?r(e.concat(n)):D()(e.concat(n)),L()(e.sort(),t.sort())?Promise.resolve():d(t).then(()=>t)}):Promise.reject("provided list must be an array")},getReceipts:P,getMoreReceipts:P};t.a=w},function(e,t,s){"use strict";s.d(t,"b",function(){return u}),s.d(t,"c",function(){return m}),s.d(t,"d",function(){return p}),s.d(t,"a",function(){return _});var n=s(23),a=s(0),r=s(150),o=s(65),i=s(208);const c=/messages\/@.id==(.*?)\/.*?content\/parts\/@.id==(.*?)\//i,l=/^https/i,d="yahoo-style-wrap";function u(e){const t=e.querySelectorAll(`[class*="${d}"]`);return 0===t.length?null:t[0]}function m(e){if(!e)return!1;const t=e.getAttribute("class");return t&&-1!==t.indexOf("yiv")}function p(e,t){const{getFeaturesSelectors:s,getAttachmentsSelectors:i}=t,{getSetting:p}=s(),_=Object(r.getInertElement)(e),h=function(e){return!!e.querySelector(n.LINK_EHANCER_CARD_SELECTOR)}(_),E=u(_),g=m(E);!function(e,t){const{getDownloadUrlByContentId:s,doesAttachmentExistById:a,getContentIdByAttachmentId:r}=t;[].forEach.call(e.querySelectorAll(n.INLINE_IMAGE_SELECTOR),e=>{let t=e.getAttribute("data-id");const n=e.getAttribute("src");if(!t){if(!n||!c.test(n))return;{const[,e,s]=c.exec(n),o=e+":"+s;if(!a(o))return;t=r(o)}}let o=s(t);!o&&l.test(n)&&(o=n),e.setAttribute("src",o||"cid://"+t.slice(1,-1)),e.removeAttribute("data-id"),e.setAttribute("data-id",t)})}(_,i()),function(e){const t=e.querySelector(n.STATIONERY_BODY_SELECTOR);t&&t.removeAttribute("contenteditable")}(_),function(e){[].forEach.call(e.querySelectorAll("ol"),e=>{e.setAttribute("style",[...(e.getAttribute("style")||"").split(";").filter(Boolean),"list-style-position: inside"].join(";"))})}(_);const b=E&&!g?_.innerHTML.replace(/&quot;/g,""):`<div class="${d}" style="font-family:`+p(a.nd.COMPOSE_FONT_FAMILY).replace(/"/g,"")+";font-size:"+Object(o.getFontSizeStyle)(p(a.nd.COMPOSE_FONT_SIZE))+';">'+_.innerHTML+"</div>";return`<html${h?` ${n.OutlookSupportHTMLAttributes}`:""}>`+`<head>${h?n.OutlookSupportHTMLHeadContent:""}</head>`+"<body>"+b+"</body></html>"}function _(e){return Object(i.convertToPlainText)(Object(r.getInertElement)(e))}},function(e,t,s){"use strict";s.d(t,"a",function(){return d});s(6);var n=s(1),a=s.n(n),r=s(22),o=s(3),i=s(4),c=s(8);const l=Object(i.h)({checked:{id:"atom.checkbox_checked",defaultMessage:"Checkbox, checked"},notChecked:{id:"atom.checkbox_not_checked",defaultMessage:"Checkbox, not checked"},partialChecked:{id:"atom.checkbox_partial_checked",defaultMessage:"Checkbox, partially checked"}}),d=Object(c.c)(["NONE","ALL","PARTIAL"]);class u extends a.a.Component{render(){const{type:e,highContrast:t,isInverted:s,size:n,isMonochrome:i}=this.props;let c,u,m,p,_;switch(s?(p=t?o.a.INVERTED_LESS_DIM:o.a.INVERTED_DIM,_=o.a.INVERTED):(p=t?o.a.NORMAL:o.a.COOL_FAINT,_=o.a.SELECTED),e){case d.ALL:c=o.b.CHECKBOX_ON,u=_,m=l.checked;break;case d.PARTIAL:c=i?o.b.MONOCHROME_MIXED_CHECKBOX:o.b.MIXED_CHECKBOX,u=p,m=l.partialChecked;break;case d.NONE:default:c=o.b.CHECKBOX_OFF,u=p,m=l.notChecked}return a.a.createElement(r.a,babelHelpers.extends({"data-test-id":"checkbox"},this.props,{"data-iskeynav":!0,size:n,kind:c,colorState:u,title:this.context.intl.formatMessage(m)}))}}u.defaultProps={highContrast:!1,isInverted:!1,size:o.d.XS,isMonochrome:!1},u.contextTypes={intl:i.i.isRequired},t.b=u},,function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(15),c=s(3),l=s(553),d=s.n(l);const u=(e,{getCss:t})=>{const s=t(d.a);return o.a.createElement("div",{className:s.container},o.a.createElement("span",{className:s.orb,"aria-hidden":!0},o.a.createElement(i.b,{kind:c.b.ORB,colorState:c.a.INHERITED,size:c.d.M})),o.a.createElement("span",{className:s.content,"aria-hidden":!0},o.a.createElement("span",{className:s.name}),o.a.createElement("span",{className:s.emails})))};u.contextTypes={getCss:a.a.func},t.a=u},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(566),o=s.n(r),i=s(11),c=s.n(i),l=s(101),d=s.n(l),u=s(124),m=s(22),p=s(3),_=s(4);const h=Object(_.h)({clearButton:{id:"input_clear",defaultMessage:"Clear"}});class E extends a.a.Component{constructor(...e){var t;return t=super(...e),this.state={value:this.props.value},this.focus=(()=>{this.bidiInput.focus()}),this.handleChange=(e=>{const{value:t}=this.state;e.persist(),e.target.value!==t&&this.setState({value:e.target.value},()=>{this.props.onChange(e)})}),t}componentWillReceiveProps(e){this.state.value!==e.value&&this.setState({value:e.value})}componentDidMount(){this.props.focusOnMount&&setTimeout(()=>this.bidiInput&&this.bidiInput.focus(),0)}render(){const e=this.props,{className:t,containerClassName:s,clearButtonContainerClassName:n,isClearable:r,onClear:i,clearIconColorState:l}=e,_=babelHelpers.objectWithoutProperties(e,["className","containerClassName","clearButtonContainerClassName","isClearable","onClear","clearIconColorState","focusOnMount"]),{value:E}=this.state,g=Boolean(r&&E),b=Object(u.getTextDirection)(E),I=c()(o.a,{showClear:g});return a.a.createElement("div",{className:d()(I.inputContainer,s)},a.a.createElement("input",babelHelpers.extends({},_,{value:E,className:d()(I.input,t,I.rtlRemoveInput,I.rtlRawInput),ref:e=>this.bidiInput=e,onChange:this.handleChange},b&&{dir:b})),g&&a.a.createElement("span",{className:d()(I.clearButtonContainer,n)},a.a.createElement(m.a,{kind:p.b.CLEAR,size:p.d.XXS,colorState:l,title:this.context.intl.formatMessage(h.clearButton),className:I.clearButton,onClick:i,"data-test-id":"clear-button"})))}}E.contextTypes={intl:_.i},E.defaultProps={value:"",onChange(){},isClearable:!1,onClear(){},containerClassName:"",focusOnMount:!1,clearIconColorState:p.a.FAINT},t.a=E},,,function(e,t,s){"use strict";s.d(t,"d",function(){return n}),s.d(t,"e",function(){return a}),s.d(t,"a",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"g",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"c",function(){return l});const n="&id=",a="&partner=",r="&actp=productlink",o="https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL_WEB&locale=",i={"de-DE":"de_DE","de-AT":"de_AT","en-AU":"en_AU","en-CA":"en_CA","en-GB":"en_GB","en-IN":"en_IN","en-JO":"en_JO","en-MY":"en_MY","en-NZ":"en_NZ","en-PH":"en_PH","en-SG":"en_SG","en-TH":"en_TH","en-US":"en_US","en-ZA":"en_ZA","es-AR":"es_ES","es-CL":"es_ES","es-CO":"es_ES","es-ES":"es_ES","es-MX":"es_ES","es-PE":"es_ES","es-US":"es_US","es-VE":"es_ES","fr-FR":"fr_FR","fr-BE":"fr_BE","fr-CA":"fr_CA","id-ID":"id_ID","it-IT":"it_IT","pt-BR":"pt_BR","vn-VN":"vn_VN","zh-Hant-TW":"zh_TW","zh-Hant-HK":"zh_HK"},c={SLN22036:"SLN28884",SLN4992:"SLN28885",SLN26611:"SLN28838",SLN28055:"SLN28824",SLN28056:"SLN28813",SLN5283:"SLN28886",SLN28068:"SLN28808",SLN28071:"SLN28825",SLN6265:"SLN28887",SLN26757:"SLN28888",SLN25582:"SLN28889",SLN8271:"SLN28890",SLN29133:"SLN29134"},l={VIEWMAIL:"/img/viewing_email.png",NOTIFICATIONS:"/img/notification.gif",VACATION_RESPONSE:"/img/vacation_response.png",FILTER:"/img/filters.png",SOCIAL:"/img/social_accounts.png",ACCOUNTS:"/img/accounts.png",CATEGORIZATION:"/img/categorization.png"}},,function(e,t,s){"use strict";s.d(t,"a",function(){return E});var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(27),c=s.n(i),l=s(4),d=s(145),u=s(37),m=s(209);let p,_;class h extends o.a.Component{render(){return null}}function E(e,t){if(p)return;p=document.createElement("div"),(_=document.getElementById("app")).appendChild(p);const s=o.a.createElement(h,{context:t},e),n=Object(m.a)(function(e){class t extends o.a.Component{constructor(t){super(t),this.unmountModal.bind(this),this.children=e.props.children}getChildContext(){return{intl:e.props.context.intl,store:e.props.context.store,config:e.props.context.config,navigateTo:e.props.context.navigateTo,timezone:e.props.context.timezone,getStore:e.props.context.getStore,executeAction:e.props.context.executeAction,getTheme:e.props.context.getTheme,getCss:e.props.context.getCss}}componentWillUnmount(){_&&_.removeChild(p),p=null}unmountModal(){c.a.unmountComponentAtNode(p)}render(){const[t]=o.a.Children.toArray(this.children),s=this.children.props;return o.a.createElement(l.f,window.AppIntl,o.a.createElement(d.FluxibleComponent,{context:e.props.context},o.a.cloneElement(t,{onPrimaryButtonClick:()=>{this.unmountModal(),s.onPrimaryButtonClick()},onSecondaryButtonClick:()=>{this.unmountModal(),s.onSecondaryButtonClick()},onClose:()=>{this.unmountModal(),s.onClose&&s.onClose()},onAccept:()=>{this.unmountModal(),s.onAccept()}})))}}return t.childContextTypes={intl:l.i,store:a.a.object,config:a.a.object,navigateTo:a.a.func,timezone:u.e,getStore:a.a.func,executeAction:a.a.func,getTheme:a.a.func,getCss:a.a.func},t}(s));c.a.render(o.a.createElement(n,null),p)}},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(4),o=s(11),i=s.n(o),c=(s(0),s(8),s(33)),l=s(522),d=s.n(l),u=s(124);const m=i()(d.a),p=Object(r.h)({ariaLabel:{id:"folder_label_with_count",defaultMessage:"{folderName}, {count, plural,\n            =0 {}\n            other {# unread}\n        }"}});function _({folderDisplayType:e="",name:t,prefix:s="",count:n},{intl:r}){const o=s+(Object(c.m)(r.formatMessage,e)||t),i=r.formatMessage(p.ariaLabel,{folderName:o,count:n}),l="rtl"===Object(u.getTextDirection)(o)?m.rtlIgnoreDirRTL:m.rtlIgnoreDirLTR;let d;return n&&(d=` (${r.formatNumber(n)})`),a.a.createElement("span",{className:d?m.container:"","aria-live":!0,role:"heading","aria-label":i},a.a.createElement("span",{className:l+" "+(d?m.label:""),"aria-hidden":!0,"data-test-folder-name":t},o),d?a.a.createElement("span",{className:m.count,"aria-hidden":!0},d):null)}_.defaultProps={count:0},_.contextTypes={intl:r.i.isRequired},t.a=_},function(e,t,s){"use strict";s.d(t,"c",function(){return a}),s.d(t,"b",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"g",function(){return c}),s.d(t,"f",function(){return l}),s.d(t,"d",function(){return d});s(10);var n=s(8);const a=15,r=25,o=185,i=52,c=15,l=32,d=Object(n.c)(["SWITCH","CHECKBOX"])},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(608),c=s.n(i);const l=({children:e},{getCss:t})=>{const s=t(c.a);return o.a.createElement("ul",{className:s.container,role:"tablist","data-test-id":"segmented-control"},e)};l.contextTypes={getCss:a.a.func},t.a=l},,,function(e,t,s){"use strict";e.exports={className:{default:{pills:"k_w D_F ab_C W_6D6F p_R",pillsContainer:"hd_n em_N eo_HB el_Z12c0F D_F M_0 P_3HLUz ir_0 o_A K_3qWeB",pillsContainerChild:"em_N o_h s_3nx4N",pillOuter:"D_F ac_C",textContainer:"E_6LEV o_h",contactIcon:"o_q",name:"C_Z281SGl o_h G_e J_x Q_fq7 E_fq7",email:"C_Z1VRpVF o_h G_e J_x Q_fq7 E_fq7",remove:"o_h G_e J_x Q_fq7 E_fq7 p_a R_0 W_6LEV H_6LEV r_P",highlight:"u_eBE",typeahead:"M_0 p_R H_6NIX",typeaheadInput:"Z_N ir_0 j_n y_Z2uhb3X q_52qC k_w W_6D6F H_6NIX M_0 b_0 P_SMJKi A_6EqO D_X p_a L_0 B_0",typeaheadInputHint:"Z_0 y_Z2uhb3X q_52qC k_w W_6D6F H_6NIX M_0 b_0 P_SMJKi A_6EqO D_X p_a L_0 B_0",typeaheadAriaStatus:"L_Z1yJMeR p_a",typeaheadDropDown:"Z_f8a I_52qC k_w ha_n M_0 P_3HLUz b_Z14vXdP e_dRA j_ZqTdtW p_a o_A K_3vFsb W_3vVYr L_A T_6D6F",typeaheadOptionContainer:"D_F ab_C P_ZGAgNS k_w H_74JI r_P q4_1I4yPF cZ1WADfW_1I4z5p",relatedContactsContainer:"M_fq7 D_F gl_FM",relatedContacts:"M_2gqwFT",relatedContactsClose:"P_eo6 r_P"},autotag:{typeaheadDropDown:"a_3rJgR",relatedContacts:"A_6EqO C_Z1VRpVF u_e69 Q_6Eb4"},showCcBcc:{pillsContainer:"K_FB7P8"}},_key:"Z290mtQ"}},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(93),o=s(12),i=s(14),c=s(581),l=s.n(c),d=s(11),u=s.n(d),m=s(293),p=s(10),_=s(124);const h=300,E=u()(l.a);class g extends a.a.Component{constructor(...e){var t;return t=super(...e),this.popoverDidAppear=(()=>{this._popover&&this.props.popoverDidAppear(this._popover)}),this.setPopoverRef=(e=>{this._popover=e}),this.rerenderIfPopoverNotEnabled=(()=>{this.tooSoonToRender&&this.forceUpdate()}),this.tooSoonToRenderPopover=(()=>{const{createdTime:e}=this.props;return this.tooSoonToRender=e&&Date.now()-e<1e3,this.tooSoonToRender}),t}render(){const{email:e,isCompose:t,isDisabled:s,name:n,popoverZIndex:c}=this.props,l="ltr"===Object(_.getTextDirection)(n+" "+e)?E.rtlIgnoreDirLTR:E.rtlIgnoreDirRTL;return this.tooSoonToRenderPopover()||t&&!Object(i.m)(e)?a.a.createElement("span",{className:E.anchor,onMouseEnter:this.rerenderIfPopoverNotEnabled,onMouseLeave:this.rerenderIfPopoverNotEnabled,"data-test-id":"email-pill-without-popover"},this.props.children):a.a.createElement(r.c,{arrowSize:o.b.M,permittedArrowDirections:[o.g.ANY],triggerOn:r.b.HOVER_DELAYED,triggerDelayTime:h,triggerOff:r.a.HOVER_OUT|r.a.DRAG_START|r.a.CLICK,disabled:s,zAltitude:c,onShown:this.popoverDidAppear,ref:this.setPopoverRef},a.a.createElement("span",{"data-test-id":"email-pill",className:E.anchor+" "+l},this.props.children),a.a.createElement(m.a,{key:e,email:e,isCompose:t,withBackground:!1,name:n}))}}g.defaultProps={isDisabled:!1,popoverZIndex:p.ZIndices.POPOVER.HIGH,popoverDidAppear:()=>{}},t.a=g},function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"a",function(){return o}),s.d(t,"b",function(){return i});var n=s(4),a=s(8);const r=Object(a.c)(["READY","PENDING","SUCCESS","FAILURE"]),o=Object(a.c)(["HUFFPOST"]),i=[{id:"HUFFPOST-c1fb2d6bc59dbabb03c6369b73d9ece3",provider:o.HUFFPOST,icon:"subscriptions_huffpost.png",name:"The Morning Email",strings:Object(n.h)({description:{id:"HUFFPOST-c1fb2d6bc59dbabb03c6369b73d9ece3.description",defaultMessage:"Wake up to the day's most important news from HuffPost."}}),email:"dailybrief@huffpost.com",subid:"c1fb2d6bc59dbabb03c6369b73d9ece3"}]},function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"d",function(){return o}),s.d(t,"b",function(){return i}),s.d(t,"a",function(){return c});var n=s(2),a=s(0);const r=({tasks:e,messageItemsToSync:t,actionPayload:s})=>babelHelpers.extends({type:n.fb,tasks:e,messageItemsToSync:t},s),o=({id:e,status:t,progress:s,pollCount:a})=>({type:n.gb,id:e,status:t,progress:s,pollCount:a}),i=({taskId:e})=>({type:n.eb,taskId:e,status:a.z.ABORTING}),c=({taskId:e,progress:t,triageActionType:s,folderId:r,count:o,conversations:i})=>({type:n.db,triageActionType:s,folderId:r,count:o,conversations:i,taskId:e,progress:t,status:a.z.ABORT_FAILED})},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(17),o=s(140),i=s(15),c=s(22),l=s(30),d=s(3),u=s(577),m=s.n(u),p=s(11),_=s.n(p),h=s(10),E=s(4);const g=Object(E.h)({close:{id:"dualActionDialog.close",defaultMessage:"Close"}}),b={margin:`${4*h.GRID_UNIT}px ${h.GRID_UNIT}px ${5*h.GRID_UNIT}px 0`};class I extends a.a.Component{constructor(...e){var t;return t=super(...e),this.handlePrimaryButtonClick=(e=>{e.stopPropagation(),this.props.onPrimaryButtonClick(e)}),this.handleSecondaryButtonClick=(e=>{e.stopPropagation(),this.props.onSecondaryButtonClick(e)}),this.handleClose=(e=>{e.stopPropagation(),this.props.onClose(e)}),this.handleKeyDown=(e=>(e.stopPropagation(),"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),void this.props.onPrimaryButtonClick(e)):"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),void this.props.onClose(e)):void 0)),t}render(){const{formatMessage:e}=this.context.intl,{title:t,hideIcon:s,showCustomTitle:n,customTitle:u,onOuterClick:p,wideContainer:h=!1}=this.props;let{message:E}=this.props;const I=e(this.props.primaryButtonLabel),f=e(this.props.secondaryButtonLabel),S=_()(m.a,{hideIcon:s,wideContainer:h});return E||(E=this.props.children),a.a.createElement(o.a,{onClose:this.handleClose,onKeyDown:this.handleKeyDown,onOuterClick:p},a.a.createElement("div",{className:S.container,"data-test-id":"dual-action-dialog"},s?null:a.a.createElement("div",{className:S.icon},a.a.createElement(i.b,{kind:d.b.EXCLAMATION_ALT,size:d.d.L,colorState:d.a.WARNING_GRAD_RED})),a.a.createElement("div",{className:S.header},n?u:a.a.createElement("div",{className:S.title,"data-test-id":"title"},t),a.a.createElement("div",{className:S.close},a.a.createElement(c.a,{onClick:this.handleClose,kind:d.b.CLOSE,size:d.d.XS,title:e(g.close),"aria-label":e(g.close),"data-test-id":"close-btn"}))),a.a.createElement("div",{className:S.message,"data-test-id":"message"},E),a.a.createElement("div",{className:S.controls},a.a.createElement(r.a,{onClick:this.handlePrimaryButtonClick,style:b,"data-test-id":"primary-btn"},I),a.a.createElement(r.a,{onClick:this.handleSecondaryButtonClick,kind:l.a.SECONDARY,style:b,"data-test-id":"secondary-btn"},f))))}}I.contextTypes={intl:E.i.isRequired},I.defaultProps={primaryButtonLabel:g.defaultprimaryButtonLabel,secondaryActionLabel:g.defaultsecondaryActionLabel,hideIcon:!1},t.a=I},,function(e,t,s){"use strict";s.d(t,"f",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"a",function(){return l}),s.d(t,"b",function(){return d});var n=s(2),a=s(0);function r({altListId:e,query:t,id:s},r){return{type:n.De,listId:e,response:{[a.Fb.GIFS]:{[a.Gb.GIFS]:r}},query:t,id:s}}function o({altListId:e,query:t,id:s},a){return{type:n.Be,err:a,listId:e,query:t,id:s}}function i(e){return babelHelpers.extends({},e,{type:n.Ce})}function c(e){return babelHelpers.extends({},e,{type:n.Ae})}function l(e){return babelHelpers.extends({},e,{type:n.ye})}function d(e){return babelHelpers.extends({},e,{type:n.ze})}},function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"a",function(){return r}),s.d(t,"c",function(){return o}),s.d(t,"d",function(){return i});var n=s(2);const a=e=>babelHelpers.extends({type:n.Lh},e),r=e=>babelHelpers.extends({type:n.Nh},e),o=e=>babelHelpers.extends({type:n.Mh},e),i=e=>babelHelpers.extends({type:n.Oh},e)},,,,,function(e,t,s){"use strict";t.a={loadScript:function(e){return new Promise((t,s)=>{const n=document.createElement("script"),a=document.getElementsByTagName("head")[0];n.readyState?n.onreadystatechange=(()=>{"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}):(n.onload=(()=>t()),n.onerror=(()=>s(new Error(`Failed to load script from ${e}`)))),n.type="text/javascript",n.setAttribute("data-origin","norrin"),n.setAttribute("data-inserted-time",Date.now()),n.src=e,a.appendChild(n),setTimeout(()=>a.removeChild(n),1e3)})}}},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(27),c=s.n(i),l=s(4),d=s(87),u=s(15),m=s(74),p=s(14),_=(s(8),s(10),s(24)),h=s(11),E=s.n(h),g=s(538),b=s.n(g),I=s(3);const f=E()(b.a);var S=class extends o.a.Component{render(){return o.a.createElement("div",{id:"drag-icon-div","data-test-id":"drag-image",className:f.dragIcon,style:{left:this.props.x,top:this.props.y}},o.a.createElement(d.a,{title:"drag-icon",kind:this.props.iconKind,size:I.d.XS,colorStates:{normal:I.a.SELECTED,hovered:I.a.SELECTED}}),o.a.createElement("div",{className:f.counter},this.props.count))}},A=s(295),T=s.n(A);const C=Object(l.h)({remove_contact:{id:"compose.remove_contact",defaultMessage:"Remove"}});class O extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={hovered:!1,isDragHovered:!1,dragSide:"",isSelfDrag:!1},this.handleDragEnter=(()=>{this.setState({isDragHovered:!0})}),this.handleDragOnPill=((e,t)=>{this.setState({dragSide:t})}),this.handleDragLeave=(()=>{this.setState({dragSide:""}),this.state.isDragHovered&&this.setState({isDragHovered:!1})}),this.shouldHandleDrop=(e=>e===this.refs.leftDragNode||e===this.refs.rightDragNode),this.handleDragOver=(e=>{this.shouldHandleDrop(e.target)&&e.preventDefault()}),this.handleDragEnd=(()=>{this.removeDragImage(),this.props.handleDragState(!1),this.setState({isDragHovered:!1,isSelfDrag:!1})}),this.renderDragImage=((e,t)=>{const s=e.cloneNode(!0),n=E()(T.a,{isDragImg:!0}),a=E()(T.a),r=s.getElementsByClassName("pill-close")[0],{clientHeight:i,clientWidth:l}=e;if(this.imgContainer.id="drag-img",this.imgContainer.style.height=i+"px",this.imgContainer.style.maxWidth=l+10+"px",this.imgContainer.style.opacity=1,Object(_.g)(this.imgContainer),s.classList.remove.apply(s.classList,a.pillContent.split(" ")),s.classList.add.apply(s.classList,n.pillContent.split(" ")),r&&s.removeChild(r),this.imgContainer.appendChild(s),t>1){const e=document.createElement("div");e.style.position="absolute",c.a.render(o.a.createElement(S,{count:t,x:l-40,y:-14,iconKind:I.b.CONTACT_CARD}),e),this.imgContainer.appendChild(e)}return this.imgContainer}),this.removeDragImage=(()=>{if(this.imgContainer&&this.imgContainer.parentNode){const e=document.getElementById("icon-div");e&&e.parentNode&&(c.a.unmountComponentAtNode(e),e.parentNode.removeChild(e)),this.imgContainer.parentNode.removeChild(this.imgContainer)}this.imgContainer=null}),this.handleDragStart=(e=>{const t=e.target,s=this,{selectedPills:n}=this.props,a={email:this.props.contactEmail,name:this.props.value,id:this.props.contactId};let r=n.length;const o=n.findIndex(({name:e,email:t})=>a.name===e&&a.email===t);this.imgContainer||(this.imgContainer=document.createElement("div"),document.body.appendChild(this.imgContainer)),e.dataTransfer.setData("text",JSON.stringify({contact:a,dragFromField:this.props.inputField})),e.dataTransfer.effectAllowed="move",Object(_.h)()&&(r>0&&-1===o&&(r+=1),e.dataTransfer.setDragImage(this.renderDragImage(t,r),0,0)),setTimeout(function(){s.props.handleDragState(!0),s.setState({isSelfDrag:!0})})}),this.handleDrop=((e,t)=>{this.shouldHandleDrop(e.target)&&(this.removeDragImage(),this.setState({dragSide:"",isDragHovered:!1}),this.props.handleDrop(e,t,this.props.contactId))}),this.handleOnKeyDown=(e=>{e.stopPropagation()}),this.handleHover=(e=>{this.setState({hovered:e})}),this.renderPillImage=(e=>{const{isFolderPill:t,contactEmail:s,contactId:n,pillFujiKind:a,pillFujiSize:r,pillFujiColorState:i}=this.props,c=Object(p.m)(s);return t?o.a.createElement("div",{"data-test-id":"pill-folder",className:e.pillDiv},o.a.createElement(u.b,{kind:a,colorState:i,size:r})):c?o.a.createElement("div",{"data-test-id":"pill-avatar",className:e.avatar},o.a.createElement(m.c,{contact:{id:n,email:s},size:m.b.S})):null}),this.renderDraggedPill=((e,t)=>e?o.a.createElement("div",{className:t.dragHoverContent,"data-test-id":"drag-hover-content"},o.a.createElement("div",{ref:"leftDragNode",className:t.dragHoverLeft,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDragEnter:e=>this.handleDragOnPill(e,"left"),onDrop:e=>this.handleDrop(e,"left")}),o.a.createElement("div",{ref:"rightDragNode",className:t.dragHoverRight,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDragEnter:e=>this.handleDragOnPill(e,"right"),onDrop:e=>this.handleDrop(e,"right")})):null),this.renderRemovePill=((e,t,s)=>(this.props.isSelected||e)&&this.props.onPillRemove?o.a.createElement("div",{className:"pill-close "+t.pillRemove},o.a.createElement(d.a,{kind:I.b.CLOSE_MINI,size:I.d.XXS,colorStates:s?{normal:I.a.DISABLED,hovered:I.a.SELECTED}:{normal:I.a.DISABLED,hovered:I.a.WARNING},onClick:this.props.onPillRemove,style:{padding:0},title:this.context.intl.formatMessage(C.remove_contact)})):null),this.handleChange=(e=>{this.props.onPillUpdate(e.target.value)}),this.handleKeyDown=(e=>{this.setState({inputWidth:8*e.target.value.length,inputValue:e.target.value}),e.stopPropagation()}),t}componentDidMount(){this.props.isEditing&&this.editInputPill&&this.editInputPill.focus()}componentDidUpdate(){this.props.isEditing&&this.editInputPill&&this.editInputPill.focus()}componentWillReceiveProps(e){if(this.props.title!==e.title){this.setState({inputValue:e.title,inputWidth:e.title.length?8*(e.title.length+1):300})}}render(){const{hovered:e,isDragHovered:t,dragSide:s,isSelfDrag:n}=this.state,{useEllipsis:a,isSelected:r,maxWidth:i,isDark:c,isFolderPill:l,isDragged:d,isEditing:u}=this.props,m=Object(p.m)(this.props.contactEmail),_=!m,h=E()(T.a,{isHovered:e,hasError:_,isSelected:r,useEllipsis:a,isDark:c,isFolderPill:l,dragSide:s,isDragged:n||d});let g;a&&i&&(g={maxWidth:i});const{title:b}=this.props;if(u){return o.a.createElement("div",{className:"pill-container "+h.pillContainer,onBlur:this.handleChange},o.a.createElement("input",{ref:e=>{this.editInputPill=e},"data-test-id":"edit-pill-input",className:h.editInput,type:"text",defaultValue:this.state.inputValue||this.props.title,onKeyDown:this.handleKeyDown,style:{width:(this.state.inputWidth||"300")+"px"}}))}return o.a.createElement("div",{className:"pill-container "+h.pillContainer},o.a.createElement("div",{"data-test-id":"pill",title:b,"aria-label":this.props.value,className:"pill-content "+h.pillContent,onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),onClick:this.props.onPillClick,onDoubleClick:this.props.onPillEdit,draggable:this.props.dragDropPill&&this.props.isCompose,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragEnter:this.handleDragEnter},this.renderPillImage(h),o.a.createElement("div",{"data-test-id":"pill-text",className:h.pillText,style:g},this.props.value),this.renderRemovePill(e,h,m)),this.renderDraggedPill(t,h))}}O.contextTypes={intl:l.i.isRequired,config:a.a.object},O.defaultProps={onPillClick:()=>{},useEllipsis:!1,isDark:!1,isFolderPill:!1,isDragged:!1,selectedPills:[],dragDropPill:!0,isEditing:!1};t.a=O},function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"c",function(){return l}),s.d(t,"b",function(){return d});var n=s(64);const a="[a-zA-Z0-9-_]*",r={start:0,end:0},o="yahoo_quoted";function i(e){if(0===e.length)return!1;const{divIds:t}=e[0];return 0!==t.length}function c(e,{divIds:t=[]}){const s=[];let o=r;return t.forEach(t=>{let i=r;try{i=function(e,{divId:t}){let s,n;const o=new RegExp("<div[^>]+id=[\"']"+a+t+a+"[\"'][^>]*>","gm").exec(e);if(!o)return r;const i=e.slice(o.index),c=/<div|<\/div>/gi;for(s=0;s>0||!n||"</div>"!==n[0];){const e=c.exec(i);if(!e){(n=[""]).index=i.length;break}"<div"===(n=e)[0]?s++:s--}return{imbalancedBy:s,start:o.index,end:o.index+n.index+n[0].length}}(e.slice(o.end),{divId:t})}catch(e){n.a.error("Mismatched HTML tags",{divId:t,error:e})}i!==r&&(i.start+=o.end,i.end+=o.end,s.push(i),o=i)}),s}function l(e="",t=[]){if(!i(t))return{nonQuote:e,quote:""};const s=c(e,{divIds:t[0].divIds});let n="",a="",o=r;for(let t=0;t<s.length;t++){const{start:r,end:i,imbalancedBy:c}=s[t];n+=e.slice(t>0?o.end:0,r),a+=e.slice(r,i),c>0&&(a+=new Array(c).fill("</div>").join("")),o=s[t]}return{quote:a,nonQuote:n+=e.slice(o.end)}}function d(e="",t=[],s=!1){if(!i(t))return{messageAbove:e,messageBelow:"",expandable:!1};const n=c(e,{divIds:t[0].divIds});let a=r,o=!1;const l=[],d=[];for(let t=0;t<n.length;t++){const{start:r,end:o,imbalancedBy:i}=n[t];if((0===t?l:d).push(e.slice(a.end,r)),s){let t=e.slice(r,o);i>0&&(t+=new Array(i).fill("</div>").join("")),d.push(`<div class="qtd-body">${t}</div>`)}a=n[t]}return 0===n.length?l.push(e):(d.push(e.slice(a.end)),o=!0),{messageAbove:l.join(""),messageBelow:d.join(""),expandable:o}}},,function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"b",function(){return c});var n=s(7),a=s(0),r=s(91);const o=e=>{const{getPlaAdsSelectors:t}=e,{plaAdsData:s}=t().getPlaAdsData(!0);return s&&s.length>0},i=(e,t,s)=>{const{getRoute:o,isFeatureEnabled:i,getListsSelectors:c,getCouponsSelectors:l,getRecommendedItemCardSelectors:d}=s,u=o(),m=Object(n.t)(u),p=c().getSearchCoupons(m),_=i(a.mb.COUPONS_ON_SEARCH_RIGHT_RAIL)&&!!p&&!!p.length,h=u.name===a.Uc.SEARCH,E=h&&!!Object(n.k)(m),{gptCategoryList:g}=l().getCouponsGPTData(),b=i(a.mb.PLA_ADS_FOR_RECOMMENDATION_EMAILS),I=d().getRecommendedItemList();return e===a.mb.PLA_SEARCH_ADS?t&&h&&Object(r.c)(!0,s)&&!_&&!E&&!Object(n.K)(m)&&Object(n.q)(m)===a.Fb.MESSAGES:e===a.mb.PLA_ADS_ON_COUPON_MESSAGE_READ?t&&Object(r.b)(t,s)&&g.length>0:e===a.mb.PLA_ADS_ON_RECOMMENDATION_EMAIL_READ?b&&Object(r.b)(!0,s)&&I.length>0:void 0},c=(e,t,s)=>{const{getSetting:n}=e,r=n(a.nd.PLA_ADS_ON_MESSAGE_READ_CONFIGURATION).bucketId,o=-1!==[a.Dc.bucket_3,a.Dc.bucket_4].indexOf(r);return t&&o?`${t} ${s}`:t}},function(e,t,s){"use strict";function n(e,t,s){let n=t.getBoundingClientRect();const a=e.ownerDocument.documentElement.offsetHeight,r=e.ownerDocument.documentElement.offsetWidth,o=e.getBoundingClientRect(),i=-o.width,c=8,l={below:a-o.bottom-c,above:o.top-c,left:o.left-i,right:r-o.right-i},d={},u=Math.floor(.9*Math.max(l.above,l.below)),m=Math.floor(.9*Math.max(l.left,l.right));if(n.height>u&&(d.maxHeight=u),n.width>m&&(d.maxWidth=m),d.maxHeight||d.maxWidth){d.overflow="auto";const e=d.maxHeight||n.height,t=d.maxWidth||n.width;n=Object.assign({},n,{height:e,width:t,bottom:n.top+e,right:n.left+t})}const p=.9*l.below-n.height>=0,_=.9*l.above-n.height>=0,h=.9*l.left-n.width>=0,E=.9*l.right-n.width>=0;return s&&E?d.left=o.left-n.width-i:E?d.left=o.right+i:h&&(d.left=o.left-n.width-i),p?d.top=o.bottom+c:_&&(d.top=o.top-n.height-c),d}s.d(t,"a",function(){return n})},function(e,t,s){"use strict";s.d(t,"h",function(){return r}),s.d(t,"g",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"b",function(){return l}),s.d(t,"d",function(){return d}),s.d(t,"f",function(){return u}),s.d(t,"e",function(){return m});var n=s(2),a=s(9);const r=e=>({type:n.of,savedSearches:e}),o=e=>({type:n.nf,error:e}),i=e=>{let{name:t,query:s,decorations:r,priority:o,parentMessageId:i}=e,c=babelHelpers.objectWithoutProperties(e,["name","query","decorations","priority","parentMessageId"]);return(e,l)=>{const{getAccountIdByFolderId:d,getMessageFolderId:u}=Object(a.b)(l()),m=d(u(i));e(babelHelpers.extends({type:n.Nc,name:t,query:`acctId:${m} AND ${s}`,decorations:r,priority:o},c))}},c=e=>({type:n.Oc,savedSearches:[].concat(e)}),l=e=>({type:n.Mc,error:e}),d=e=>{let{query:t,parentMessageId:s}=e,r=babelHelpers.objectWithoutProperties(e,["query","parentMessageId"]);return(e,o)=>{const{getSavedSearchesSelectors:i,getAccountIdByFolderId:c,getMessageFolderId:l}=Object(a.b)(o()),{getSavedSearchesByQuery:d}=i(),u=c(l(s)),[{id:m}]=d(`acctId:${u} AND ${t}`);e(babelHelpers.extends({type:n.nd,savedSearchId:m},r))}},u=e=>({type:n.od,savedSearchId:e}),m=e=>({type:n.md,error:e})},function(e,t,s){"use strict";s.d(t,"h",function(){return a}),s.d(t,"g",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"d",function(){return c}),s.d(t,"c",function(){return l}),s.d(t,"f",function(){return d}),s.d(t,"e",function(){return u});var n=s(2);const a=e=>babelHelpers.extends({},e,{type:n.zi}),r=e=>babelHelpers.extends({},e,{type:n.yi}),o=e=>babelHelpers.extends({},e,{type:n.xi}),i=e=>babelHelpers.extends({},e,{type:n.wi}),c=e=>babelHelpers.extends({},e,{type:n.Ei}),l=e=>babelHelpers.extends({},e,{type:n.Di}),d=e=>babelHelpers.extends({},e,{type:n.Fi}),u=e=>babelHelpers.extends({},e,{type:n.Gi})},function(e,t,s){"use strict";s.d(t,"d",function(){return a}),s.d(t,"c",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"b",function(){return i}),s.d(t,"a",function(){return c});var n=s(2);const a=e=>babelHelpers.extends({type:n.lh},e),r=()=>({type:n.kh}),o=e=>({type:n.kd,keyword:e}),i=e=>babelHelpers.extends({type:n.ld},e),c=()=>({type:n.jd})},,function(e,t,s){"use strict";s.d(t,"b",function(){return o}),s.d(t,"a",function(){return i});const n=/</g,a=/"/g;function r(e,t,s){return void 0===e?"undefined":null===e?"null":e.toString().replace(t,s)}function o(e){return r(e,n,"&lt;")}function i(e){return r(e,a,"&quot;")}},function(e,t,s){"use strict";s.d(t,"c",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"b",function(){return c}),s.d(t,"a",function(){return l});var n=s(83),a=s(8);function r(e,t,s,n,a){const{rules:r,actionUrls:o}=e,i=Date.now();if("partialView"===a)return o&&o.PARTIAL_VIEW&&!n[a]&&s>0;if(r){const e="viewabilityDefStatic3P"===a&&r[a]?r[a][0]:r[a];return e&&!n[a]&&i-t>=1e3*e.d&&s>=e.p}}function o(e,t,s,n,a){const o=c(t,s);for(const t in n)r(e,a,o,n,t)&&(l(e,t),n[t]=!0);return n}function i(e){if(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=window.innerHeight&&t.right<=window.innerWidth}}function c(e,t){const s=e-t;return s<=0?0:Math.floor(s/e*100)}function l(e,t){const s=e.actionUrls||{};"viewabilityDefStatic"===t?((e.impressionTrackingUrls||[]).forEach(e=>{e&&Object(n.a)(e,!1)}),Object(n.a)(e.beacon,!1)):"viewabilityDefStatic3P"===t&&Object(a.a)(s,"STATIC_VIEW_3P.0",null)?Object(n.a)(s.STATIC_VIEW_3P[0],!1):"partialView"===t&&Object(a.a)(s,"PARTIAL_VIEW.0",null)&&Object(n.a)(s.PARTIAL_VIEW[0],!1)}},,,,,,,,function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(4),o=s(45);function i(e,t){return new Date(t).getUTCFullYear()===e.getUTCFullYear()}class c extends a.a.Component{shouldComponentUpdate(e){const t=this.props;return e.date.getTime()!==t.date.getTime()||e.offset!==t.offset||e.timezone!==t.timezone||e.long!==t.long}render(){const{date:e,long:t,timezone:s="UTC"}=this.props,{intl:n}=this.context,{locale:c}=n,l=Object(o.t)(e,s),d=Object(o.s)({offset:l,timezone:s});return t?function(e,t,s,n,c){return a.a.createElement(r.c,{id:"date_at_time",defaultMessage:"\n                {date} at {time}\n            ",values:{date:i(e,t)?n.formatDate(e,{timeZone:s,day:"numeric",month:Object(o.o)(c)}):n.formatDate(e,{timeZone:s,day:"numeric",month:Object(o.o)(c),year:"numeric"}),time:n.formatTime(e,{timeZone:s,hour:"numeric",minute:"numeric"})}})}(e,d,s,n,c):function(e,t,s,n){return function(e,t){return e.getTime()>=t}(e,t)?a.a.createElement(r.e,{value:e,timeZone:s,hour:"numeric",minute:"2-digit"}):i(e,t)?a.a.createElement(r.a,{value:e,timeZone:s,day:"numeric",month:Object(o.o)(n)}):a.a.createElement(r.a,{value:e,timeZone:s,day:"numeric",month:"numeric",year:"numeric"})}(e,d,s,c)}}c.contextTypes={intl:r.i},t.a=c},,function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(77);const o=({haystack:e,needle:t,formatter:s,containerClassNames:n})=>{const[o,i,c]=Object(r.c)(e,t);return i?a.a.createElement("span",{className:`${n} notranslate`},o,s(i),c):a.a.createElement("span",{className:n},e)};o.defaultProps={formatter:e=>e,haystack:"",needle:""},t.a=o},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r);class i extends o.a.Component{componentDidMount(){const{getUnsyncedData:e}=this.props;this.context.store&&this.context.store.registerUnsyncedDataHandler&&(this.unsyncedDataHandler=this.context.store.registerUnsyncedDataHandler(e))}componentWillUnmount(){this.unsyncedDataHandler&&this.unsyncedDataHandler.remove()}render(){return this.props.children||null}}i.contextTypes={store:a.a.object},t.a=i},function(e,t,s){"use strict";e.exports={className:{default:{leftRightPadding:"jb_0 X_6MGW N_6Fd5",blockedImageBanner:"X_6MGW",bodyContainer:"P_wpofO iy_A",sponsoredMessageContainer:"I_52qC",flexVertical:"D_F ek_BB",emptyBody:"A_6FsP P_Z17Hvh7 D_F ek_EZ gl_C ab_C",emptyBodyRetry:"r_P C_Z2aVTcY",emptyBodyMessage:"Q_fq7 E_fq7",button:"A_6DUj C_Z1VRpVF Q_36Jhx",textContainer:"J_EN"},printView:{bodyContainer:"P_0 iy_q",leftRightPadding:"jb_0 X_6MGW N_6MGW"}},_key:"Z1fROpB"}},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(13),c=s(26),l=s(4),d=s(37),u=s(201),m=s(22),p=s(146),_=s(74),h=s(171);const E=s(1),g=s(855),b=s(11),I=5,f=Object(l.h)({and_x_more_recipients:{id:"address.field.and_x_more_recipients",defaultMessage:"and {numNonVisibleAddresses} more..."},hide_recipients:{id:"address.field.hide_recipients",defaultMessage:"Hide"}});class S extends E.Component{constructor(...e){var t;return t=super(...e),this.state={opened:!1},this.handleToggle=(e=>{e.preventDefault(),e.stopPropagation(),this.setState({opened:!this.state.opened})}),t}render(){const e=b(g),{addresses:t,popoverZIndex:s}=this.props,{formatMessage:n}=this.context.intl,a=this.state.opened?t.length:I;var r=[E.createElement("span",{key:"label-"+this.props.label,className:e.label},this.props.label)];if(t.slice(0,a).forEach(({name:t,email:n},a,o)=>{r.push(E.createElement(h.a,{key:n,isCompose:!1,email:n,name:t,popoverZIndex:s},E.createElement("span",{className:e.email,key:a,title:n,"data-test-id":"message-to"},t||n))),a<o.length-1&&r.push(E.createElement("span",{key:a+"-sep",className:e.separator},","))}),t.length>a){r.push(E.createElement("button",{key:"and-more","data-test-id":"and-more",onClick:this.handleToggle,className:e.button},n(f.and_x_more_recipients,{numNonVisibleAddresses:t.length-I})))}else this.state.opened&&r.push(E.createElement("button",{key:"and-more-hide","data-test-id":"and-more-hide",onClick:this.handleToggle,className:e.button},n(f.hide_recipients)));return E.createElement("div",{className:e.container},r)}}S.contextTypes={intl:l.i};var A=S,T=s(142),C=s(11),O=s.n(C),R=s(359),N=s.n(R),M=s(9),D=s(342),y=s(343),L=s(51),v=s(0),P=s(10),F=s(60),x=s(24),w=s(76),k=s(5),H=s(8),U=s(3),j=s(53),G=s(20);const B=Object(l.h)({message_is_read:{id:"message_is_read",defaultMessage:"This message is read"},message_is_not_read:{id:"message_is_not_read",defaultMessage:"This message is not read"},mark_as_read:{id:"mark_as_read",defaultMessage:"Mark as read"},mark_as_unread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},message_is_starred:{id:"message_is_starred",defaultMessage:"This message is starred"},message_is_not_starred:{id:"message_is_not_starred",defaultMessage:"This message is not starred"},mark_as_starred:{id:"mark_as_starred",defaultMessage:"Star"},mark_as_unstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},message_to:{id:"message_to",defaultMessage:"To:"},message_cc:{id:"message_cc",defaultMessage:"Cc:"},message_bcc:{id:"message_bcc",defaultMessage:"Bcc:"},message_header_count_label:{id:"message_header_count_label",defaultMessage:"Message {idx} of {totalMessages}"},message_header_label:{id:"message_header_label",defaultMessage:"Message"},message_has_attachment:{id:"message_has_attachment",defaultMessage:"Message has {attachmentCount, plural,\n            =1 {an attachment}\n            other {attachments}\n        }"},header_print_message:{id:"header_print_message",defaultMessage:"Print"},sponsoredByViglinkMessageRead:{id:"viglink.sponsored_by_viglink_message_read",defaultMessage:"Sponsored link by Viglink"}});class V extends o.a.Component{constructor(e){super(e),this.handleStarClick=(e=>{e.stopPropagation();const{streamId:t,listId:s,groupId:n,message:a}=this.props;this.props.onToggleStar({streamId:t,streamItem:{messageIds:[a.id],id:n,listId:s}})}),this.handlePrintClick=(e=>{e.stopPropagation(),this.props.onPrint(e)}),this.handleAttachmentClick=(e=>{this.props.expanded&&(e.stopPropagation(),this.props.onAttachmentClick(e))}),this.handleReadClick=(e=>{e.stopPropagation();const{streamId:t,listId:s,groupId:n,message:a}=this.props;this.props.onToggleRead({streamId:t,streamItem:{messageIds:[a.id],id:n,listId:s}})}),this.handleKeyDown=(e=>{switch(e.key){case"Enter":e.preventDefault(),e.stopPropagation(),this.props.onToggleExpand();break;default:return}}),this.renderPrintButton=(()=>{const{formatMessage:e}=this.context.intl,t=O()(N.a);return this.props.expanded&&this.props.onPrint?o.a.createElement("div",{className:t.print},o.a.createElement(m.a,{kind:U.b.PRINTER,size:U.d.XS,title:e(B.header_print_message),ariaLabel:e(B.header_print_message),colorState:U.a.INHERITED,onClick:this.handlePrintClick,paddingLess:!0})):null}),this.handleToggleExpand=(e=>{this.addressInfoContainer.contains(e.target)?(e.preventDefault(),e.stopPropagation(),this.props.expanded||this.props.onToggleExpand()):this.props.onToggleExpand()}),this.burstOnClick=((e,t)=>{this.handleStarClick(e),!t&&this.props.starAnimation.timeout>0?(this.setState({shouldBurst:!0}),this.timeout=setTimeout(()=>{this.setState({shouldBurst:!1})},this.props.starAnimation.timeout)):this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout))}),this.avatarClicked=(()=>{this.props.viglinkClicked({i13nModel:{mKey:k.e.MESSAGE_READ_AVATAR_CLICKED,sec:k.g.MSG_BODY,actionData:{url:this.props.contactLink}}})}),this.burstURL=Object(F.a)(e.starAnimation.lightGifURL),Object(x.d)(this.burstURL),this.state={shouldBurst:!1,flagged:e.message.flags.flagged}}componentWillReceiveProps(e){const t=this.state;this.state.flagged!==e.message.flags.flagged&&this.setState({flagged:!this.state.flagged}),!t.flagged&&e.message.flags.flagged&&this.props.starAnimation.timeout>0&&(this.setState({shouldBurst:!0}),setTimeout(()=>{this.setState({shouldBurst:!1})},e.starAnimation.timeout))}render(){const{formatMessage:e}=this.context.intl,{message:t,expanded:n,onToggleStar:a,onToggleRead:r,expandable:i,idx:c,totalMessages:l,conversations:d,starRef:E,readRef:g,isOnModal:b,starredMailEnhanced:I,contactLink:f,viglinkEnabled:S,viglinkBlacklist:C}=this.props,{from:R,to:M,cc:D,bcc:y,date:L}=t.headers,{flagged:F,read:x}=t.flags,k=Object(T.a)(t.snippet,!0),H=I?n:null,j=O()(N.a,{expanded:n,expandable:i,flagged:F,highlightPosition:k,starEnhancedExpanded:H}),V=d?B.message_header_count_label:B.message_header_label,W=(t.attachments||[]).length,q=new Date(1e3*L),z=b?P.ZIndices.MODAL:P.ZIndices.POPOVER.MEDIUM,Z=I?U.a.INHERITED:U.a.FAINT,K=Object(w.c)(f,v.Rb),Y=f&&!C.some(e=>-1!==f.toLowerCase().indexOf(e)),X=S&&Y?{href:K,target:"_blank",rel:"noreferrer",onClick:this.avatarClicked}:null;return o.a.createElement("header",{className:j.header,onClick:i?this.handleToggleExpand:null,onKeyDown:i?this.handleKeyDown:null,"aria-label":e(V,{idx:c+1,totalMessages:l})},o.a.createElement("span",{className:j.avatar},o.a.createElement("a",babelHelpers.extends({},X,{"data-test-id":"sender-logo"}),o.a.createElement(_.c,{contact:{email:R[0]&&R[0].email}}))),r?o.a.createElement("div",{className:j.readUnread,ref:g},o.a.createElement(m.a,{"data-test-id":"icon-btn-read",title:e(B[x?"mark_as_unread":"mark_as_read"]),"aria-label":e(B[x?"message_is_read":"message_is_not_read"]),"aria-pressed":!x,kind:U.b.CIRCLE,colorState:x?U.a.FAINT:U.a.SELECTED,size:U.d.XS,onClick:this.handleReadClick,paddingLess:!0})):null,o.a.createElement("div",{className:j.flexVertical,ref:e=>this.addressInfoContainer=e,"data-test-id":"address-info"},o.a.createElement("div",{className:j.fromRow},o.a.createElement("span",{"data-test-id":"message-from",className:j.fromField},R[0]?o.a.createElement(h.a,{isCompose:!1,email:R[0].email,name:R[0].name,popoverZIndex:z},R[0]&&R[0].name?o.a.createElement("span",null,R[0].name,n&&o.a.createElement("span",{className:j.fromEmail}," <",R[0].email,">")):R[0].email):null)),!n&&o.a.createElement("div",{className:j.snippetContainer,"data-test-id":"snippet"},o.a.createElement("div",{className:j.snippet},Object(T.b)(t.snippet,!0,j.highlightedTerm))),!n&&o.a.createElement(p.a,null),n&&M.length>0&&o.a.createElement(A,{label:e(B.message_to),addresses:M,popoverZIndex:z}),n&&D.length>0&&o.a.createElement(A,{label:e(B.message_cc),addresses:D,popoverZIndex:z}),n&&y.length>0&&o.a.createElement(A,{label:e(B.message_bcc),addresses:y,popoverZIndex:z})),o.a.createElement(G.a,{defer:!0,import:"./unsubscribe_button",message:t,cardExpanded:n,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,968))},_moduleResolver:function(){return 968}}),n&&o.a.createElement(p.a,null),this.renderPrintButton(),W>0?o.a.createElement("div",{className:j.attachment},o.a.createElement(m.a,{kind:U.b.ATTACHMENT,size:U.d.XS,title:e(B.message_has_attachment,{attachmentCount:W}),ariaLabel:e(B.message_has_attachment,{attachmentCount:W}),onClick:this.handleAttachmentClick,paddingLess:!0,colorState:U.a.DISABLED})):null,o.a.createElement("div",{className:j.date,"data-test-id":"message-date"},o.a.createElement(u.a,{date:q,long:!0,timezone:this.context.timezone.name})),a?o.a.createElement("div",{className:j.star,ref:E},this.state.shouldBurst?o.a.createElement("img",{title:e(B[F?"mark_as_unstarred":"mark_as_starred"]),"data-test-id":"icon-btn-star","aria-pressed":F,src:this.burstURL,style:{height:"24px",width:"24px"}}):o.a.createElement(m.a,{title:e(B[F?"mark_as_unstarred":"mark_as_starred"]),"aria-label":e(B[F?"message_is_starred":"message_is_not_starred"]),"aria-pressed":F,kind:U.b.STAR,size:I?U.d.S:U.d.XS,colorState:F?U.a.STARRED:Z,onClick:I?e=>{this.burstOnClick(e,F)}:this.handleStarClick,paddingLess:!0})):null)}}V.contextTypes={config:a.a.object.isRequired,intl:l.i.isRequired,timezone:d.e};t.a=Object(c.d)(Object(i.b)((e,t)=>{const s=Object(M.b)(e),{getRoute:n,getFeaturesSelectors:a,__patchV2MessageId__:r,getMainStreamListIds:o,doesContactIdExist:i,getContactById:c}=s,{listId:l,message:d}=t,u=d.id,m=Object(H.a)(t,"message.headers.from.0.email",""),p=a(),_=p.isEnabled(v.mb.STARRED_MAIL_ENHANCED),h=p.getSetting(v.nd.STAR_ANIMATION),E=p.isEnabled(v.mb.VIGLINK),g=p.getSetting(v.nd.VIGLINK_BLACKLIST),b=i(m)?c(m):void 0;return u?{contactLink:b&&b.website,viglinkEnabled:E,viglinkBlacklist:g,message:r(u,l),streamId:Object(j.a)(o(n())),starredMailEnhanced:_,starAnimation:h}:{message:d,starredMailEnhanced:_,starAnimation:h}}),Object(i.b)(void 0,(e,t)=>{const{message:s}=t,{flags:n}=s,{read:a,flagged:r}=n;return{onToggleRead:t=>e(a?Object(D.c)(t):Object(D.b)(t)),onToggleStar:t=>e(r?Object(y.c)(t):Object(y.b)(t)),viglinkClicked:t=>e(Object(L.E)(t))}}))(V)},,,function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(191),c=s.n(i);t.a=(e=>{var t,s;return s=t=class extends o.a.Component{getChildContext(){return{bindShortcut:(e,t,s)=>(s?c()(s):c.a).bind(e,t),unbindShortcut:(e,t=c.a)=>{if(!(t===c.a||t instanceof c.a))throw new TypeError("#context.unbindShortCut takes mousetrap as optional 2nd argument");t.unbind(e)}}}render(){return o.a.createElement(e,this.props)}},t.displayName="ReactKeyProvider",t.childContextTypes={bindShortcut:a.a.func,unbindShortcut:a.a.func},s})},function(e,t,s){"use strict";e.exports={className:{default:{rightAlignIcon:"D_X H_6LEV P_eo6 O_cMu h_2gl0WC",menuIcon:"D_X H_6LEV P_eo6 O_cMu",button:"s_6D6F q_T b_0 P_0 r_P O_cMu I4_2ieea9 e4_dRA O4_N",menuLabel:"y_12BoOJ A_6EqO C_Z281SGl Q_fq7",menuItem:"D_F N_fq7 ab_C",menuListItem:"Y_eTB H_6NIX",menuContainer:"D_F ek_EZ M_1ghjXT",spaceBetween:"W_fq7",sectionDivider:"D_B z_Z163u0T Y_6DEy U_eo6 E_69H5",backButtonLabel:"y_12BoOJ A_6DUj C_Z1TsNWR",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC ",rtlRawHidden:"rtlR_rtlR_v_h rtlR_rtlR_D_ATgVd ",rtlRemoveHidden:"rtlRM_rtlRM_v_h rtlRM_rtlRM_D_ATgVd "}},_key:"2vslr6"}},function(e,t,s){"use strict";e.exports={className:{default:{loadMoreContainer:"H_sL D_F ab_C gl_C",emptyListContainer:"D_F em_N ek_BB p_R T_e5X h_ZBOl0O",emptyListText:"t_C A_6FsP U_6MGW",emptyListImage:"t_C",loadingContainer:"T_dRK W_6D6F p_R",errorContainer:"je_74JI W_6D6F t_C A_6FsP",listLoadingRetry:"S_U r_P",container:"W_6D6F H_6D6F"},"themeMode-DARK":{emptyListText:"C_52qC",errorContainer:"C_52qC",listLoadingRetry:"C_52qC"}},_key:"ZKdmn0"}},function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"c",function(){return o}),s.d(t,"b",function(){return i}),s.d(t,"e",function(){return c}),s.d(t,"d",function(){return l}),s.d(t,"g",function(){return d}),s.d(t,"f",function(){return u});var n=s(2),a=s(5);function r({messageId:e,params:t}){return{type:n.we,messageId:e,params:t}}function o({messageId:e,inviteInfo:t}){return{type:n.xe,messageId:e,inviteInfo:t,i13nModel:{mKey:a.e.RSVP_LOADED,sec:a.g.RSVP_CARD,actionData:{msgID:e}}}}function i({messageId:e,error:t}){return{type:n.ve,messageId:e,error:t}}function c(e){return babelHelpers.extends({type:n.vh},e,{i13nModel:{mKey:a.e.RSVP_CALENDAR_RESPONSE,sec:a.g.RSVP_CARD,actionData:{msgID:e.messageId,response:e.response}}})}function l({messageId:e}){return{type:n.Gh,i13nModel:{mKey:a.e.RSVP_NAVIGATE_TO_CALENDAR,sec:a.g.RSVP_CARD,actionData:{msgID:e}}}}function d({uid:e,response:t,messageId:s}){return{type:n.xh,messageId:s,uid:e,response:t}}function u({uid:e,response:t,messageId:s}){return{type:n.wh,messageId:s,uid:e,response:t}}},function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"d",function(){return r}),s.d(t,"c",function(){return o}),s.d(t,"a",function(){return i});var n=s(0);const a="https://www.hipmunk.com/api/external/v1/autocomplete",r=3e4,o=`${n.ee}/location_autosuggest_api/getLocationAutoSuggestion`,i=858204},,function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F en_0 H_74JI p_R",searchButton:"en_0 I_2sqbOJ u_b k_w ck_dRA bl_dRA J_x W_7GHz H_74JI gl_C M_0 D_F cZ1RN91d_n A_6EqO y_Z2uhb3X b_0 C_52qC r_P I4_2sqbPK ir3_1JO2M7 it3_dRA",searchInputContainer:"D_F W_6D6F s_3z5BY cj_dRA bk_dRA k_w b_0 I_52qC p_R",searchInput:"k_w W_6D6F P_Z1E2YFn i_6LEV M_0 b_0 A_6EWk y_Z2uhb3X I_T p_R Z_N",searchHint:"k_w W_6D6F P_Z1E2YFn i_6LEV M_0 b_0 A_6EWk y_Z2uhb3X I_T C_Z1AHs3T p_a q_T L_0 Z_0",suggestionDropdown:"W_Z2mrcQq Z_fcS I_52qC k_w ha_n L_0 T_750t M_0 P_Z2rzFgL b_Z14vXdP e_dRA j_Zm8rYD p_a o_A",suggestionWebOption:"P_fQq0A k_w W_6D6F D_F ab_C H_73HH r_P q4_2ieea9 cZ1WADfW_2ieea9",suggestionWebIcon:"X_eTB N_eTB E_fq7",suggestionWebLabel:"J_x G_e o_h",suggestionWebQuery:"C_Z281SGl",suggestionDetails:"C_ZxFlP3 Q_fq7",pills:"ab_C W_1BJksS",pillsContainer:"eo_x el_EZ",typeaheadInputContainer:"p_R",typeaheadAriaStatus:"L_Z1yJMeR p_a",couponIndicator:"D_F C_Z2aVTcY q_2iedUU e_dRA H_6NIX ab_C P_SkAgv A_6EWk",headerLabel:"D_F P_sUAQ8 k_w H_6VdP y_Z2uhb3X u_e69 C_Z1VRpVF A_6EqO Y_fq7 z_Z28pSMW"},showPeopleSuggestion:{suggestionWebOptionBorder:"M_Z2rzCvT z_Z14vXdP"},hasPill:{searchInput:"P_fq7",searchHint:"P_fq7",pillsContainer:"Q_6Eb4",searchInputContainer:"X_6DEy"},hasContactPill:{searchInput:"P_ZzrjY8"},firstEntry:{headerLabel:"Y_0 z_n"}},_key:"aOPl0"}},,,,,,,function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"c",function(){return r}),s.d(t,"a",function(){return o});var n=s(8);const a={ENABLED:"enabled",SELECTED:"selected",ADDING:"adding",END_DATE:"endDate",START_DATE:"startDate",MSG_BODY:"messageBody",DOMAIN_ONE:"domainOne",DOMAIN_TWO:"domainTwo",DOMAIN_MSG_BODY:"domainMessageBody",DOMAIN_ENABLED:"domainResponseEnabled"},r=Object(n.c)(["PREVIEW","EDITOR"]),o=Object(n.c)(["SAVE","SWITCH_ON","SWITCH_OFF","DELETE"])},,function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB p_a Z_0 L_0 R_0 T_0 B_0 cZ1RN91d_GG I_ZnwrMC",rsvpContainer:"P_6Fd5 I_52qC m_Z12nDQf",cardsContainer:"hd_n M_0 X_0",composeCard:"D_F ek_BB gl_C d_3vFsb b_Z14vXdP e_dRA I_52qC",messageCard:"m_Z12nDQf D_F ek_BB ir_0",stack:"I_52qC t_C r_P D_F ab_C P_1EuKY1 H_6TFj p_R ir3_1JO2M7 it3_689y",stackLine:"H_dBP em_N z_Z14vXdP",stackLabel:"em_0 M_1Eu7Y9 C_Z1Xxgu0",scrollView:"iz_A em_0 Z_0",empty:"I_52qC W_6D6F t_C A_6FsP P_Z17Hvh7",emptyRetry:"S_U r_P",sponsoredMessageButton:"q_Z2aVTcY e_dRA k_w r_P H_6VdP s_3mS2U en_0 M_1gLo4F V_M cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC D_X i_6VdP t_C I4_Z29WjXl ir3_1JO2M7 it3_dRA",videoAdThumbnail:"W_6D6F",sponsoredVideoBodyContainer:"P_1e3YGS S_n C_Z281SGl",sponsoredMessageSource:"M_1IaimO A_6EWk u_b",sponsoredMessageDescription:"M_1IaimO A_6EqO"},conseqCompose:{composeCard:"cn_ZvFCRQ"},active:{composeCard:"b_2w4l8N j_ZlOSbd"},isDraftError:{composeCard:"d_3mS2U P_aFwN2"},"themeMode-DARK":{container:"I_T"}},_key:"16NQwX"}},function(e,t,s){"use strict";s.d(t,"f",function(){return a}),s.d(t,"g",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"b",function(){return l}),s.d(t,"i",function(){return d}),s.d(t,"h",function(){return u}),s.d(t,"a",function(){return m});var n=s(2);const a=()=>({type:n.gk}),r=()=>({type:n.hk}),o=({payload:e})=>({type:n.dk,payload:e}),i=({error:e})=>({type:n.ck,error:e}),c=e=>babelHelpers.extends({type:n.fk},e),l=e=>babelHelpers.extends({type:n.ek},e),d=()=>({type:n.jk}),u=()=>({type:n.ik}),m=e=>babelHelpers.extends({type:n.Gd},e)},function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"b",function(){return c});var n=s(2),a=s(9),r=s(5);const o=e=>(t,s)=>{const{getSearchSuggestions:o}=Object(a.b)(s());var i=o(e.query);return t(babelHelpers.extends({type:n.hj},e,{suggestions:i||void 0,i13nModel:{isBeaconEvent:!0,eventName:r.a.SEARCH_SUGGESTION,etrg:"change",outcome:"search_suggestion_dropdown"}}))},i=e=>babelHelpers.extends({type:n.gj},e),c=e=>babelHelpers.extends({type:n.fj},e)},function(e,t,s){"use strict";e.exports={className:{default:{accountList:"M_0 P_0 hd_n",listItem:"D_F H_6NIX P_0 ab_C ir3_1JO2M7 it3_dRA p3_R I4_2tvNsT",text:"em_N A_6EWk X_6DEy o_h G_e C_Z1YRXYn J_x",activeText:"em_N A_6EWk X_6DEy o_h G_e C_ZamTeg J_x u_b",unreadCount:"en_0 E_fq7",settingGear:"P_Z26qe3x p_R R_fq7 Q_6DEy cdPFi_Zjpyu2 cdPFi4_Z281SGl",statusIcon:"E_fq7",expiredIcon:"E_eDQ",rtlIgnoreDirRTL:"rtlI_rtlI_dz_uqG ",rtlIgnoreDirLTR:"rtlI_rtlI_dz_sSg "},"themeMode-MEDIUM":{text:"C_ak5m8",settingGear:"cdPFi_ak5m8 cdPFi4_52qC",listItem:"ir3_Z1FS2Mn",activeText:"C_2qemPL"},"themeMode-DARK":{text:"C_ak5m8",settingGear:"cdPFi_ak5m8 cdPFi4_52qC",listItem:"ir3_Z1FS2Mn",activeText:"C_2qemPL"}},_key:"ZGanPR"}},function(e,t,s){"use strict";s.d(t,"h",function(){return o}),s.d(t,"g",function(){return c}),s.d(t,"d",function(){return l}),s.d(t,"f",function(){return d}),s.d(t,"b",function(){return u}),s.d(t,"e",function(){return m}),s.d(t,"a",function(){return p}),s.d(t,"c",function(){return _});var n=s(4),a=s(162);const r=Object(n.h)({helpGroupAndDelete:{id:"view_mail_help_group_and_delete",defaultMessage:"Group and delete emails by conversations"},helpUnsubscribe:{id:"view_mail_help_unsubscribe",defaultMessage:"Unsubscribe from email lists"},helpAccessFromOtherComputer:{id:"view_mail_help_access_from_other_computer",defaultMessage:"Can I access {mailBrandNameString} from another computer?"},helpToggleNotification:{id:"notification_help_toggle_notification",defaultMessage:"Turn Desktop notifications on or off for {mailBrandNameString}"},helpCreateVacationResponse:{id:"vacation_response_create_vacation_response",defaultMessage:"Create a vacation response"},helpSortOrganizeEmail:{id:"filters_help_sort_organize_email",defaultMessage:"Use filters to sort and organize incoming email"},helpWronglyFiltered:{id:"filters_help_wrongly_filtered",defaultMessage:"An email was wrongly filtered as spam"},helpTrashFolder:{id:"filters_trash_folder",defaultMessage:"Email incorrectly delivered to the Trash folder"},helpReauthorize:{id:"social_accounts_help_reauthorize",defaultMessage:"Reauthorize LinkedIn connection in {mailBrandNameString}"},helpContactCard:{id:"social_accounts_help_contact_cards",defaultMessage:"Contact cards in {mailBrandNameString}"},helpChangeReplyAddress:{id:"accounts_change_reploy_address",defaultMessage:"Change your reply-to address in {mailBrandNameString}"},helpChangeAcName:{id:"accounts_change_account_name",defaultMessage:"Change your account name and nickname on Yahoo"},helpCreateUseDelExtra:{id:"accounts_create_use_del_extra_email",defaultMessage:"Create, use, and delete an extra email address"},helpCreateDiffID:{id:"accounts_create_diff_id",defaultMessage:"Create a different Yahoo ID or email address"},helpNoAdsHeader:{id:"mail_pro_info_no_more_ads_header",defaultMessage:"No more ads"},helpNoAdsHint:{id:"mail_pro_info_no_more_ads_hint",defaultMessage:"See your emails without any ads across all devices for this account"},helpEmailSupportHeader:{id:"mail_pro_email_support_header",defaultMessage:"Always-on email support"},helpEmailSupportHint:{id:"mail_pro_email_support_hint",defaultMessage:"Email your questions and comments anytime and get a prompt response from our customer service"}}),o=e=>(function(t,s=""){return-1!==(e=>{switch(e){case"att":case"sky":case"frontier":case"rogers":return["SLN4992","SLN15953","SLN2059"];default:return[]}})(s).indexOf(e)?null:a.b+(a.g[t]||"en_ZZ")+a.d+("att"===s&&a.f[e]?a.f[e]:e)+(!s||"ycorp"===s&&"verizon"===s?"":a.e+s+a.a)}),i={viewMail:[{text:r.helpGroupAndDelete,link:o("SLN28055")},{text:r.helpUnsubscribe,link:o("SLN28056")},{text:r.helpAccessFromOtherComputer,link:o("SLN5283")}],notifications:[{text:r.helpToggleNotification,link:o("SLN26611")}],vacationResponse:[{text:r.helpCreateVacationResponse,link:o("SLN28068")}],filter:[{text:r.helpSortOrganizeEmail,link:o("SLN28071")},{text:r.helpWronglyFiltered,link:o("SLN28056")},{text:r.helpTrashFolder,link:o("SLN6265")}],social:[{text:r.helpReauthorize,link:o("SLN26757")},{text:r.helpContactCard,link:o("SLN25582")}],accounts:[{text:r.helpChangeReplyAddress,link:o("SLN22036")},{text:r.helpChangeAcName,link:o("SLN4992")},{text:r.helpCreateUseDelExtra,link:o("SLN15953")},{text:r.helpCreateDiffID,link:o("SLN2059")}],mailPro:[{img:"/img/mail_pro_nomoreads.png",header:r.helpNoAdsHeader,hint:r.helpNoAdsHint},{img:"/img/mail_pro_support.png",header:r.helpEmailSupportHeader,hint:r.helpEmailSupportHint}]},c=i.viewMail,l=i.notifications,d=i.vacationResponse,u=i.filter,m=i.social,p=i.accounts,_=i.mailPro},function(e,t,s){"use strict";s.d(t,"e",function(){return i}),s.d(t,"d",function(){return c}),s.d(t,"c",function(){return l}),s.d(t,"b",function(){return d}),s.d(t,"a",function(){return u});var n=s(2),a=s(0),r=s(43),o=s(9);function i(e){return babelHelpers.extends({},e,{type:n.X})}function c(e,{i13nModel:t}){e.dispatch(n.T,{i13nModel:t})}function l(e,{documentId:t,pageNumber:s=1}){const{getDocumentSelectors:i}=Object(o.b)(e.store.getState()),c=i().getNumberOfPages(t)||a.s.PAGES_CHUNK_SIZE,{startPage:l,endPage:d}=Object(r.i)(s,c,a.s.PAGES_CHUNK_SIZE);e.dispatch(n.ud,{documentId:t,startPage:l,endPage:d})}function d({attachment:e,i13nModel:t}){let{downloadUrl:s}=e;const{id:r,filename:o}=e;return e.source===a.zb.TRIPODWEB&&(s=function(e){const t=e.lastIndexOf(".");return e.slice(0,t)+"_d"+e.slice(t,e.length)}(s)),{attachment:e,type:n.S,download:{downloadId:r,downloadUrl:s,filename:o,fileCount:1},i13nModel:t}}function u({attachments:e,downloadUrl:t,downloadId:s,filename:a,i13nModel:r}){return{attachments:e,type:n.P,download:{downloadId:s,downloadUrl:t,filename:a,fileCount:e.length},i13nModel:r}}},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(133);s(8);const o="data:image/svg+xml;base64,",i={[r.a.EMPTY_FOLDER]:o+"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNjAgMTYwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxNjAgMTYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJpbGx1c3RyYXRpb25zIj4NCgk8cG9seWdvbiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0UwRTRFOSIgcG9pbnRzPSI5MS45MjIsMzkuMjY4IDEyMS4wMjUsMzkuMjY4IDEyMS41MjcsMjkgMTE0LDI5DQoJCTExNCwzNi43MDEgOTEuOTIyLDM2LjcwMSAJIi8+DQoJPGNpcmNsZSBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0UwRTRFOSIgY3g9IjkxLjkyMiIgY3k9IjE5Ljk0IiByPSIyLjQxNiIvPg0KCTxjaXJjbGUgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNFMEU0RTkiIGN4PSIxMjAuMzE4IiBjeT0iMTkuOTQiIHI9IjIuNDE2Ii8+DQoJPHBhdGggZmlsbD0iI0UwRTRFOSIgZD0iTTEyOS45NDUsMTAuNjE4Yy0xLjYyNi0xLjMwMi0zLjM2OS0yLjE5LTUuMTE2LTIuNzQyQzEyMy43NjMsNy41NCwxMjIuMDIzLDcsMTIwLjI3LDdTNTYuMjkzLDcsNTYuMjkzLDcNCgkJYy0xMS42NzUsMC0yMS4xMzYsOS40NjQtMjEuMTM2LDIxLjE0djM1LjA5NGwtOS4yNjUsMTEuNDYybC0wLjA3NywwLjEwNGMtMS4zMzUsMS45NzktMi4xNTksNC4xMDktMi41MjEsNi4yNThsLTAuMTA3LTAuMDQ0DQoJCWMtMC4xNTksMC4zODctMC4zODEsMS4wNDctMC41OTgsMS45MzFjLTAuOTE1LDMuNzIyLTAuODU5LDcuNzIyLDAuODQ3LDExLjUxOGMwLjk2LDIuMTM3LDIuNDEsNC4wOCw0LjM5Miw1Ljc3OA0KCQljOS4yMTYsNy44OTgsMjYuMjg4LDMuOTc2LDM1Ljk3OC04LjA1YzEuMzcxLTEuNzAxLDIuODMyLTMuNTUxLDQuMzcxLTUuNTMyYzAuNTUzLTAuNzExLDEuMTE0LTEuNDM4LDEuNjg0LTIuMTc5DQoJCWMzLjI4Ny00LjI3NCw2LjcxNi04Ljg1MiwxMC4wODUtMTMuNDNjMS4wNzItMS40NTYsMi4wNjItMi44MTIsMi45NjMtNC4wNWMwLjkyNy0wLjMzNCwxLjc1My0wLjg3NSwyLjQyMi0xLjU3Mmg1LjU3NQ0KCQlsLTAuMzY1LDczLjE3NmwtMC43NDMtMC44OTNsLTEuMjMyLTEuNDgybC0xLjEzNCwxLjU1OWwtNy42NTEsMTAuNTE3Yy0wLjQ4NywwLjY3LTAuMzM5LDEuNjA4LDAuMzMxLDIuMDk1DQoJCWMwLjY3LDAuNDg3LDEuNjA4LDAuMzM5LDIuMDk1LTAuMzMxbDYuNTE3LTguOTU5bDcuNTEyLDkuMDM1bDEuMjgxLDEuNTQxbDEuMTE3LTEuNjY0bDUuMzAzLTcuODk4bDQuMjIzLDYuMzg2bDEuMTkyLDEuODAzDQoJCWwxLjI3Mi0xLjc0OGw2LjQzOC04Ljg1bDYuNDM4LDguODVsMS4wMTMsMS4zOTJsMS4yNC0xLjE5NGw0LjUwMi00LjMzMmw0LjQzNCwzLjY1N2MwLjYzOSwwLjUyNywxLjU4NCwwLjQzNiwyLjExMi0wLjIwMw0KCQlzMC40MzYtMS41ODQtMC4yMDMtMi4xMTJsLTUuNDY1LTQuNTA4bC0xLjAzMS0wLjg1MWwtMC45NjMsMC45MjdsLTQuMjI1LDQuMDY1bC02LjYzOC05LjEyNWwtMS4yMTMtMS42NjdsLTEuMjEzLDEuNjY3DQoJCWwtMi4yNzMsMy4xMjVWNjUuNDI5aDIyLjE2N2gxLjV2LTEuNXYtMi42MzF2LTcuMjZjMC0xMC40ODMsMC0xMC40ODMsMC0yNC41OTlDMTM3LjI0MiwyMC40MTksMTM0LjUyNCwxNC4yODUsMTI5Ljk0NSwxMC42MTh6DQoJCSBNMzguMTU4LDI4LjE0YzAtMTAuMDE5LDguMTE4LTE4LjE0LDE4LjEzNi0xOC4xNGMxMC4wMiwwLDE4LjEzNiw4LjExNSwxOC4xMzYsMTguMTR2MzQuMTI1aC0zLjE3SDM4LjE1OFYyOC4xNHogTTI4LjI4MSw3Ni41MTQNCgkJbDguOTYtMTEuMDg0aDM1LjU5MUw1OC40MSw4NC45MjJjLTcuNzg0LDkuNDQ2LTE4Ljg5MywxMy4yODQtMjUuNjY2LDkuNDg4bC0wLjIxNS0wLjEyQzI2LjAxMyw5MC42MzcsMjQuMTI0LDgyLjcxNSwyOC4yODEsNzYuNTE0DQoJCXogTTc3LjUyOCw2OS4yNzRjLTMuMzU3LDQuNTYyLTYuNzc0LDkuMTIzLTEwLjA0NiwxMy4zNzljLTAuNTY3LDAuNzM3LTEuMTI1LDEuNDYtMS42NzUsMi4xNjcNCgkJYy0xLjUyOSwxLjk2OC0yLjk3OSwzLjgwNC00LjMzOCw1LjQ5Yy04LjcyNCwxMC44MjctMjMuOTE1LDE0LjMxNy0zMS42OSw3LjY1NGMtMS42NDUtMS40MS0yLjgyOC0yLjk5NS0zLjYwNy00LjczDQoJCWMtMC4xODMtMC40MDYtMC4zMzktMC44MTctMC40NzctMS4yMzFjMS4zMjIsMS45NDMsMy4xMTMsMy42NCw1LjM2OCw0LjkwNGwwLjIxNSwwLjEyYzguMjI5LDQuNjEyLDIwLjgzNCwwLjI1NywyOS40OTctMTAuMjU5DQoJCUw3Ni40MDgsNjUuNjRjMC43NDQsMC43MDYsMS42NTksMS4yMzEsMi42NzcsMS41MUM3OC41ODYsNjcuODMyLDc4LjA3NCw2OC41MzEsNzcuNTI4LDY5LjI3NHogTTgwLjc2Miw2NC4zODINCgkJYy0xLjg0MSwwLTMuMzMzLTEuNDkyLTMuMzMzLTMuMzMyczEuNDkyLTMuMzMyLDMuMzMzLTMuMzMyYzEuODQxLDAsMy4zMzMsMS40OTIsMy4zMzMsMy4zMzJTODIuNjAzLDY0LjM4Miw4MC43NjIsNjQuMzgyeg0KCQkgTTk3LjI1OSwxNDYuNjg4bC0zLjczOC00LjQ5NmwwLjM4Mi03Ni43NjNoOC41ODh2NzMuNDY3TDk3LjI1OSwxNDYuNjg4eiBNMTA5LjQ2OSwxNDUuMDU1bC0zLjk3Ny02LjAxNFY2NS40NTZoNS4wODR2NzguMDc4DQoJCUwxMDkuNDY5LDE0NS4wNTV6IE0xMzQuMjQyLDU0LjAzOHY3LjI2djEuMTMxSDg2Ljk0YzAuMDk5LTAuNDQ1LDAuMTU1LTAuOTA1LDAuMTU1LTEuMzhjMC0zLjQ5Ny0yLjgzNi02LjMzMi02LjMzMy02LjMzMg0KCQljLTEuMjI1LDAtMi4zNjQsMC4zNTMtMy4zMzMsMC45NTVWMjguMTRjMC03LjcyMS00LjE0Ni0xNC40NTEtMTAuMzItMTguMTQxYzE4LjAzMi0wLjAwMSw1Mi4zNTMtMC4wMDMsNTMuMDUyLTAuMDAzDQoJCWMwLjk1LDAsMy4yNzcsMC41ODgsMy43NjUsMC43NDJjMS40MSwwLjQ0NSwyLjgyMywxLjE2NSw0LjE0NCwyLjIyMmMzLjgzOSwzLjA3NSw2LjE3Miw4LjMzOSw2LjE3MiwxNi40NzkNCgkJQzEzNC4yNDIsNDMuNTU2LDEzNC4yNDIsNDMuNTU2LDEzNC4yNDIsNTQuMDM4eiIvPg0KPC9nPg0KPC9zdmc+DQo=",[r.a.SELECTED_MESSAGES]:o+"PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJNQUlMX3g1Rl9TRUxFQ1RFRCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IgoJIHk9IjBweCIgdmlld0JveD0iNjEgLTYxIDEzOCAxMzgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgNjEgLTYxIDEzOCAxMzg7ZmlsbDojRTBFNEU5IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggZD0iTTEyNC41LDQ5LjJMNjUsNC4xdjYyLjNjMCwzLjksMi44LDYuNiw3LDYuNmgxMTZjNC4xLDAsNy0yLjcsNy02LjZWNGwtNTkuNiw0NS4yQzEzMi4yLDUxLjcsMTI3LjcsNTEuNywxMjQuNSw0OS4yeiIvPgo8cGF0aCBkPSJNMTI3LDQ1LjZjMS42LDEuMiwzLjgsMS4yLDUuNCwwbDYwLjItNDQuMmMxLjItMC45LDEuMi0yLjcsMC0zLjZsLTU4LTUzLjNjLTIuNy0yLTYuNS0yLTkuMiwwbC01OCw1My4zCgljLTEuMiwwLjktMS4yLDIuNywwLDMuNkwxMjcsNDUuNnoiLz4KPC9zdmc+",[r.a.ATTACHMENT_PREVIEW_ERROR]:o+"PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4IDQ4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0OCA0ODsiIHhtbDpzcGFjZT0icHJlc2VydmUiPiA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPiAuc3Qwe2ZpbGw6I0UwRTRFOTt9IDwvc3R5bGU+IDxnPiA8cmVjdCB4PSIxNiIgeT0iMjEiIGNsYXNzPSJzdDAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4gPHJlY3QgeD0iMTYuMDAwNDMiIHk9IjMxLjk5NTg1IiBjbGFzcz0ic3QwIiB3aWR0aD0iMTYiIGhlaWdodD0iMi4wMDgzIi8+IDxyZWN0IHg9IjMwIiB5PSIyMSIgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPiA8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzkuNTU1MDUsMTEuNzY0MzRjLTAuMDAwMzctMC4wMDAxOC03LjE4NjUyLTcuMDg5NTQtOC45MDY4LTguNzg2OCBDMzAuMjMxMDIsMi41NjU4NiwyOS43OTEzMiwyLjA2MzE3LDI4Ljk5OTY5LDJIOS44Nzg5MUM4Ljg0MTE5LDIsOCwyLjg0MTE5LDgsMy44Nzg5MVY0NGMwLDEuMDk5OTgsMC45MDAwMiwyLDIsMmgyOCBjMS4wOTk5OCwwLDItMC45MDAwMiwyLTJWMTIuOTM4MTdDNDAsMTIuMzk1OTQsMzkuNzkxODEsMTIuMDA2MDQsMzkuNTU1MDUsMTEuNzY0MzR6IE0zOCw0NEgxMFY0aDE4djguNSBjMCwwLjgyNTAxLDAuNjc0OTksMS41LDEuNSwxLjVIMzhWNDR6Ii8+IDwvZz4gPC9zdmc+",[r.a.PLAY_VIDEO]:o+"PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgeDE9IjIuMDY2JSIgeTE9Ijk2Ljc1MSUiIHgyPSI5NS42NTklIiB5Mj0iMi45NjklIiBpZD0iYSI+PHN0b3Agc3RvcC1jb2xvcj0iIzZEMDBGNiIgb2Zmc2V0PSIwJSIvPjxzdG9wIHN0b3AtY29sb3I9IiMwMDNBQkMiIG9mZnNldD0iMTAwJSIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTEyLjY3NiA3Ny4zNzZjMy45ODMgMy42MDggOC42NjcgNi4yOCAxNC4wMjcgOC4wMTdDMzIuMDc4IDg3LjEyNSAzNy44OSA4OCA0NC4xNjMgODhjNi4xNjQgMCAxMS45MzQtLjg3NSAxNy4yOTYtMi42MDcgMi4xNTQtLjY5NCA0LjE4Ni0xLjU0NyA2LjExNi0yLjU0MyAyLjg4NC0xLjQ5IDUuNTMtMy4zMTIgNy45MTYtNS40NzQgMy45OS0zLjYwNyA3LjA5Ny04LjE4MyA5LjMzLTEzLjcwN0M4Ny4wNSA1OC4xMzYgODguMTY4IDUxLjU4IDg4LjE2OCA0NGMwLTcuNTg2LTEuMTE4LTE0LjE0LTMuMzQ2LTE5LjY3LTIuMjMzLTUuNTMtNS4zNC0xMC4xLTkuMzMtMTMuNzA1LTMuOTg1LTMuNjE3LTguNjYtNi4yODUtMTQuMDMzLTguMDJDNTYuMDk2Ljg3IDUwLjMyNiAwIDQ0LjE2MiAwYy02LjI3MyAwLTEyLjA4NS44NjgtMTcuNDYgMi42MDYtMS43NDMuNTYtMy40MTIgMS4yMzYtNS4wMSAyLjAwNS0zLjMyIDEuNTgzLTYuMzMgMy41NzgtOS4wMTcgNi4wMTVDOC42ODggMTQuMjMgNS41NzggMTguOCAzLjM0NiAyNC4zMyAxLjExNiAyOS44NiAwIDM2LjQxNCAwIDQ0YzAgNy41ODIgMS4xMTcgMTQuMTM3IDMuMzQ2IDE5LjY3IDIuMjMyIDUuNTIzIDUuMzQyIDEwLjEgOS4zMyAxMy43MDZ6IiBmaWxsLW9wYWNpdHk9Ii42NSIgZmlsbD0idXJsKCNhKSIvPjxwYXRoIGQ9Ik0zNi43MyA1OWgtLjA2NmMtLjkyIDAtMS42NjQtLjc0Mi0xLjY2NC0xLjY1NlYzMC42NTZjMC0uOTE1Ljc0LTEuNjU2IDEuNjY0LTEuNjU2LjAzIDAgLjA2IDAgLjA5LjAwMi4zOC0uMDczLjc4OC0uMDE0IDEuMTUyLjE5NmwyMi42MjIgMTMuMDZjLjc5OC40NiAxLjA3NSAxLjQ3NC42MTMgMi4yNzYtLjAyMy4wNC0uMDQ4LjA4LS4wNzUuMTE4LS4xMzcuMjctLjM1LjUwMy0uNjMuNjdsLTIyLjQ0IDEzLjQ4NGMtLjM5NS4yNC0uODUuMjk1LTEuMjY1LjE5M3oiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+"};class c extends a.a.Component{render(){return a.a.createElement("img",{src:i[this.props.kind],width:this.props.width,height:this.props.height,alt:this.props.altText,"data-test-id":"svg-image"})}}c.defaultProps={width:48,height:48,altText:""},t.a=c},function(e,t,s){"use strict";s.d(t,"a",function(){return i});s(6);var n=s(1),a=s.n(n),r=s(156),o=(s(8),s(3));function i(e){const{isChecked:t,size:s}=e;return a.a.createElement(r.b,babelHelpers.extends({},e,{type:t?r.a.ALL:r.a.NONE,size:s}))}i.defaultProps={size:o.d.XS}},function(e,t,s){"use strict";var n=s(4),a=s(23),r=s(10);const o=()=>{},i=Object(n.h)({inlineImageAltText:{id:"compose.inline_image",defaultMessage:"Inline image"},emojiAltText:{id:"compose.emoji_image",defaultMessage:"Emoji"},gifPickerAttribution:{id:"compose.gif_picker_attr",defaultMessage:"Via {htmlImage}"}}),{IMAGE_BIG_WIDTH:c}=a.INLINE_IMAGE_PLUGIN_SIZE,{INLINE_IMAGE_CLASS:l,EMOJI_WRAPPER_CLASS:d,ONLINE_GIF_CLASS:u,GIF_WRAPPER_CLASS:m}=a.INLINE_IMAGE_PLUGIN_CLASSES,p="https://s.yimg.com/nq/gif-providers/1/gif-providers/tenor.png",_="<div><br></div>";function h(e,t,s=o){try{const n=window.getSelection();e.restoreCaret(),n&&!e.element.contains(n.anchorNode)&&e.focus(),e.pushButton("insertHTML",t),e.saveUndo(),s()}catch(e){console.error(e)}}t.a={findGifWrapper(e){for(;e&&-1===e.className.indexOf(m);)e=e.parentNode;return e},insertEmoji(e,t,s){const n=new Image;n.alt=n.title=t(i.emojiAltText),n.classList.add(d),n.height=s.height,n.src=s.downloadLink,n.style.padding="0px 2px",n.style.verticalAlign="middle",n.width=s.width,h(e,n.outerHTML,()=>{e.contentChanged({type:"emoji_inserted",eventData:{emoji:s}})})},insertGif(e,t,s){const n=new Image;n.alt=n.title=s.altText,n.src=s.downloadLink,n.className=l+" "+u,n.setAttribute("data-id",Date.now()),n.draggable=!1,h(e,function(e,t,{onlineContentLink:s}){const n=e(i.gifPickerAttribution,{htmlImage:`<img src="${p}"/>`});let a={"font-size":r.FONT_SIZE_XXS,color:"#979ba7","margin-top":"8px","font-family":"Arial"};return a=Object.keys(a).map(e=>e+":"+a[e]).join(";"),_+`<div class="${m}" contentEditable="false">\n               <a rel="noreferrer"\n                   target="_blank"\n                   href="${s}"\n                   style="cursor:pointer;text-decoration: none;color:transparent"\n               >${t.outerHTML}\n                   <div style="${a}" class="rte-gif-attribution">${n}</div>\n               </a></div>`+_}(t,n,s),()=>{e.contentChanged({type:"gif_inserted",eventData:{gif:s}}),e.scrollCaretIntoView()})},getOffsetFromEditorContainer(e,t){const s={top:0,left:0};for(;t&&t!==e.element.parentNode&&t!==document.body;)s.top+=t.offsetTop,s.left+=t.offsetLeft,t=t.offsetParent;return s},insertInlineAttachment(e,t,s){const{contentId:n}=s,a=new Image;a.setAttribute("data-id",n),a.alt=a.title=t(i.inlineImageAltText),a.src=s.downloadUrl,a.classList.add(l),a.style.maxWidth=c+"px",a.draggable=!1,h(e,a.outerHTML+"<br/>",()=>e.scrollCaretIntoView())},isGif:e=>e.className.indexOf(m)>-1||e.className.indexOf(u)>-1,putCursorBefore(e){const t=window.getSelection(),s=document.createRange();s.setStartBefore(e),s.collapse(!0),t.removeAllRanges(),t.addRange(s)},removeInlineImage(e,t,s=o){let n=a.EDITOR_EVENTS.inline_image_removed;this.isGif(t)&&(t=this.findGifWrapper(t.parentNode),n=a.EDITOR_EVENTS.gif_removed),t.parentNode.removeChild(t),e.contentChanged({type:n}),s()},fixOverlayPosition({hoveredElement:e,overlay:t,scrollableContainer:s,editor:n}){if(e&&t&&s){const{scrollTop:a}=s,r=this.getOffsetFromEditorContainer(n,e);let o=Math.min(e.clientWidth,s&&s.clientWidth||Number.MAX_VALUE);r.left+o>n.element.clientWidth&&(o=n.element.clientWidth-r.left);let i=e.clientHeight;if(r.top<a){const e=r.top;r.top=a,i-=s.scrollTop-e}Object.assign(t.style,{left:r.left+"px",top:r.top+"px",width:o+"px",height:i+"px",position:"absolute"})}}}},,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(15),o=s(3),i=s(43),c=s(0),l=s(10),d=s(11),u=s.n(d),m=s(594),p=s.n(m);const{SimplifiedTypes:_}=c.u,h=u()(p.a),E={[_.IMAGE]:o.b.ATTACH_IMAGE_48,[_.VIDEO]:o.b.ATTACH_MOVIE_48,[_.FILE]:o.b.ATTACH_GENERIC_48,[_.AUDIO]:o.b.ATTACH_SOUND_48,[_.COMPRESSED]:o.b.ATTACH_ZIP_48,[_.PDF]:o.b.ATTACH_PDF_48,[_.XLS]:o.b.ATTACH_XLS_48,[_.PPT]:o.b.ATTACH_PPT_48,[_.DOC]:o.b.ATTACH_DOC_48,[_.CAL]:o.b.ATTACH_ICS_48},g={[_.IMAGE]:o.a.ATTACH_MEDIA,[_.VIDEO]:o.a.ATTACH_MEDIA,[_.AUDIO]:o.a.ATTACH_MEDIA,[_.PDF]:o.a.ATTACH_PDF,[_.XLS]:o.a.ATTACH_EXCEL,[_.PPT]:o.a.ATTACH_SLIDE,[_.DOC]:o.a.ATTACH_DOC,[_.CAL]:o.a.ATTACH_CAL,[_.COMPRESSED]:o.a.ATTACH_COMPRESSED},b={[o.a.ATTACH_MEDIA]:`url(#${o.a.ATTACH_MEDIA}) ${l.PALETTE.ycolorPurple14a}`,[o.a.ATTACH_CAL]:`url(#${o.a.ATTACH_MEDIA}) ${l.PALETTE.ycolorPurple14a}`,[o.a.ATTACH_EXCEL]:`url(#${o.a.ATTACH_EXCEL}) ${l.PALETTE.ycolorTurquoise8a}`,[o.a.ATTACH_DOC]:`url(#${o.a.ATTACH_DOC}) ${l.PALETTE.ycolorBlue10b}`,[o.a.ATTACH_SLIDE]:`url(#${o.a.ATTACH_SLIDE}) ${l.PALETTE.ycolorPink1a}`,[o.a.ATTACH_PDF]:`url(#${o.a.ATTACH_SLIDE}) ${l.PALETTE.ycolorPink1a}`,[o.a.ATTACH_GENERIC]:`url(#${o.a.ATTACH_GENERIC}) ${l.PALETTE.ycolorBlue10a}`,[o.a.ATTACH_COMPRESSED]:`url(#${o.a.ATTACH_GENERIC}) ${l.PALETTE.ycolorBlue10a}`};t.a=function({disabled:e,type:t,subtype:s,isInverted:n,fallbackText:c}){const d=Object(i.d)(t,s),u=g[d]||o.a.ATTACH_GENERIC,m=n?l.DODGE_60:b[u];return a.a.createElement("svg",{style:{fill:e?l.THIRD_LEVEL_GRAY:m},viewBox:"0 0 20 20",className:h.attachmentIcon},r.a[E[d]||o.b.ATTACH_GENERIC_48],c&&a.a.createElement("desc",null,a.a.createElement("p",{className:h.fallback},c)))}},,function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"g",function(){return c}),s.d(t,"c",function(){return l}),s.d(t,"f",function(){return d}),s.d(t,"b",function(){return u});var n=s(0),a=s(8);const r="https://rover.ebay.com/rover/1/711-53200-19255-0/1?icep_id=114&ipn=icep&toolid=20004",o="https://www.ebay.com/svc/item-services?itemIds=",i="https://pages.ebay.com/services/hub.html",c={ELECTRONICS:"electronics",AUTOPARTS:"vehicle parts & accessories"},l="ebay@reply.ebay.com",d=Object(a.e)(c),u={[n.gb.TOP]:{[c.ELECTRONICS]:5338378194,[c.AUTOPARTS]:5338378198},[n.gb.RIGHT]:{[c.ELECTRONICS]:5338378196,[c.AUTOPARTS]:5338378199}}},,function(e,t,s){"use strict";s.d(t,"a",function(){return u}),s.d(t,"b",function(){return m});var n=s(169),a=s.n(n),r=s(126),o=s(2),i=s(0),c=s(9),l=s(272),d=s(24);function u(e,{serverInferredTimezone:t,lastObservedTimezone:s}){const{getEnvironmentSelectors:n,getSelectedAccountId:u}=Object(c.b)(e.store.getState());if(n().isAMT())return;const m=a.a.determine(),p=m&&m.name(),_=u();let h=null;if(Object(d.b)()){const e=new l.a({window:window});h=e.getClientTimeZone(),e.determineClientTimeZone()}!function(e,t,s){const{getFeaturesSelectors:n,getEnvironmentSelectors:a}=Object(c.b)(e.store.getState()),o=n(),l=a().isAMT();o.isEnabled("udb")&&(l||t&&t.server===s.server&&t.client===s.client||(o.isEnabled(i.mb.UDB_MIGRATION_COMPLETE)?e.mailAPIClient.request("settings.saveWebMailboxAttributes",{attributes:[{id:i.Yb.LAST_OBSERVED_TIMEZONE,value:`${s.client||""}|${s.server||""}`}]}):e.udbClient.write({[r.a.YM_LAST_OBSERVED_TZ]:JSON.stringify(s)})))}(e,s,{client:p,server:t}),s&&p!==h&&p!==s.client&&p!==t&&e.dispatch(o.qj,{accountId:_})}function m(e){e.dispatch(o.Vg)}},function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s(0);function a(e,t,s,a=n.ge){const{id:r,email:o,iataCode:i}=e,c={spsize:t+"X"+t,fallback_url:s,alphatar_photo:!0,appId:a};let l;if(i)l=`/v4/tags/iata/${i}/photo`;else if(r&&r!==o)l="/v4/contacts/"+r+"/photo",c.badge=!0;else{if(!o)return s;l="/v4/endpoints/smtp:"+o+"/photo",c.format="image"}return n.ce+l+"?"+Object.keys(c).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(c[e])).join("&")}},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(4),c=(s(37),s(43)),l=s(260),d=s(229),u=s(11),m=s.n(u),p=s(357),_=s.n(p),h=s(5),E=s(15),g=s(3),b=s(149),I=s(22),f=s(13),S=s(9),A=s(0),T=s(45);const C=m()(_.a),O=Object(i.h)({title:{id:"learnmore.title",defaultMessage:"Attachments cannot be downloaded"},content:{id:"learnmore.content",defaultMessage:"Attachments in emails marked as Spam may contain harmful content.            To download attachments in this email, please move the email out of the Spam folder."},warningIcon:{id:"learnmore.warning",defaultMessage:"Warning"},harmfulAttachment:{id:"attachment.harmfulContent",defaultMessage:"This email was moved from Spam folder. Attachments may contain harmful content."},unsupportedFileType:{id:"attachment.unsupportedFileType",defaultMessage:"One or more of the file types you have attached is not supported. Please remove the unsupported file(s)."}});class R extends o.a.Component{constructor(e){super(e),N.call(this);const{message:t}=e;this.state={combinedZipFilename:t?M(t.headers.subject):"",learnMoreShown:!1}}render(){const{readOnly:e,allowDownload:t,mayContainVirus:s,onAttachmentPreview:n,message:a,attachmentPreview:r,isCompact:d,allowInline:u}=this.props,p=m()(_.a,{isCompact:d,allowInline:u}),h=this.props.cepForward?Object(c.m)(Object(c.f)(this.getAttachments())):Object(c.f)(this.getAttachments(),u),{length:b}=h;return b?o.a.createElement("div",{className:p.tray},a&&a.downloadAllUrl&&t&&b>1?o.a.createElement("a",{className:p.downloadAllLink,href:a.downloadAllUrl,"data-test-id":"download-all-attachments",onClick:e=>this._handleDownloadAllClick(e,h)},o.a.createElement("span",{className:p.downloadAllIcon},o.a.createElement(E.b,{kind:g.b.DOWNLOAD,size:g.d.XS,colorState:g.a.SELECTED})),o.a.createElement(i.c,{id:"attachment_tray.downloadAll",defaultMessage:"Download all attachments as a zip file"})):null,s?this._renderWarningMsg():null,a&&a.id?this.renderSpamAttachmentWarning(a.id):null,this.renderUnsupportedAttachmentWarning(),o.a.createElement("ul",{className:p.ul},h.map((a,i)=>o.a.createElement("li",{key:i,className:p.item,"data-test-id":"attachment-tray-list-item"},o.a.createElement(l.a,{attachment:a,readOnly:e,allowDownload:t,mayContainVirus:s,onRemove:this.onItemRemove.bind(null,a),onClick:n.bind(null,a.id),isPreviewEnabled:t&&Boolean(r),onSendAsInlineImage:this.props.onSendAsInlineImage,richTextMode:this.props.richTextMode,isCompact:d,csid:this.props.csid}))))):null}}R.contextTypes={executeAction:a.a.func,config:a.a.object,intl:i.i.isRequired},R.defaultProps={onAttachmentRemove:()=>{},onAttachmentPreview:()=>{},richTextMode:!0,getAttachments:()=>[],attachments:[],cepForward:!1,allowInline:!1};var N=function(){this.onItemRemove=(e=>{this.props.readOnly||this.props.onAttachmentRemove(e)}),this._handleDownloadAllClick=((e,t)=>{e.stopPropagation(),e.preventDefault();const s=this.getDownloadAllFilename(),{id:n,downloadAllUrl:a}=this.props.message;this.props.handleDownloadAll({attachments:t,downloadId:n,downloadUrl:a,filename:s,i13nModel:{mKey:h.e.DOWNLOAD_ATTACHMENT_ALL,sec:h.g.MSG_READ_ATTACHMENT,mKeyGroup:h.f.dwnld_attmnt}})}),this.getDownloadAllFilename=(()=>`Attachments_${this.state.combinedZipFilename}.zip`),this._renderWarningMsg=(()=>{const{formatMessage:e}=this.context.intl,{learnMoreShown:t}=this.state;return o.a.createElement("div",{className:C.spamDownloadWarning},o.a.createElement(I.a,{colorState:g.a.WARNING,className:C.attentionIcon,kind:g.b.ATTENTION,size:g.d.XXS,title:e(O.warningIcon)}),o.a.createElement(i.c,{id:"attachment.dl.warning",defaultMessage:"Attachments cannot be downloaded.","data-test-id":"dl-warning"}),o.a.createElement("button",{className:C.learnMore,onClick:()=>this.setState({learnMoreShown:!0}),"data-test-id":"learn-more"},o.a.createElement(i.c,{id:"attachment.learnmore",defaultMessage:"Learn more"})),t?o.a.createElement(b.a,{title:e(O.title),message:e(O.content),onAccept:()=>this.setState({learnMoreShown:!1})}):null)}),this.renderSpamAttachmentWarning=(e=>{if(this.props.shouldShowSpamAttachmentWarning(e))return o.a.createElement("div",{className:C.spamAttachmentWarning},o.a.createElement(I.a,{colorState:g.a.WARNING,className:C.attentionIcon,kind:g.b.EXCLAMATION_ALT,size:g.d.XXS,title:this.context.intl.formatMessage(O.harmfulAttachment)}),o.a.createElement(i.c,O.harmfulAttachment))}),this.renderUnsupportedAttachmentWarning=(()=>{if(Object(c.f)(this.getAttachments(),this.props.allowInline).filter(e=>!Object(c.l)(e.filename)).length){const{formatMessage:e,locale:t}=this.context.intl,s=e(O.unsupportedFileType);return o.a.createElement("div",{className:C.attachmentWarning},o.a.createElement(I.a,{colorState:g.a.WARNING,className:C.attentionIcon,kind:g.b.ATTENTION,size:g.d.XXS,title:s}),s,o.a.createElement("button",{className:C.attachmentWarningLearnMore,onClick:()=>window.open(Object(A.ie)(t),"_blank")},o.a.createElement(i.c,{id:"alert.learn_more_url",defaultMessage:"Learn more"})))}}),this.getAttachments=(()=>{const{getAttachments:e,attachments:t}=this.props;return e().length?e():t||[]})};function M(e=""){if(!e||!/[a-z0-9]/i.test(e))return Object(T.m)(new Date).replace(/-/g,"");return e.replace(/ /g,"_").replace(/\W/g,"").replace(/_+$/,"").replace(/^_+/,"").substring(0,20)}t.a=Object(f.b)(e=>{const{getFeaturesSelectors:t}=Object(S.b)(e),s=t();return{attachmentPreview:s.isEnabled("attachmentPreview"),cepForward:s.isEnabled(A.mb.CEP_FORWARD)}},e=>({handleDownloadAll({attachments:t,downloadId:s,downloadUrl:n,filename:a,i13nModel:r}){e(Object(d.a)({attachments:t,downloadId:s,downloadUrl:n,filename:a,i13nModel:r}))}}),null,{areOwnPropsEqual:()=>!1})(R)},function(e,t,s){"use strict";var n=s(13),a=s(4),r=(s(6),s(1)),o=s.n(r),i=(s(37),s(0)),c=s(56),l=s(253),d=s(15),u=s(87),m=s(93),p=s(12),_=s(61),h=s(88),E=s(10),g=s(300),b=s(5),I=s(3),f=s(17),S=s(30),A=s(11),T=s.n(A),C=s(356),O=s.n(C),R=s(341),N=s(43),M=s(14),D=s(31),y=s(9),L=s(229);const v=Object(a.h)({download:{id:"attachment_item.download",defaultMessage:"Download"},untitled:{id:"attachment_item.untitled_filename",defaultMessage:"Untitled"},preview:{id:"attachment_item.preview",defaultMessage:"Preview"}}),P=T()(O.a);class F extends o.a.Component{constructor(e){super(e),this.handleSendAsImage=(()=>{this.props.onSendAsInlineImage(this.props.attachment)}),this.renderProgressBar=(()=>{const e=this.getProgressValue();return o.a.createElement("div",{"data-test-id":"attachment-progress-bar",role:"progressbar","aria-valuenow":e,"aria-valuemin":"0","aria-valuemax":"100",className:P.progressBar,style:{width:e+"%"}})}),this.getProgressValue=(()=>{const{contentIdToUploadProgress:e,attachment:{contentId:t}}=this.props;return e[t]||0}),this.displayImageWhenReady=(e=>{this.blobUrl=null,this.imageToLoad=null,this.imageRef.current&&(this.imageRef.current.src=e.target.src)}),this.loadImageInBackground=(e=>{this.blobUrl&&!this.imageToLoad&&(this.imageToLoad=new Image,this.imageToLoad.src=e,this.imageToLoad.onload=this.displayImageWhenReady)}),this.renderContent=((e,t)=>{const{contentId:s,filename:n}=e,{mayContainVirus:a,hasError:r,isUploaded:u,getThumbnailUrl:m}=this.props;let p;switch(t){case i.u.SimplifiedTypes.AUDIO:p="audio";break;case i.u.SimplifiedTypes.VIDEO:p="video";break;case i.u.SimplifiedTypes.IMAGE:p="img"}if(!r(s)&&!u(s)){const s=this.getProgressValue();return t===i.u.SimplifiedTypes.IMAGE?(this.blobUrl=e.downloadUrl,o.a.createElement("div",null,o.a.createElement(p,{src:e.thumbnailUrl||e.downloadUrl,className:P.media,style:{opacity:"0.3"}}),!s&&o.a.createElement("div",{className:P.loadingIconContainer},o.a.createElement(c.b,null)),this.renderProgressBar())):o.a.createElement("div",null,s?o.a.createElement(l.a,e):o.a.createElement(c.b,null),this.renderProgressBar())}if(r(s)||!Object(N.l)(n))return o.a.createElement(d.b,{kind:I.b.ATTENTION,size:I.d.L,colorState:I.a.WARNING});if(a)return o.a.createElement(l.a,babelHelpers.extends({},e,{disabled:!0}));if(p){const e=m(s);return"img"===p&&this.loadImageInBackground(e),o.a.createElement(p,{ref:this.imageRef,src:"img"===p&&this.blobUrl||e,className:P.media,"data-test-id":"attachment-thumbnail"})}return o.a.createElement(l.a,e)}),this.onMouseEnterChange=(e=>{clearTimeout(this._hoverTimer),e?this.state.hover!==e&&this.setState({hover:e}):this._hoverTimer=setTimeout(()=>{this.state.hover!==e&&this.setState({hover:e})},0)}),this.onMouseEventChange=(e=>{this.setState({anchorHover:e})}),this.renderPopoverMenu=(e=>o.a.createElement(m.c,{permittedArrowDirections:[p.g.UP],zAltitude:E.ZIndices.POPOVER.HIGH,align:p.a.END,offset:2*E.GRID_UNIT,triggerOn:m.b.CLICK,triggerOff:m.a.CLICK,className:P.popoverContainer,onContentMouseOver:this.onMouseEnterChange.bind(this,!0),onContentMouseOut:this.onMouseEnterChange.bind(this,!1),isArrowVisible:!1},o.a.createElement("div",{className:P.itemMenu,onMouseEnter:this.onMouseEnterChange.bind(this,!0),onMouseLeave:this.onMouseEnterChange.bind(this,!1),"data-test-id":"more-option-button"},o.a.createElement(u.a,{kind:I.b.MORE,colorStates:{normal:I.a.COOL_FAINT,hovered:I.a.SELECTED},size:I.d.XXS})),o.a.createElement("div",{className:P.menuContainer,"data-test-id":"attachment-menu"},o.a.createElement(_.a,{kind:h.a.MENU,focusOnMount:!0},e===i.u.Types.IMAGE&&this.props.richTextMode?o.a.createElement(D.a,{className:P.menuItem,"data-test-id":"send-as-image-item"},o.a.createElement(f.a,{kind:S.a.MENUITEM_PARENT_TEXT_COLOR,onClick:this.handleSendAsImage},o.a.createElement(a.c,{id:"attachment.send_as_images",defaultMessage:"Send as image"}))):null,o.a.createElement(D.a,{className:P.menuItem,"data-test-id":"remote-att-item"},o.a.createElement(f.a,{kind:S.a.MENUITEM_PARENT_TEXT_COLOR,onClick:this.props.onRemove},o.a.createElement(a.c,{id:"attachment.remove",defaultMessage:"Remove"}))))))),this._renderPreviewMask=((e,t)=>{const{onClick:s,allowDownload:n}=this.props,a=n?e.previewButtonWrapper:e.previewWrapperMsgList,r=n?e.previewButton:e.previewButtonMsgList,i=this.context.intl.formatMessage(v.preview);return o.a.createElement("div",{className:a,onClick:e=>s(Object(M.i)(e))},o.a.createElement(f.a,{"data-test-id":"attachment-item-preview",kind:S.a.PLAIN,className:r,title:i},o.a.createElement("span",{"aria-hidden":!0},i)),n?o.a.createElement("div",{className:e.downloadIconOnPreview,"data-test-id":"download-icon",onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1),onClick:this._handleDownloadClick,title:t},o.a.createElement(d.b,{kind:I.b.DOWNLOAD,size:I.d.XS,colorState:this.state.anchorHover?I.a.PRIMARY_HOVER:I.a.SELECTED})):null)}),this._renderDownloadMask=((e,t)=>{const{allowDownload:s}=this.props;return o.a.createElement("div",{className:s?e.noPreviewWrapper:e.noPreviewWrapperMsgList,"data-test-id":"attachment-no-preview"},o.a.createElement("span",{className:s?e.noPreviewText:e.noPreviewTextMsgList},o.a.createElement(a.c,{id:"attachment_item.no_preview",defaultMessage:"No Preview"})),s?o.a.createElement("div",{"data-test-id":"download-icon",className:e.downloadIconOnPreview,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1),onClick:this._handleDownloadClick,title:t},o.a.createElement(d.b,{kind:I.b.DOWNLOAD,size:I.d.XS,colorState:this.state.anchorHover?I.a.PRIMARY_HOVER:I.a.SELECTED})):null)}),this._handleDownloadClick=(e=>{e.preventDefault(),e.stopPropagation(),this.props.handleDownload({attachment:this.props.attachment,i13nModel:{mKey:b.e.DOWNLOAD_ATTACHMENT,sec:b.g.MSG_READ_ATTACHMENT,mKeyGroup:b.f.dwnld_attmnt}})}),this._hoverTimer=null,this.imageRef=o.a.createRef(),this.state={hover:!1,anchorHover:!1}}componentWillUnmount(){clearTimeout(this._hoverTimer)}render(){const{attachment:e={},allowDownload:t,readOnly:s,isPreviewEnabled:n,mayContainVirus:a,previewWithoutDownload:r,smallPreview:c,isCompact:l}=this.props,{filename:d,subtype:u,type:m,state:p,size:_}=e,{formatMessage:h}=this.context.intl,E=p===i.t.LOADING,b=Object(N.d)(m,u),I=Object(N.k)(e),f=t&&!E,S=R.b(d),A=d?R.a(d,S):h(v.untitled),C=h(v.download),M=Object(g.prettyPrintBytes)(_,1),D=T()(O.a,{type:b,state:p,anchorHover:this.state.anchorHover,spam:a,smallPreview:c,isPreviewEnabled:n,hover:this.state.hover,isCompact:l,unsupportedFileType:!Object(N.l)(d)});return o.a.createElement("div",{className:D.container,"data-test-id":"attachment-item"},!s&&this.state.hover&&this.renderPopoverMenu(b),o.a.createElement("div",{"data-test-id":"attachment-container",className:D.content,onMouseOver:this.onMouseEnterChange.bind(this,!0),onMouseLeave:this.onMouseEnterChange.bind(this,!1)},o.a.createElement("div",{className:D.mediaContent},this.renderContent(e,b)),n&&(t||r)&&s&&this.state.hover?o.a.createElement("div",{className:D.hoverMask},I?this._renderPreviewMask(D,C):this._renderDownloadMask(D,C)):null),o.a.createElement("div",{className:D.label,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1)},f?o.a.createElement("div",{className:D.downloadIcon,onClick:this._handleDownloadClick,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1)},o.a.createElement("a",{"data-test-id":"attachment-download",href:e.downloadUrl,className:D.downloadIconWrapper},o.a.createElement("span",{className:D.downloadFilename,title:e.filename},o.a.createElement("div",{className:D.filename},o.a.createElement("span",{className:D.labelBaseName},o.a.createElement("span",null,A)),o.a.createElement("span",null,S)),o.a.createElement("div",{className:D.fileSize},M)))):o.a.createElement("span",{className:D.filenameContainer,title:e.filename},o.a.createElement("div",{className:D.filename},o.a.createElement("span",{className:D.labelBaseName},o.a.createElement("span",null,A)),o.a.createElement("span",null,S)),c?null:o.a.createElement("div",{className:D.fileSize},M))))}}F.contextTypes={intl:a.i.isRequired},F.defaultProps={smallPreview:!1,previewWithoutDownload:!1,contentIdToUploadProgress:{}};t.a=Object(n.b)((e,t)=>{const{getAttachmentsSelectors:s,getComposeSessionsSelectors:n}=Object(y.b)(e),{hasError:a,isUploaded:r,getThumbnailUrl:o}=s(),{getAttachmentProgress:i,doesComposeSessionExist:c}=n();return{hasError:a,isUploaded:r,getThumbnailUrl:o,contentIdToUploadProgress:c(t.csid)?i(t.csid):void 0}},e=>({handleDownload({attachment:t,i13nModel:s}){e(Object(L.b)({attachment:t,i13nModel:s}))}}))(F)},function(e,t,s){"use strict";s.d(t,"b",function(){return c});var n=s(13),a=s(9),r=s(47),o=s(7),i=s(0);const c=(e,t)=>{const{streamId:s}=t,{getAttachmentIdsByMessageId:n,getAttachmentById:c,getMessageGroupsSelectors:l,getMessagesSelectors:d,getSubjectAndSnippetSelectors:u,getFoldersSelectors:m,doesStreamExist:p,getCursorItem:_,isStreamItemSelected:h,isFeatureEnabled:E,getSetting:g,getRouteName:b,getAccountSelectors:I,getAccountIdByFolderId:f,getMessageGroupParticipantsInfo:S,getMessageFlags:A,getMessageFolderId:T}=Object(a.b)(e),C=I(),O=m(),{getPrimaryFolderTypeByFolderId:R}=m(),{getMessageIdsFromMessageGroupId:N}=l(),{getSubject:M,getSnippet:D}=u(),y=N(t.groupId),L=Object(o.m)(t.listId),v=L?R(L):void 0,P=!E(i.mb.CONVERSATIONS),F=p(s)&&_(s)||{},x={id:t.groupId,listId:t.listId},w=!!p(s)&&h(s,x);let k=!1,H=!1;y.forEach(e=>{const t=A(e).answered,s=A(e).forwarded;t&&(k=!0,H=!1),s&&(k=!1,H=!0)});const U=T(t.relevantMessageId),j=O.getFolderName(U),G=f(U),B=C.getAccountDescriptionByAccountId(G),V=C.getProviderFromAccount(G);return{messageIds:y,subject:M(t.relevantMessageId,t.listId),snippet:D(t.relevantMessageId,t.listId),isRead:y.every(e=>A(e).read),isReplied:k,isForwarded:H,isStarred:y.some(e=>A(e).flagged),getParticipantsInfo:()=>S(t.groupId,t.listId),active:F.id===x.id&&F.listId===x.listId,selected:w,isVerifiedDomain:()=>d().isVerifiedDomain(t.relevantMessageId),showSnippets:E(i.nd.SNIPPETS),messageListDensity:g(i.nd.MSG_LIST_DENSITY),listItemHeight:g(i.nd.LIST_ITEM_HEIGHT),isSpam:v===i.ub.BULK,hasDraft:()=>y.some(e=>T(e)===i.Kd.DRAFT),showContactSearch:(e=[])=>1===(Object(r.c)(e)||[]).length&&1===y.length&&!Object(o.G)(t.listId),showSubjectSearch:P,showDestinationLabel:()=>b()===i.Uc.SEARCH,folderId:U,getAttachments:()=>{const e=y.reduce((e,t)=>e.concat(n(t).map(c)),[]).filter(({filename:e})=>e),t=e.map(e=>e.filename+e.size);return e.filter(({filename:e,size:s},n)=>n===t.indexOf(e+s))},accountProvider:V,accountDescription:B,folderName:j}};t.a=Object(n.b)(c,void 0,void 0,{areStatePropsEqual:(e,t)=>e.messageIds===t.messageIds&&e.folderId===t.folderId&&e.isRead===t.isRead&&e.isReplied===t.isReplied&&e.isForwarded===t.isForwarded&&e.isStarred===t.isStarred&&e.tabIndex===t.tabIndex&&e.selected===t.selected&&e.active===t.active&&e.listItemHeight===t.listItemHeight})},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F H_6D6F cZ1RN91d_GG p_a o_h",msgDragProxy:"p_a Z_3n0uA P_eo6 b_Z14vXdP",counter:"C_52qC en_0 P_3gJiI e_fFR A_6DUj I_Z2aVTcY O_N D_X",dragIcon:"Z_3n0uA cdPFi_Z281SGl"},isBriefView:{container:"p_CS H_CS en_0 M_Zm1Iab U_eo6 W_3vpWV a_3vpWV cn_3vzlv cg_FJ l_ZpQYvz",list:"p_CS I_52qC o_h W_3vpWV",briefHeader:"M_1d6dau A_6EqO",briefContent:"M_1d6dau",briefFooter:"D_F gl_CH M_9DHCV A_6Eb4 C_Z2aVTcY"},"themeMode-DARK":{dragIcon:"cdPFi_ZpQYvz",container:"l_T",list:"I_sgPuT",briefHeader:"C_ZpQYvz",link:"C_Z21zYBA"},"themeMode-MEDIUM":{container:"l_T",list:"I_sgPuT",briefHeader:"C_ZpQYvz",link:"C_Z21zYBA"},"themeCombo-DARK_NIGHT_LANDSCAPE":{list:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{list:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{list:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{list:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{list:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{list:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{list:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{list:"I_t5YMW"}},_key:"ZL5jQN"}},,function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(4),c=s(13),l=s(17),d=s(0),u=s(31),m=s(15),p=s(22),_=s(3),h=s(125),E=s(113),g=s(117),b=s(103),I=s(11),f=s.n(I),S=s(590),A=s.n(S),T=s(29);const C=f()(A.a);class O extends o.a.Component{render(){const{tooltip:e,onChange:t,showPlainTextToggle:s}=this.props,{formatMessage:n}=this.context.intl;return o.a.createElement(h.a,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1},o.a.createElement(E.a,{"aria-label":e,"data-test-id":"icon-btn-more_tools",title:e},o.a.createElement(m.b,{kind:_.b.MORE,size:_.d.XS,colorState:_.a.INHERITED})),o.a.createElement(g.a,{persistOnClick:!0,focusBackEditor:this.props.focusBackEditor,menuLayout:b.a.HORIZONTAL,"data-test-id":"more-tools"},o.a.createElement("span",{className:C.sectionDivider}),o.a.createElement("span",{className:C.rtlIgnoreDir},o.a.createElement(u.a,{key:"align-l",name:"align-l"},o.a.createElement("span",{className:C.icon},o.a.createElement(p.a,{"aria-label":n(T.a.leftAlign),title:n(T.a.leftAlign),kind:_.b.ALIGN_LEFT,size:_.d.XS,onClick:t.bind(null,"left")}))),o.a.createElement(u.a,{key:"align-c",name:"align-c"},o.a.createElement("span",{className:C.icon},o.a.createElement(p.a,{"aria-label":n(T.a.centerAlign),title:n(T.a.centerAlign),kind:_.b.ALIGN_CENTER,size:_.d.XS,onClick:t.bind(null,"center")}))),o.a.createElement(u.a,{key:"align-r",name:"align-r"},o.a.createElement("span",{className:C.icon},o.a.createElement(p.a,{className:C.rightAlignIcon,"aria-label":n(T.a.rightAlign),title:n(T.a.rightAlign),kind:_.b.ALIGN_LEFT,rotate:_.c.D0,size:_.d.XS,onClick:t.bind(null,"right")})))),o.a.createElement("span",{className:C.sectionDivider}),o.a.createElement(u.a,{key:"bullet",name:"bullet"},o.a.createElement("span",{className:C.icon},o.a.createElement(p.a,{className:C.rtlRawScaleX,"aria-label":n(T.a.bulletedList),title:n(T.a.bulletedList),kind:_.b.LIST_UNORDERED,size:_.d.XS,onClick:t.bind(null,"bullet")}))),o.a.createElement(u.a,{key:"number",name:"number"},o.a.createElement("span",{className:C.icon},o.a.createElement(p.a,{className:C.rtlRawHidden,"aria-label":n(T.a.numberedList),title:n(T.a.numberedList),kind:_.b.LIST_ORDERED,size:_.d.XS,onClick:t.bind(null,"number")}),o.a.createElement(p.a,{className:C.rtlRemoveHidden,"aria-label":n(T.a.numberedList),title:n(T.a.numberedList),kind:_.b.LIST_ORDERED_FLIPPED,size:_.d.XS,onClick:t.bind(null,"number")}))),o.a.createElement("span",{className:C.sectionDivider}),o.a.createElement(u.a,{name:"indent",key:"indent"},o.a.createElement("span",{className:C.icon},o.a.createElement(p.a,{className:C.rtlRawScaleX,"aria-label":n(T.a.increaseIndent),title:n(T.a.increaseIndent),kind:_.b.INDENT,size:_.d.XS,onClick:t.bind(null,"indent")}))),o.a.createElement(u.a,{name:"outdent",key:"outdent"},o.a.createElement("span",{className:C.icon},o.a.createElement(p.a,{className:C.rtlRawScaleX,"aria-label":n(T.a.decreaseIndent),title:n(T.a.decreaseIndent),kind:_.b.OUTDENT,size:_.d.XS,onClick:t.bind(null,"outdent")}))),o.a.createElement("span",{className:C.sectionDivider}),o.a.createElement(u.a,{name:"strikethrough",key:"strikethrough"},o.a.createElement("span",{className:C.icon},o.a.createElement(p.a,{"aria-label":n(T.a.strikeThrough),title:n(T.a.strikeThrough),kind:_.b.STRIKETHROUGH,size:_.d.XS,onClick:t.bind(null,"strikeThrough")}))),s?o.a.createElement(u.a,{name:"turn-off-richtext",key:"turn-off-richtext"},o.a.createElement("span",{className:C.icon},o.a.createElement(p.a,{"data-test-id":"richtext-off",onClick:t.bind(null,"plaintext"),title:n(T.a.plaintext),"aria-label":n(T.a.plaintext_icon_label),kind:_.b.RICHTEXT_OFF,size:_.d.XS})),o.a.createElement("span",{className:C.sectionDivider})):null))}}O.contextTypes={intl:i.i.isRequired},O.defaultProps={onMenuShow:()=>{}};var R=O,N=s(90),M=s(30),D=s(591),y=s.n(D);var L=function({kind:e,text:t,onClick:s,selected:n}){const a=f()(y.a,{kind:e,selected:n});return o.a.createElement(u.a,{key:e,kind:N.a.WRAP_CONTENT,name:e,text:t},o.a.createElement(l.a,{kind:M.a.MENUITEM,onClick:s},o.a.createElement("div",{className:a.menuItem},o.a.createElement("span",{className:a.checkmarkWrapper},n&&o.a.createElement(m.b,{kind:_.b.CHECKMARK,size:_.d.XS})),t)))},v=s(23),P=s(61),F=s(210),x=s.n(F),w=s(65);const k=f()(x.a),H=Object(i.h)({font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},font_size_label_tiny:{id:"compose.font_size_label_tiny",defaultMessage:"Tiny"},font_size_label_small:{id:"compose.font_size_label_small",defaultMessage:"Small"},font_size_label_medium:{id:"compose.font_size_label_medium",defaultMessage:"Medium"},font_size_label_large:{id:"compose.font_size_label_large",defaultMessage:"Large"},font_size_label_xlarge:{id:"compose.font_size_label_xlarge",defaultMessage:"X-Large"},font_size_label_huge:{id:"compose.font_size_label_huge",defaultMessage:"Huge"},back_button_text_label:{id:"compose.back_button_text_label",defaultMessage:"Back"}});class U extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleBackButton=(e=>{e.stopPropagation(),this.props.goToMainMenu()}),t}render(){const{formatMessage:e}=this.context.intl,t={[v.FontSizes[0].name]:e(H.font_size_label_tiny),[v.FontSizes[1].name]:e(H.font_size_label_small),[v.FontSizes[2].name]:e(H.font_size_label_medium),[v.FontSizes[3].name]:e(H.font_size_label_large),[v.FontSizes[4].name]:e(H.font_size_label_xlarge),[v.FontSizes[5].name]:e(H.font_size_label_huge)},s=parseInt(this.props.selectedFontSize,10),n=this.props.selectedFontFamily,a=v.FontSizes.map(({name:e,fontSize:n})=>o.a.createElement(L,{key:e,kind:e,text:t[e]||"",onClick:this.props.onFontSizeChange.bind(null,n),selected:n===s})),r=v.Fonts.map(({name:t,label:s,fontFamily:a})=>{const r=a.replace(/['," ]/g,"").toLowerCase()===n.replace(/['," ]/g,"").toLowerCase();return o.a.createElement(L,{key:t,kind:t,text:Object(w.getLocalizedFontFamilyName)(e,t)||s,onClick:this.props.onFontFamilyChange.bind(null,a),selected:r})});return o.a.createElement(h.a,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1,parentMenu:this.props.parentMenu},this.props.parentMenu?o.a.createElement(E.a,{style:{display:"none"}}):o.a.createElement(E.a,{"aria-label":e(H.font_name_size),"data-test-id":"icon-btn-text",title:e(H.font_name_size)},o.a.createElement(m.b,{kind:_.b.TEXT,size:_.d.XS,colorState:_.a.NORMAL})),o.a.createElement(g.a,{style:this.props.parentMenu?{marginLeft:"8px",marginTop:"4px"}:{},menuLayout:b.a.VERTICAL,"data-test-id":"font-picker"},this.props.parentMenu?o.a.createElement(p.a,{title:e(H.back_button_text_label),kind:_.b.ARROW_UP,size:_.d.XS,rotate:_.c.D270,colorState:_.a.SECOND_LEVEL_GRAY,onClick:this.handleBackButton,"data-test-id":"icon-btn-text_back"},o.a.createElement("span",{className:k.backButtonLabel},o.a.createElement(i.c,H.back_button_text_label))):"",o.a.createElement(P.a,{layout:b.a.HORIZONTAL},o.a.createElement(u.a,{key:"font-families"},o.a.createElement(P.a,null,r)),o.a.createElement(u.a,{key:"font-sizes"},o.a.createElement(P.a,null,a)))))}}U.contextTypes={intl:i.i.isRequired},U.defaultProps={parentMenu:null};var j=U,G=s(153);const B=f()(x.a);class V extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={showMainMenu:!0,showColorMenu:!1,showFontMenu:!1},this.onClickColor=(e=>{this.setState({showMainMenu:!1,showColorMenu:!0,showFontMenu:!1}),e.stopPropagation()}),this.onClickFont=(e=>{this.setState({showMainMenu:!1,showColorMenu:!1,showFontMenu:!0}),e.stopPropagation()}),this.onShowMenu=(()=>{this.props.onMenuShow(),this.setState({showMainMenu:!0,showColorMenu:!1,showFontMenu:!1})}),this.focusBackEditor=(()=>{this.setState({showColorMenu:!1,showFontMenu:!1}),this.refs.expandedmoretoolsmenu.hideMenu(),this.props.focusBackEditor()}),this.goToMainMenu=(()=>{this.setState({showMainMenu:!0,showColorMenu:!1,showFontMenu:!1})}),t}render(){const{tooltip:e,onChange:t,showPlainTextToggle:s}=this.props,{formatMessage:n}=this.context.intl;return o.a.createElement("div",null,o.a.createElement(h.a,{ref:"expandedmoretoolsmenu",afterMenuHide:this.focusBackEditor,showMenuActiveState:!1,onMenuShow:this.onShowMenu},o.a.createElement(E.a,{"aria-label":e,"data-test-id":"icon-btn-expanded_more_tools",title:e},o.a.createElement(m.b,{kind:_.b.MORE,size:_.d.XS,colorState:_.a.INHERITED})),this.state.showMainMenu?o.a.createElement(g.a,{menuLayout:b.a.VERTICAL,"data-test-id":"expanded-more-tools-menu"},o.a.createElement("div",{className:B.menuContainer},o.a.createElement("div",null,o.a.createElement(u.a,{key:"link",name:"link",className:B.menuListItem,ariaLabel:n(T.a.link_icon_label),onClick:this.props.onAddLink},o.a.createElement(l.a,{className:B.button,title:n(T.a.link),"data-test-id":"icon-btn-link"},o.a.createElement("div",{className:B.menuItem},o.a.createElement("span",{className:B.menuIcon},o.a.createElement(m.b,{kind:_.b.LINK,size:_.d.XS})),o.a.createElement("span",{className:B.menuLabel},o.a.createElement(i.c,T.a.link))))),o.a.createElement(u.a,{key:"font",name:"font",className:B.menuListItem,ariaLabel:n(T.a.font_name_size),onClick:this.onClickFont,"data-test-id":"icon-btn-font"},o.a.createElement(l.a,{className:B.button,title:n(T.a.font_name_size),"data-test-id":"icon-btn-text_expanded"},o.a.createElement("div",{className:B.menuItem},o.a.createElement("span",{className:B.menuIcon},o.a.createElement(m.b,{kind:_.b.TEXT,size:_.d.XS,colorState:_.a.NORMAL})),o.a.createElement("span",{className:B.menuLabel},o.a.createElement(i.c,T.a.font_name_size))))),o.a.createElement(u.a,{key:"color",name:"color",className:B.menuListItem,ariaLabel:n(T.a.color),onClick:this.onClickColor,"data-test-id":"icon-btn-color"},o.a.createElement(l.a,{className:B.button,title:n(T.a.color),"data-test-id":"icon-btn-text_color_expanded"},o.a.createElement("div",{className:B.menuItem},o.a.createElement("span",{className:B.menuIcon},o.a.createElement(m.b,{kind:_.b.TEXT_COLOR,size:_.d.XS,colorState:_.a.NORMAL})),o.a.createElement("span",{className:B.menuLabel},o.a.createElement(i.c,T.a.color))))),s?o.a.createElement(u.a,{key:"turn-off-richtext",name:"turn-off-richtext",className:B.menuListItem,ariaLabel:n(T.a.plaintext_icon_label),onClick:t.bind(null,"plaintext")},o.a.createElement(l.a,{className:B.button,title:n(T.a.plaintext),"data-test-id":"richtext-off"},o.a.createElement("div",{className:B.menuItem},o.a.createElement("span",{className:B.menuIcon},o.a.createElement(m.b,{kind:_.b.RICHTEXT_OFF,size:_.d.XS})),o.a.createElement("span",{className:B.menuLabel},o.a.createElement(i.c,T.a.plaintext_text_label))))):o.a.createElement(u.a,{className:B.menuListItem}),o.a.createElement("span",{className:B.sectionDivider}),o.a.createElement(u.a,{key:"align-l",name:"align-l",className:B.menuListItem,ariaLabel:n(T.a.leftAlign),onClick:t.bind(null,"left")},o.a.createElement(l.a,{className:B.button,title:n(T.a.leftAlign)},o.a.createElement("div",{className:B.menuItem},o.a.createElement("span",{className:B.menuIcon},o.a.createElement(m.b,{kind:_.b.ALIGN_LEFT,size:_.d.XS})),o.a.createElement("span",{className:B.menuLabel},o.a.createElement(i.c,T.a.leftAlign))))),o.a.createElement(u.a,{key:"align-c",name:"align-c",className:B.menuListItem,ariaLabel:n(T.a.centerAlign),onClick:t.bind(null,"center")},o.a.createElement(l.a,{className:B.button,title:n(T.a.centerAlign)},o.a.createElement("div",{className:B.menuItem},o.a.createElement("span",{className:B.menuIcon},o.a.createElement(m.b,{kind:_.b.ALIGN_CENTER,size:_.d.XS})),o.a.createElement("span",{className:B.menuLabel},o.a.createElement(i.c,T.a.centerAlign))))),o.a.createElement(u.a,{key:"align-r",name:"align-r",className:B.menuListItem,ariaLabel:n(T.a.rightAlign),onClick:t.bind(null,"right")},o.a.createElement(l.a,{className:B.button,title:n(T.a.rightAlign)},o.a.createElement("div",{className:B.menuItem},o.a.createElement("span",{className:B.rightAlignIcon},o.a.createElement(m.b,{kind:_.b.ALIGN_LEFT,size:_.d.XS})),o.a.createElement("span",{className:B.menuLabel},o.a.createElement(i.c,T.a.rightAlign))))),o.a.createElement(u.a,{name:"indent",key:"indent",className:B.menuListItem,ariaLabel:n(T.a.increaseIndent),onClick:t.bind(null,"indent")},o.a.createElement(l.a,{className:B.button,title:n(T.a.increaseIndent)},o.a.createElement("div",{className:B.menuItem},o.a.createElement("span",{className:B.menuIcon+" "+B.rtlRawScaleX},o.a.createElement(m.b,{kind:_.b.INDENT,size:_.d.XS})),o.a.createElement("span",{className:B.menuLabel},o.a.createElement(i.c,T.a.increaseIndent)))))),o.a.createElement("div",{className:B.spaceBetween}),o.a.createElement("div",null,o.a.createElement(u.a,{key:"bold",name:"bold",className:B.menuListItem,ariaLabel:n(T.a.bold_icon_label),onClick:this.props.onClickBold},o.a.createElement(l.a,{className:B.button,title:n(T.a.bold),"data-test-id":"icon-btn-bold"},o.a.createElement("div",{className:B.menuItem},o.a.createElement("span",{className:B.menuIcon},o.a.createElement(m.b,{kind:_.b.BOLD,size:_.d.XS})),o.a.createElement("span",{className:B.menuLabel},o.a.createElement(i.c,T.a.bold))))),o.a.createElement(u.a,{key:"italic",name:"italic",className:B.menuListItem,ariaLabel:n(T.a.italic_icon_label),onClick:this.props.onClickItalic},o.a.createElement(l.a,{className:B.button,title:n(T.a.italic),"data-test-id":"icon-btn-italic"},o.a.createElement("div",{className:B.menuItem},o.a.createElement("span",{className:B.menuIcon},o.a.createElement(m.b,{kind:_.b.ITALIC,size:_.d.XS})),o.a.createElement("span",{className:B.menuLabel},o.a.createElement(i.c,T.a.italic))))),o.a.createElement(u.a,{key:"strikethrough",name:"strikethrough",className:B.menuListItem,ariaLabel:n(T.a.strikeThrough),onClick:t.bind(null,"strikeThrough")},o.a.createElement(l.a,{className:B.button,title:n(T.a.strikeThrough),"data-test-id":"icon-btn-strikethrough"},o.a.createElement("div",{className:B.menuItem},o.a.createElement("span",{className:B.menuIcon},o.a.createElement(m.b,{kind:_.b.STRIKETHROUGH,size:_.d.XS})),o.a.createElement("span",{className:B.menuLabel},o.a.createElement(i.c,T.a.strikeThrough))))),o.a.createElement(u.a,{className:B.menuListItem}),o.a.createElement("span",{className:B.sectionDivider}),o.a.createElement(u.a,{key:"bullet",name:"bullet",className:B.menuListItem,ariaLabel:n(T.a.bulletedList),onClick:t.bind(null,"bullet")},o.a.createElement(l.a,{className:B.button,title:n(T.a.bulletedList)},o.a.createElement("div",{className:B.menuItem},o.a.createElement("span",{className:B.menuIcon+" "+B.rtlRawScaleX},o.a.createElement(m.b,{kind:_.b.LIST_UNORDERED,size:_.d.XS})),o.a.createElement("span",{className:B.menuLabel},o.a.createElement(i.c,T.a.bulletedList))))),o.a.createElement(u.a,{key:"number",name:"number",className:B.menuListItem,ariaLabel:n(T.a.numberedList),onClick:t.bind(null,"number")},o.a.createElement(l.a,{className:B.button,title:n(T.a.numberedList)},o.a.createElement("div",{className:B.menuItem},o.a.createElement("span",{className:B.menuIcon+" "+B.rtlRawHidden},o.a.createElement(m.b,{kind:_.b.LIST_ORDERED,size:_.d.XS})),o.a.createElement("span",{className:B.menuIcon+" "+B.rtlRemoveHidden},o.a.createElement(m.b,{kind:_.b.LIST_ORDERED_FLIPPED,size:_.d.XS})),o.a.createElement("span",{className:B.menuLabel},o.a.createElement(i.c,T.a.numberedList))))),o.a.createElement(u.a,{key:"outdent",name:"outdent",className:B.menuListItem,ariaLabel:n(T.a.decreaseIndent),onClick:t.bind(null,"outdent")},o.a.createElement(l.a,{className:B.button,title:n(T.a.decreaseIndent)},o.a.createElement("div",{className:B.menuItem},o.a.createElement("span",{className:B.menuIcon+" "+B.rtlRawScaleX},o.a.createElement(m.b,{kind:_.b.OUTDENT,size:_.d.XS})),o.a.createElement("span",{className:B.menuLabel},o.a.createElement(i.c,T.a.decreaseIndent)))))))):o.a.createElement(g.a,{style:{display:"none"}})),this.state.showColorMenu?o.a.createElement("span",null,o.a.createElement(G.a,{selectedFGColor:this.props.foreColor,selectedBGColor:this.props.backgroundColor,onFGColorChange:this.props.onChooseColor.bind(this.props.toolbar,"forecolor"),onBGColorChange:this.props.onChooseColor.bind(this.props.toolbar,"backcolor"),focusBackEditor:this.focusBackEditor,goToMainMenu:this.goToMainMenu,parentMenu:this.refs.expandedmoretoolsmenu})):"",this.state.showFontMenu?o.a.createElement("span",null,o.a.createElement(j,{selectedFontSize:this.props.fontSize,selectedFontFamily:this.props.fontFamily,onFontSizeChange:this.props.onChooseFont.bind(this.props.toolbar,"fontsize"),onFontFamilyChange:this.props.onChooseFont.bind(this.props.toolbar,"fontname"),focusBackEditor:this.focusBackEditor,goToMainMenu:this.goToMainMenu,parentMenu:this.refs.expandedmoretoolsmenu})):"")}}V.contextTypes={intl:i.i.isRequired};var W=V;var q=class extends o.a.Component{render(){return o.a.createElement("input",{role:"button",className:this.props.className,type:"file",ref:"input",value:"",title:this.props.ariaLabel,"aria-label":this.props.ariaLabel,multiple:this.props.multiple,onChange:this.props.onChange})}},z=s(592),Z=s.n(z);const K=f()(Z.a),Y=Object(i.h)({attachFile:{id:"compose.attach_file",defaultMessage:"Attach files"}});function X({onFileSelect:e},{intl:t}){const{formatMessage:s}=t;return o.a.createElement("div",{className:K.container},o.a.createElement(m.b,{kind:_.b.ATTACH,colorState:_.a.NORMAL,size:_.d.XS}),o.a.createElement(q,{className:K.input,multiple:!0,onChange:$.bind(null,e),ariaLabel:s(Y.attachFile)}))}function $(e,t){e({data:Array.prototype.slice.call(t.target.files)})}X.contextTypes={intl:i.i.isRequired};var Q=s(283),J=s(9),ee=s(176),te=s(5),se=s(20),ne=s(62),ae=s(39),re=s(58),oe=s(12),ie=s(69);const ce=Object(i.h)({gifPicker:{id:"gif.gifpicker.title",defaultMessage:"Insert animated GIFs"}}),le=500;class de extends o.a.Component{constructor(e,t){super(e,t),this._getDefaultCategory=(()=>{const{gifCategories:e}=this.props;return e.length?e[0]:{}}),this._getInitialState=(()=>{const{queryString:e="",categoryId:t=""}=this._getDefaultCategory();return{query:e,searchBoxValue:"",selectedCategory:t,menuOpen:!1}}),this.handleGifClick=(e=>{this.props.onGifClick(e),this.toggleMenu()}),this.fetchGIF=(e=>{this.props.gifCategories.length&&this.props.fetchGIF(e)}),this.onCategoryClick=((e,t=!0)=>{this.fetchGIF({query:e.queryString,fromCategory:t,i13nModel:{mKey:te.e.GIF_CATEGORY,sec:te.g.COMPOSE_TOOLBAR,interactionType:te.d.click}}),this.setState({query:e.queryString,selectedCategory:e.categoryId,searchBoxValue:""})}),this.toggleMenu=(e=>{e&&(e.stopPropagation(),e.preventDefault());const{menuOpen:t}=this.state;t?(this._gifPopoverContainer.hide(oe.h.MOUNT),this.setState(this._getInitialState(),()=>this.props.focusBackEditor())):(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this._gifPopoverContainer.show(oe.h.MOUNT),this.setState({menuOpen:!t}),ie.b.sendI13nModel({i13nModel:{mKey:te.e.GIF_OPEN,sec:te.g.COMPOSE_MSG,interactionType:te.d.click}}))}),this.handleSearchChange=(e=>{clearTimeout(this._timer);const{queryString:t="",categoryId:s=""}=this._getDefaultCategory();let n=t;e?(this.setState({searchBoxValue:e,selectedCategory:""}),n=e):this.setState({searchBoxValue:"",selectedCategory:s}),this._timer=setTimeout(function(e){this.fetchGIF({query:e,fromSearchBox:!0,i13nModel:{mKey:te.e.GIF_SEARCH,sec:te.g.COMPOSE_TOOLBAR,interactionType:te.d.keydown}}),this.setState({query:e})}.bind(this,n),le)}),this.onPopoverContentHide=(()=>{this.setState(this._getInitialState())}),this.renderGifPopup=(()=>o.a.createElement(ae.b,{permittedArrowDirections:[oe.g.DOWN],triggerOn:oe.h.MOUNT,customPositioning:!0,"data-test-id":"gif-pop-up",onHide:this.onPopoverContentHide},o.a.createElement(se.a,{import:"./atoms/gif_pop_up.jsx",fetchGIF:this.fetchGIF,fetchGifCategories:this.props.fetchGifCategories,gifCategories:this.props.gifCategories,handleGifClick:this.handleGifClick,handleSearchChange:this.handleSearchChange,left:this.toolbarBoundingRect.left,bottom:Math.max(window.innerHeight-this.toolbarBoundingRect.top,this.toolbarBoundingRect.height),onCategoryClick:this.onCategoryClick,searchBoxValue:this.state.searchBoxValue,selectedCategory:this.state.selectedCategory,query:this.state.query,toggleMenu:this.toggleMenu,width:this.toolbarBoundingRect.width,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,944))},_moduleResolver:function(){return 944}}))),this._timer=null,this.state=this._getInitialState()}componentWillReceiveProps(e){if(!this.props.gifCategories.length&&e.gifCategories.length){const{queryString:t="",categoryId:s=""}=e.gifCategories[0];this.setState({query:t,selectedCategory:s})}}componentDidMount(){this.props.showGIFPicker&&setTimeout(()=>{this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this.setState({menuOpen:!0})},1e3)}render(){const{menuOpen:e}=this.state,{formatMessage:t}=this.context.intl;return o.a.createElement("div",{"data-test-id":"gif-button",onClick:this.toggleMenu},o.a.createElement(ne.a,{ref:e=>this._gifPopoverContainer=e},o.a.createElement(re.a,{"data-test-id":"gif-picker-anchor"},o.a.createElement(l.a,{title:t(ce.gifPicker),"aria-label":t(ce.gifPicker),kind:e?M.a.ICON_HIGHLIGHTED:M.a.ICON},o.a.createElement(m.b,{kind:_.b.GIF_BOX,size:_.d.XS,colorState:_.a.NORMAL}))),e?this.renderGifPopup():null))}}de.defaultProps={onGifClick:()=>{},showGIFPicker:!1},de.contextTypes={executeAction:a.a.func,intl:i.i.isRequired};var ue=de;var me=Object(c.b)(e=>{const{getGifCategoriesSelectors:t}=Object(J.b)(e),{isCategoryListLoaded:s,getGifCategoriesList:n}=t();return{gifCategories:s()?n():[]}},function(e){return{fetchGIF(t){e(Object(ee.d)(babelHelpers.extends({},t,{query:t.query.toLocaleLowerCase().trim()})))},fetchGifCategories(){e(Object(ee.b)())}}})(ue),pe=s(453),_e=s(10),he=s(56),Ee=s(368),ge=s.n(Ee);const be=f()(ge.a),Ie=Object(i.h)({emojiPicker:{id:"emoji.emojipicker.title",defaultMessage:"Insert emojis"}});class fe extends o.a.Component{constructor(e){super(e),this.togglePopover=(()=>{const{popoverOpen:e}=this.state;this.state.popoverOpen&&this.props.focusBackEditor(),this.setState({popoverOpen:!e})}),this.closePicker=(()=>{this.refs.emojiPopoverContainer.hide(oe.h.CLICK);const e={mKey:te.e.EMOJI_CLOSE,sec:te.g.COMPOSE_MSG,interactionType:te.d.click};this.setState({popoverOpen:!1}),this.props.focusBackEditor(),this.context.executeAction(pe.b,{i13nModel:e})}),this.renderEmojiCue=(()=>o.a.createElement(ae.b,{align:oe.a.CENTER,triggerOn:oe.h.MOUNT,zAltitude:_e.ZIndices.POPOVER.HIGH,persistent:!0},o.a.createElement(se.a,{import:"../compose/atoms/emoji_cue",cueName:d.mb.EMOJI_CUE,onTryNow:()=>{this.refs.emojiPopoverContainer.hide(oe.h.MOUNT),this.refs.emojiPopoverContainer.show(oe.h.CLICK)},onMayBeLater:()=>{},_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,969))},_moduleResolver:function(){return 969}}))),this.renderEmojiPopup=(()=>o.a.createElement(ae.b,{permittedArrowDirections:[oe.g.DOWN],triggerOn:oe.h.CLICK,"data-test-id":"emoji-pop-up",onShow:()=>{this.props.showEmojiCue&&this.refs.emojiPopoverContainer.hide(oe.h.MOUNT)},onHide:this.togglePopover,align:oe.a.START,className:be.emojiPopUp},o.a.createElement(se.a,{import:"./emoji_popup.jsx",bundleName:"lazy_group2",onEmojiClick:this.props.onEmojiClick,closePicker:this.closePicker,"data-test-id":"emoji-lazy-component",tooltipEmoji:this.props.tooltipEmoji,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,949))},_moduleResolver:function(){return 949}},o.a.createElement(se.b,{loading:!0},o.a.createElement("div",{className:be.lazyStyle},o.a.createElement(he.b,null)))))),this.timer=null,this.state={popoverOpen:!1}}componentWillUnmount(){clearTimeout(this.timer)}render(){const{formatMessage:e}=this.context.intl,{popoverOpen:t}=this.state;return o.a.createElement("div",{onClick:this.togglePopover},o.a.createElement(ne.a,{ref:"emojiPopoverContainer"},o.a.createElement(re.a,{"data-test-id":"emoji-picker-anchor"},o.a.createElement(l.a,{"data-test-id":"emoji-picker-button",title:e(Ie.emojiPicker),"aria-label":e(Ie.emojiPicker),kind:t?M.a.ICON_HIGHLIGHTED:M.a.ICON},o.a.createElement(m.b,{kind:_.b.COMPOSE_EMOJI,size:_.d.XS,colorState:_.a.NORMAL}))),this.props.showEmojiCue?this.renderEmojiCue():null,this.renderEmojiPopup()))}}fe.contextTypes={executeAction:a.a.func.isRequired,intl:i.i.isRequired};var Se=fe,Ae=s(593),Te=s.n(Ae);s(8);const Ce=d.cb.Status,Oe={bullet:"insertunorderedlist",number:"insertorderedlist",left:"justifyleft",center:"justifycenter",right:"justifyright"},Re=Object(i.h)({bold_icon_label:{id:"compose.bold_icon_label",defaultMessage:"Make selection bold"},italic_icon_label:{id:"compose.italic_icon_label",defaultMessage:"Make selection italic"},link_icon_label:{id:"compose.link_icon_label",defaultMessage:"Make selection a hyperlink"},richtext_icon_label:{id:"compose.richtext_icon_label",defaultMessage:"Switch to rich text mode"},bold:{id:"compose.bold",defaultMessage:"Bold"},italic:{id:"compose.italic",defaultMessage:"Italic"},link:{id:"compose.link",defaultMessage:"Link"},richtext:{id:"compose.richtext",defaultMessage:"Switch to rich text mode"},select_more_tools:{id:"compose.select_more_tools",defaultMessage:"More options"},delete_draft:{id:"compose.delete_draft",defaultMessage:"Delete this draft"},send_button_title:{id:"compose.send_button_title",defaultMessage:"Send this email"}});class Ne extends o.a.Component{constructor(...e){var t;return t=super(...e),this._getToolbarStyle=(()=>{const e={};return this.props.fixed&&this.props.width&&(e.maxWidth=`${this.props.width-v.HORIZONTAL_PADDING}px`),e}),this._renderToolbarPlaceholder=(e=>o.a.createElement("div",{className:e.toolbarPlaceholder,"data-test-id":"compose-toolbar-placeholder"})),this._renderRichTextOff=((e,t)=>o.a.createElement("span",{className:e.icon},o.a.createElement(p.a,{"data-test-id":"richtext-on",onClick:this.onMoreMenuChange.bind(this,"richtext"),title:t(Re.richtext),"aria-label":t(Re.richtext_icon_label),kind:_.b.RICHTEXT_ON,size:_.d.XS}))),this.getToolbarBoundingRect=(()=>this.toolbar?this.toolbar.getBoundingClientRect():{}),this._renderRichTextOn=((e,t,s,n)=>{const{foreColor:a,backgroundColor:r,fontSize:i,fontFamily:c}=this.getFormatState();return s?o.a.createElement("div",{className:e.formattingTools},o.a.createElement("span",{className:e.menuIcon},o.a.createElement(W,{onChange:this.onMoreMenuChange,onHandleChange:this.handleChange,tooltip:t(Re.select_more_tools),focusBackEditor:this.props.focusOnEditor,showPlainTextToggle:n,onMenuShow:this.props.onMoreMenuClick,onAddLink:this.onAddLink,onClickBold:this.onClickBold,onClickItalic:this.onClickItalic,onChooseColor:this.chooseColor,onChooseFont:this.chooseFont,foreColor:a,backgroundColor:r,fontSize:i,fontFamily:c,toolbar:this}))):o.a.createElement("div",{className:e.formattingTools},o.a.createElement("span",{className:e.icon},o.a.createElement(p.a,{onClick:this.onAddLink,title:t(Re.link),"aria-label":t(Re.link_icon_label),kind:_.b.LINK,size:_.d.XS})),o.a.createElement("span",{className:e.icon},o.a.createElement(p.a,{onClick:this.onClickBold,title:t(Re.bold),"aria-label":t(Re.bold_icon_label),kind:_.b.BOLD,size:_.d.XS})),o.a.createElement("span",{className:e.icon},o.a.createElement(p.a,{onClick:this.onClickItalic,title:t(Re.italic),"aria-label":t(Re.italic_icon_label),kind:_.b.ITALIC,size:_.d.XS})),o.a.createElement("span",{className:e.menuIcon},o.a.createElement(G.a,{selectedFGColor:a,selectedBGColor:r,onFGColorChange:this.chooseColor.bind(this,"forecolor"),onBGColorChange:this.chooseColor.bind(this,"backcolor"),focusBackEditor:this.props.focusOnEditor})),o.a.createElement("span",{className:e.menuIcon},o.a.createElement(j,{selectedFontSize:i,selectedFontFamily:c,onFontSizeChange:this.chooseFont.bind(this,"fontsize"),onFontFamilyChange:this.chooseFont.bind(this,"fontname"),focusBackEditor:this.props.focusOnEditor})),o.a.createElement("span",{className:e.menuIcon},o.a.createElement(R,{onChange:this.onMoreMenuChange,tooltip:t(Re.select_more_tools),focusBackEditor:this.props.focusOnEditor,showPlainTextToggle:n,onMenuShow:this.props.onMoreMenuClick})))}),this.onThemeChange=((e,t)=>this.handleChange(v.ToolbarActions.UPDATE_STATIONERY,{data:e,i13nModel:t})),this.onAddLink=(e=>{this.handleChange("createlink",{data:e,i13nModel:{mKey:te.e.COMPOSE_ADD_LINK,sec:te.g.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}}})}),this.onClickBold=(e=>{this.handleChange("bold",{data:e,i13nModel:{mKey:te.e.COMPOSE_BOLD,sec:te.g.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}}}),this.props.focusOnEditor()}),this.onClickItalic=(e=>{this.handleChange("italic",{data:e,i13nModel:{mKey:te.e.COMPOSE_ITALIC,sec:te.g.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}}}),this.props.focusOnEditor()}),this.chooseColor=((e,t)=>{this.handleChange(e,{data:t,i13nModel:{mKey:te.e.COMPOSE_CHOOSE_COLOR,sec:te.g.RTE_TOOLBAR,actionData:{color:t,isFreshCompose:this.props.isFreshCompose}}})}),this.chooseFont=((e,t)=>{let s={size:t};"fontname"===e&&(s={font:t});const n={mKey:te.e.COMPOSE_CHOOSE_FONT,sec:te.g.RTE_TOOLBAR,actionData:babelHelpers.extends({},s,{isFreshCompose:this.props.isFreshCompose})};this.handleChange(e,{data:t,i13nModel:n})}),this.onMoreMenuChange=((e,t)=>{let s=te.e.COMPOSE_OPEN_MORE_MENU,n="";switch(e){case"bullet":s=te.e.COMPOSE_CHOOSE_LIST_TYPE,n="unordrd";break;case"number":s=te.e.COMPOSE_CHOOSE_LIST_TYPE,n="ordrd";break;case"left":s=te.e.COMPOSE_ALIGN_TEXT,n="lft";break;case"right":s=te.e.COMPOSE_ALIGN_TEXT,n="rght";break;case"center":s=te.e.COMPOSE_ALIGN_TEXT,n="cntr";break;case"strikeThrough":s=te.e.COMPOSE_STRIKETHROUGH_TEXT,n="strikethrough"}this.handleChange(e,{data:t,i13nModel:{mKey:s,sec:te.g.RTE_TOOLBAR,actionData:{setTo:n,isFreshCompose:this.props.isFreshCompose}}})}),this.handleChange=((e,t)=>{this.props.onExecuteAction(Oe[e]||e,t)}),this.getFormatState=(()=>Object.assign({foreColor:G.a.DEFAULTS.FG_COLOR,backgroundColor:G.a.DEFAULTS.BG_COLOR,fontSize:"0",fontFamily:""},this.props.formatState)),t}render(){const{disabled:e,draftStatus:t,fixed:s,kind:n,showPlainTextMode:a,stationeryEnabled:r,gifFinderEnabled:c,uploadEnabled:d,emojiEnabled:u,width:m,stationeryRestrictedThemes:h,useRichText:E}=this.props,g=f()(Te.a,{kind:n,fixed:s,disabled:e}),{formatMessage:b}=this.context.intl,I=this._getToolbarStyle(),S=E&&r,A=E&&c,T=E&&u,C=d||S,O=m<v.COMPOSE_MIN_WIDTH;return o.a.createElement("div",{"data-test-id":"compose-toolbar",ref:e=>this.toolbar=e},o.a.createElement("div",{"data-test-id":"compose-toolbar-styler",className:g.composeToolbar,style:I},this.props.showSendButton?o.a.createElement(l.a,{"data-test-id":"compose-send-button",className:g.sendButton,disabled:t===Ce.SENDING||this.props.disabled,onClick:this.handleChange.bind(this,v.ToolbarActions.SEND),title:b(Re.send_button_title)},o.a.createElement(i.c,{id:"compose.send_button_label",defaultMessage:"Send"})):null,d?o.a.createElement("span",{className:g.icon+" "+g.rtlRawScaleX},o.a.createElement(X,{onFileSelect:this.handleChange.bind(this,v.ToolbarActions.FILE_SELECT)})):null,A?o.a.createElement("span",{className:g.menuIcon},o.a.createElement(me,{onGifClick:this.props.onGifClick,focusBackEditor:this.props.focusOnEditor,left:this.props.left,width:this.props.width,csid:this.props.csid,getToolbarBoundingRect:this.getToolbarBoundingRect,showGIFPicker:this.props.showGIFPicker})):null,S?o.a.createElement("span",{className:g.menuIcon+" "+g.rtlRawScaleX},o.a.createElement(Q.a,{"data-test-id":"stationery-button",getToolbarBoundingRect:this.getToolbarBoundingRect,onThemeChange:this.onThemeChange,focusBackEditor:this.props.focusOnEditor,stationeryDefaultTheme:this.props.stationeryDefaultTheme,stationeryTheme:this.props.stationeryTheme,stationeryCategory:this.props.stationeryCategory,stationeryCategoriesToShow:this.props.stationeryCategoriesToShow,showStationeryCue:this.props.showStationeryCue,stationeryRestrictedThemes:h,rtl:this.props.rtl,showStationeryPicker:!e&&this.props.showStationeryPicker,showStationeryDefaultTheme:this.props.showStationeryDefaultTheme,showStationeryThemeCategories:this.props.showStationeryThemeCategories,showStationerySetDefault:this.props.showStationerySetDefault,toolbarKind:this.props.kind})):null,T?o.a.createElement("span",{className:g.menuIcon},o.a.createElement(Se,{showEmojiCue:this.props.showEmojiCue,focusBackEditor:this.props.focusOnEditor,left:this.props.left,onEmojiClick:this.props.addEmoji})):null,C?o.a.createElement("span",{"data-test-id":"section-divider-contentSection",className:g.sectionDivider}):null,E?this._renderRichTextOn(g,b,O,a):this._renderRichTextOff(g,b),o.a.createElement("span",{className:g.spacer}),t===Ce.SAVED||t===Ce.SAVED_PARTIAL||t===Ce.SAVING?o.a.createElement("span",{role:"status","data-test-id":"status",className:g.status},o.a.createElement(i.c,t===Ce.SAVING?{id:"compose.draft_saving_status",defaultMessage:"Saving"}:{id:"compose.draft_save_success_status",defaultMessage:"Saved"})):null,this.props.showDeleteButton?o.a.createElement("span",{className:g.deleteButton},o.a.createElement(p.a,{onClick:this.handleChange.bind(null,v.ToolbarActions.DELETE_DRAFT),title:b(Re.delete_draft),"aria-label":b(Re.delete_draft),kind:_.b.DELETE,size:_.d.XS,colorState:_.a.INHERITED,className:g.trashIcon})):null),this.props.fixed&&this._renderToolbarPlaceholder(g))}}Ne.contextTypes={intl:i.i.isRequired},Ne.defaultProps={uploadEnabled:!0,showDeleteButton:!0,showSendButton:!0,showPlainTextMode:!0,kind:v.ToolbarTypes.COMPOSE,fixed:!1,disabled:!1,onGifClick:()=>{},stationeryEnabled:!1,useRichText:!0,isFreshCompose:!0};t.a=Object(c.b)((e,{getDraftStatus:t})=>{return{draftStatus:t?t():void 0}})(Ne)},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(371),c=s.n(i),l=s(4),d=s(13),u=(s(37),s(184)),m=s(20),p=s(56),_=s(22),h=s(3),E=s(14),g=s(19);var b=s(149),I=s(130),f=s(8);const S=Object(f.c)(["FORM","PASSWORD"]),A="Remember: {brand} will NEVER ask you for your password in an unsolicited phone call or an unsolicited email.",T=`\n    You are about to enter a password in a form that will not be sent to {brand}!.\n    ${A}\n`,C=`\n    You are about to send information to someone other than {brand}.\n    If you do not want anyone outside of {brand} to have this information, click "Cancel" now.\n    ${A}\n`,O=Object(l.h)({warning:{id:"message_pane.warning_title",defaultMessage:"Warning"}});class R extends o.a.Component{constructor(...e){var t;return t=super(...e),this.hidePasswordWarning=(e=>{this.props.onDialogClose(),e.warningShown=!0}),this.submitForm=(e=>{this.props.onDialogClose(),e&&"FORM"===e.nodeName&&e.submit&&HTMLFormElement.prototype.submit.call(e)}),t}shouldComponentUpdate({warningType:e,targetElement:t}){const{warningType:s,targetElement:n}=this.props;return e!==s||t!==n}render(){const{formatMessage:e}=this.context.intl,t=e(O.warning),{warningType:s,targetElement:n,onDialogClose:a}=this.props,r=o.a.createElement(l.c,{id:"message_pane.password_warning",defaultMessage:T,values:{brand:"Yahoo"}}),i=o.a.createElement(l.c,{id:"message_pane.form_warning",defaultMessage:C,values:{brand:"Yahoo"}});switch(s){case S.FORM:return o.a.createElement(I.a,{title:t,message:i,onAbort:a,onConfirm:this.submitForm.bind(this,n)});case S.PASSWORD:return o.a.createElement(b.a,{title:t,message:r,onAccept:this.hidePasswordWarning.bind(this,n)});default:return null}}}R.contextTypes={intl:l.i.isRequired};var N=R;const M=/^\s*mailto:/i;class D extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={warningType:null},this._isYahooUrl=(e=>{const t=document.createElement("a");t.setAttribute("href",e);return/\.yahoo\.com$/i.test(t.hostname)}),this._handleFormWarning=(e=>{const t=e.target;if(!this._isYahooUrl(t.action))return e.preventDefault(),e.stopPropagation(),this.setState({warningType:S.FORM,targetElement:t}),!1}),this._handlePasswordWarning=(e=>{const{target:t}=e,{tagName:s,type:n,warningShown:a}=t;if("INPUT"===s&&"password"===n&&!a)return this.setState({warningType:S.PASSWORD,targetElement:t}),!1}),this.handleKeyDown=(e=>{e.stopPropagation()}),this.handleBodyClick=(e=>{let{target:t}=e;do{if("A"===t.nodeName){if(t.hasAttribute("ymailto")||t.href&&M.test(t.href)){e.preventDefault(),e.stopPropagation();const s=t.getAttribute("ymailto")||t.href;return void this.props.onMailtoClick(s)}if(t.hasAttribute("href"))return t.setAttribute("rel","noreferrer"),void this.props.onHrefLinkClick(t)}}while(t.parentElement!==this.wrapper&&(t=t.parentElement))}),this.handleDialogClose=(()=>{this.setState({warningType:null,targetElement:null})}),t}componentDidMount(){const e=this.messageBody;e&&(e.addEventListener("submit",this._handleFormWarning,!0),e.addEventListener("focus",this._handlePasswordWarning,!0),function(e,t=[]){Object(g.a)("function"==typeof e.querySelectorAll,"#fixImageSrc: Expect container to be a html element"),[].forEach.call(e.querySelectorAll('img[src^="cid://"]'),e=>{const s="<"+e.src.slice("cid://".length)+">",n=t.find(e=>e.contentId===s);n&&(e.src=n.downloadUrl,e.setAttribute("data-id",n.dataId||e.dataset.id))})}(e,this.props.attachments))}componentWillUnmount(){const e=this.messageBody;e&&(e.removeEventListener("submit",this._handleFormWarning,!0),e.removeEventListener("focus",this._handlePasswordWarning,!0))}render(){const{warningType:e,targetElement:t}=this.state,s=this.props.dangerouslySetInnerHTML.__html;return o.a.createElement("div",{className:this.props.className,onKeyDown:this.handleKeyDown,ref:e=>this.wrapper=e},e?o.a.createElement(N,{warningType:e,targetElement:t,onDialogClose:this.handleDialogClose}):null,o.a.createElement("div",{ref:e=>this.messageBody=e,onClickCapture:this.handleBodyClick,dangerouslySetInnerHTML:{__html:s}}))}}D.contextTypes={config:a.a.object},D.defaultProps={className:"",onHrefLinkClick:E.a,onMailtoClick:E.a,attachments:[]};var y=D,L=s(9),v=s(11),P=s.n(v),F=s(284),x=s.n(F),w=s(17),k=s(30),H=s(15);const U=P()(x.a),j=Object(l.h)({blockedImageMessageTitle:{id:"blocked_image_banner.message",defaultMessage:"This message contains blocked images."}}),G=({onShowImages:e,onChangeImageSetting:t,isSpamFolder:s},{intl:n})=>{const a=n.formatMessage(j.blockedImageMessageTitle);return o.a.createElement("div",{className:U.container,"data-test-id":"blocked-image-banner"},o.a.createElement(H.b,{size:h.d.XS,kind:h.b.ATTACH_IMAGE_48,colorState:h.a.COOL_FAINT}),o.a.createElement("div",null,o.a.createElement("p",{title:a,className:U.message},a),o.a.createElement("div",{className:U.buttonsContent},o.a.createElement(w.a,{kind:k.a.CHROMELESS,onClick:e},o.a.createElement("span",{"data-test-id":"show-image-button",className:U.button},o.a.createElement(l.c,{id:"blocked_image_banner.show_images",defaultMessage:"Show images"}))),s?null:o.a.createElement("div",null,o.a.createElement(l.c,{id:"blocked_image_banner.or_text",defaultMessage:"or"}),o.a.createElement(w.a,{kind:k.a.CHROMELESS,onClick:t},o.a.createElement("span",{"data-test-id":"always-show-image-button",className:U.button},o.a.createElement(l.c,{id:"blocked_image_banner.change_setting",defaultMessage:"Always show images"})))))))};G.contextTypes={intl:l.i.isRequired};var B=G,V=s(16),W=s(0);const q=P()(x.a),z=e=>{e({route:Object(V.u)({settingsGroupId:W.qd.VIEWING_EMAIL})})},Z=(e,{navigateTo:t})=>o.a.createElement("div",{className:q.container,"data-test-id":"pac-notification-banner"},o.a.createElement(H.b,{size:h.d.XS,kind:h.b.TRUSTED,colorState:h.a.SUCCESS}),o.a.createElement("p",{className:q.message},o.a.createElement(l.c,{id:"externalImage.message",defaultMessage:"External images are now more secure, and shown by default."}))," ",o.a.createElement(w.a,{"data-test-id":"change-settings-button",kind:k.a.CHROMELESS,onClick:z.bind(null,t)},o.a.createElement("span",{className:q.primaryButton},o.a.createElement(l.c,{id:"externalImage.change_accept",defaultMessage:"Change in Settings"}))));Z.contextTypes={navigateTo:a.a.func.isRequired};var K=Z,Y=s(109),X=s(5),$=s(205),Q=s.n($);const J=/<img .*\/?>/i,ee=Object(l.h)({hideQuote:{id:"hide_quote",defaultMessage:"Hide original message"},showQuote:{id:"show_quote",defaultMessage:"Show original message"}}),te=c.a.renderToStaticMarkup(o.a.createElement("div",null,o.a.createElement(p.b,null)));class se extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={quoteExpanded:this.props.quoteExpanded||!1,mounted:!1},this._areImagesBlocked=(({htmlAnnotations:e=[]})=>e.some(({type:e})=>"blocked"===e)),this.toggleQuote=(e=>{e.preventDefault(),e.stopPropagation();const{quoteExpanded:t}=this.state,{onShowQuotedText:s,isSecure:n,hasFullBody:a}=this.props;return t||a||s({full:!0,secure:n}),this.setState({quoteExpanded:!t}),!1}),this.renderBodyContent=((e,t="")=>{const{onHrefLinkClick:s,onMailtoClick:n}=this.props;return o.a.createElement(y,{className:t,dangerouslySetInnerHTML:{__html:e},onHrefLinkClick:s,onMailtoClick:n,attachments:this.props.attachments})}),this.onLinkEnhancerUtilsLoad=(({enhanceCardsInTree:e})=>{this.enhanceCardsInTree=e,this.enhanceCards()}),this.enhanceCards=(()=>!!this.enhanceCardsInTree&&(this.enhanceCardsInTree(this.messageBody,this,this.props.onShareCard,this.props.onShareCardLinkClick,this.context.intl.formatMessage),!0)),t}componentDidMount(){this.setState({mounted:!0});const{showPACNotification:e,body:t,pacNotificationCueShown:s,updatePacNotificationCue:n}=this.props;e&&!s&&J.test(t.html)&&n({name:"pacNotificationCue",i13nModel:{sec:X.g.FEATURE_CUE,mKey:"cue_pacNotificationCue_invoke"}})}componentDidUpdate(e,t){this.props.body.html===e.body.html&&this.state.quoteExpanded===t.quoteExpanded||this.enhanceCards()}render(){const{quoteExpanded:e}=this.state,{onShowImages:t,onChangeImageSetting:n,renderAttachments:a,removeCollapseButton:r,body:i,hasFullBody:c,isSpamFolder:l,showPACNotification:d,printView:p}=this.props,E=P()(Q.a,{printView:p}),g=!!this.props.linkEnhancerEnabled,b=this._areImagesBlocked(i)||d&&J.test(i.html),I=Object(u.b)(i.html,i.htmlAnnotations,e);let{messageBelow:f}=I;const{messageAbove:S,expandable:A}=I,T=this.context.intl.formatMessage(e?ee.hideQuote:ee.showQuote),C=E.leftRightPadding;return!c&&e&&(f=te),o.a.createElement("div",{"data-test-id":"message-view-body"},b&&o.a.createElement("div",{className:E.blockedImageBanner},!d||l?o.a.createElement(B,{onChangeImageSetting:n,onShowImages:t.bind(null,{secure:!1,full:c}),isSpamFolder:l}):o.a.createElement(K,{onChangeImageSetting:n,cueName:"pacNotification"})),o.a.createElement("div",{ref:e=>this.messageBody=e,className:"msg-body "+E.bodyContainer,"data-test-id":"message-view-body-content"},this.renderBodyContent(S,C),!r&&A&&o.a.createElement("div",{className:C},o.a.createElement(_.a,{"data-norrin-quoted-button":!0,className:E.button,kind:h.b.CHEVRON_UP,size:h.d.XS,rotate:e?h.c.D180:h.c.D90,colorState:h.a.DISABLED,title:T,onClick:this.toggleQuote},T)),""!==f&&o.a.createElement("div",{className:C},this.renderBodyContent(f))),a?o.a.createElement("div",{className:C},a()):null,g?o.a.createElement(m.a,{import:"../../../platform/link_enhancer/utils_loader.jsx",onLoad:this.onLinkEnhancerUtilsLoad,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,950))},_moduleResolver:function(){return 950}}):null)}}se.contextTypes={intl:l.i.isRequired},se.defaultProps={onShowImages:E.a,onShowQuotedText:E.a,onChangeImageSetting:E.a};t.a=Object(d.b)((e,t)=>{const{doesMessageBodyExist:s,getMessageBodiesSelectors:n,getFeaturesSelectors:a,getFoldersSelectors:r,findUnsyncedDataByCsid:o,isSendRequested:i,doesComposeSessionExist:c,getFeatureCueSelectors:l}=Object(L.b)(e);let d;const{csid:u,folderId:m}=t,{isSpamFolder:p}=r(),_=a(),h=n(),E=_.isEnabled(W.mb.CONVERSATIONS),g=_.isEnabled(W.nd.SHOW_IMAGES),b=!E||h.hasFullBody(t.messageId),I=h.isSecureMessage(t.messageId),f=_.isEnabled("linkEnhancer"),S=!g&&_.isEnabled(W.mb.INLINE_IMAGES_PROXIED),A=l().isShown("pacNotificationCue");if(u&&c(u)&&i(u)){const{html:e,htmlAnnotations:t}=o(u)||{};d={html:e,htmlAnnotations:t}}else d=s(t.messageId)?h.get(t.messageId):void 0;return{body:d,isSecure:I,hasFullBody:b,linkEnhancerEnabled:f,showPACNotification:S,pacNotificationCueShown:A,isSpamFolder:p(m)}},e=>({updatePacNotificationCue:t=>e(Object(Y.g)(t))}))(se)},function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"d",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"e",function(){return c}),s.d(t,"b",function(){return l});var n=s(0);const a={FOLDERS:"in",FROM:"from",TO:"to",SUBJECT:"subject",BEFORE:"before",AFTER:"after",HAS:"has",ATTACHMENT_TYPE:"attachmenttype"},r={ATTACHMENT:"attachment",PHOTO:"image",CALENDAR_INVITE:"calendar"};function o(e=""){return(e.match(/([a-z]*:"[^"]*")|([a-z]*:[^\s]*)/g)||[]).reduce((e,t)=>{const[,s,n]=t.match(/^([a-z]*):(.*)$/);return Object.assign(e,{[s]:[...e[s]||[],n]})},{})}function i(e,t="",s=!1){const n=new RegExp(`(${e}:"[^"]*")|(${e}:[^\\s]*)`,"g");return s?t.replace(n,""):t.replace(n,"").trim()}function c(e,t=!1){if(!e)return{};const s=o(e),c={};let l=e;["FOLDERS","FROM","TO","SUBJECT","AFTER","BEFORE"].forEach(e=>{const r=a[e],o=s[r]||[];1===o.length&&(c[n.n[e]]="BEFORE"===e||"AFTER"===e?o[0].replace(/"/g,""):o[0],l=i(r,l,t))});const d=s[a.HAS]||[];return["ATTACHMENT","PHOTO"].forEach(e=>{c[n.n[e]]=-1!==d.indexOf(r[e]),l=l.replace(`${a.HAS}:${r[e]}`,"")}),c[n.n.CALENDAR_INVITE]=-1!==(s[a.ATTACHMENT_TYPE]||[]).indexOf(r.CALENDAR_INVITE),(l=(l=l.replace(`${a.ATTACHMENT_TYPE}:${r.CALENDAR_INVITE}`,"")).replace(new RegExp("^\\s*"),"")).trim()&&(c[n.n.KEYWORD]=l),c}function l(e){const t=[],s=e[n.n.FOLDERS],o=e[n.n.FROM],i=e[n.n.TO],c=e[n.n.SUBJECT],l=e[n.n.KEYWORD],d=e[n.n.BEFORE],u=e[n.n.AFTER],m=e[n.n.ATTACHMENT],p=e[n.n.PHOTO],_=e[n.n.CALENDAR_INVITE];return s&&t.push(`${a.FOLDERS}:${s}`),o&&t.push(`${a.FROM}:${o}`),i&&t.push(`${a.TO}:${i}`),c&&t.push(`${a.SUBJECT}:${c}`),m&&t.push(`${a.HAS}:${r.ATTACHMENT}`),p&&t.push(`${a.HAS}:${r.PHOTO}`),_&&t.push(`${a.ATTACHMENT_TYPE}:${r.CALENDAR_INVITE}`),u&&t.push(`${a.AFTER}:"${u}"`),d&&t.push(`${a.BEFORE}:"${d}"`),l&&t.push(l),t.join(" ")}},,,function(e,t,s){"use strict";s.d(t,"b",function(){return N}),s.d(t,"a",function(){return D});var n=s(0),a=s(7),r=s(33),o=s(8),i=s(9),c=s(2),l=s(46),d=s(14),u=s(70),m=s(16);const p="cmps",_="cmpsThrd",h="msgRd",E="msgLst",g="contacts",b="sttgs",I="sttgs_per",f="trvLst",S="tutrl",A={[n.qd.PERSONALIZE_INBOX]:I,[n.qd.ACCOUNTS]:"sttgs_accnt",[n.qd.NOTIFICATIONS]:"sttgs_not",[n.qd.WRITING_EMAIL]:"sttgs_write",[n.qd.VIEWING_EMAIL]:"sttgs_view",[n.qd.AUTOMATIC_REPLY]:"sttgs_rply",[n.qd.FILTERS]:"sttgs_fltr",[n.qd.SECURITY_AND_PRIVACY]:"sttgs_sec",[n.qd.ENCRYPTION]:"sttgs_crypt",[n.qd.SOCIAL_ACCOUNTS]:"sttgs_sclaccnt",[n.qd.MAIL_PRO]:"sttgs_mpro"},T=(e,t)=>{let s;const{getSelectedAccountId:a,getAccountSelectors:r,getFeaturesSelectors:o}=e,{getAccountById:i,getImapInAccounts:c,getPrimaryAccount:u,userHasRegisteredAccount:m}=r(),{getSetting:p,isEnabled:_}=o(),h=_(n.nd.MAIL_TABS),E=p(n.nd.PREVIEW_PANE),g=p(n.nd.THEME),b=p(n.nd.THEME_MODE),I=u()||{},f=m()?i(a())||{}:I,S=c().length,A=Object(l.e)(f),{domainPart:T}=Object(d.d)(f.email||""),C=f.type===n.g.FREE?"PRIMARY":f.type,O=_(n.mb.SHOULD_SW_SUBSCRIBE);switch(I.type){case n.g.PHONE:s="phReg";break;case n.g.EXTERNAL:s="usReg";break;default:s=""}return{tabs:h,prvwpan:E,vwCntxt:t,acctDomain:T,acctType:C,impn:S,theme:`${g}-${b}`,prvdr:A,regType:s,pshNtfctnsSbscrbd:O}},C=(e,t)=>{const s=Object(a.t)(e),r=Object(a.q)(s),o=Object(a.r)(s),i=Object(a.K)(s),c=Object(a.G)(s),l=Object(u.e)(s);if(e.name===n.Uc.MESSAGE_FROM_SEARCH_LIST||e.name===n.Uc.MESSAGE_FROM_LIST)return t.messageViewTabPane;if(i)switch(r){case n.Fb.IMAGES:return t.photosSmartviewSearch;case n.Fb.DOCUMENTS:return t.documentsSmartviewSearch;case n.Fb.COUPON_CARDS:case n.Fb.YAHOO_DEAL_CARDS:return t.couponsSmartview;case n.Fb.GROCERY_STORES:return t.groceriesSmartview;case n.Fb.TRAVEL_CARDS:return o===n.Gb.TRAVEL_VIEW_UPCOMING?t.travelUpcoming:t.travelPast;default:return l?t.travelEmails:t.messageSmartviewSearch}return c?t.searchPeople:t.searchKeyword},O=e=>{const t=Object(a.t)(e);return Object(a.G)(t)?r.b.SEARCH_PEOPLE:Object(a.K)(t)?r.b.SEARCH_SMARTVIEW:r.b.SEARCH_KEYWORD},R=e=>{const t=Object(a.t)(e);return Object(a.q)(t)===n.Fb.TRAVEL_CARDS?f:E},N=(e,t=!1)=>{const{getAction:s,getRoute:l,getSetting:d,getFoldersSelectors:u}=Object(i.b)(e),m=s(),f=l(),T=Object(a.t)(f),N=d(n.nd.SPACE_IDS),{getPrimaryFolderTypeByFolderId:M,doesFolderIdExist:D}=u(),y=Object(a.m)(T),L=D(y)?M(y):n.ub.INBOX;let v;switch(f.name){case n.Uc.PHOTO:case n.Uc.SEARCH:v={spaceId:C(f,N),activeViewType:E,activeFolderType:O(f)};break;case n.Uc.MESSAGE_FROM_SEARCH_LIST:case n.Uc.MESSAGE_FROM_LIST:v={spaceId:C(f,N),activeViewType:h,activeFolderType:O(f)};break;case n.Uc.LIST:v={spaceId:C(f,N),activeViewType:R(f),activeFolderType:O(f)};break;case n.Uc.BASE:case n.Uc.EDIT_FOLDER:case n.Uc.FOLDER:{const e={[n.ub.INBOX]:N.folderViewInbox,[n.ub.DRAFT]:N.folderViewDrafts,[n.ub.SENT]:N.folderViewSent,[n.ub.ARCHIVE]:N.folderViewArchive,[n.ub.TRASH]:N.folderViewTrash,[n.ub.BULK]:N.folderViewSpam,[n.ub.USER]:N.folderViewCustom};v={spaceId:t?N.launchFolder:e[L]||N.folderViewCustom,activeViewType:E,activeFolderType:r.b[L]||r.b.USER};break}case n.Uc.NEW_DRAFT:case n.Uc.EDIT_DRAFT:v={spaceId:t?N.launchCompose:N.composeNew,activeViewType:p,activeFolderType:r.b[L]||r.b.USER};break;case n.Uc.MESSAGE_FROM_FOLDER_LIST:{const e=f.params&&f.params.attachmentId?N.attachment:N.messageViewTabPane;v={spaceId:t?N.launchMessage:e,activeViewType:h,activeFolderType:r.b[L]||r.b.USER};break}case n.Uc.TUTORIAL:v={spaceId:N.tutorial,activeViewType:S,activeFolderType:r.b.INBOX};break;case n.Uc.SETTINGS:v={spaceId:N.settings,activeViewType:A[Object(o.a)(f,"params.settingsGroupId")]||I,activeFolderType:r.b.INBOX};break;case n.Uc.SIGNATURES_FROM_SETTINGS:case n.Uc.THEME_CHOOSER:case n.Uc.ACCOUNT_LIST_FROM_SETTINGS:case n.Uc.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST:case n.Uc.ADD_ACCOUNT_PROVIDER:case n.Uc.BLOCKED_SENDERS:v={spaceId:N.settings,activeViewType:b,activeFolderType:""};break;case n.Uc.CONTACTS:case n.Uc.CONTACT_DETAILS:case n.Uc.CONTACT_DETAILS_FROM_SEARCH:case n.Uc.EDIT_CONTACT:case n.Uc.EDIT_CONTACT_FROM_SEARCH:case n.Uc.CREATE_CONTACT:v={spaceId:N.contacts,activeFolderType:"",activeViewType:g};break;case n.Uc.SPONSORED_MESSAGE:v={spaceId:N.root,activeFolderType:"",activeViewType:""}}switch(d(n.nd.PREVIEW_PANE)===n.Gc.NO||f.name!==n.Uc.FOLDER&&f.name!==n.Uc.SEARCH&&f.name!==n.Uc.LIST||Object(a.q)(T)!==n.Fb.MESSAGES||Object(a.K)(T)||(v.activeViewType=E,v.spaceId=N.messageViewReadingPane),m.type){case c.Yg:v.activeViewType=E;break;case c.Rf:v.activeViewType=_}return v},M=({activeViewType:e,activeFolderType:t},s)=>s?e:`${e}_${t||r.b.INBOX}`,D=()=>{let e={},t={},s=0;return(r,{browserLoggerParams:o})=>{const l=Object(i.b)(r),{getRoute:d,getAction:u,doesStreamExist:p,getCursorItem:_,getSetting:h,getSelectedMailboxId:E,getMainStreamListIds:g,isListUpdatedAndEmpty:b}=l,I=d(),f=u(),S=!g(d()).some(e=>{const t=Object(a.q)(e);return t!==n.Fb.MESSAGES&&t!==n.Fb.TRAVEL_CARDS||!b(e)}),A=Object(m.D)(I,t),C=-1!==[c.Oe,c.Qe,c.Yg,c.Rf].indexOf(f.type);let O;if(A||(s=0),f.streamId&&p(f.streamId)&&h(n.nd.PREVIEW_PANE)!==n.Gc.NO&&(I.name===n.Uc.FOLDER||I.name===n.Uc.SEARCH||I.name===n.Uc.LIST)){const t=_(f.streamId);!t||t.id===e.id&&t.listId===e.listId||Object(a.q)(t.listId)!==n.Fb.MESSAGES?t||(e={}):(e=t,O=N(r))}else if(E()&&!A){const e=!t.name;t=I,s=S?f.actionTimestamp:s,O=N(r,e)}else C?O=N(r):A&&S&&!s?(O=N(r),s=f.actionTimestamp):f.type===c.Wd&&f.name===n.mb.LANDSHARK_CUE?O={spaceId:n.yb}:f.type===c.Sd&&f.name===n.mb.LANDSHARK_CUE&&"download_button"!==f.i13nModel.mKey&&(O=N(r));return O?babelHelpers.extends({},O,{pageParams:Object.assign({},T(l,M(O,I.name===n.Uc.SETTINGS)),o)}):{}}}},function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"b",function(){return i});var n=s(2),a=s(9),r=s(0);const o=35e3;function i(e,{csid:t,listId:s,messageIds:o,messageGroupIds:i,permanent:c,streamId:l,streamItem:d,i13nModel:u}){e.dispatch(n.ed,{i13nModel:u,listId:s,streamId:l,streamItem:d,isV2Action:!0,destinationFolderType:r.ub.TRASH,messageIds:o,fromMessageGroupView:!0,messageGroupIds:i,permanent:c,csid:t,triageActionType:r.Vd.DELETE_DRAFT});const{getState:m}=e.store,p=Object(a.b)(m()),{getFeaturesSelectors:_}=p;return _().isEnabled(r.mb.UPDATE_ITEMS_V3)?Promise.resolve():1===o.length?e.mailAPIClient.request("messages.delete",{messageIds:o}).then(()=>{e.dispatch(n.Zc,{messageIds:o})}).catch(t=>{e.dispatch(n.Yc,{messageIds:o,error:t})}):void 0}},function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"c",function(){return r}),s.d(t,"a",function(){return o});var n=s(2);const a=e=>babelHelpers.extends({type:n.te},e),r=({latlong:e="",updateBusinessListingForEmail:t=""})=>({type:n.ue,latlong:e,updateBusinessListingForEmail:t}),o=e=>({type:n.se,error:e})},function(e,t,s){"use strict";s.d(t,"a",function(){return i});var n=s(273),a=s(169),r=s.n(a);const o="tz";class i extends n.a{constructor(e,t=86400,s){super(e,"YM.TZ",{TTL:t,path:s})}determineClientTimeZone(){const e=r.a.determine(),t=e&&e.name();t&&this.set({[o]:t})}getClientTimeZone(){const e=this.get();return e&&e[o]?String(e[o]):""}}},function(e,t,s){"use strict";s.d(t,"a",function(){return r});var n=s(0);const a={[n.r.MAIL_APP]:n.V,[n.r.BASIC_MAIL_APP]:n.w,[n.r.MOBILE_APP]:n.Ub};class r{constructor(e={},t,{TTL:s=180,path:r}={}){let o;if(s&&(o=new Date).setTime(o.getTime()+1e3*s),this.cookieName=t,e.res&&e.req&&e.req.cookies&&e.res.cookie)this._set=this._serverSet,this._get=this._serverGet,r=r||a[e.req.APP_NAME];else if(e.window&&e.window.document&&"string"==typeof e.window.document.cookie){this._set=this._browserSet,this._get=this._browserGet;const t=e.window.AppBootstrapData&&e.window.AppBootstrapData.appName;r=r||a[t]}else this._set=(()=>null),this._get=(()=>null);this.io={req:e.req,res:e.res,window:e.window,cookieName:t,expires:o,path:r||n.V}}_serverSet(e){const{req:t,res:s,cookieName:n,expires:a=0,path:r}=this.io,o=Object.assign(t.cookies[n]||{},e);s.headersSent||s.cookie(n,o,{path:r,expires:a})}_serverGet(){const{req:e,cookieName:t}=this.io;return e.cookies[t]}_browserSet(e){const{cookieName:t,expires:s=null,path:n,window:a}=this.io,r=this._browserGet({window:a,cookieName:t}),o=Object.assign(r,e),i=`j:${JSON.stringify(o)}`;a.document.cookie=t+"="+encodeURIComponent(i)+`;path=${n};expires=${s&&s.toGMTString()}`}_browserGet(){const{window:e,cookieName:t}=this.io,s=e.document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)"),n=decodeURIComponent(s?s[2]:"j:{}");if(0===n.indexOf("j:"))try{return JSON.parse(n.substr(2))}catch(e){return{}}return{}}get(){return this._get()||{}}set(e){return this._set(e)}}},function(e,t,s){"use strict";s.d(t,"b",function(){return r}),s.d(t,"a",function(){return o});var n=s(2),a=s(0);const r=e=>e.triageActionType===a.Vd.UNDO_MOVE?babelHelpers.extends({},e,{type:n.Cj}):babelHelpers.extends({},e,{type:n.Qj}),o=e=>e.triageActionType===a.Vd.UNDO_MOVE?babelHelpers.extends({},e,{type:n.Aj}):babelHelpers.extends({},e,{type:n.Pj})},function(e,t,s){"use strict";e.exports={className:{default:{icon:"C_52qC en_0 P_3gJOe ac_FT ab_C D_F gl_C ba_6Eor",container:"k_w p_R a_3PmnJ D_F b_tw30f e_eo6",innerContainer:"D_F ab_CH ac_CH gl_C q_52qC j_1zwO34 o_h cZW7ROP_A e_dRA",content:"em_N D_F P_Z2baRGn A_6EWk i_6Mbr C_Z281SGl o_h r_BN",close:"P_C04i4 ac_CI",link:"C_Z2aVTcY",actionLink:"C_Z2aVTcY A_6EWk"},"type-NORMAL":{icon:"I_1mrWUc aw_buWz3",container:"b4_Zn2bY2"},"type-PENDING":{icon:"I_1mrWUc aw_buWz3",container:"b4_Zn2bY2"},"type-ADVISORY":{icon:"I_Z1Bab0a aw_Z1vTr7U",container:"b4_Z1Kch8e"},"type-WARNING":{icon:"I_Z9gXar aw_TD3i8",container:"b4_Zij4iv"},"type-FOWARDING_WARNING":{icon:"I_Z9gXar aw_TD3i8",content:"i_6FIA A_6EqO P_Z23bkIA",container:"b_0 E_6Fd5"}},_key:"gQ6G9"}},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(13),o=s(4),i=s(30),c=s(17),l=s(11),d=s.n(l),u=s(277),m=s.n(u),p=s(14),_=s(5);const h=d()(m.a);t.a=Object(r.b)(void 0,(e,{undoAction:t})=>({onClick:s=>e(babelHelpers.extends({},t,{i13nModel:babelHelpers.extends({mKey:_.e.UNDO_MOVE_ACTION,sec:_.g.MSG_LIST_NOTIFICATION,interactionType:Object(p.i)(s)},t.i13nModel||{})}))}))(class extends a.a.Component{constructor(...e){var t;return t=super(...e),this.undo=(e=>{this.props.onClose(),this.props.onClick(e)}),t}render(){return a.a.createElement(c.a,{"aria-hidden":!0,"data-test-id":"undo-button",kind:i.a.CHROMELESS,onClick:this.undo},a.a.createElement("span",{className:h.undo},a.a.createElement(o.c,{id:"notifications.undo",defaultMessage:"Undo"})))}})},function(e,t,s){"use strict";e.exports={className:{default:{alert:"p_f T_73HH L_0 R_0 Z_7GpC t_C jn_1HWwRx D_F gl_C cZW7ROP_n",modal:"p_f T_0 R_0 B_0 L_0 Z_3mRud q_Zjpytw",undo:"C_Z2aVTcY A_6EWk r_P"},multiTask:{alert:"T_7sfl"},bottomAlert:{alert:"B_fq7"}},_key:"20c7Gr"}},function(e,t,s){"use strict";e.exports={className:{default:{suggestionOption:"D_F P_1zJRml k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9 ab_C",keywordSuggestionOption:"D_F P_1zJRml k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9",suggestionAvatar:"W_6UbO H_6UbO E_6Eb4",personSuggestionLabel:"o_h",suggestionLabel:"J_x G_e o_h",emailAddressLabel:"J_x G_e o_h C_Z1VRpVF",keywordSuggestionLabel:"J_x G_e o_h je_6DEy",keywordSuggestionIcon:"N_6DEy E_eTB je_eTB",deleteButton:"je_6DEy Q_A"}},_key:"2mAEkn"}},function(e,t,s){"use strict";e.exports={className:{default:{properties:"D_F W_A",property:"D_F U_0 r_P E_6EGz q_n b_n P_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY ir3_1JO2M7",selectedProperty:"D_F U_0 r_P E_6EGz q_n b_n P_0 cdPFi_Z2aVTcY"},verticalLayout:{properties:"ek_BB Y_6EGz",property:"E_0 U_6EGz"},"themeMode-MEDIUM":{property:"cdPFi_2sqbRh cdPFi4_52qC ir3_Z1FS2Mn",selectedProperty:"cdPFi_52qC"},"themeMode-DARK":{property:"cdPFi_2sqbRh cdPFi4_52qC ir3_Z1FS2Mn",selectedProperty:"cdPFi_52qC"},"themeCombo-LIGHT_ATT":{selectedProperty:"cdPFi_Z1ryveK"},"themeCombo-LIGHT_FRONTIER":{selectedProperty:"cdPFi_Z1ryveK"},"themeCombo-LIGHT_ROGERS":{selectedProperty:"cdPFi_Z1ryveK"},"themeCombo-LIGHT_BT":{selectedProperty:"cdPFi_Z1ryveK"},"themeCombo-LIGHT_SKY":{selectedProperty:"cdPFi_Z1ryveK"},"themeCombo-LIGHT_SUNRISE":{selectedProperty:"cdPFi_ZmlXUP"},"themeCombo-LIGHT_AQUA_GREEN":{selectedProperty:"cdPFi_Z1UHURv"},"themeCombo-LIGHT_AQUA_BLUE":{selectedProperty:"cdPFi_Z280Xf5"},"themeCombo-LIGHT_DEEP_PURPLE":{selectedProperty:"cdPFi_Zwa5YI"},"themeCombo-LIGHT_BLUE_NIGHT":{selectedProperty:"cdPFi_Z21zYBA"},"themeCombo-LIGHT_NIGHT_LANDSCAPE":{selectedProperty:"cdPFi_Z1UEcsX"},"themeCombo-LIGHT_ROADTRIP":{selectedProperty:"cdPFi_ZrkPvI"},"themeCombo-LIGHT_SUNSET_AUSSIE":{selectedProperty:"cdPFi_ZmlXUP"},"themeCombo-LIGHT_LIGHTHOUSE":{selectedProperty:"cdPFi_Z1VDTK1"}},_key:"pHwI"}},function(e,t,s){"use strict";e.exports={className:{default:{folderTree:"hd_n P_0 M_0",folderContainer:"H_6NIX D_F ab_C ir3_1JO2M7 it3_689y",toggleFolderTree:"N_fq7 A_6DUj C_Z1VRpVF r_P C4_Z1YRXYn J_x",collapseFolders:"H_6MWH X_6DEy A_6DUj C_Z1VRpVF r_P D_F ab_C C4_Z1YRXYn ir3_1JO2M7 it3_dBP"},"indentation-INDENTATION_NONE":{folderTree:"P_0"},darkModeNonPhotoTheme:{folderContainer:"ir3_Z1FS2Mn",toggleFolderTree:"C_2sqbPK C4_2sqbRh",collapseFolders:"C_2sqbPK C4_2sqbRh ir3_Z1FS2Mn"},darkModePhotoTheme_NIGHT_LANDSCAPE:{folderContainer:"ir3_Z1FS2Mn",toggleFolderTree:"C_2sqbRh C4_52qC",collapseFolders:"C_2sqbRh C4_52qC ir3_Z1FS2Mn"},darkModePhotoTheme_ROADTRIP:{folderContainer:"ir3_Z1FS2Mn",toggleFolderTree:"C_2sqbRh C4_52qC",collapseFolders:"C_2sqbRh C4_52qC ir3_Z1FS2Mn"},darkModePhotoTheme_SUNSET_AUSSIE:{folderContainer:"ir3_Z1FS2Mn",toggleFolderTree:"C_2sqbRh C4_52qC",collapseFolders:"C_2sqbRh C4_52qC ir3_Z1FS2Mn"},darkModePhotoTheme_LIGHTHOUSE:{folderContainer:"ir3_Z1FS2Mn",toggleFolderTree:"C_2sqbRh C4_52qC",collapseFolders:"C_2sqbRh C4_52qC ir3_Z1FS2Mn"}},_key:"1znGyK"}},,function(e,t,s){"use strict";e.exports={className:{default:{module:"C_Z1VRpVF D_F ab_C em_N",label:"E_6Fd5 r_P en_0 ac_CI i_6VdP C4_Z2aVTcY J_x",children:"em_N D_F ab_C"},active:{module:"C_Z281SGl",label:"C_Z2aVTcY"}},_key:"ZPeGKV"}},function(e,t,s){"use strict";s.d(t,"b",function(){return T});s(6);var n=s(1),a=s.n(n),r=s(4),o=s(15),i=s(17),c=s(20),l=s(10),d=s(24),u=(s(8),s(69)),m=s(5),p=s(3),_=s(30),h=s(39),E=s(62),g=s(58),b=s(12),I=s(452),f=s.n(I),S=s(0);s(23);const A=Object(r.h)({theme_picker:{id:"compose.theme_picker",defaultMessage:"Add stationery"}});function T(e,t){e||(e=t);const{stationeryThemes:s,themeVersions:n,stationeryMobThmPath:a}=f.a.config,r=s[e];return r&&(r.themeName=e,r.themeVersion=n[e],r.mobstorPath=a,r.isDefaultTheme=e===t),r}class C extends a.a.Component{constructor(...e){var t;return t=super(...e),this.state={menuOpen:!1,hasShownStationeryPicker:!1},this._showStationeryPickerIfNeeded=(()=>{if(!this.state.hasShownStationeryPicker){const{showStationeryPicker:e,getToolbarBoundingRect:t}=this.props;e&&setTimeout(()=>{this.toolbarBoundingRect=t(),this.setState({menuOpen:!0,hasShownStationeryPicker:!0}),u.b.sendI13nModel({i13nModel:{mKey:m.e.COMPOSE_AUTO_OPEN_STATIONERY_POPUP,sec:m.g.RTE_TOOLBAR}})},300)}}),this._handlePopoverHide=(()=>{this.state.menuOpen&&this.setState({menuOpen:!1})}),this._toggleMenu=(e=>{e&&(e.stopPropagation(),e.preventDefault());const{menuOpen:t}=this.state;t?(this._stationeryPopoverContainer.hide(b.h.MOUNT),this.props.focusBackEditor()):(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this._stationeryPopoverContainer.show(b.h.MOUNT)),this.setState({menuOpen:!t}),u.b.sendI13nModel({i13nModel:{mKey:t?m.e.COMPOSE_CLOSE_STATIONERY_POPUP:m.e.COMPOSE_OPEN_STATIONERY_POPUP,sec:m.g.RTE_TOOLBAR,interactionType:m.d.click}})}),this.renderStationeryCue=(()=>this.props.showStationeryCue&&this.refs.button?a.a.createElement(h.b,{popoverAnchor:this.refs.button,align:b.a.CENTER,triggerOn:b.h.MOUNT,zAltitude:l.ZIndices.POPOVER.HIGH},a.a.createElement(c.a,{import:"../compose/atoms/stationery_cue",cueName:S.mb.STATIONERY_CUE,close:this.state.menuOpen,onTryNow:this._toggleMenu,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,649))},_moduleResolver:function(){return 649}})):null),this.renderStationeryPopup=(()=>a.a.createElement(h.b,{ref:e=>this._stationeryPopoverContent=e,permittedArrowDirections:[b.g.DOWN],triggerOn:b.h.MOUNT,customPositioning:!0,"data-test-id":"stationery-pop-up",onHide:this._handlePopoverHide},a.a.createElement(c.a,{import:"./stationery.jsx",getThemeConfig:T,onThemeChange:this.props.onThemeChange,defaultTheme:this.props.stationeryDefaultTheme,selectedTheme:this.props.stationeryTheme,selectedCategory:this.props.stationeryCategory,categoriesToShow:this.props.stationeryCategoriesToShow,toggleMenu:this._toggleMenu,onHide:this._toggleMenu,width:this.toolbarBoundingRect.width,left:this.toolbarBoundingRect.left,right:this.toolbarBoundingRect.right,bottom:Math.max((Object(d.b)()&&window.innerHeight||0)-this.toolbarBoundingRect.top,this.toolbarBoundingRect.height),stationeryRestrictedThemes:this.props.stationeryRestrictedThemes,showDefaultTheme:this.props.showStationeryDefaultTheme,showThemeCategories:this.props.showStationeryThemeCategories,rtl:this.props.rtl,toolbarKind:this.props.toolbarKind,showStationerySetDefault:this.props.showStationerySetDefault,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,652))},_moduleResolver:function(){return 652}}))),t}componentDidMount(){this._showStationeryPickerIfNeeded()}componentDidUpdate(){this._showStationeryPickerIfNeeded()}render(){const{formatMessage:e}=this.context.intl,{menuOpen:t}=this.state;return a.a.createElement("div",null,a.a.createElement("div",{onClick:this._toggleMenu},a.a.createElement(E.a,{ref:e=>this._stationeryPopoverContainer=e},a.a.createElement(g.a,{"data-test-id":"stationery-picker-anchor"},a.a.createElement(i.a,{ref:"button","data-test-id":"stationery-button",title:e(A.theme_picker),"aria-label":e(A.theme_picker),kind:t?_.a.ICON_HIGHLIGHTED:_.a.ICON},a.a.createElement(o.b,{kind:p.b.STATIONERY,size:p.d.XS,colorState:p.a.NORMAL}))),t?this.renderStationeryPopup():null)),this.renderStationeryCue())}}C.contextTypes={intl:r.i.isRequired},t.a=C},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_Z1YJkyX ab_C A_6EqO k_w H_A e_dRA b_Z14vXdP Q_6MGW U_6Eb4 P_ZGAgNS a_3Mlf4",message:"P_0 J_x M_ZmsKgw D_Z1YJkyX",button:"C_Z2aVTcY M_3gJOe",buttonsContent:"D_Z1YJkyX ab_CI J_x",primaryButton:"r_P C_Z2aVTcY"}},_key:"Z2v5pWR"}},function(e,t,s){"use strict";e.exports={className:{default:{messageCardContainer:"p_R b_efTvb I_52qC em_N X_fq7 N_6LEV ir3_Z1tiXR3 it3_689y",toolbarHoverArea:"H_7jIs D_F ab_C Q_69H5 E_36RhU"},active:{messageCardContainer:"b_2w4l8N p_R j_ZlOSbd"}},_key:"wnxvG"}},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=(s(37),s(603)),o=s.n(r),i=s(11),c=s.n(i),l=s(47),d=s(4);const u=Object(d.h)({comma:{id:"mail_app.comma_with_space",defaultMessage:",\\u0020"},me:{id:"mail_app.me",defaultMessage:"me"},and:{id:"mail_app.and",defaultMessage:"\\u0020and\\u0020"}}),m=" .. ",p=".",_=10;class h extends a.a.Component{constructor(...e){var t;return t=super(...e),this.getSenderLabelText=(({name:e,email:t})=>{const{myAddresses:s}=this.props,{formatMessage:n}=this.context.intl;let a;return(a=s[t]?n(u.me):e?e.split(" ")[0]:t.split("@")[0]).length>_+p.length?a.slice(0,_)+p:a}),this.trimIndicesToVisible=((e,t)=>{const{visibleNum:s}=this.props;return e.length<=s-1?t:t.slice(0,e[0].recent?s-1:s)}),this.getLabel=((e,t)=>{return a.a.createElement(e?"span":"strong",0,t)}),this.getSenderLabels=(e=>{const{myAddresses:t,isRead:s}=this.props,{formatMessage:n}=this.context.intl;if(0===e.length)return null;if(1===e.length){const a=e[0],r=t[a.email]?n(u.me):null;return this.getLabel(s,r||a.name||a.email)}const a=[],r=Object(l.c)(e),o=Object(l.b)(r),i=r.map(e=>this.getSenderLabelText(e)),c=this.trimIndicesToVisible(r,o).sort();let d=0;return c.forEach((e,t)=>{const s=i[e];e>d+1?a.push(m):t>0&&a.push(n(u.comma)),a.push(s),d=e}),this.getLabel(s,a.join(""))}),this.getSenderTooltip=(e=>{const{formatMessage:t}=this.context.intl,s=Object(l.c)(e);let n="";if(s)if(1===(n=(n=s.map(e=>this.getSenderLabelText(e))).filter((e,t,s)=>s.indexOf(e)===t)).length)n=s[0].email;else{const e=n.pop();n=n.join(t(u.comma))+t(u.and)+e}return n}),t}render(){const e=c()(o.a,{transparent:this.props.transparent}),{senders:t,onClick:s}=this.props,n=this.getSenderTooltip(t);return a.a.createElement("span",{className:e.participants,onClick:s,role:"gridcell",title:n},this.getSenderLabels(t))}}h.defaultProps={visibleNum:3,myAddresses:{},transparent:!1},h.contextTypes={intl:d.i},t.a=h},function(e,t,s){"use strict";e.exports={className:{default:{container:"e_eo6 o_h",actionButton:"J_x e_dRA I_T cn_dRA cg_FJ l_Z2aVTcY C_Z2aVTcY r_P P_fQoXz",link:"e_eo6 H_74JI X_eo6 o_h A_6EqO ab_C p_R D_ZKxLmw v_g9505 I_ZnIF8Y cdPFi_Z281SGl k_w I4_ZpQYvz",imageContainer:"W_7iGr X_dRA D_F ab_C k_w en_0 i_0",previewVideo:"W_6NIX H_6NIX e_e5X o_h ab_C D_F gl_C p_R",previewVideoPlayer:"e_e5X W_6NIX H_6NIX im_BH",videoOverlay:"p_a T_0 W_6NIX H_6NIX",spacer:"D_F en_0 ab_C W_6LEV H_6D6F P_Z1feoPS",sponsoredContainer:"D_F ab_C r_P",sponsoredIcon:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_E8xte C_Z2drWk6 cdPFi_Z2drWk6",advertiserContainer:"D_F ek_EZ gl_C s_0 ab_C",advertiser:"o_h J_x G_e em_N E_fq7 u_b D_B",message:"D_F ab_CI o_h H_6D6F E_72FG J_x em_N ek_BB gl_C i_CS k_w",subjectContainer:"en_0 a_6D6F D_F ab_C gl_FM",subject:"o_h G_e J_x a_6D6F en_N u_b",snippetContainer:"D_F ab_C a_6D6F",snippet:"J_x o_h G_e C_Z1VRpVF a_6D6F",adHeadline:"J_x o_h G_e a_6D6F",sponsored:"A_6DEy ab_C D_F C_52qC E_eo6 P_3gIgH I_ZxFlP3 u_b gl_C H_6D6F b_0 r_P",mbBeacon:"D_n",adFeedbackContainer:"P_3Y3Gk",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0",gridB2:"D_F ab_C H_6D6F o_h em_sL ej_0",openEmailIcon:"Q_Z1jxxvJ cdPFi_Z1VRpVF cdPFi4_Z2aVTcY",starRatingContainer:"s_7qGO",unclippedScissorsIcon:"l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C P_Z2wYAaD M_Z215mxU I_52qC cdPFi_Z287E9E",clippedScissorsIcon:"l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C P_Z2wYAaD M_Z215mxU I_Z287E9E C_52qC"},alignDollarIcon:{imageContainer:"W_7jcW",sponsoredIcon:"W_72FG Q_fq7 E_fq7 P_eo6",iconContainer:"W_72FG Q_fq7 E_fq7 P_eo6",message:"ek_EZ ab_C gl_FO",snippetContainer:"X_fq7 o_h J_x H_6D6F"},alignDollarIconCompact:{sponsoredIcon:"E_82XEY",iconContainer:"E_82XEY",message:"ek_BB gl_C N_eo6",snippetContainer:"X_82XEY H_A"},isCompactLayout:{link:"H_7rdk X_0",imageContainer:"W_74JI X_6Eb4",adHeadline:"Q_0 W_6D6F U_eo6 u_b",snippet:"Q_0",spacer:"D_n",iconContainer:"gl_CH W_A",closeIconContainer:"gl_CH W_A",gridB2:"em_qk ej_7kKt",gridB1:"o_v W_74JI em_0 ej_CS a_n",subjectContainer:"W_6D6F U_eo6",snippetContainer:"W_6D6F gl_FM H_dw4",message:"M_0 N_6LEV"},secondPencilAd:{link:"I_T cn_3vzlv cg_FJ l_2xr6Y e_0"},couponCompact:{subjectContainer:"ab_FO ek_BB U_dm5",snippet:"u_82XEY"},renderCouponOnPencilPosition:{actionButton:"E_fq7",link:"D_ZKxLmw ab_C X_eo6"},savedCoupon:{actionButton:"I_Z2aVTcY C_52qC"},adHoveredInCompact:{sponsoredContainer:"D_n",message:"N_dm5"},timechunkPencilAd:{link:"cm_0"},gradientltr:{link:"I_82XEY aw_Z1hbGih aw4_82XEY I4_ZpQYvz"},gradientrtl:{link:"I_82XEY aw_2o0LGp aw4_82XEY I4_ZpQYvz"},"backgroundId-1":{link:"I_1lAUBh I4_1iaBuV",sponsoredIcon:"C_Z22OMQj cdPFi_Z22OMQj",actionButton:"l_Z22OMQj C_Z22OMQj",openEmailIcon:"cdPFi_Z1TsNWR cdPFi4_Z22OMQj",filledActionButton:"I_Z25kRrz"},"backgroundId-2":{link:"I_VtmPm I4_Z1igfGE",sponsoredIcon:"C_Z25iliW cdPFi_Z25iliW",actionButton:"l_Z25iliW C_Z25iliW",openEmailIcon:"cdPFi_Z1TsNWR cdPFi4_Z25iliW",filledActionButton:"I_1MO3jO"},"backgroundId-3":{link:"I_Z1d6UKc I4_Z247OCM",sponsoredIcon:"C_Z2dxNDU cdPFi_Z2dxNDU",actionButton:"l_Z2dxNDU C_Z2dxNDU",openEmailIcon:"cdPFi_Z1TsNWR cdPFi4_Z2dxNDU",filledActionButton:"I_ZdD4ID"},"backgroundId-4":{link:"I_Z1dTgDQ I4_Z2sGrp7",sponsoredIcon:"C_Z2dyg2z cdPFi_Z2dyg2z",actionButton:"l_Z2dyg2z C_Z2dyg2z",openEmailIcon:"cdPFi_Z1TsNWR cdPFi4_Z2dyg2z",filledActionButton:"I_yno1B"},"backgroundId-5":{link:"I_Z8TpEO I4_y26bi",sponsoredIcon:"C_ZkhR3R cdPFi_ZkhR3R",actionButton:"l_ZkhR3R C_ZkhR3R",openEmailIcon:"cdPFi_Z1TsNWR cdPFi4_ZkhR3R",filledActionButton:"I_16TCC9"},"backgroundId-6":{link:"I_Z2cHJN6 I4_Z2lDoc8",sponsoredIcon:"C_Z27jPgO cdPFi_Z27jPgO",actionButton:"l_Z27jPgO C_Z27jPgO",openEmailIcon:"cdPFi_Z1TsNWR cdPFi4_Z27jPgO",filledActionButton:"I_1nby3G"},transparentLink:{link:"bn_dBP bm_FJ bj_2spJWC e_82XEY I_T I4_1I4yPF"},darkModeNonPhotoTheme:{link:"C_ZpQYvz cdPFi_52qC I_sgPuo aw_82XEY I4_sgPuT",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_1YEmYj",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",openEmailIcon:"cdPFi_2sqbQg cdPFi4_29F7yW",unclippedScissorsIcon:"I_T cdPFi_29F7yW l_29F7yW",clippedScissorsIcon:"I_29F7yW l_29F7yW",sponsored:"C_52qC"},darkModePhotoTheme_NIGHT_LANDSCAPE:{link:"C_ZpQYvz cdPFi_52qC aw_82XEY I_ajOPR I4_ajP3z",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",openEmailIcon:"cdPFi_2sqbQg cdPFi4_29F7yW",unclippedScissorsIcon:"I_T cdPFi_29F7yW l_29F7yW",clippedScissorsIcon:"I_29F7yW l_29F7yW",sponsored:"C_52qC"},darkModePhotoTheme_ROADTRIP:{link:"C_ZpQYvz cdPFi_52qC aw_82XEY I_ajOPR I4_ajP3z",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",openEmailIcon:"cdPFi_2sqbQg cdPFi4_29F7yW",unclippedScissorsIcon:"I_T cdPFi_29F7yW l_29F7yW",clippedScissorsIcon:"I_29F7yW l_29F7yW",sponsored:"C_52qC"},darkModePhotoTheme_SUNSET_AUSSIE:{link:"C_ZpQYvz cdPFi_52qC aw_82XEY I_ajOPR I4_ajP3z",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",openEmailIcon:"cdPFi_2sqbQg cdPFi4_29F7yW",unclippedScissorsIcon:"I_T cdPFi_29F7yW l_29F7yW",clippedScissorsIcon:"I_29F7yW l_29F7yW",sponsored:"C_52qC"},darkModePhotoTheme_LIGHTHOUSE:{link:"C_ZpQYvz cdPFi_52qC aw_82XEY I_ajOPR I4_ajP3z",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",openEmailIcon:"cdPFi_2sqbQg cdPFi4_29F7yW",unclippedScissorsIcon:"I_T cdPFi_29F7yW l_29F7yW",clippedScissorsIcon:"I_29F7yW l_29F7yW",sponsored:"C_52qC"},iconHidden:{favicon:"D_n"},couponNonCompact:{subjectContainer:"en_pG o_h",snippetContainer:"o_82XEY"},isSlim:{unclippedScissorsIcon:"P_1zvs7l",clippedScissorsIcon:"P_1zvs7l"},heightOptimization:{message:"ek_EZ ab_C gl_FO",snippetContainer:"X_fq7 o_h J_x H_6D6F"},"msgListDensity-1":{link:"H_qg",imageContainer:"X_eo6",actionButton:"b_82XEY cg_82XEY",previewVideo:"W_6LEV H_6LEV",previewVideoPlayer:"W_6LEV H_6LEV",videoOverlay:"W_6LEV H_6LEV"},"msgListDensity-2":{link:"H_qJ"},"msgListDensity-3":{link:"H_rh"},"msgListDensity-compact_snippets_1":{link:"H_si",subjectContainer:"U_dRA",adHeadline:"U_dRA u_b"},"msgListDensity-compact_snippets_2":{link:"H_sL",subjectContainer:"U_eo6",adHeadline:"U_eo6 u_b"},"msgListDensity-compact_snippets_3":{link:"H_tf",subjectContainer:"U_eo6",adHeadline:"U_eo6 u_b"},"msgListDensity-compact_1":{link:"H_rl",subjectContainer:"U_dRA",snippet:"u_b C_82XEY"},"msgListDensity-compact_2":{link:"H_rO",subjectContainer:"U_eo6",snippet:"u_b C_82XEY"},"msgListDensity-compact_3":{link:"H_se",subjectContainer:"U_eo6",snippet:"u_b C_82XEY"},isFlashSaleAd:{adHeadline:"u_b"},compactFlashSaleAd:{subjectContainer:"U_dm5",snippetContainer:"H_dw4"},alignDollarIconWithImage:{imageContainer:"W_6VJl",sponsoredIcon:"M_ZyfvxR"}},_key:"1tTEpy"}},,function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F D_F"}},_key:"Z6fPnV"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F a_3He0m ek_BB",textInput:"A_6EqO M_27m5tQ p_R",titleLabel:"A_6EWk M_1Wjk7b u_dPo",label:"u_b A_6EqO M_3gIgH i_6Mbr",hintTop:"A_6DUj M_1IaimO C_Z281SGl",oAuthHint:"A_6EqO Y_6LEV U_6NIX i_6LEV C_Z281SGl",hint:"C_Z1TsNWR A_6DUj U_6Fd5",link:"C_Z2aVTcY Q_dRA u_e69 r_P",iconsWrapper:"D_F ab_C gl_CI H_6TFj M_1S6wUp",backButton:"r_P P_1EudUu H_6TFj cn_dBP cg_FJ y_Z2uhb3X A_6EqO I_52qC C_Z2aVTcY l_Z2aVTcY M_0 I4_52qC C4_Z2dyg2z l4_Z2dyg2z I3_ZpQYvz C3_Z2dyg2z l3_Z2dyg2z I0_ZpQYvz C0_Z2dyg2z l0_Z2dyg2z",primaryButton:"r_P D_X H_6TFj q_Z2aVTcY M_1MYy0B e_dRA k_w en_0 V_M s_7yHc P_1EudUu cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl",cancelButton:"b_n r_P C_Z1YRXYn V_M D_X q_T A_6EqO H_6TFj P_1EudUu u_e69 I4_15sa3J C4_Z281SGl",errorWrapper:"A_6EqO i_6LEV C_ZkiIcp D_F ab_CI",errorIcon:"E_fq7 D_F",errorHeader:"M_0 i_6LEV",errorInvalidReason:"C_ZkiIcp D_B A_6DUj M_fq7",tryAgain:"D_B C_Z2aVTcY u_e69 r_P",typeaheadInputContainer:"W_6D6F p_R",typeaheadInput:"A_6EqO W_6D6F P_Z1HqVOA k_w p_R Z_N q_T z_0 x_0 n_0 bm_FJ bn_dBP bj_Z1TsNWR J_x ir_0 G_e bj3_Z2aVTcY",typeaheadInputHint:"A_6EqO W_6D6F P_Z1HqVOA k_w J_x G_e p_a T_0 L_0 b_n I_T",clearIconContainer:"p_a T_eTB R_0 P_3gJOe Z_N"},disabled:{primaryButton:"O_cMq r_A I4_Z2aVTcY l4_Z2aVTcY"}},_key:"YHXC2"}},function(e,t,s){"use strict";var n=s(2),a=s(36),r=s.n(a),o=s(57),i=s(82),c=s(0),l=s(9),d=s(46),u=s(8);var m=s(83);const p=(e,t,s)=>{const{getAdsSelectors:n}=Object(l.b)(e.getState()),a=n().getAdFeedbackBeacon(s).replace("$(AD_FEEDBACK)",t);Object(m.a)(a)};var _=s(173);const h=e=>{let{itemsToUpdate:t}=e,s=babelHelpers.objectWithoutProperties(e,["itemsToUpdate"]);return babelHelpers.extends({itemsToUpdate:t.map(e=>{let{destinationFolder:t,folder:s}=e,n=babelHelpers.objectWithoutProperties(e,["destinationFolder","folder"]);return babelHelpers.extends({},n,{folder:t,destinationFolder:s})})},s,{type:n.Bj})};var E=s(212);function g(e,t,s){const{isMobileRoute:n,getAccountSelectors:a,getFoldersSelectors:r}=e,{getFolderIdsByAccountId:o,hasChildren:i}=r();let l;switch(t){case c.nd.INTERSTITIAL_FREQUENCY:l=c.Yb.INTERSTITIAL_FREQUENCY;break;case c.nd.THEME:l=n()?c.Yb.MOBILE_THEME:c.Yb.THEME;break;case c.nd.THEME_MODE:l=n()?c.Yb.MOBILE_THEME_MODE:c.Yb.THEME_MODE;break;case c.nd.PREVIEW_PANE:l=c.Yb.PREVIEW_PANE;break;case c.nd.MSG_LIST_DENSITY:l=c.Yb.MSG_LIST_DENSITY;break;case c.nd.SNIPPETS:l=n()?c.Yb.MOBILE_SNIPPETS:c.Yb.SNIPPETS;break;case c.nd.COMPOSE_FONT_FAMILY:l=c.Yb.COMPOSE_FONT_FAMILY;break;case c.nd.COMPOSE_FONT_SIZE:l=c.Yb.COMPOSE_FONT_SIZE;break;case c.nd.MOBILE_NOTIFICATION:l=c.Yb.MOBILE_NOTIFICATION;break;case c.nd.DESKTOP_NOTIFICATION:l=c.Yb.DESKTOP_NOTIFICATION;break;case c.nd.MARK_AS_READ_INTERVAL:l=c.Yb.MARK_AS_READ_INTERVAL;break;case c.nd.SHOW_IMAGES:l=n()?c.Yb.MOBILE_SHOW_IMAGES:c.Yb.BLOCK_IMAGES;break;case c.nd.LINK_ENHANCR:l=c.Yb.LINK_ENHANCER;break;case c.nd.ACTION_AFTER_MSG_MOVE:l=c.Yb.ACTION_AFTER_MSG_MOVE;break;case c.nd.SHOW_CUSTOM_FOLDERS:l=c.Yb.SHOW_CUSTOM_FOLDERS;break;case c.nd.SUPPRESSED_UPSELLS:l=c.Yb.SUPPRESSED_UPSELLS;break;case c.nd.MAIL_TABS:l=c.Yb.MAIL_TABS;break;case c.nd.HIDE_AD:l=c.Yb.HIDE_AD;break;case c.nd.SHOW_ALL_SYSTEM_FOLDERS:l=c.Yb.SHOW_ALL_SYSTEM_FOLDERS;break;case c.nd.EXPANDED_FOLDERS:{l=c.Yb.EXPANDED_FOLDERS;const e=a().getAccountIds();let t=[];e.forEach(e=>{o(e).forEach(e=>{i(e)&&-1!==s.indexOf(e)&&(t=t.concat(e))})}),s=t;break}case c.nd.STATIONERY_DEFAULT_THEME:l=c.Yb.STATIONERY_DEFAULT_THEME;break;case c.nd.UNSUBSCRIBE_NOTIFICATION:l=c.Yb.UNSUBSCRIBE_NOTIFICATION;break;case c.nd.UNSUBSCRIBE_TIMESTAMP:l=c.Yb.UNSUBSCRIBE_TIMESTAMP;break;case c.nd.NUM_UNSUBSCRIBED_ITEMS:l=c.Yb.NUM_UNSUBSCRIBED_ITEMS;break;case c.nd.RECENTLY_USED_EMOJIS:l=c.Yb.RECENTLY_USED_EMOJIS;break;case c.nd.SCOUT_ONBOARDING:l=c.Yb.SCOUT_ONBOARDING;break;case c.nd.SYSTEM_TABS:l=c.Yb.SYSTEM_TABS;break;case c.nd.EMAIL_SUBSCRIPTIONS:l=c.Yb.EMAIL_SUBSCRIPTIONS;break;case c.nd.AD_BLOCK_FEATURE_CUE_ID:l=c.Yb.AD_BLOCK_FEATURE_CUE_ID;break;case c.nd.PREFERRED_AD_FORMAT:l=c.Yb.PREFERRED_AD_FORMAT}return l}var b=s(115),I=s(14),f=s(7);var S=s(96),A=s(51),T=s(154),C=s(155),O=s(53),R=s(136),N=s.n(R),M=s(194);const D=(e=[])=>e.map(({name:e,email:t})=>({name:e,email:t})),y=(e,t)=>{const s=Object(l.b)(e),{getSelectedMailboxId:n,getDraftFolderIdByAccountEmail:a,getDraftFolderIdForPrimaryAccount:r,getAttachmentMessageReferenceByContentId:o,isReplyMessage:i,isReplyAllMessage:c,isForwardMessage:d,getReplyingToMessageId:u}=s,{to:m,cc:p,bcc:_,from:h,csid:E,subject:g,html:b,attachmentsInfo:I=[],captchaAnswer:f,rawFiles:S={},newContentIds:A=[],uiState:{useRichText:T}}=t,O=n(),R=a(h.email)||r(),M=u(E),y=i(E),L=c(E),v=d(E),P=N()(I,"contentId").filter(e=>{const t=A.some(t=>t===e.contentId),s=o(e.contentId);let n=s&&e.partId&&e.partId.indexOf(".")>0;if(n){const t=e.partId.split(".")[0];n=!!I.find(({partId:e})=>e===t)}return(t||s)&&!n}).map(e=>{const t=o(e.contentId);return t?babelHelpers.extends({},e,{messageReference:t,file:void 0}):e}),F=[{name:h.sendingName||h.email,email:h.email}],x=h.replyToAddress?[{name:h.sendingName||h.replyToAddress,email:h.replyToAddress}]:[],w={csid:E,mailboxId:encodeURIComponent(O),subject:g,captchaAnswer:f,from:F,replyTo:x,to:D(m),cc:D(p),bcc:D(_),html:T?Object(C.d)(b,s):null,text:T?null:Object(C.a)(b),folderId:R,attachments:P,files:(A||[]).map(e=>S[e]).filter(Boolean)};return M?(w.newMessage=!1,w.inReplyTo={messageReference:{id:M},replied:y||L,forwarded:!(y||L)&&v}):w.newMessage=!0,w},L=s.n(M)()((e,t)=>{e(Object(S.e)(t))},2e3);var v=s(120),P=s(108),F=s(102),x=s(5),w=s(100);const k=(e,t,s)=>{const{dispatch:n,getState:a}=e,{getEnvironmentSelectors:r}=Object(l.b)(a()),o=r().getIsXobnified();return null!==o?Promise.resolve(o):s.autoSuggestClient.isUserXobnified().then(e=>n(Object(v.b)({isXobnified:e}))).catch(e=>n(Object(v.a)(e)))};var H=s(45),U=s(335);const j=e=>babelHelpers.extends({type:n.td},e);var G=s(43);function B({type:e,subtype:t}){switch(Object(G.d)(e,t)){case c.u.SimplifiedTypes.COMPRESSED:return{code:625,isRetryable:!1};default:return{code:813,isRetryable:!1}}}var V=s(225);var W=s(109),q=s(126),z=s(19);const Z=["inboxErnyCue","inboxErnyBrndCue","inboxErnyGrthCue","inboxErnyGrthBrndCue","inboxErnySvngsCue","msgReadErnyCue","couponsViewLaunchCue"],K=e=>N()(e.filter(e=>Z.indexOf(e.split(",")[0])<0).sort((e,t)=>(0|parseInt(t.split(",")[1],10))-(0|parseInt(e.split(",")[1],10))),e=>e.split(",")[0]);var Y=s(48),X=s(16);const $=({shouldWriteToDataSource:e,success:t,failure:s})=>(n,{name:a,userAction:r,userResponse:o,i13nModel:i},d)=>{const{dispatch:u,getState:m}=n,{getFeaturesSelectors:p,getFeatureCueSelectors:_,getSelectedMailboxId:h}=Object(l.b)(m()),{isPersistent:E,isKeySaved:g}=_();if(i&&i.mKey===x.e.CONVERSATIONS_CUE_TAP&&setTimeout(()=>u(Object(Y.i)({route:Object(X.u)()})),0),!g(a)&&e({userResponse:o,isPersistent:E(a)}))return(({feature:e,userResponse:t,apiClients:{mailAPIClient:s,udbClient:n},selectors:{getFeaturesSelectors:a,getFeatureCueSelectors:r,getSelectedMailboxId:o}})=>{const{isEnabled:i}=a(),l=i(c.mb.UDB_MIGRATION_COMPLETE),{getSubkey:d,isUdbOnly:u}=r(),m=d(e)||e,p=u(e),_=o();return Object(z.a)(Z.indexOf(m)<0,`${m} is legacy, it shouldn't be rendered`),l&&!p?s.request("saveArrayAttributes",{mailboxId:_,items:[`${m},${Math.round(Date.now()/1e3)},${t||""}`],attribute:c.Yb.SCOUT_ONBOARDING,dedupFn:K}):n.write({[q.a.YM_MAIL_SCOUT]:{[m]:t||Math.round(Date.now()/1e3)}})})({feature:a,userResponse:o,apiClients:d,selectors:{getFeaturesSelectors:p,getFeatureCueSelectors:_,getSelectedMailboxId:h}}).then(e=>u(t({feature:a,value:e,userAction:r}))).catch(e=>u(s({error:e,userAction:r})))},Q=$({shouldWriteToDataSource:({userResponse:e,isPersistent:t})=>e||t,success:e=>Object(W.c)(e),failure:e=>Object(W.b)(e)}),J=$({shouldWriteToDataSource:({isPersistent:e})=>!e,success:e=>Object(W.f)(e),failure:({error:e})=>Object(W.e)(e)});var ee=s(129);var te=s(270);var se=s(271),ne=s(176);var ae=s(114),re=s(33);const oe=(e,t,s)=>{const{route:n,config:a,type:r}=t,o=((e,t)=>{switch(t.name){case c.Uc.FOLDER:return e.launchFolder;case c.Uc.MESSAGE_FROM_FOLDER_LIST:case c.Uc.MESSAGE_FROM_SEARCH_LIST:return e.launchMessage;default:return e.root}})(a.spaceids,n),i=a.geminiForceFilter,l=a.sectionIdsToPrefetch||[],d=a.geminiSectionIds||{},u=Object.keys(d).reduce((e,t)=>(-1!==l.indexOf(d[t])&&(e[t]=d[t]),e),{});if(!Object.keys(u).length)return Promise.resolve();const m={sectionId:u,publisherInfo:`||${o}|STRM|`,rotationActionType:r};return i&&(m.forceFilter=i),a.geminiSponsoredVideo&&(m.creativeCode="STRM,STRM_VIDEO",m.contentType="video/mp4,application/vnd.apple.mpegurl"),a.videoSponsoredMoment&&(m.videoMomentEnabled=!0),s.geminiAPIClient.request(m).then(e=>e)};var ie=s(64),ce=s(84);var le=({dispatch:e,getState:t},{action:{listId:s,count:a=c.R,type:r=""}={}},{mailAPIClient:o})=>{const{getSelectedMailboxId:i,getListsSelectors:d,getSelectedAccountId:u,isFeatureEnabled:m,getRouteName:p}=Object(l.b)(t()),_=p()===c.Uc.SEARCH;if(m(c.mb.BOOTCAMP_COUPONS)||r!==n.Zf||_&&m(c.mb.COUPONS_SMART_VIEW_SEARCH))return Promise.resolve();const{doesListExist:h,getListOffset:E,hasMoreItems:g}=d(),b=i(),I=u(),S=[],A=[],T=!!h(s)&&g(s),C=Object(f.r)(s);if(T){const e=h(s)?E(s):0;S.push(C),A.push(e)}const O=C===c.Gb.SAVED_COUPON_CARDS?c.Gb.ALL_COUPON_CARDS:c.Gb.SAVED_COUPON_CARDS,R=Object(f.Q)(s,{listFilter:O});if(h(R)&&g(R)){const e=h(R)?E(R):0;S.push(O),A.push(e)}const N={mailboxId:b,filter:S,count:a,offset:A,startCardDate:Object(H.r)(new Date),endCardDate:Math.round((new Date).getTime()/1e3)+30*H.a,sortOrder:c.Xc,accountId:I};return o.request("consolidatedCoupons.getList",N).then(t=>{t.messageGroupsResponses.forEach(t=>{e(Object(ce.c)({listId:Object(f.Q)(s,{listFilter:t.filter}),cardGroupList:t.cardGroupList,hasMoreItems:t.hasMoreItems,offset:t.offset}))})}).catch(t=>{e(Object(ce.b)({listId:s,error:t}))})},de=s(24);var ue=({dispatch:e,getState:t},{listId:s},{mailAPIClient:n})=>{const{getSelectedMailboxId:a,getListsSelectors:r,getFeaturesSelectors:o,getSelectedAccountId:i}=Object(l.b)(t()),d=a(),{getItemIdsSelectors:u}=r(),m=o().getSetting(c.nd.CARD_GROUPS_FETCH_COUNT),p=u(s).getItemIds().length,_=Object(f.r)(s),h=Object(f.D)(s),E=i();return n.request("messageCards.getList",{mailboxId:d,filter:_,offset:p,count:m,sortOrder:h,accountId:E}).then(({cardGroupList:t,hasMoreItems:n})=>{e(Object(ce.k)({listId:s,cardGroupList:t,hasMoreItems:n}))}).catch(t=>{e(Object(ce.j)({listId:s,error:t}))})};var me=({dispatch:e,getState:t},{listId:s,count:n=c.R},{mailAPIClient:a})=>{const{getSelectedMailboxId:r,getListsSelectors:o,getSelectedAccountId:i}=Object(l.b)(t()),{doesListExist:d,getListOffset:u,hasMoreItems:m}=o(),p=r(),_=i(),h=c.Gb.ALL_REFUND_CARDS;let E=0;return!!d(s)&&m(s)&&(E=d(s)?u(s):0),a.request("getMoreReceipts",{mailboxId:p,filter:h,count:n,offset:E,sortOrder:c.Cd.CARD_DATE_DESC,accountId:_}).then(t=>{e(Object(ce.g)({listId:s,cardGroupList:t.messageGroupsResponses.cardGroupList,hasMoreItems:t.messageGroupsResponses.hasMoreItems,offset:t.messageGroupsResponses.offset,parentMessagesMap:t.parentMessagesMap}))}).catch(t=>{e(Object(ce.f)({listId:s,error:t}))})},pe=s(112),_e=s(28);var he=function(e,t,s){const{sectionIds:n,spaceId:a}=t;if(t.unsyncedDataType!==c.Zd.GEMINI_AD||!n||!a)return Promise.resolve();const{dispatch:r,getState:o}=e,{getFeaturesSelectors:i,getAdsSelectors:d,getAction:u,getGroupId:m,getSenderEmailIdsFromMessageGroup:p}=Object(l.b)(o()),{isEnabled:_,getSetting:h}=i(),E=d().getGeminiCategories(),g=h(c.nd.GEMINI_FORCE_FILTER),b=p([m()]),f=Object(I.k)(b[0]),S={adCount:1,sectionId:n,publisherInfo:`||${a}|STRM|`,rotationActionType:u().type};return _(c.mb.ROTATE_PENCIL_AD_ON_EXPIRE)||setTimeout(()=>r(Object(A.k)({sectionIds:n})),0),g&&(S.forceFilter=g),_(c.mb.GEMINI_SPONSORED_VIDEO)&&(S.creativeCode="STRM,STRM_VIDEO",S.contentType="video/mp4,application/vnd.apple.mpegurl"),(_(c.mb.SHOPPING_CART_AD)||_(c.mb.SUBSCRIPTION_ADS)||_(c.mb.MSG_READ_PENCIL_AD_SEND_DOMAIN))&&f&&(S.domain=f),E&&E.length&&(S.adCategories=E.join(",")),_(c.mb.VIDEO_SPONSORED_MOMENT)&&(S.videoMomentEnabled=!0),s.geminiAPIClient.request(S).then(e=>r(Object(A.u)({geminiAd:e,sectionIds:n}))).catch(e=>r(Object(A.t)({error:e,sectionIds:n})))};var Ee=function(e,t,s){if(t.unsyncedDataType!==c.Zd.IMPORTANT_CONTACTS_FETCH)return Promise.resolve();const{dispatch:n}=e,{fromEmail:a,listId:r}=t;return s.autoSuggestClient.importantContacts(a).then(e=>{n(Object(P.i)({fromEmail:a,contacts:e,listId:r}))}).catch(()=>{n(Object(P.f)({fromEmail:a,listId:r}))})},ge=s(336);var be=s(337),Ie=s(186);var fe=s(338),Se=s(299);var Ae=s(121);var Te=s(78),Ce=s(77);const Oe=e=>({type:n.Ni,retailers:e}),Re=e=>({type:n.Mi,error:e});var Ne=s(177),Me=s(148),De=s(111),ye=s(35);var Le=s(226),ve=s(147);var Pe=s(188);var Fe=(e,t,s)=>{const{blockSenders:n=null,overWrite:a=!1,delta:r=1}=t,{dispatch:i}=e;return null===n?Promise.resolve():s.mailAPIClient.request("saveArrayAttributes",{items:n||[],overWrite:a,attribute:c.Yb.DELIVERY_BLOCKED_SENDERS}).then(()=>{i(Object(o.c)({name:c.nd.DELIVERY_BLOCKED_SENDERS,senders:n,delta:r}))}).catch(e=>{i(Object(o.b)({name:c.nd.DELIVERY_BLOCKED_SENDERS,error:e,delta:r}))})};var xe=s(169),we=s.n(xe);var ke=s(80),He=s(272);const Ue=(e,t,s)=>{const{dispatch:a,getState:r}=e,{getSelectedMailboxId:o,getRoute:i,getSettingsSelectors:d,getAccountSelectors:u}=Object(l.b)(r()),{getSettingsApiCallStatus:m}=d(),p=i();if(p.name!==c.Uc.SETTINGS&&p.name!==c.Uc.BLOCKED_SENDERS)return Promise.resolve();if(m()===c.Rc.LOADED)return Promise.resolve();const _=o();return s.mailAPIClient.request("settings.get",{mailboxId:_,primaryAccountDisabled:u().isPrimaryAccountDisabled()}).then(e=>{a(babelHelpers.extends({type:n.ii},e))}).catch(function(e){a({type:n.hi,payload:e})})};var je=s(339);var Ge=s(189);var Be=s(340),Ve=s(323);var We=s(274);var qe=(e,t,s)=>{const{dispatch:a,getState:r}=e,{getFeaturesSelectors:o,getSelectedMailboxId:i,getPendingUpdate:d}=Object(l.b)(r()),u=o(),m=u.getSetting("bulkActionDialogThreshold"),p=u.isEnabled(c.mb.UPDATE_ITEMS_V3),{unsyncedDataType:E,messageItemsToSync:g=[]}=t;if(!p||E!==c.Zd.MESSAGE_ITEM_TO_UPDATE||!g.length)return Promise.resolve();const b=g.length>m||g.filter(e=>!!e.messageQuery).length>0,I=g.some(e=>e.permanentDelete),f=u.isEnabled(c.mb.CONVERSATIONS),{streamId:S,itemsToUpdate:A=[],triageActionType:T="",folderId:C="",destinationFolderId:O="",destinationFolderType:R="",count:N,conversations:M}=d();let D=Object.keys(A.reduce((e,t)=>babelHelpers.extends({},e,{[t.id]:!0}),{})).length;-1!==[c.Vd.READ_CHANGE_FOLDER_ITEMS,c.Vd.ARCHIVE_FOLDER_ITEMS,c.Vd.DELETE_FOLDER_ITEMS].indexOf(T)&&(D=N);let y=void 0;switch(T){case c.Vd.MOVE_SELECTED_ITEMS:case c.Vd.RESTORE_SELECTED_ITEMS:case c.Vd.SPAM_SELECTED_ITEMS:case c.Vd.NOT_SPAM_SELECTED_ITEMS:y=h({streamId:S,itemsToUpdate:A,i13nModel:{mKey:x.e.UNDO_MOVE_ACTION},triageActionType:c.Vd.UNDO_MOVE});break;case c.Vd.DELETE_SELECTED_ITEMS:y=I?void 0:h({streamId:S,itemsToUpdate:A,i13nModel:{mKey:x.e.UNDO_DELETE_ACTION},triageActionType:c.Vd.UNDO_MOVE});break;case c.Vd.ARCHIVE_SELECTED_ITEMS:y=h({streamId:S,itemsToUpdate:A,i13nModel:{mKey:x.e.UNDO_ARCHIVE_ACTION},triageActionType:c.Vd.UNDO_MOVE})}const L={mailboxId:i(),messageItemsToSync:g,isAsync:b},v={messageItemsToSync:g,itemsToUpdate:A,triageActionType:T,folderId:C,destinationFolderId:O,destinationFolderType:R,isAsync:b,count:D,permanent:I,conversations:f};void 0!==M&&(v.conversations=M);const P=babelHelpers.extends({successAction:babelHelpers.extends({type:n.Qj},v,{undoAction:y}),failureAction:babelHelpers.extends({type:n.Pj},v)},v);return s.mailAPIClient.request("messages.UnifiedUpdate",L).then(({tasks:e,successType:t})=>{a(t===c.gc.ASYNC?Object(_.c)({tasks:e,messageItemsToSync:g,actionPayload:P}):t===c.gc.FAILURE?Object(We.a)(v):Object(We.b)(babelHelpers.extends({},v,{undoAction:y})))}).catch(()=>{a(Object(We.a)(v))})};const ze=(e={})=>{return babelHelpers.extends({type:n.lc},e,{i13nModel:e.contentProviders.earny?{mKey:x.e.EARNY_CONNECTED,sec:x.g.CONTENT_PROVIDERS}:void 0})},Ze=(e={})=>babelHelpers.extends({type:n.kc},e);var Ke=s(190);const Ye=e=>babelHelpers.extends({type:n.wj},e),Xe=e=>babelHelpers.extends({type:n.vj},e),$e=e=>babelHelpers.extends({type:n.uj},e),Qe=e=>babelHelpers.extends({type:n.tj},e);t.a={[n.mj]:[(e,t,s)=>{const{route:n,config:{allowUsernameAndPhoneReg:a,mailboxSwitcher:r}={}}=t,{dispatch:o}=e,{bizMboxId:i}=s.mailAPIClient;return n&&t.unsyncedDataType===c.Zd.LAUNCH&&(-1!==[c.Uc.SEARCH,c.Uc.SETTINGS,c.Uc.TUTORIAL,c.Uc.SIGNATURES_FROM_SETTINGS,c.Uc.THEME_CHOOSER,c.Uc.CONTACTS,c.Uc.CONTACT_DETAILS,c.Uc.EDIT_CONTACT,c.Uc.ACCOUNT_LIST_FROM_SETTINGS,c.Uc.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST,c.Uc.BLOCKED_SENDERS].indexOf(n.name)||Object(f.F)(Object(f.t)(n))||Object(f.J)(n))?s.mailAPIClient.request("launch.skeleton",{allowUsernameAndPhoneReg:a,mailboxSwitcher:r}).then(e=>{o(Object(ae.a)(babelHelpers.extends({initialMailboxAttributes:t.mailboxAttributes,bizMboxId:i},e)))}).catch(e=>o(Object(ae.b)({error:e}))):Promise.resolve()},(e,t,s)=>{const{route:n,config:a}=t;if(!n)return Promise.resolve();const r=Object(f.t)(n),o=Object(f.m)(r),i=Object(f.D)(r),l=Object(f.r)(r),{dispatch:d}=e,{bizMboxId:u}=s.mailAPIClient;if(t.unsyncedDataType!==c.Zd.LAUNCH||n.name!==c.Uc.FOLDER&&n.name!==c.Uc.EDIT_FOLDER&&n.name!==c.Uc.BASE&&n.name!==c.Uc.LIST||Object(f.E)(r))return Promise.resolve();const{pencilAd:m,conversations:p,launchFolderTimeout:_,messageFetchCountInitial:h,allowUsernameAndPhoneReg:E=!1,mailboxSwitcher:g}=a,b=ie.a.feature("gemini_server_prefetch",{routeName:n.name});let I=null;return m&&oe(0,t,s).then(e=>{I=e}),s.mailAPIClient.request("launch.folder",{folderId:o,sortOrder:i,filter:l,count:h,offset:0,conversationsMode:p,allowUsernameAndPhoneReg:E,mailboxSwitcher:g},{timeout:_}).then(e=>{let{error:s,messageGroups:n}=e,a=babelHelpers.objectWithoutProperties(e,["error","messageGroups"]);d(Object(ae.a)(babelHelpers.extends({initialMailboxAttributes:t.mailboxAttributes},a,{listId:r,geminiAd:I,bizMboxId:u,messageGroupList:n},s&&{launchError:c.Cb.FOLDER_ACCESS_FAILED}))),m&&(I?b.logSuccess():b.logFailure())}).catch(e=>d(Object(ae.b)({error:e})))},(e,t,s)=>{const{route:n,config:a={},mailboxAttributes:r,appId:o}=t;if(!n||t.unsyncedDataType!==c.Zd.LAUNCH||-1===[c.Uc.MESSAGE_FROM_LIST,c.Uc.MESSAGE_FROM_FOLDER_LIST,c.Uc.MESSAGE_FROM_SEARCH_LIST].indexOf(n.name))return Promise.resolve();const i=n.params,l=Object(f.t)(n),d=decodeURIComponent(i.groupId),u=Object(f.m)(l),m=Object(f.D)(l),p=Object(f.r)(l),{pencilAd:_,conversations:h,messageFetchCountInitial:E,allowUsernameAndPhoneReg:g=!1,mailboxSwitcher:b}=a,{dispatch:I}=e,{bizMboxId:S}=s.mailAPIClient,A=o===c.le?!!r[c.Yb.MOBILE_SHOW_IMAGES]&&!r[c.Yb.MOBILE_SHOW_IMAGES].value:!!r[c.Yb.BLOCK_IMAGES]&&r[c.Yb.BLOCK_IMAGES].value&&!a.inlineImagesProxied;let T=null;return _&&oe(0,t,s).then(e=>{T=e}),s.mailAPIClient.request("launch.messageGroup",{isConversation:h,messageGroupId:d,folderId:u,sortOrder:m,filter:p,count:E,offset:0,secure:A,allowUsernameAndPhoneReg:g,mailboxSwitcher:b}).then(function(e){let{messageGroups:t,messageBodiesMap:s,messageMetadataMap:n,messageGroupList:a,hasMoreItems:o,folderId:i,error:d}=e,u=babelHelpers.objectWithoutProperties(e,["messageGroups","messageBodiesMap","messageMetadataMap","messageGroupList","hasMoreItems","folderId","error"]);I(Object(ae.a)(babelHelpers.extends({initialMailboxAttributes:r},u,{bizMboxId:S,geminiAd:T},d?{folderId:i,messageGroupList:a,hasMoreItems:o,launchError:c.Cb.MESSAGE_ACCESS_FAILED}:{listId:l,messageGroups:t,messageBodiesMap:s,messageMetadataMap:n})))}).catch(e=>I(Object(ae.b)({error:e})))},(e,t,s)=>{const{route:n,config:{allowUsernameAndPhoneReg:a=!1,mailboxSwitcher:r}={},encryptedQueryParams:o}=t;if(!n||t.unsyncedDataType!==c.Zd.LAUNCH||-1===[c.Uc.NEW_DRAFT,c.Uc.EDIT_DRAFT].indexOf(n.name))return Promise.resolve();const i=decodeURIComponent(n.params.csid),{dispatch:l}=e,{bizMboxId:d}=s.mailAPIClient;return s.mailAPIClient.request("launch.compose",{csid:i,allowUsernameAndPhoneReg:a,mailboxSwitcher:r}).then(e=>{let s;Object(z.a)(i,"csid is required and should be in the url");const n={csid:i,initialTo:"",initialCc:"",initialBcc:"",initialSubject:"",initialBody:{}};if(e.message){const{id:a,headers:r,folder:{types:o,id:i}}=e.message;if(s=Object(f.s)(i),o[0]&&-1===o[0].indexOf(c.ub.DRAFT)){const{id:s}=Object(re.e)(e.accounts,e.folders);return l(Object(ae.a)(babelHelpers.extends({initialMailboxAttributes:t.mailboxAttributes},e,{folderId:s,launchError:c.Cb.COMPOSE_ACCESS_FAILED}))),Promise.resolve()}Object.assign(n,{initialFrom:r.from,initialTo:r.to,initialCc:r.cc,initialBcc:r.bcc,initialSubject:r.subject,initialBody:{content:e.messageBodiesMap[a].html}})}l(Object(ae.a)(babelHelpers.extends({initialMailboxAttributes:t.mailboxAttributes},e,{listId:s,bizMboxId:d,draftData:n,encryptedQueryParams:o})))}).catch(e=>l(Object(ae.b)({error:e})))},(e,t,s)=>{const{dispatch:n,getState:a}=e,r=a(),{getDraftFolderIdByAccountEmail:o,getDraftFolderIdForPrimaryAccount:i,getFeaturesSelectors:d,getDraftMessageId:u,getGroupIdContainingMessageId:m,isSendRequested:p,doesComposeHaveFatalError:_}=Object(l.b)(r),{isEnabled:h}=d(),E=h(c.mb.COMPOSE_V3),g=h(c.mb.CONVERSATIONS),{from:b,csid:I,lastEditedTimeStamp:A,newContentIds:C=[],showNotification:R,unsyncedDataType:N,rawFiles:M={}}=t,D=R?"messages.saveV3":"messages.autoSaveV3";if(!I||!E||N!==c.Zd.COMPOSE||p(I)||_(I)&&!R)return Promise.resolve();const v=y(r,t),P=o(b.email)||i(),F=Object(f.s)(P),x=C.filter(e=>M[e]),w=babelHelpers.extends({strategy:T.a.STRATEGIES.BROWSER_TO_JEDI,timeout:0},v.files.length?{uploadProgressCallback(e){const{percent:t}=e;L(n,{newFileContentIds:x,percent:parseInt(t,10),csid:I})}}:{});return s.mailAPIClient.request(D,v,w,v.files).then(e=>{const{html:s,htmlAnnotations:a}=t,r=u(I);e.simpleBody={html:s,htmlAnnotations:a},n(Object(S.i)(babelHelpers.extends({},e,{lastEditedTimeStamp:A,csid:I,listId:F,conversationsMode:g,draftMessageId:r,draftFolderId:P,previousStreamItem:{listId:F,id:m(r)},streamId:Object(O.a)([F]),streamItem:{listId:F,id:g?e.message.conversationId:e.message.id}})))}).catch(e=>n(Object(S.g)({lastEditedTimeStamp:A,csid:I,listId:F,newContentIds:C,error:e,showNotification:R})))},(e,t,s)=>{const{dispatch:n,getState:a}=e,r=a(),{getSendFolderIdByAccountEmail:o,getSendFolderIdForPrimaryAccount:i,getMessagesSelectors:d,getFeaturesSelectors:m,getDraftMessageId:p,getRoute:_,canSendDraft:h,getDraftErrors:E,getCaptcha:g,isSendRequested:b,isSent:I,didAttachmentUploadFail:f,getGroupIdContainingMessageId:C,getMainStreamListIds:R,getReplyingToMessageId:N}=Object(l.b)(r),{isEnabled:M,getSetting:D}=m(),L=M(c.mb.COMPOSE_V3),v=D(c.nd.RIGHT_RAIL_UPSELL_VERSION),P=M("autoRightRailCollapsed"),F=("showOnSend"===v||"showOnSendWithAltMsg"===v)&&!P,{csid:x,from:w,lastEditedTimeStamp:k,attachmentsInfo:H=[],listId:U,unsyncedDataType:j}=t;if(!x||!L||j!==c.Zd.COMPOSE||I(x)||!b(x))return Promise.resolve();const G=y(r,t);if(E(G))return Promise.reject();const B=_(),V=p(x),W=M(c.mb.CONVERSATIONS),q=o(w.email)||i(),z=N(x),Z=R(B),K=Z[0],Y=Object(O.a)(Z),X=C(z||V),$={strategy:T.a.STRATEGIES.BROWSER_TO_JEDI,timeout:0};if(G.sentFolderId=q,G.secure=!m().isEnabled(c.nd.SHOW_IMAGES),h({csid:x,lastEditedTimeStamp:k,attachmentsInfo:H})){let e;return W&&(e=d().getConversationId(V)),s.captchaClient.processCaptcha(Object(u.a)(g(V)||{},"captchaPayload.createResponse.Content",{})).then(e=>s.mailAPIClient.request("messages.send",babelHelpers.extends({},G,{messageId:V,captchaAnswer:e}),$,G.files)).then(t=>n(Object(S.l)(babelHelpers.extends({},t,{message:babelHelpers.extends({},t.message,{folder:{id:q},conversationId:e}),route:B,csid:x,listId:K,streamId:Y},X?{streamItem:{id:X,listId:K,messageIds:[V||t.message.id]}}:null,{destinationFolderId:q,lastEditedTimeStamp:k,sentFolderId:q,conversationsMode:W})))).then(()=>{if(F)return n(Object(A.n)({onMessageSend:!0}))}).catch(e=>n(Object(S.j)({csid:x,listId:U,groupId:X,lastEditedTimeStamp:k,error:e})))}const Q=H.filter(e=>f(e.contentId));return Q.length?Promise.resolve().then(()=>{n(Object(S.j)({csid:x,lastEditedTimeStamp:k,listId:U,groupId:X,error:{invalidAttachments:Q}}))}):s.mailAPIClient.request("messages.saveAndSend",G,$,G.files).then(e=>{const t=Object(u.a)(e,"message.captcha");return t?s.captchaClient.processCaptcha(Object(u.a)(t,"captchaPayload.createResponse.Content",{})).then(t=>s.mailAPIClient.request("messages.send",babelHelpers.extends({},G,{captchaAnswer:t,messageId:Object(u.a)(e,"message.id")}),$,G.files).then(()=>e)):Promise.resolve(e)}).then(e=>n(Object(S.f)(babelHelpers.extends({},e,{message:babelHelpers.extends({},e.message,{folder:{id:q}}),csid:x,listId:K,streamId:Y},X?{streamItem:{id:X,listId:K,messageIds:[V||e.message.id]}}:null,{destinationFolderId:q,lastEditedTimeStamp:k,sentFolderId:q,conversationsMode:W},t.unsubFromMessage?{unsubFromMessage:babelHelpers.extends({},t.unsubFromMessage,{unsubOption:{unsubscribed:!0}})}:null)))).then(()=>{if(F)return n(Object(A.n)({onMessageSend:!0}))}).catch(e=>n(Object(S.j)(babelHelpers.extends({csid:x,listId:U,groupId:X,lastEditedTimeStamp:k,error:e},t.unsubFromMessage?{unsubFromMessage:babelHelpers.extends({},t.unsubFromMessage,{unsubOption:{unubscribed:!1}})}:null))))},function(e,t,s){const{dispatch:n,getState:a}=e,{getFeaturesSelectors:r,getSelectedMailboxId:o,getMessagesSelectors:i,isDraftMessage:d,getCurrentListId:u,getCardConversationIdsFromMessageGroupId:m}=Object(l.b)(a()),p=o(),_=r(),{isFallback:h=!1,messageIds:E=[],secure:g=!0,full:b=!1,messageGroupId:I,draftCsid:f,prefetchMode:S,retryCount:A=0}=t;if(t.unsyncedDataType!==c.Zd.MESSAGE_ITEM_TO_FETCH)return Promise.resolve();const T=u(),C=_.isEnabled("fetchFullBody"),O=_.isEnabled(c.mb.CONVERSATIONS),R=_.isEnabled(c.mb.COUPON_CARD_EXTRACTIONS),N=_.isEnabled(c.mb.FLIGHT_CARD_EXTRACTIONS),M=_.isEnabled(c.mb.EARNY_CARD_EXTRACTIONS),D=_.isEnabled(c.mb.EBAY_WARRANTY_UPSELL),y=_.isEnabled(c.mb.PLA_ADS_FOR_RECOMMENDATION_EMAILS),{messageIds:L,draftMessageIds:v,cardConversationIds:P}=E.reduce(({messageIds:e,draftMessageIds:t,cardConversationIds:s},n)=>{const a=i().getDecos(n),r=i().getCardConversationId(n);return d(n)?t.push(n):e.push(n),r&&(R&&Object(_e.l)(a,c.dc.CPN)||M&&Object(_e.l)(a,c.dc.POE)&&Object(_e.l)(a,c.dc.ORD)||N&&Object(_e.l)(a,c.dc.FLR)||D&&Object(_e.l)(a,c.dc.ORD)||y&&(Object(_e.l)(a,c.dc.ORD)||Object(_e.l)(a,c.dc.PKG)))&&s.push(r),{messageIds:e,draftMessageIds:t,cardConversationIds:s}},{messageIds:[],draftMessageIds:[],cardConversationIds:[]}),F=Boolean(v.length)||!O||b||C,x=function({shouldFetchFullBody:e,cardConversationIds:t=[],messageGroupId:s,isFallback:n,draftCsid:a,prefetchMode:r}){let o;if(o=r?e?"messages.prefetchGetBodiesFull":"messages.prefetchGetBodies":e?"messages.getBodiesFull":"messages.getBodies",t.length>0)switch(o){case"messages.getBodies":o="messages.getExtractedBodies";break;case"messages.getBodiesFull":o="messages.getExtractedBodiesFull";break;case"messages.prefetchGetBodies":o="messages.prefetchGetExtractedBodies";break;case"messages.prefetchGetBodiesFull":o="messages.prefetchGetExtractedBodiesFull"}return s?o="messageGroups.get":a&&(o="messages.getCompose"),n?o+"Fallback":o}({shouldFetchFullBody:F,cardConversationIds:P,messageGroupId:I,isFallback:h,draftCsid:f,prefetchMode:S});return I||f?s.mailAPIClient.request(x,{mailboxId:p,isConversation:O,messageGroupId:I,csid:f,cardConversationIds:m(I),full:F,secure:g}).then(e=>{n(Object(pe.f)({listId:T,secure:g,full:F,messageGroup:e.messageGroup,messageBodiesMap:e.messageBodiesMap,messageMetadataMap:e.messageMetadataMap,response:e.response||{}}))}).catch(e=>{n(Object(pe.e)({listId:T,messageGroupId:I,csid:f,error:e}))}):s.mailAPIClient.request(x,{mailboxId:p,messageIds:L,draftMessageIds:v,cardConversationIds:P,full:F,secure:g,prefetchMode:S},{retryCount:A}).then(e=>{n(Object(pe.d)({listId:T,full:F,secure:g,messageBodiesMap:e.result.messageBodiesMap,messageMetadataMap:e.result.messageMetadataMap,errorMessageIds:e.error&&e.error.messageIds||[],response:e.result.response||{}}))}).catch(e=>{n(Object(pe.c)({listId:T,messageIds:E,error:e}))})},function(e,t,{bootcampClient:s}){const{dispatch:n,getState:a}=e,{doesSelectedAccountExist:r,getRoute:o,getEmailOfSelectedAccount:i,getFeaturesSelectors:d,getListsSelectors:m}=Object(l.b)(a()),{doesListExist:p,getListStatus:_}=m(),{getSetting:h,isEnabled:E}=d(),g=o();let{listId:b}=t;const I=E(c.mb.PENSIEVE),S=E(c.mb.PLA_SEARCH_ADS),A=E(c.mb.SHOW_RECENT_SUGGESTIONS);if(t.unsyncedDataType!==c.Zd.CONTACT_DETAILS&&(b=Object(f.t)(g)),(t.unsyncedDataType!==c.Zd.LIST_TO_UPDATE||g.name!==c.Uc.SEARCH||t.listId!==b||p(b)&&_(b)!==c.Rc.DOES_NOT_EXIST&&!t.isStale)&&t.unsyncedDataType!==c.Zd.CONTACT_DETAILS)return Promise.resolve();const T=r()?i():null;return T?new Promise((e,t)=>{let r={apiName:"searchStream"};const o=!Object(f.E)(b)&&A,i=babelHelpers.extends({},Object(f.h)(b,S),{limit:h(c.nd.SEARCH_FIRST_PAGE_COUNT),threads:E("conversations"),accountemail:`smtp:${T}`,sourceTag:h(c.nd.SEARCH_SOURCE_TAG),plaBucketId:E(c.mb.PLA_SEARCH_ADS)&&h(c.nd.PLA_SEARCH_ADS_BUCKET_ID),ac:E(c.mb.ADS)?2:0,ui:o?1:0});I&&(i.appid=c.ke),E(c.mb.FILTER_COMMERCIAL_IMAGES)&&(i.fci=!0);const d=s.createStream("searchStream",i,e=>r=e);d.on("data",e=>{if(200!==e.status&&e.error&&"BootcampApiClient.SearchError"===e.error.name)Me.a.feature("bootcamp_client_stream_call",r).logFailure(e.error);else{const t={listId:b,response:e},s=Object(u.a)(e,"PLAADS.WITH_KEYWORD.items",[]).length,a=!!Object(u.a)(e,"ADS.WITH_KEYWORD.items",[]).length,r=Object(f.p)(b);if(s>0)Object.assign(t,{i13nModel:{mKey:x.e.SEARCH_PLA_AD_FETCHED,sec:x.g.RIGHT_RAIL_PLA_CARD,interactionType:x.d.nav,actionData:{searchKeyword:r,plaAdCount:s}}});else if(a){const s={mKey:x.e.SEARCH_AD_FETCHED,sec:x.g.MSG_LIST_AD,interactionType:x.d.nav,actionData:{searchKeyword:r,hasSearchAdImg:!!Object(u.a)(e,"ADS.WITH_KEYWORD.items.0.pencilAd.adImg")}};Object.assign(t,{i13nModel:s})}n(Object(Ne.c)(t))}}),d.on("end",()=>{const{getListsSelectors:t}=Object(l.b)(a()),{doesListExist:s,isListEmpty:i,getListStatus:d}=t();if(s(b)&&d(b)!==c.Rc.LOADING){const t=i(b),s=Object(f.x)(b),a={listId:b,navigateFromToAll:t&&!s&&Object(f.r)(b)===c.Gb.FROM,streamId:b,addToRecentSearch:o};t&&!s&&Object(f.q)(b)===c.Fb.MESSAGES&&(a.i13nModel={isBeaconEvent:!0,eventName:x.a.SEARCH_ZERO_RESULTS,etrg:x.c.CHANGE,outcome:x.b.SEARCH}),n(Object(Ne.d)(a)),e()}else n(Object(Ne.a)({listId:b})),Object(De.a)(Me.a,c.p.BootcampClient,r,new ye.a("BootcampApiClient.SearchChunkError",{errorCode:"SEARCH_CHUNK_ERROR"}))}),d.on("error",e=>{e=s.handleCommonError(e,"mailSearch"),n(Object(Ne.a)({listId:b,error:e})),t(e)})}):Promise.resolve()},(e,t,s)=>{const{dispatch:a,getState:r}=e,{getSelectedMailboxId:o,getFeaturesSelectors:i,getSelectedAccountId:d,getRoute:u,getFolderHighestModSeq:m,isAppVisible:p,getFolderIdsByFolderTypeForAccount:_,getStaleFolderIds:h,shouldUpdateFolders:E,getListsSelectors:g,getAccountSelectors:b,isComposeFocused:I}=Object(l.b)(r()),{getSetting:S,isEnabled:A}=i(),T=u(),C=Object(f.t)(T),{doesListExist:O,getListStatus:R}=g(),N=Object(f.m)(C),M=Object(f.J)(T),D=T.name===c.Uc.SEARCH,y=o(),{getPrimaryAccountId:L}=b();if(t.unsyncedDataType!==c.Zd.LIST_TO_UPDATE||!N&&!M||Object(f.K)(C)||!y||D)return Promise.resolve();const v=Object(f.D)(C),P=Object(f.r)(C),F=Object(f.l)(C),x=d(),[w]=_(c.ub.ALERTSTORE,L()),k=S(c.nd.MESSAGE_FETCH_COUNT),H=A(c.mb.CONVERSATIONS),U=A(c.mb.ROTATE_ADS_ON_CHECK_MAIL)&&!I(),j={highestModSeq:t.isStale||M?0:m(N),resetUnseenCount:p(),alertStoreHighestModSeq:w?m(w):0,accountId:x,folderId:N,mailboxId:y,sortOrder:v,filter:P,count:k,offset:0,conversationsMode:H,excludeFolderTypes:F},G=O(C)&&R(C)!==c.Rc.DOES_NOT_EXIST;return s.mailAPIClient.request(G?"checkMail":"folderChange.getList",j).then(function({folders:e,accountAlerts:s,messageGroupList:r,hasMoreItems:o}){const i=e?h(e):[];if(!t.isStale&&G&&!i.length&&!E(e))return t.forceSync&&a({type:n.qb,listId:C,rotateAds:U}),Promise.resolve();a({type:G?n.rb:n.nb,folders:e,staleFolderIds:i,accountAlerts:s,listId:C,streamId:C,messageGroupList:r,hasMoreItems:o,conversationsMode:H,isAppVisible:p(),rotateAds:G&&U})}).catch(function(e){a({type:G?n.pb:n.mb,listId:C,error:e})})},(e,t,s)=>{const{dispatch:n,getState:a}=e,{getAdsSelectors:r}=Object(l.b)(a()),{getGeminiAdDataFromCreativeId:o}=r();if(t.dataType!==c.Zd.GEMINI_AD_ASSET)return Promise.resolve();const{creativeId:i,url:d}=t;return s.geminiAPIClient.getSponsoredAsset({url:d}).then(e=>{let t=e.text||"";const{nativeAd:s={}}=o(i)||{},{embeddedLandingUrls:a={}}=s;Object.keys(a).forEach(e=>{const{url:s="",landingPage:n="",label:r}=a[e];if("fsubmit"!==r){const a=s.replace("$(AD_POSN)",encodeURIComponent("pp=n,pi=1,st=p"));t=t.replace(`${n}#$embeddedLandingUrl_${e}`,a)}}),n(Object(A.m)({creativeId:i,asset:t}))}).catch(e=>n(Object(A.l)({creativeId:i,error:e,url:d})))},(e,t,s)=>{const{dispatch:n}=e;return t.dataType!==c.Zd.RELATED_SEARCHES_TO_FETCH?Promise.resolve():s.relatedSearchesAPIClient.request().then(e=>n(Object(fe.c)({queries:Object(u.a)(e,"body.queriesPerDomain",{})}))).catch(e=>n(Object(fe.b)(e)))},function({dispatch:e},{dataType:t="",senderEmail:s="",latlong:n=""},{bootcampClient:a}){return t===c.Zd.BUSINESS_LISTING&&s?a.request("getLocalStores",{senderEmail:s,latlong:n}).then(({nearbyListing:t})=>e(Object(U.c)({senderEmail:s,nearbyListing:t}))).catch(()=>e(Object(U.b)({senderEmail:s}))):Promise.resolve()},function({dispatch:e,getState:t},{unsyncedDataType:s="",cardConversationId:n=""},{mailAPIClient:a}){if(s!==c.Zd.PARENT_MESSAGE_TO_FETCH)return Promise.resolve();const{getSelectedMailboxId:r,getCurrentListId:o}=Object(l.b)(t()),i=r();return a.request("couponCards.getParentMessage",{mailboxId:i,cardConversationId:n}).then(([t])=>{e(Object(b.p)({listId:o(),hasMoreItems:!1,messageGroup:t}))}).catch(t=>e(Object(b.n)(t)))},function({dispatch:e,getState:t},s,n){const{wssid:a,accountId:r,unsyncedDataType:o,email:d,provider:u}=s;if(o!==c.Zd.ACCOUNT_TO_REAUTH)return Promise.resolve();const{getAlertIdByAccountId:m}=Object(l.b)(t()),p=babelHelpers.extends({},a?{wssid:a}:{});return n.mailAPIClient.request("account.updateAlerts",{alertId:m(r)},p).then(({accountAlerts:t})=>{e(t&&t.length>0?Object(i.m)({accountAlerts:t,accountId:r}):Object(i.l)({accountId:r}))}).catch((t={})=>{e(Object(i.l)({error:t.statusCode,provider:u,email:d,accountId:r}))})},function({dispatch:e,getState:t},{unsyncedDataType:s="",updateBusinessListingForEmail:n=""}){const{getEnvironmentSelectors:a}=Object(l.b)(t());return s!==c.Zd.GEO_LOCATION?Promise.resolve():new Promise((e,t)=>navigator.geolocation.getCurrentPosition(e,t,{timeout:1/0})).then(({coords:{latitude:t,longitude:s}})=>Object(I.b)(`${t},${s}`).checkIfNot(e=>e===a().getGeoLocation()).unbox(t=>e(Object(se.c)({latlong:t,updateBusinessListingForEmail:n})),()=>e(Object(se.a)("Location has not changed")))).catch(t=>e(Object(se.a)(t)))},(e,t,s)=>{const{dispatch:a}=e;return t.dataType!==c.Zd.PAYMENTS_CONTENT_TO_FETCH?Promise.resolve():s.paymentClient.request("retrieveSubscription").then(e=>{a({type:n.Mg,payload:e.body,status:e.status})}).catch(function(e){a({type:n.Lg,payload:e})})},qe,(e,t,s)=>{if(t.unsyncedDataType!==c.Zd.CONTACT_CARD)return Promise.resolve();const{dispatch:n,getState:a}=e,{email:r,isCompose:o}=t;return s.autoSuggestClient.contactDetails({email:r,isCompose:o}).then(e=>{const t=Object(l.b)(a()).isFeatureEnabled(c.mb.CONTACT_CARD_TRACKING),s={email:r,contactDetails:e};if(t&&e&&!e.website){const e=r.split("@")[1];Object.assign(s,{i13nModel:{mKey:x.e.CONTACT_CARD_LOAD_FAILED,sec:x.g.RIGHT_RAIL,actionData:{domain:e,email:r}}})}n(Object(P.e)(s))}).catch(()=>n(Object(P.c)({email:r})))},(e,t,s)=>{const{unsyncedDataType:n,listId:a,count:r}=t,{dispatch:o,getState:i}=e;if(n!==c.Zd.CONTACTS_LIST)return Promise.resolve();if(Object(f.r)(a)!==c.Gb.TOP_CONTACTS)return Promise.resolve();const{getEmailOfSelectedAccount:d}=Object(l.b)(i()),u=d();return s.autoSuggestClient.topContacts({email:u,maxCount:r}).then(e=>o(Object(P.h)({listId:a,contacts:e,unsyncedDataType:n}))).catch(e=>o(Object(P.g)({err:e,listId:a,unsyncedDataType:n})))},(e,t,s)=>{const{unsyncedDataType:n,listId:a,count:r,characters:o}=t,{dispatch:i}=e;if([c.Zd.CONTACTS_LIST,c.Zd.CONTACTS_CATEGORY_LIST].indexOf(n)<0)return Promise.resolve();const l=Object(f.r)(a);return[c.Gb.PEOPLE,c.Gb.NOT_PEOPLE,c.Gb.USER_CREATED_CONTACTS].indexOf(l)<0?Promise.resolve():s.autoSuggestClient.alphabeticalContacts({count:r,characters:o,type:Object(w.j)(l)}).then(e=>i(Object(P.h)(babelHelpers.extends({listId:a},e,{characters:o,count:r,unsyncedDataType:n})))).catch(e=>i(Object(P.g)({err:e,listId:a,characters:o,count:r,unsyncedDataType:n})))},Ee,(e,t,s)=>{const{unsyncedDataType:n,listId:a}=t,{dispatch:r,getState:o}=e;if(!Object(l.b)(o()).getEnvironmentSelectors().getIsXobnified()||n!==c.Zd.CONTACTS_LIST)return Promise.resolve();const i=Object(f.p)(a);return i?s.autoSuggestClient.simpleSearch({query:i}).then(e=>r(Object(P.h)({listId:a,contacts:e,unsyncedDataType:n}))).catch(e=>r(Object(P.g)({err:e,listId:a,unsyncedDataType:n}))):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:n,provider:a,spid:r,appRootPath:o,scope:i}=t,{dispatch:l}=e;return n!==c.Zd.SOCIAL_ACCOUNT_AUTH_URL?Promise.resolve():(Object(de.b)()||Object(z.a)("Credstore social account linking needs be called from the browser"),s.credstoreClient.link({provider:a,spid:r,redirectUrl:`https://${window.location.host}${o}/oAuth`,isCorpUser:window.AppBootstrapData.partner===c.C,scope:i}).then(({authorizeUrl:e,authorizeURL:t})=>l(Object(Ge.b)({url:e||t,provider:a}))).catch(e=>l(Object(Ge.a)({error:e,provider:a}))))},(e,t,s)=>{const{unsyncedDataType:n,provider:a}=t,{dispatch:r}=e;return n!==c.Zd.SOCIAL_ACCOUNT_IMPORT?Promise.resolve():s.autoSuggestClient.triggerProfileImport({provider:a}).then(()=>r(Object(Ge.d)({provider:a}))).catch(e=>r(Object(Ge.c)({provider:a,error:e})))},(e,t,s)=>{const{unsyncedDataType:n}=t,{dispatch:a}=e;return n!==c.Zd.SOCIAL_ACCOUNT_STATUS?Promise.resolve():s.autoSuggestClient.formatted({appId:c.ge},c.Ad).then(e=>a(Object(Ge.f)({response:e}))).catch(e=>a(Object(Ge.e)({error:e})))},(e,t,s)=>{const{unsyncedDataType:n,editToken:a,listIds:r}=t,{dispatch:o}=e;return n===c.Zd.CONTACT_DELETE&&a?s.autoSuggestClient.deleteContacts({editTokenList:[a]}).then(e=>{o(Object(P.a)({contact:e[0],listIds:r}))}).catch(e=>o(Object(P.b)({err:e,editToken:a}))):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:n,newContact:a,image:r,timestamp:o}=t,{dispatch:i}=e;return n!==c.Zd.CONTACT_CREATE?Promise.resolve():s.autoSuggestClient.createContact({newContact:a,image:r}).then(e=>i(Object(F.j)({contact:e,timestamp:o}))).catch(e=>i(Object(F.i)({err:e,contact:a,timestamp:o})))},(e,t,s)=>{const{unsyncedDataType:n,originalContact:a,newContact:r}=t,{dispatch:o}=e;return n!==c.Zd.CONTACT_SAVE?Promise.resolve():s.autoSuggestClient.contactDetailsEdit({originalContact:a,newContact:r}).then(e=>o(Object(F.f)({contact:e}))).catch(e=>o(Object(F.d)({err:e,contact:a})))},(e,t,s)=>{const{unsyncedDataType:n,editToken:a,image:r,id:o}=t,{dispatch:i}=e;return n!==c.Zd.CONTACT_PHOTO_UPLOAD?Promise.resolve():s.autoSuggestClient.contactUploadPhoto({editToken:a,image:r}).then(e=>i(Object(F.h)({contact:e}))).catch(e=>i(Object(F.g)({err:e,contact:{image:r,id:o}})))},function({getState:e,dispatch:t},s,n){const{baseName:a,domain:r,unsyncedDataType:o}=s;if(o!==c.Zd.BASENAME_TO_CREATE)return Promise.resolve();const{getFeaturesSelectors:i}=Object(l.b)(e()),d=i().isEnabled("deaSuggestionJWS");return n.mailAPIClient.request(d?"settings.setBaseNameJWS":"settings.setBaseName",{baseName:a,domain:r}).then(({suggestions:e})=>{t(e&&e.length?Object(ke.b)(babelHelpers.extends({},s,{suggestions:e})):Object(ke.i)(s))}).catch(e=>t(Object(ke.h)(babelHelpers.extends({},s,{err:e}))))},(e,{unsyncedDataType:t,taskId:s,pollCount:n=0,progress:a,abort:r,actionPayload:o},i)=>{if(t!==c.Zd.ASYNC_TASK_STATUS)return Promise.resolve();const{dispatch:d,getState:u}=e,{getFeaturesSelectors:m}=Object(l.b)(u()),p=m().getSetting("asyncTaskPollCount");if(!s)return Promise.resolve();const{successAction:E,failureAction:g,allSelected:b,streamId:I,itemsToUpdate:f,triageActionType:S,folderId:A,count:T,conversations:C}=o,O=I&&f?h({streamId:I,itemsToUpdate:f}):void 0;return r?i.mailAPIClient.request("task.abort",{taskId:s}).then(()=>d(babelHelpers.extends({},E,{undoAction:E.undoAction||O,progress:a}))).catch(()=>d(Object(_.a)({triageActionType:S,folderId:A,count:T,conversations:C,taskId:s,progress:a}))):n>=p?(d(Object(_.b)({taskId:s})),Promise.resolve()):i.mailAPIClient.request("task.status",{taskId:s}).then(({task:e})=>{switch(e.status){case c.z.PENDING:return d(Object(_.d)(babelHelpers.extends({},e,{pollCount:n+1})));case c.z.COMPLETED:return d(babelHelpers.extends({},E,{undoAction:E.undoAction||O,progress:e.progress}));case c.z.FAILED:default:return d(g)}}).catch(()=>d(a>0&&b?babelHelpers.extends({},E,{undoAction:E.undoAction||O,progress:a}):g))},(e,t,s)=>{if(t.unsyncedDataType!==c.Zd.FOLDER)return Promise.resolve();const{updateType:a}=t;return a===n.th?((e,t,s)=>{const{dispatch:n,getState:a}=e,{folderId:r,folderName:o,filters:i,originalFolderName:c,newFolderName:d,subfolders:u}=t,m=Object(l.b)(a()).getSelectedMailboxId();return s.mailAPIClient.request("folders.rename",{mailboxId:m,folderId:r,folderName:o,filters:i,subfolders:u}).then(({folder:e,subfolders:t})=>{n(Object(ee.h)({folder:e,subfolders:t,folderId:r,originalFolderName:c,newFolderName:d}))}).catch(e=>{n(Object(ee.g)({folderId:r,newFolderName:d,originalFolderName:c,error:e}))})})(e,t,s):a===n.bd?((e,t,s)=>{const{dispatch:n}=e,{folderId:a,folderName:r,i13nModel:o={}}=t;return s.mailAPIClient.request("folders.delete",{folderId:a}).then(()=>{n(Object(ee.e)({folderId:a,folderName:r,i13nModel:o}))}).catch(e=>{n(Object(ee.d)({folderId:a,folderName:r,error:e}))})})(e,t,s):Promise.resolve()},function({dispatch:e,getState:t},{location:s,unsyncedDataType:n},a){if(n!==c.Zd.LOCATION_TO_UPDATE)return Promise.resolve();const r=we.a.determine(),o=r&&r.name();Object(de.b)()&&new He.a({window:window}).determineClientTimeZone();const{getFeaturesSelectors:i}=Object(l.b)(t());let d;d=i().isEnabled(c.mb.UDB_MIGRATION_COMPLETE)?a.mailAPIClient.request("settings.saveWebMailboxAttributes",{attributes:[{id:c.Yb.TIMEZONE,value:`${s.timezone.name}|${s.city||""}|${s.state||""}|${s.country||""}`},{id:c.Yb.LAST_OBSERVED_TIMEZONE,value:`${o||""}|${s.timezone.name||""}`}]}):a.udbClient.write({[q.a.YM_TZ]:JSON.stringify({city:s.city,state:s.state,country:s.country,timezone:{name:s.timezone.name}}),[q.a.YM_LAST_OBSERVED_TZ]:JSON.stringify({client:o,server:s.timezone.name})});return d.then(()=>{e(Object(ke.E)({})),window.setTimeout(()=>window.location.reload(),1500)},t=>e(Object(ke.D)({err:t})))},function({dispatch:e,getState:t},{value:s,unsyncedDataType:n},a){if(n!==c.Zd.CONVERSATION_MODE_TO_UPDATE)return Promise.resolve();const{getFeaturesSelectors:r}=Object(l.b)(t()),o=r().getSetting(c.nd.TOGGLE_CONV_RELOAD_DELAY);let i;return(i=r().isEnabled(c.mb.UDB_MIGRATION_COMPLETE)?a.mailAPIClient.request("settings.saveWebMailboxAttributes",{attributes:[{id:c.Yb.CONVERSATIONS,value:s}]}):a.udbClient.write({[q.a.YM_MAIL_CONV]:s=s?q.b[q.a.YM_MAIL_CONV].ON:q.b[q.a.YM_MAIL_CONV].OFF})).then(()=>{e(Object(ke.B)({value:s})),window.setTimeout(()=>window.location.reload(),o)}).catch(t=>e(Object(ke.A)({err:t})))},he,(e,t,s)=>{const{dispatch:n}=e,{messageId:a,params:r,unsyncedDataType:o}=t;return o!==c.Zd.RSVP_FETCH?Promise.resolve():s.calendarClient.getInviteInfo(r).then(e=>{n(e.startTime&&e.endTime&&e.uid?Object(E.c)({messageId:a,inviteInfo:e}):Object(E.b)({messageId:a,error:new Error("Mandatory field missing")}))}).catch(e=>n(Object(E.b)({messageId:a,error:e})))},(e,t,s)=>{if(t.dataType!==c.Zd.RAW_MESSAGE)return Promise.resolve();const{messageId:n}=t,{getState:a}=e,{getSelectedMailboxId:r}=Object(l.b)(a()),o=r(),{wssid:i,appId:d}=s.mailAPIClient,u=s.mailAPIClient.ymreqidGenerator.generate();return window.open(`https://apis.mail.yahoo.com/ws/v3/mailboxes/@.id==${o}/messages/@.id==${n}/content/rawplaintext?appId=${d}&ymreqid=${u}&wssid=${i}`,"_blank"),Promise.resolve()},function(e,t,s){if(t.unsyncedDataType!==c.Zd.VACATION_RESPONSE_SETTINGS)return Promise.resolve();const{dispatch:n}=e,{value:a,actionType:r,requestTimestamp:i}=t,{mailAPIClient:l}=s;return l.request("settings.saveVacationPreferences",{payload:a}).then(()=>{n(Object(o.g)({actionType:r,requestTimestamp:i}))}).catch(()=>{n(Object(o.f)({requestTimestamp:i}))})},function({dispatch:e},{unsyncedDataType:t,listId:s,emailAddress:a},{bootcampClient:r}){return t!==c.Zd.RELATED_COUPONS_TO_FETCH?Promise.resolve():r.request("getRelatedCoupons",{from:a,limit:4,decoId:["CPN"],start:1e3*Object(H.r)(new Date),end:Math.round((new Date).getTime())+3e4*H.a}).then(({cardGroupList:t=[],hasMoreItems:a=!1})=>{e({type:n.tc,listId:s,cardGroupList:t,hasMoreItems:a})}).catch(t=>{e({type:n.sc,listId:s,error:t})})},function({dispatch:e},{unsyncedDataType:t,cardMessageId:s=""},{bootcampClient:a}){const r=Object(f.e)({referrer:c.Hb.COUPON_RECOMMENDATIONS,keyword:s});if(t!==c.Zd.COUPON_RECOMMENDATIONS_TO_FETCH||""===s)return Promise.resolve();return a.request("getCouponRecommendations",{mid:s}).then(t=>{e({type:n.tc,listId:r,cardGroupList:t.messageGroupsResponses[0].cardGroupList,hasMoreItems:t.messageGroupsResponses[0].hasMoreItems,parentMessagesMap:t.parentMessagesMap})}).catch(t=>{e({type:n.sc,listId:r,error:t})})},(e,t,s)=>{const{dispatch:a,getState:r}=e,{getSelectedMailboxId:o,getSelectedAccountId:i,getRoute:d,isFeatureEnabled:u,getSetting:m}=Object(l.b)(r()),p=d(),_=Object(f.t)(p),h=p.name===c.Uc.SEARCH;if(u(c.mb.BOOTCAMP_COUPONS)||t.unsyncedDataType!==c.Zd.LIST_TO_UPDATE||Object(f.q)(_)!==c.Fb.COUPON_CARDS||h&&u(c.mb.COUPONS_SMART_VIEW_SEARCH))return Promise.resolve();const E=o(),g=i(),b=c.Xc,I=m(c.nd.COUPON_CARDS_FETCH_COUNT),S=Object(H.r)(new Date),A=Math.round((new Date).getTime()/1e3)+30*H.a,T=Object(f.r)(_),C=Object(f.Q)(_,{listFilter:T===c.Gb.ALL_COUPON_CARDS?c.Gb.SAVED_COUPON_CARDS:c.Gb.ALL_COUPON_CARDS}),O=[Object(f.r)(_),Object(f.r)(C)],R=Object(f.l)(_);return s.mailAPIClient.request("consolidatedCoupons.getList",{mailboxId:E,filter:O,count:I,offset:[0,0],startCardDate:S,endCardDate:A,sortOrder:b,accountId:g,excludeFolderTypes:R}).then(e=>{e.messageGroupsResponses.forEach(e=>{const t=Object(f.Q)(_,{listFilter:e.filter});a({type:n.tc,listId:t,cardGroupList:e.cardGroupList,hasMoreItems:e.hasMoreItems,offset:e.offset})})}).catch(e=>{a({type:n.sc,listId:_,error:e})})},function(e,{unsyncedDataType:t,decoId:s=[],listId:a,isSearch:r,keyword:o,emailAddress:i},{bootcampClient:d}){const{dispatch:u,getState:m}=e,{getSelectedMailboxId:p,getSelectedAccountId:_,getSetting:h,getListsSelectors:E,doesListExist:g}=Object(l.b)(m()),{getListNextItemsUrl:b,getListOffset:I}=E();if(t!==c.Zd.COUPONS_TO_FETCH)return Promise.resolve();const f=g(a),S={nextItemsUrl:f?b(a):"",mailboxId:p(),accountIds:[_()],order:c.Yc,limit:h(c.nd.COUPON_CARDS_FETCH_COUNT),start:Math.min(Object(H.s)({offset:0}),Date.now()),end:1e3*(Math.round((new Date).getTime()/1e3)+30*H.a),offset:f?I(a):0,decoId:s,query:o,from:i},A=-1===s.indexOf("TAG")?"getAllCouponsForSmartViewSearch":"getSavedCouponsForSmartViewSearch",T=-1===s.indexOf("TAG")?"getAllCouponsForSmartView":"getSavedCouponsForSmartView";return d.request(r?A:T,S).then(({cardGroupList:e=[],nextItemsUrl:t="",offset:s=0,totalHits:o=0,hasMoreItems:i=!1})=>u({type:n.tc,listId:a,cardGroupList:e,hasMoreItems:i,offset:s,totalHits:o,nextItemsUrl:t,addToRecentSearch:r})).catch(e=>u({type:n.sc,listId:a,error:e}))},le,({dispatch:e,getState:t},{unsyncedDataType:s=""},{bootcampClient:n})=>{if(s!==c.Zd.RETAILERS)return Promise.resolve();const{getSelectedAccountId:a,getSetting:r}=Object(l.b)(t()),o=a(),i=r(c.nd.QUOTIENT_DEBUG_FLAG),d=[];return d.push(Object(f.Q)("{}",{listContentType:c.Fb.GROCERY_STORES,listFilter:c.Gb.LINKED_GROCERY_STORES,accountIds:[o],referrer:c.Hb[c.zd.GROCERIES]})),d.push(Object(f.Q)("{}",{listContentType:c.Fb.GROCERY_STORES,listFilter:c.Gb.UNLINKED_GROCERY_STORES,accountIds:[o],referrer:c.Hb[c.zd.GROCERIES]})),n.request("getRetailers",{quotientDebugFlag:i}).then(({errorDescription:t="",retailers:s=[],statusCode:n})=>{0!==s.length&&s.sort((e,t)=>e.displayName.localeCompare(t.displayName)),e(200===n?Object(Te.s)({retailers:s,listIds:d,hasMoreItems:!1}):Object(Te.r)(d,t))}).catch(t=>e(Object(Te.r)(d,t)))},function({dispatch:e},{unsyncedDataType:t=""},{bootcampClient:s}){return t!==c.Zd.SR_RETAILERS?Promise.resolve():s.request("getSRRetailers").then(({retailers:t})=>e(Oe(t))).then(({errorDescription:t="",retailers:s=[],statusCode:n})=>e(200===n?Oe({retailers:s}):Re(t))).catch(t=>e(Re(t)))},({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:n="",loyaltyId:a="",parentName:r=""},{bootcampClient:o})=>{if(s!==c.Zd.RETAILER_LINK)return Promise.resolve();const{getSelectedAccountId:i,getRetailersSelectors:d}=Object(l.b)(t()),{getDisplayNameFromRetailerId:u}=d(),m=u(n),p=i(),_=[],h={mKey:x.e.QTNT_ONBOARD_COMPLETE,sec:x.g.QUOTIENT,actionData:{reason:{featurefamily:c.kb.IC,featurename:c.mb.QUOTIENT,upselltype:r,retailername:m}}};return _.push(Object(f.Q)("{}",{listContentType:c.Fb.GROCERY_STORES,listFilter:c.Gb.LINKED_GROCERY_STORES,accountIds:[p],referrer:c.Hb[c.zd.GROCERIES]})),_.push(Object(f.Q)("{}",{listContentType:c.Fb.GROCERY_STORES,listFilter:c.Gb.UNLINKED_GROCERY_STORES,accountIds:[p],referrer:c.Hb[c.zd.GROCERIES]})),o.request("linkRetailer",{retailerId:n,loyaltyId:a}).then(({errorDescription:t="",errorHint:s="",status:r=!1,statusCode:o})=>e(200===o?Object(Te.f)({retailers:[{id:n,loyaltyId:a,linked:r}],listIds:_,i13nModel:h}):Object(Te.d)(n,t,s,babelHelpers.extends({},h,{mKey:x.e.QTNT_ONBOARD_FAILURE})))).catch(t=>e(Object(Te.d)(n,t,void 0,babelHelpers.extends({},h,{mKey:x.e.QTNT_ONBOARD_FAILURE}))))},({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:n=""},{bootcampClient:a})=>{if(s!==c.Zd.RETAILER_UNLINK)return Promise.resolve();const{getSelectedAccountId:r}=Object(l.b)(t()),o=r(),i=[];return i.push(Object(f.Q)("{}",{listContentType:c.Fb.GROCERY_STORES,listFilter:c.Gb.LINKED_GROCERY_STORES,accountIds:[o],referrer:c.Hb[c.zd.GROCERIES]})),i.push(Object(f.Q)("{}",{listContentType:c.Fb.GROCERY_STORES,listFilter:c.Gb.UNLINKED_GROCERY_STORES,accountIds:[o],referrer:c.Hb[c.zd.GROCERIES]})),a.request("unlinkRetailer",{retailerId:n}).then(({errorDescription:t="",statusCode:s})=>e(200===s?Object(Te.x)({retailers:[{id:n,linked:!1}],listIds:i}):Object(Te.v)(n,t))).catch(t=>e(Object(Te.v)(n,t)))},({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:n="",listId:a="",search:r=""},{bootcampClient:o})=>{if(s!==c.Zd.OFFERS&&s!==c.Zd.MORE_OFFERS)return Promise.resolve();const{doesListExist:i,doesListHasMoreItems:d,getListsSelectors:u}=Object(l.b)(t()),{getListOffset:m,getListOfferType:p}=u();let _=0,h="";s===c.Zd.MORE_OFFERS&&i(a)&&d(a)&&(_=m(a),h=p(a));const E=(t,s)=>o.request("getOffers",{retailerId:n,limit:c.vc,offset:_,offerType:h}).then(({statusCode:n,offers:o=[],hasMoreItems:i=!1,offset:c=0,offerType:l="",errorDescription:d=""})=>{const u=new RegExp("\\b"+Object(Ce.a)(r),"i"),m=r?o.filter(e=>null!==e.brandName.match(u)||null!==e.description.match(u)):o;return e(200===n?t({listId:a,offers:m,hasMoreItems:i,offset:c,offerType:l}):s(a,d))}).catch(t=>e(s(a,t)));return 0===_?E(Te.q,Te.p):E(Te.o,Te.n)},({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:n="",listId:a=""},{bootcampClient:r})=>{if(s!==c.Zd.ACTIVATED_OFFERS&&s!==c.Zd.MORE_ACTIVATED_OFFERS)return Promise.resolve();const{doesListExist:o,doesListHasMoreItems:i,getListsSelectors:d}=Object(l.b)(t()),{getListOffset:u}=d();let m=0;s===c.Zd.MORE_ACTIVATED_OFFERS&&o(a)&&i(a)&&(m=u(a));const p=(t,s)=>r.request("getActivatedOffers",{retailerId:n,limit:c.vc,offset:m}).then(({offers:n=[],hasMoreItems:r=!1,offset:o=0,numActivatedOffers:i=0,statusCode:c,errorDescription:l=""})=>e(200===c?t({listId:a,offers:n,hasMoreItems:r,offset:o,numActivatedOffers:i}):s(a,l))).catch(t=>e(s(a,t)));return 0===m?p(Te.k,Te.j):p(Te.m,Te.l)},({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:n="",offer:a={},listId:r=""},{bootcampClient:o})=>{if(s!==c.Zd.ACTIVATE_OFFER)return Promise.resolve();const{getRetailersSelectors:i}=Object(l.b)(t()),{getDisplayNameFromRetailerId:d}=i(),u=d(n),m={mKey:x.e.QTNT_SMARTVIEW_ACTION,sec:x.g.QUOTIENT,actionData:{reason:{featurefamily:c.kb.IC,featurename:c.mb.QUOTIENT,viewtype:"grocerysinglestore",actiontype:"activateoffer",offerid:a.offerId,offerdesc:a.description,offerbrandname:a.brandName,retailer:u}}};return o.request("activateOffer",{retailerId:n,offerId:a.offerId}).then(({errorDescription:t="",status:s=!1,statusCode:n})=>e(200===n?Object(Te.c)([babelHelpers.extends({},a,{activated:s})],r,m):Object(Te.a)(t))).catch(t=>e(Object(Te.a)(t)))},({dispatch:e},{unsyncedDataType:t="",retailerId:s=""},{bootcampClient:n})=>t!==c.Zd.SAVINGS?Promise.resolve():n.request("getSavings",{retailerId:s}).then(({totalSavings:t=0,totalRecords:n=0,statusCode:a,errorDescription:r=""}={})=>e(200===a?Object(Te.u)({retailerId:s,totalSavings:t,offersUsed:n}):Object(Te.t)(r))).catch(t=>e(Object(Te.t)(t))),(e,{unsyncedDataType:t},s)=>{if(t!==c.Zd.SAVED_SEARCH)return Promise.resolve();const{dispatch:n,getState:a}=e,{getSelectedMailboxId:r,isMobileRoute:o}=Object(l.b)(a());if(o())return Promise.resolve();const i={mailboxId:r()};return s.mailAPIClient.request("savedSearches.get",i).then(({savedSearches:e})=>n(Object(Pe.h)(e))).catch(e=>n(Object(Pe.g)(e)))},(e,t,s)=>{const{dispatch:a,getState:r}=e,{getSelectedMailboxId:o,getFeaturesSelectors:i,getSelectedAccountId:d,getRoute:u}=Object(l.b)(r()),{getSetting:m}=i(),p=u(),_=Object(f.t)(p);if(t.unsyncedDataType!==c.Zd.LIST_TO_UPDATE||Object(f.q)(_)!==c.Fb.TRAVEL_CARDS)return Promise.resolve();const h=o(),E=d(),g=Object(f.D)(_),b=m(c.nd.CARD_GROUPS_FETCH_COUNT),I=Object(f.r)(_),S=Object(f.l)(_);return s.mailAPIClient.request("messageCards.getList",{mailboxId:h,filter:I,count:b,offset:0,sortOrder:g,accountId:E,excludeFolderTypes:S}).then(e=>{a({type:n.yj,listId:_,cardGroupList:e.cardGroupList,hasMoreItems:e.hasMoreItems})}).catch(e=>{a({type:n.xj,listId:_,error:e})})},(e,t,s)=>{const{dispatch:a,getState:r}=e,{getSelectedMailboxId:o,getSelectedAccountId:i,getRouterSelectors:d}=Object(l.b)(r()),{getRoute:u}=d(),m=u(),p=Object(f.t)(m);if(t.unsyncedDataType!==c.Zd.LIST_TO_UPDATE||Object(f.q)(p)!==c.Fb.REFUND_CARDS)return Promise.resolve();const _=o(),h=i(),E=c.Cd.CARD_DATE_DESC,g={mailboxId:_,filter:Object(f.r)(p),count:100,offset:0,sortOrder:E,accountId:h,excludeFolderTypes:Object(f.l)(p)};return s.mailAPIClient.request("getReceipts",g).then(e=>{a({type:n.jh,listId:p,cardGroupList:e.messageGroupsResponses.cardGroupList,parentMessagesMap:e.parentMessagesMap,hasMoreItems:e.messageGroupsResponses.hasMoreItems,offset:e.messageGroupsResponses.offset})}).catch(e=>{a({type:n.ih,listId:p,error:e})})},function(e,t,s){if(t.unsyncedDataType!==c.Zd.VIDEO_CHANNELS_METADATA_FETCH)return Promise.resolve();const{dispatch:n,getState:a}=e,r=a(),{getSetting:o}=Object(l.b)(r),i=o(c.nd.EMPTY_FOLDER_VIDEO_CHANNELS),d=i?Object.keys(i).join(","):"";return s.videoAPIClient.request({type:"channels_meta_data",channel_alias:d}).then(e=>{n(Object(V.e)({payload:e.body}))}).catch(e=>{n(Object(V.d)({error:e}))})},function(e,t,s){if(t.unsyncedDataType!==c.Zd.VIDEO_CHANNEL_FETCH)return Promise.resolve();const{dispatch:n}=e,{channelAlias:a}=t;return s.videoAPIClient.request({type:"channel_video_data",channel_alias:a}).then(e=>{n(Object(V.c)({payload:e.body,channel:a}))}).catch(e=>{n(Object(V.b)({error:e,channel:a}))})},function({dispatch:e},t,s){const{attachment:a,unsyncedDataType:r}=t;return r!==c.Zd.PENSIEVE_ITEM_TO_DELETE?Promise.resolve():s.bootcampClient.request("deletePensieveImages",{itemIds:a.id}).then(()=>e(Object(Se.d)({type:n.Qg,attachId:a.id}))).catch(t=>e(Object(Se.c)({type:n.Og,error:t,attachId:a.id})))},(e,t,s)=>{if(t.unsyncedDataType!==c.Zd.SETTINGS_TO_CHANGE)return Promise.resolve();const{updatedSettingAttributes:n}=t;return((e,{updatedSettingAttributes:t=[],action:s},n)=>{const{dispatch:a,getState:r}=e,i=Object(l.b)(r()),{getSelectedMailboxId:d}=i;let u=[];const m=t.map(({name:e,value:t})=>{const s=g(i,e,t);return{id:s,value:s===c.Yb.BLOCK_IMAGES?!t:t}});return u=u.concat(n.mailAPIClient.request("settings.saveWebMailboxAttributes",{mailboxId:d(),attributes:m}).then(()=>a(Object(o.c)({requestActionPayload:s}))).catch(()=>a(Object(o.b)({requestActionPayload:s})))),Promise.all(u)})(e,{updatedSettingAttributes:n,action:t,runV3:!0},s)},function(e,t,s){if(t.unsyncedDataType!==c.Zd.SEARCH_SUGGESTIONS_FETCH)return Promise.resolve();const{dispatch:n,getState:a}=e,{isFeatureEnabled:r}=Object(l.b)(a()),o=r(c.mb.SHOW_EMAIL_SEARCH_SUGGESTIONS),i=t.query||"",d=Object.assign({query:i},{textualSuggest:1},""===i?{enableEmptyQuery:!0}:null,o?{emailSuggest:1}:null);let u=t.i13nModel;return new Promise((e,t)=>{const a=s.bootcampClient.createStream("searchSuggestionsStream",d);a.on("data",e=>{e&&((o&&e?Object(ve.a)(e):[]).length&&(u=babelHelpers.extends({},u,{mKey:x.e.SEARCH_EMAIL_SUGGESTION_SHOWN,sec:x.g.HEADER_SEARCH})),n(Object(Le.c)({query:i,suggestions:e,i13nModel:u})))}),a.on("end",e),a.on("error",e=>{n(Object(Le.b)({query:i,error:e})),t(e)})})},function(e,t,s){if(t.unsyncedDataType!==c.Zd.ACCOUNT_TO_UPDATE)return Promise.resolve();const{dispatch:n}=e,{accountId:a,updatedProperties:i,requestTimestamp:d}=t,{mailAPIClient:u}=s;return function({store:e,accountId:t,updatedProperties:s,mailAPIClient:n}){const a=r()(s,["id","email","type"]),{getState:o}=e,{getAliasAccounts:i,getAccountById:c}=Object(l.b)(o()),d=c(t)||i().find(e=>e.id===t);return n.request("settings.updateAccount",{account:d,data:a})}({store:e,accountId:a,updatedProperties:i,mailAPIClient:u}).then(e=>n(Object(o.k)({accountId:a,requestTimestamp:d,updatedProperties:i,updatedAccount:e}))).catch(e=>n(Object(o.j)({error:e,accountId:a,requestTimestamp:d,updatedProperties:i})))},(e,t,s)=>{const{query:n,unsyncedDataType:a}=t,{dispatch:r}=e;return a!==c.Zd.COMPOSE_SUGGESTIONS_FETCH?Promise.resolve():s.autoSuggestClient.search(t).then(e=>r(Object(v.f)({query:n,recipientList:t.recipientList,contextFrom:t.contextFrom,contacts:e.contacts}))).catch(e=>r(Object(v.d)({err:e,query:n,recipientList:t.recipientList,contextFrom:t.contextFrom})))},(e,t,s)=>{if(t.unsyncedDataType!==c.Zd.DOCUMENT_FETCH)return Promise.resolve();const{dispatch:a,getState:r}=e,{getRoute:o,getRouteParams:i,getAttachmentById:d,getMimetypeByAttachmentId:m,getSizeByAttachmentId:p}=Object(l.b)(r()),_=o(),{attachmentId:h}=i()||{},E=d(h),{documentId:g,startPage:b,endPage:I,type:f="",subtype:S="",retryCount:A}=t;if(!Object(G.k)(E))return Promise.resolve().then(()=>a(j({route:_,documentId:g,startPage:b,endPage:I,error:{data:{info:{documentError:B({type:f,subtype:S})}}}})));const C=m(h),O=p(h);return s.mailAPIClient.request("document.fetch",{documentId:g,startPage:b,endPage:I,mimeType:C,size:O,retryCount:A},{strategy:T.a.STRATEGIES.BROWSER_TO_JEDI,timeout:6e4}).then(e=>{if(815===Object(u.a)(e,"data.info.documentError.code",null))return a(j({error:e,documentId:g,startPage:b,endPage:I}));a((e=>babelHelpers.extends({type:n.vd},e))({response:e,documentId:g,startPage:b,endPage:I}))}).catch(e=>{a(j({error:e,documentId:g,startPage:b,endPage:I}))})},function({dispatch:e},{unsyncedDataType:t,listId:s},{bootcampClient:a}){return t!==c.Zd.COUPON_SEARCH?Promise.resolve():a.request("searchCoupons",{query:Object(f.z)(s),limit:4,start:1e3*Object(H.r)(new Date),end:Math.round((new Date).getTime())+3e4*H.a}).then(t=>{e({type:n.Fc,listId:s,response:t})}).catch(t=>{e({type:n.Ec,listId:s,error:t})})},(e,t,s)=>{const{dispatch:n,getState:a}=e,r=Object(l.b)(a()),{getSetting:o}=r,{bucketId:i,sourceTag:d}=o(c.nd.PLA_ADS_ON_MESSAGE_READ_CONFIGURATION);if(t.unsyncedDataType!==c.Zd.PLA_ADS_TO_FETCH)return Promise.resolve();const{keyword:u,couponsRetailer:m,mkey:p}=t;let{keyword:_}=t;return _=Object(Ie.b)(r,_,m),s.bootcampClient.request("getPlaAdsByKeyword",{keyword:_,sourceTag:d,bucketid:i}).then(e=>n(Object(be.d)({plaAds:e.plaAds,keyword:_,originalKeyword:u,i13nModel:{mKey:p,sec:x.g.RIGHT_RAIL_PLA_CARD,actionData:{keyword:_,plaAdsDataCount:e.plaAds.length,retry:e.retry}}}))).catch(e=>n(Object(be.c)({error:e,keyword:_,originalKeyword:u,i13nModel:{mKey:x.e.PLA_ADS_BY_KEYWORD_FETCH_FAILED,sec:x.g.RIGHT_RAIL_PLA_CARD,actionData:{keyword:_}}})))},(e,t,s)=>{if(t.unsyncedDataType!==c.Zd.ACCOUNT_DELETE)return Promise.resolve();const{dispatch:n,getState:a}=e,{accountId:r}=t,{getAccountById:o,getAliasAccounts:u}=Object(l.b)(a()),m=o(r)||u().find(e=>e.id===r),p=Object.assign({},m,{status:c.f.DELETE_IN_PROGRESS});return s.mailAPIClient.request("settings.deleteAccount",{accountId:r}).then(()=>{n(Object(i.h)({updatedAccount:p}))}).then(()=>{if(p.type===c.g.IMAPIN)return function(e,t,s){const n=Object(d.f)(s),a=c.xb[n];if(a){const n=a.oauthDomain;return e.removeOAuthToken({domain:n,email:s}).then(e=>{t(Object(i.o)({response:e}))}).catch(e=>{t(Object(i.n)({error:e}))})}return Promise.reject(new Error(`No provider found for ${s}`))}(s.credstoreClient,n,p.email)}).catch(e=>{n(Object(i.g)({err:e}))})},(e,t,s)=>{if(t.unsyncedDataType!==c.Zd.ACCOUNT_ADD)return Promise.resolve();const{dispatch:n,getState:a}=e,{newAccount:r,emailOrPhoneRegAccount:o=!1}=t,{email:d,type:u}=r,{hasAccountWithEmail:m,getDefaultFolderIdForSelectedAccount:p,getFeaturesSelectors:_}=Object(l.b)(a()),{disposableAddressDeleteOnly:h}=_();if(u===c.g.DEA&&h)return Promise.reject().catch(()=>n(Object(i.b)({err:"Disposable Email Address is delete only. User cannot add new DEA"})));const E=p();return m(d)?Promise.reject().catch(()=>n(Object(i.b)({updatedAccount:r}))):s.mailAPIClient.request("settings.addAccount",{account:r,allowUsernameAndPhoneReg:o}).then(e=>{if(o)return void window.setTimeout(()=>window.location.reload(),300);const t=e.find(e=>e.email===d);return n(t?Object(i.c)({accounts:e,updatedAccount:t,inboxFID:E,newAccount:t}):Object(i.b)({err:"New account was not found in the accounts object!",newAccount:t}))}).catch(e=>n(Object(i.b)({err:e,newAccount:r})))},(e,t,s)=>{const{unsyncedDataType:a,groupId:r,messageId:o}=t;if(a!==c.Zd.SHOPLIFT_AD_TO_FETCH||!Object(de.b)())return Promise.resolve();const{dispatch:i,getState:d}=e,{getMessageBodiesSelectors:u}=Object(l.b)(d()),{get:m}=u(),{html:p}=m(o),_=document.createElement("div"),h=[];_.innerHTML=p,_.querySelectorAll("img").forEach(e=>{let t=e.parentElement;for(;t&&t.hostname;){const s=t.hostname.split(".").slice(-2).join(".");if(c.sd[s]&&e.width>80){h.push(e);break}t=t.parentElement}});const E=h.sort((e,t)=>t.width-e.width).map(e=>e.src).slice(0,6);return s.tripodAPIClient.request({images:E}).then(({items:e})=>i({type:n.ti,items:e,groupId:r})).catch(e=>i({type:n.si,err:e,groupId:r}))},(e,t,s)=>{if(t.unsyncedDataType!==c.Zd.MORE_ITEMS_TO_FETCH)return Promise.resolve();const n=Object(l.b)(e.getState()),{getRouteName:a}=n,r=a(),{listId:o}=t;return r===c.Uc.SEARCH?(({dispatch:e,getState:t},{listId:s},{bootcampClient:n})=>{const{getListsSelectors:a,getFeaturesSelectors:r}=Object(l.b)(t()),{getItemIdsSelectors:o,getListNextItemsUrl:i}=a(),{getSetting:d}=r(),u=o(s).getItemIds().length,m=Object(f.q)(s);let p=i(s);return m===c.Fb.MESSAGES&&(p=Object(de.c)(p,{cursor:u,limit:d(c.nd.SEARCH_FETCH_COUNT)})),n.request("searchItems",{url:p,listContentType:m}).then(t=>{e(Object(ce.i)({listId:s,listContentBlock:t}))}).catch(t=>e(Object(ce.h)({listId:s,error:t})))})(e,t,s):r===c.Uc.LIST&&Object(f.q)(o)===c.Fb.TRAVEL_CARDS?ue(e,t,s):(({dispatch:e,getState:t},{listId:s,count:n=c.R},{mailAPIClient:a})=>{const{getFeaturesSelectors:r,getSelectedMailboxId:o,getListsSelectors:i}=Object(l.b)(t()),d=o(),u=r().isEnabled(c.mb.CONVERSATIONS),{getItemIdsSelectors:m}=i(),p=m(s).getItemIds().length,_={folderId:Object(f.m)(s),mailboxId:d,sortOrder:Object(f.D)(s),filter:Object(f.r)(s),count:n,offset:p,conversationsMode:u};return a.request("messageGroups.getList",_).then(({messageGroupList:t,hasMoreItems:n})=>e(Object(ce.e)({listId:s,messageGroupList:t,hasMoreItems:n}))).catch(t=>{e(Object(ce.d)({listId:s,error:t}))})})(e,t,s)},function(e,t,s){if(t.unsyncedDataType!==c.Zd.GIFS_TO_FETCH)return Promise.resolve();const{dispatch:n}=e,{listId:a,query:r,id:o}=t,{getListsSelectors:i,getSelectedMailboxId:d}=Object(l.b)(e.getState()),{doesListExist:u,getListNextItemsUrl:m}=i(),p=u(a)?m(a):"";return s.bootcampClient.request("searchGifs",{mailboxId:d(),query:r,nextItemsUrl:p}).then(e=>n(Object(ne.f)({altListId:a,query:r,id:o},e))).catch(e=>n(Object(ne.e)({altListId:a,query:r,id:o},e)))},function({dispatch:e},t,s){return t.unsyncedDataType!==c.Zd.GIF_CATEGORY_TO_FETCH?Promise.resolve():s.bootcampClient.request("getGifCategories").then(({categories:t})=>e(Object(ne.c)({categories:t}))).catch(t=>e(Object(ne.a)({error:t})))},function({dispatch:e},{unsyncedDataType:t,email:s=""},{bootcampClient:a}){if(t!==c.Zd.TOP_COUPONS_TO_FETCH||""===s)return Promise.resolve();const r=Object(f.e)({referrer:c.Hb.TOP_COUPONS});return a.request("getCouponRecommendations",{mailboxemail:s,limit:10}).then(t=>{e({type:n.tc,listId:r,cardGroupList:t.messageGroupsResponses[0].cardGroupList,hasMoreItems:t.messageGroupsResponses[0].hasMoreItems,parentMessagesMap:t.parentMessagesMap})}).catch(t=>{e({type:n.sc,listId:r,error:t})})},function({dispatch:e},{email:t,unsyncedDataType:s},n){return s!==c.Zd.ALIAS_EMAIL_TO_CREATE?Promise.resolve():n.mailAPIClient.request("settings.createAlias",{email:t}).then(({suggestions:s,newAccount:n})=>{e(s&&s.length?Object(ke.e)({email:t,suggestions:s}):s||n?Object(ke.f)({newAccount:n}):Object(ke.e)({email:t}))}).catch(()=>e(Object(ke.e)({email:t})))},function({dispatch:e},{account:t,unsyncedDataType:s},n){return s!==c.Zd.CONFIRM_EMAIL_TO_RESEND?Promise.resolve():n.mailAPIClient.request("settings.resendConfirmEmail",{account:t}).then(s=>{e(Object(ke.w)({account:s,email:t.email}))}).catch(s=>{e(Object(ke.v)({err:s,email:t.email}))})},(e,t,s)=>{if(t.unsyncedDataType!==c.Zd.BLOCKED_SENDERS_TO_FETCH)return Promise.resolve();const{dispatch:a,getState:r}=e,{getSelectedMailboxId:o,getSettingsSelectors:i}=Object(l.b)(r()),{getBlockedSendersApiCallStatus:d}=i();if(d()===c.Rc.LOADED)return Promise.resolve();const u=o();return s.mailAPIClient.request("settings.getFeatureAttributes",{mailboxId:u,attributes:[c.Yb.DELIVERY_BLOCKED_SENDERS]}).then(e=>{a(babelHelpers.extends({type:n.Zh},e))}).catch(e=>{a({type:n.Yh,payload:e})})},({dispatch:e},{listId:t,unsyncedDataType:s},a)=>s!==c.Zd.YAHOO_DEALS_TO_FETCH?Promise.resolve():a.taiwanCommerceClient.getAllCategories().then((s={})=>{const{body:a}=s;e({type:n.oj,listId:t,recommendedProducts:a.recommendedProducts,rushBuyActivities:a.rushBuyActivities})}).catch(s=>{e({type:n.nj,listId:t,error:s})}),(e,t,s)=>{const{dispatch:a,getState:r}=e,{getSelectedMailboxId:o}=Object(l.b)(r()),i=o();return i&&t.unsyncedDataType===c.Zd.COMPOSE_ATTRIBUTES_TO_FETCH?s.mailAPIClient.request("postLaunch.getComposeAttributes",{mailboxId:i,attributes:c.K}).then(e=>a(function(e){return babelHelpers.extends({type:n.Ab},e)}({mailboxAttributes:e.responses}))).catch(e=>a(function(e){return babelHelpers.extends({type:n.zb},e)}({error:e}))):Promise.resolve()},function(e,t,s){const{dispatch:a,getState:r}=e,{getSelectedMailboxId:o,getSelectedAccountIdByRoute:i,getRoute:d}=Object(l.b)(r()),u=o();if(!Object(de.b)()||t.unsyncedDataType!==c.Zd.POST_LUNCH_TO_SYNC)return Promise.resolve();const m=i(d()),p=[];return p.push(s.mailAPIClient.request("postLaunch.postSync",{mailboxId:u,accountId:m})),p.push(k(e,t,s)),p.push(function(e,t,s){const{dispatch:n,getState:a}=e,{getFeaturesSelectors:r}=Object(l.b)(a()),{isEnabled:o}=r();return o(c.mb.EARNY_CARD_EXTRACTIONS)||o(c.mb.PENSIEVE)?s.bootcampClient.request("getContentProviders").then(e=>{n(ze({contentProviders:e}))}).catch(e=>n(Ze(e))):Promise.resolve()}(e,0,s)),p.push(function(e,t,s){const{dispatch:n,getState:a}=e,{isFeatureEnabled:r}=Object(l.b)(a()),o={query:t.query||""};return!1===r(c.mb.SHOW_RECENT_SUGGESTIONS)?new Promise(e=>e()):s.bootcampClient.request("recentSearches",o).then(e=>{n(Object(Ke.d)({recentSearches:e}))}).catch(()=>{n(Object(Ke.c)())})}(e,t,s)),Promise.all(p).then(([e])=>a(function(e){return babelHelpers.extends({type:n.Ug},e)}(e))).catch(e=>a(function(e){return babelHelpers.extends({type:n.Tg},e)}({error:e})))},function({dispatch:e},{unsyncedDataType:t=""},{bootcampClient:s}){return t!==c.Zd.TOP_RETAILERS_TO_FETCH?Promise.resolve():s.request("getTopRetailers").then(t=>e(Ye({topRetailers:t}))).catch(t=>e(Xe({error:t})))},function({dispatch:e},{unsyncedDataType:t=""},{bootcampClient:s}){return t!==c.Zd.TOP_DEAL_CATEGORIES_TO_FETCH?Promise.resolve():s.request("getTopDealCategories").then(t=>e($e({topDealCategories:t}))).catch(t=>e(Qe({error:t})))},function(e,t,s){const{query:n,unsyncedDataType:a}=t;if(a!==c.Zd.RECENT_SEARCH_DELETE)return Promise.resolve();const{dispatch:r,getState:o}=e,{getMailboxesSelectors:i}=Object(l.b)(o()),d={query:n,mailboxid:i().getSelectedMailboxId()};return s.bootcampClient.request("deleteRecentSearch",d).then(()=>r(Object(Ke.b)({query:n}))).catch(()=>r(Object(Ke.a)()))},function({dispatch:e},{accountId:t,updatedProperties:s,unsyncedDataType:n,requestTimestamp:a},{mailAPIClient:r}){return n!==c.Zd.FETCH_PRIMARY_ACCOUNT?Promise.resolve():r.request("accounts.get").then(({accounts:n})=>{if(n&&n.length){const r=n.find(({isPrimary:e})=>e);e(Object(o.k)({accountId:t,updatedProperties:s,updatedAccount:r,requestTimestamp:a}))}}).catch(n=>{e(Object(o.j)({error:n,accountId:t,updatedProperties:s,requestTimestamp:a}))})},function(e,t,s){if(t.unsyncedDataType!==c.Zd.LINK_ENHANCER_TO_FETCH)return Promise.resolve();const{dispatch:n}=e,{cardUrl:a}=t;return s.linkEnhancerClient.get(a).then(({body:{linkInfo:e}})=>n(Object(Ae.c)({id:a,cardUrl:a,linkInfo:e}))).catch(e=>n(Object(Ae.b)({id:a,cardUrl:a,error:e})))}],[n.Kc]:(e,t,s)=>{const{dispatch:n,getState:a}=e,r=a(),{getSelectedMailboxId:o,isMobileRoute:i}=Object(l.b)(r);if(!i())return Promise.resolve();const{folderName:c,accountId:d}=t,u=o();return s.mailAPIClient.request("folders.create",{mailboxId:u,folderName:c,accountId:d}).then(e=>{n(Object(ee.b)({folder:e.folder}))}).catch(e=>n(Object(ee.a)({folderName:c,error:e})))},[n.ig]:me,[n.Nc]:(e,t,s)=>{const{dispatch:n,getState:a}=e,{name:r,query:o,decorations:i,priority:c}=t,{getSelectedMailboxId:d}=Object(l.b)(a()),u={mailboxId:d(),name:r,query:o,decorations:i,priority:c};return s.mailAPIClient.request("savedSearches.create",u).then(({savedSearches:e})=>n(Object(Pe.c)(e))).catch(e=>n(Object(Pe.b)(e)))},[n.nd]:(e,t,s)=>{const{dispatch:n,getState:a}=e,{savedSearchId:r}=t,{getSelectedMailboxId:o}=Object(l.b)(a()),i={mailboxId:o(),savedSearchId:r};return s.mailAPIClient.request("savedSearches.delete",i).then(()=>n(Object(Pe.f)(r))).catch(e=>n(Object(Pe.e)(e)))},[n.qf]:function(e,t,s){const{dispatch:n}=e,{query:a,i13nModel:r,partner:o}=t;return Promise.resolve(s.locationAutoSuggestClient.getLocationSuggestion(a,o)).then(e=>{n(Object(ge.b)(babelHelpers.extends({},a,e,{i13nModel:r})))}).catch(e=>n(Object(ge.a)(e)))},[n.vh]:(e,t,s)=>{const{messageId:n,uid:a,response:r,oldResponse:o,email:i}=t,{dispatch:c}=e;return s.calendarClient.sendReply(a,{numGuests:0,partStat:r,email:i,comment:""}).then(()=>c(Object(E.g)({uid:a,response:r,messageId:n}))).catch(()=>c(Object(E.f)({uid:a,response:o,messageId:n})))},[n.Cg]:[Ue],[n.qc]:[function({dispatch:e,getState:t},{messageId:s,accountId:n,recommendations:a=!1,parentMessageId:r=""},{mailAPIClient:o}){const{getSelectedMailboxId:i}=Object(l.b)(t()),d=i();o.request("messages.updateDecos",{mailboxId:d,messageDecosPayloads:[{messageId:s,decos:[{id:c.dc.TAG}]}]}).then(()=>{e(Object(b.c)({messageId:s,accountId:n,recommendations:a,parentMessageId:r}))}).catch(t=>{e(Object(b.a)(t))})}],[n.vc]:function({dispatch:e,getState:t},{messageId:s,accountId:n},{mailAPIClient:a}){const{getSelectedMailboxId:r}=Object(l.b)(t()),o=r();a.request("messages.updateDecos",{mailboxId:o,messageDecosPayloads:[{messageId:s,decos:[{id:"-"+c.dc.TAG}]}]}).then(()=>e(Object(b.w)({messageId:s,accountId:n}))).catch(t=>e(Object(b.u)(t)))},[n.Od]:function({dispatch:e,getState:t},{messageId:s,description:n,expiryDate:a},{mailAPIClient:r}){const{getSelectedMailboxId:o,getFoldersSelectors:i,getMessagesSelectors:d,getMessageFolderId:u}=Object(l.b)(t()),{getUserCardFolderIds:m,getAccountIdByFolderId:p}=i(),{getFromAddresses:_,getReplyToAddresses:h}=d(),E=o(),g=p(u(s)),S=m(g),A=[{id:c.dc.CRD,type:c.Z.NORMAL},{id:c.dc.CPN,type:c.Z.NORMAL},{id:c.dc.TAG,type:c.Z.NORMAL}],T={from:_(s),replyTo:h(s),subject:n},C=[{schema:{"@id":Object(I.e)({min:10,max:40}),"@type":c.ed.Coupon,validThrough:a,description:n,identifier:[{"@id":"http://schema.org/PropertyValue","@type":"PropertyValue",propertyID:"searchTerms",value:n},{"@id":"http://schema.org/PropertyValue","@type":"PropertyValue",propertyID:"cardDate",value:"$.validThrough"}]}}];if(!(s&&S&&n&&a))return Promise.resolve();r.request("cards.create",{mailboxId:E,messageId:s,destinationFolderId:S,headers:T,decos:A,schemaOrg:C}).then(t=>{e(Object(b.m)(babelHelpers.extends({messageId:s,listId:Object(f.Q)("{}",{listContentType:c.Fb.COUPON_CARDS,listFilter:c.Gb.SAVED_COUPON_CARDS,accountIds:[g],referrer:c.Hb[c.zd.COUPONS]})},t)))}).catch(t=>{e(Object(b.k)(t))})},[n.Re]:[Ue],[n.Wc]:(e,t,s)=>{const{dispatch:n,getState:a}=e,{getEnvironmentSelectors:r}=Object(l.b)(a());return r().getIsXobnified()?s.autoSuggestClient.blackList(t).then(()=>n(Object(v.i)({contactInfo:t.contactInfo}))).catch(e=>n(Object(v.g)(e))):Promise.resolve()},[n.Sd]:Q,[n.Je]:({dispatch:e,getState:t},s,{mailAPIClient:n})=>{const{getSelectedMailboxId:a}=Object(l.b)(t()),{subKey:r}=s,o=a();return n.request("saveArrayAttributes",{mailboxId:o,items:[`${r},${Math.round(Date.now()/1e3)}`],attribute:c.Yb.SUPPRESSED_UPSELLS,dedupFn:K}).then(t=>{e(Object(je.e)({name:c.nd.SUPPRESSED_UPSELLS,value:t}))}).catch(t=>{e(Object(je.d)({error:t}))})},[n.de]:Q,[n.Wd]:J,[n.Z]:Fe,[n.ab]:Fe,[n.ci]:(e,{name:t,value:s,action:n},a)=>{const{dispatch:r,getState:i}=e,d=Object(l.b)(i()),{getSelectedMailboxId:u}=d;let m=[];const p=g(d,t,s);return m=m.concat(a.mailAPIClient.request("settings.saveWebMailboxAttributes",{mailboxId:u(),attributes:[{id:p,value:p===c.Yb.BLOCK_IMAGES?!s:s}]}).then(()=>{r(Object(o.c)({requestActionPayload:n})),p===c.Yb.BLOCK_IMAGES&&window.setTimeout(()=>window.location.reload(),300)}).catch(()=>r(Object(o.b)({requestActionPayload:n})))),Promise.all(m)},[n.mi]:function(e,t,s){const{dispatch:n}=e,{name:a,value:r}=t;return s.mailAPIClient.request("settings.saveMessageFilters",{payload:r}).then(()=>n(Object(o.c)({name:a,value:r}))).catch(e=>n(Object(o.b)({error:e,name:a,value:r})))},[n.I]:(e,{sectionId:t})=>{p(e,"(type$fdb_start)",t)},[n.J]:(e,{reason:t,comment:s,sectionId:n})=>{p(e,`type$fdb_submit,subo${t},cmnt${s}`,n)},[n.Ki]:(e,t,s)=>{const{dispatch:n,getState:a}=e,{getAccountSelectors:r,getSelectedMailboxId:o,getRoute:i,getAccountIdByFolderId:c,getInboxFolderIdByAccountId:d}=Object(l.b)(a()),{getAccountById:u}=r(),m=o(),p=i(),_=Object(f.t)(p),h=c(Object(f.m)(_)),E=u(h),g=d(h),b={csid:Object(I.f)(),mailboxId:m,subject:t.subject,html:t.asset,from:[E],folderId:g};return s.mailAPIClient.request("sponsoredMessages.save",b,{strategy:T.a.STRATEGIES.BROWSER_TO_JEDI,timeout:te.a}).then(({message:e})=>{n(Object(A.A)({message:e,simpleBody:{html:b.html,htmlAnnotations:[]}}))}).catch(()=>n(Object(A.z)()))},[n.dj]:(e,t,s)=>{const{dispatch:n,getState:a}=e;return s.subscriptionAPIClient.subscribe(t.provider,t.options).then(()=>{const e=[...Object(l.b)(a()).getFeaturesSelectors().getSetting(c.nd.EMAIL_SUBSCRIPTIONS),t.id];n(Object(Be.c)(t.id)),n(Object(o.a)({name:c.nd.EMAIL_SUBSCRIPTIONS,value:e,runV3:!0}))}).catch(()=>n(Object(Be.b)(t.id)))},[n.Bi]:(e,t,s)=>{const{dispatch:n,getState:a}=e,{spid:r,key:o}=t;return s.credstoreClient.unlink({spid:r,provider:o}).then(()=>{n(Object(i.r)({key:o}))}).then(()=>{const{getSocialAccountsStatus:e}=Object(l.b)(a()),t=e();Object(u.b)(t)&&n(Object(i.j)())}).catch(e=>{n(Object(i.q)({error:e}))})},[n.tb]:(e,t,s)=>{const{dispatch:n}=e,{mailTo:a,subject:r,messageId:o}=t;return s.mailAPIClient.request("messageGroups.getList",{count:1,offset:0,query:{toEmail:a,subject:r,folderType:c.ub.SENT}}).then(e=>{const{messageGroupList:t}=e,s={messages:t.length>0?[{id:o,unsubOption:{unsubscribed:!0}}]:[{id:o,unsubOption:{unsubscribed:!1}}]};n(Object(Ve.c)(s))}).catch(()=>n(Object(Ve.b)()))}}},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(4),c=s(69),l=s(89),d=s(35),u=s(111),m=s(8),p=s(60),_=s(0),h=s(34),E=s(10),g=s(24),b=s(143);const I={15:"https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL&locale=en_US&id=SLN3549&actp=productlink",19:"https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL&locale=en_US&id=SLN3553&actp=productlink"},f=Object(i.h)({"launch.error.classic.mail.url":{id:"launch.error.classic.mail.url",defaultMessage:"Go to Classic Mail"},"launch.error.basic.mail.url":{id:"launch.error.basic.mail.url",defaultMessage:"Try basic version"},"launch.error.icon.alert":{id:"launch.error.icon.alert",defaultMessage:"Alert icon"},"launch.error.launch_api_error.title":{id:"launch.error.launch_api_error.title",defaultMessage:"We are experiencing some technical difficulties"},"launch.error.launch_api_error.body":{id:"launch.error.launch_api_error.body",defaultMessage:"Temporary Error: {code}"},"launch.error.no_script_error.title":{id:"launch.error.no_script_error.title",defaultMessage:"Javascript is not enabled on your browser."},"launch.error.no_script_error.body":{id:"launch.error.no_script_error.body",defaultMessage:"Enable javascript to enjoy all the features in {mailBrandNameString}."},"launch.error.react_error.title":{id:"launch.error.react_error.title",defaultMessage:"{mailBrandNameString} has encountered a problem."},"launch.error.react_error.body":{id:"launch.error.react_error.body",defaultMessage:"Please wait a moment and then try going to your Inbox again."},"launch.error.default.oops":{id:"launch.error.default.oops",defaultMessage:"Oops!"},"launch.error.page_not_found.title":{id:"launch.error.page_not_found.title",defaultMessage:"Page not available"},"launch.error.page_not_found.body":{id:"launch.error.page_not_found.body",defaultMessage:"The requested page is not available on Mail."},"launch.error.default.title":{id:"launch.error.default.title",defaultMessage:"Your mail is temporarily unavailable."},"launch.error.default.body":{id:"launch.error.default.body",defaultMessage:"Please wait a moment and reload the page."},"launch.error.mailbox.maintenance.title":{id:"launch.error.mailbox.maintenance.title",defaultMessage:"Setting up your mailbox"},"launch.error.mailbox.maintenance.body":{id:"launch.error.mailbox.maintenance.body",defaultMessage:"We're in the process of setting up your mailbox, which can take a few seconds."},"launch.error.mailbox.inactive.title":{id:"launch.error.mailbox.inactive.title",defaultMessage:"We're having trouble signing you in."},"launch.error.mailbox.inactive.body":{id:"launch.error.mailbox.inactive.body",defaultMessage:"If you continue to experience issues, please contact"},"launch.error.help.pages":{id:"launch.error.help.pages",defaultMessage:"Learn more"},"launch.error.customercare":{id:"launch.error.customercare",defaultMessage:"customer care"},"launch.error.goto.inbox":{id:"launch.error.goto.inbox",defaultMessage:"Go to Inbox"},"launch.error.try.again":{id:"launch.error.try.again",defaultMessage:"Try again"},"launch.error.switch_account.title":{id:"launch.error.switch_account.title",defaultMessage:"Please switch account"},"launch.error.switch_account_phone.body":{id:"launch.error.switch_account_phone.body",defaultMessage:"You're signed in with phone number {loginAlias}."},"launch.error.switch_account_external.body":{id:"launch.error.switch_account_external.body",defaultMessage:"You're signed in as {loginAlias}."},"launch.error.switch_account.optin":{id:"launch.error.switch_account.optin",defaultMessage:"Switch to the newest {mailBrandNameString}"},"launch.error.switch_account.login":{id:"launch.error.switch_account.login",defaultMessage:"Switch to different account"}}),S=e=>`\n    .warnWrapper {\n        position: absolute;\n        width: 100%;\n        top: 40%;\n        text-align: center;\n    }\n    .innerWrapper {\n        background: ${E.WHITE};\n        display: inline-block;\n        border: 1px solid ${E.THIRD_LEVEL_GRAY};\n        border-radius: ${E.GRID_UNIT/2}px;\n        overflow: hidden;\n        margin: ${8*E.GRID_UNIT}px auto;\n        box-shadow: 0 0 ${2.5*E.GRID_UNIT}px ${E.SHADOW_COLOR};\n        text-align: ${e?"right":"left"};\n    }\n    .iconWrapper {\n        float: ${e?"right":"left"};\n        margin: ${6*E.GRID_UNIT}px ${e?6*E.GRID_UNIT:5*E.GRID_UNIT}px 0 ${e?5*E.GRID_UNIT:6*E.GRID_UNIT}px;\n    }\n    .icon {\n        width: ${9*E.GRID_UNIT}px;\n        height: ${9*E.GRID_UNIT}px;\n    }\n    .mobileIcon {\n        display: none;\n    }\n    .textWrapper {\n        float: ${e?"right":"left"};\n        font-size: ${E.FONT_SIZE_S};\n        line-height: ${4*E.GRID_UNIT+2}px;\n        margin-${e?"left":"right"}: ${12*E.GRID_UNIT}px;\n    }\n    .warnTitle {\n        margin-top: ${4*E.GRID_UNIT}px;\n        font-size: ${E.FONT_SIZE_L};\n        line-height: ${6*E.GRID_UNIT}px;\n    }\n    .mobileWarnTitle {\n        display: none;\n    }\n    .warnBody {\n        margin-top: ${2*E.GRID_UNIT}px;\n    }\n    .mobileWarnBody {\n        display: none;\n    }\n    .solution {\n        margin: ${5*E.GRID_UNIT}px 0 ${5*E.GRID_UNIT}px 0;\n    }\n    .anchorStyle {\n        color: ${E.BASE_LINK_COLOR};\n        text-decoration: none;\n        font-weight: ${E.MEDIUM};\n    }\n    .buttonStyle {\n        padding: ${1.5*E.GRID_UNIT}px ${4.5*E.GRID_UNIT}px;\n        text-decoration: none;\n        font-size: ${E.FONT_SIZE_S};\n        font-weight: ${E.MEDIUM};\n        cursor: pointer;\n        border-radius: ${E.GRID_UNIT/2}px;\n        color: ${E.PRIMARY_BUTTON_TEXT_COLOR} !important;\n        background-color: ${E.PRIMARY_BUTTON_ACTIVE_COLOR};\n        border: ${E.GRID_UNIT/4}px solid ${E.PRIMARY_BUTTON_ACTIVE_COLOR};\n        width: ${17.5*E.GRID_UNIT}px;\n        text-align: center;\n    }\n`;class A extends o.a.Component{constructor(e){super(e),T.call(this);const{appName:t}=e;this.appRootPath=t===_.r.MOBILE_APP?_.Ub+"/":t===_.r.BASIC_MAIL_APP?_.w+"/":_.V+"/"}render(){const{isRTL:e}=this.props,{formatMessage:t}=this.context.intl,s=this.getTitleText(),n=t(f["launch.error.default.oops"]),a=this.getIconMarkUp();return o.a.createElement("div",null,o.a.createElement("style",null," ",this.getStyleString(e)," "),o.a.createElement("div",{className:"warnWrapper"},o.a.createElement("div",{className:"innerWrapper"},o.a.createElement("div",{className:"iconWrapper"},a),o.a.createElement("div",{className:"textWrapper"},o.a.createElement("div",{className:"warnTitle"},s),o.a.createElement("div",{className:"mobileWarnTitle"},n),this.renderBody(),o.a.createElement("div",{className:"solution"},this.renderLaunchErrorAction())))))}}A.contextTypes={intl:i.i.isRequired,mailBrandNameString:a.a.string,region:a.a.string};var T=function(){this.getStyleString=(e=>{const{appName:t}=this.props;return t===_.r.BASIC_MAIL_APP?S(e):`\n            ${E.BREAKPOINTS.W769} {\n                ${S(e)}\n            }\n            ${E.BREAKPOINTS.W768} {\n                ${(()=>`\n    .warnWrapper {\n        width: 90%;\n        text-align: center;\n        padding-top: ${20*E.GRID_UNIT}px;\n        margin: auto;\n    }\n    .innerWrapper {\n        background: ${E.WHITE};\n        display: inline-block;\n        width: 100%;\n    }\n    .iconWrapper {\n        margin-bottom: 24.5px;\n    }\n    .icon {\n        display: none;\n    }\n    .mobileIcon {\n        width: ${25*E.GRID_UNIT}px;\n        height: 126.5px;\n    }\n    .textWrapper {}\n    .warnTitle {\n        display: none;\n    }\n    .mobileWarnTitle {\n        color: ${E.IMPROVED_GRAY_DARK};\n        font-size: 18px;\n        line-height: ${6*E.GRID_UNIT}px;\n        font-weight: ${E.MEDIUM};\n    }\n    .warnBody {\n        display: none;\n    }\n    .mobileWarnBody {\n        margin-top: ${E.GRID_UNIT}px;\n        font-size: 14px;\n        color: ${E.FIRST_LEVEL_GRAY};\n        letter-spacing: 0;\n        line-height: 18px;\n    }\n    .solution {\n        margin-top: ${9*E.GRID_UNIT}px;\n    }\n    .anchorStyle {\n        color: ${E.BASE_LINK_COLOR};\n        text-decoration: none;\n    }\n    .buttonStyle {\n        padding: ${3*E.GRID_UNIT}px 0;\n        text-decoration: none;\n        cursor: pointer;\n        border-radius: 2px;\n        color: ${E.PRIMARY_BUTTON_TEXT_COLOR};\n        background-color: ${E.PRIMARY_BUTTON_ACTIVE_COLOR};\n        text-align: center;\n        line-height: 18px;\n        display: inline-block;\n        width: 100%;\n    }\n`)()}\n            }\n        `}),this.getTitleText=(()=>{const{type:e}=this.props,{formatMessage:t}=this.context.intl,{mailBrandNameString:s}=this.context;switch(e){case _.ib.WRONG_MAILBOX_STATE:return t(this.props.mailboxState===_.je.MAINTENANCE?f["launch.error.mailbox.maintenance.title"]:f["launch.error.mailbox.inactive.title"]);case _.ib.LAUNCH_PAGE_NOT_FOUND_ERROR:return t(f["launch.error.page_not_found.title"]);case _.ib.LAUNCH_API_ERROR:return t(f["launch.error.launch_api_error.title"]);case _.ib.NO_SCRIPT:return t(f["launch.error.no_script_error.title"]);case _.ib.REACT_ERROR:return t(f["launch.error.react_error.title"],{mailBrandNameString:s});case _.ib.SWITCH_ACCOUNT:return t(f["launch.error.switch_account.title"]);default:return t(f["launch.error.default.title"])}}),this.getBodyText=(()=>{const{type:e,code:t,loginAlias:s,accountType:n}=this.props,{formatMessage:a}=this.context.intl,{mailBrandNameString:r}=this.context;switch(e){case _.ib.WRONG_MAILBOX_STATE:return a(this.props.mailboxState===_.je.MAINTENANCE?f["launch.error.mailbox.maintenance.body"]:f["launch.error.mailbox.inactive.body"]);case _.ib.LAUNCH_PAGE_NOT_FOUND_ERROR:return a(f["launch.error.page_not_found.body"]);case _.ib.LAUNCH_API_ERROR:return a(f["launch.error.launch_api_error.body"],{code:t});case _.ib.NO_SCRIPT:return a(f["launch.error.no_script_error.body"],{mailBrandNameString:r});case _.ib.REACT_ERROR:return a(f["launch.error.react_error.body"]);case _.ib.SWITCH_ACCOUNT:return a(n===_.g.EXTERNAL?f["launch.error.switch_account_external.body"]:f["launch.error.switch_account_phone.body"],{loginAlias:s});default:return a(f["launch.error.default.body"])}}),this.getHelpPageURL=(()=>{const e=this.context.intl.locale||"en-US",{code:t}=this.props,s=e.replace("-","_");return I[t]?Object(g.c)(I[t],{locale:s}):Object(g.c)("https://io.help.yahoo.com/contact/index?page=contact&locale=en_US&y=PROD_MAIL_ML",{locale:s})}),this.getHelpLinkMarkUp=(()=>{const{type:e,mailboxState:t}=this.props;if(this.props.mailboxState===_.je.MAINTENANCE||e===_.ib.SWITCH_ACCOUNT)return null;const s=this.getHelpPageURL(),{formatMessage:n}=this.context.intl,a=n(t===_.je.DISABLED||t===_.je.DELETED?f["launch.error.customercare"]:f["launch.error.help.pages"]);return o.a.createElement("a",{href:s,target:"_blank",className:"anchorStyle",rel:"noopener"},a)}),this.getCTAMarkUp=(()=>{const{type:e,norrinOptin:t,crumb:s}=this.props,{intl:{locale:n,formatMessage:a},region:r,mailBrandNameString:i}=this.context;let c=null,l=this.appRootPath;switch(e){case _.ib.LAUNCH_PAGE_NOT_FOUND_ERROR:case _.ib.REACT_ERROR:c=a(f["launch.error.goto.inbox"]);break;case _.ib.SWITCH_ACCOUNT:t?(c=a(f["launch.error.switch_account.optin"],{mailBrandNameString:i||a(b.a.mailBrandName)}),l=`${_.mc}/optin?crumb=${s}`):(c=a(f["launch.error.switch_account.login"]),l=Object(_.he)(r,n));break;default:c=a(f["launch.error.try.again"])}return o.a.createElement("div",null,o.a.createElement("a",{href:l,className:"buttonStyle",rel:"noopener","data-test-id":"launch-error-action"},c))}),this.getBasicMailURL=(e=>e===_.r.MOBILE_APP?_.Wb+"?.src=ym&reason=launch_error&rtn=0":_.uc+"?.src=ym&reason=launch_error"),this.renderBody=(()=>{const e=this.getBodyText(),t=this.getTitleText(),s=this.getHelpLinkMarkUp();return o.a.createElement("div",null,o.a.createElement("div",{className:"warnBody"},e,o.a.createElement("br",null),s),o.a.createElement("div",{className:"mobileWarnBody"},t,o.a.createElement("br",null),e,o.a.createElement("br",null),s))}),this.renderLaunchErrorAction=(()=>{const{formatMessage:e}=this.context.intl,{type:t,cspToken:s,appName:n}=this.props,a="window.location = '"+this.appRootPath+"?reason=no_script';",r=this.getCTAMarkUp(),i=this.getBasicMailURL(n),c=e(n===_.r.MOBILE_APP?f["launch.error.basic.mail.url"]:f["launch.error.classic.mail.url"]),l=o.a.createElement("div",null,o.a.createElement("a",{href:i,className:"buttonStyle",rel:"noopener"},c),o.a.createElement("script",{type:"text/javascript",nonce:s,dangerouslySetInnerHTML:{__html:a}}));switch(t){case _.ib.NO_SCRIPT:return l;case _.ib.WRONG_MAILBOX_STATE:return this.props.mailboxState===_.je.DISABLED||this.props.mailboxState===_.je.DELETED?null:r;default:return r}}),this.getIconMarkUp=(()=>{const{formatMessage:e}=this.context.intl;return o.a.createElement("div",null,o.a.createElement("img",{alt:e(f["launch.error.icon.alert"]),className:"icon",src:Object(p.a)("/img/icon_alert.png")}),o.a.createElement("img",{alt:e(f["launch.error.icon.alert"]),className:"mobileIcon",src:Object(p.a)("/img/error_state_1x.png")}))})},C=A;const O=`${1.75*E.GRID_UNIT}`,R=`${-11.25*E.GRID_UNIT}`,N=`${-25*E.GRID_UNIT}`,M=`${-38*E.GRID_UNIT}`,D=`${-50.5*E.GRID_UNIT}`,y={clear:"both",padding:`${3.5*E.GRID_UNIT}px 0 ${3.5*E.GRID_UNIT}px ${12.5*E.GRID_UNIT}px`,background:"url("+Object(p.a)("/img/browser_icons.png")+") no-repeat 0 0"};var L={outerWrapper:{position:"absolute",width:"100%",top:"30%"},contentHolder:{width:"45%",minWidth:`${125*E.GRID_UNIT}px`,maxWidth:`${175*E.GRID_UNIT}px`,margin:`${8*E.GRID_UNIT}px auto`,padding:`${6*E.GRID_UNIT}px ${12*E.GRID_UNIT}px ${5*E.GRID_UNIT}px ${6*E.GRID_UNIT}px`,border:`1px solid ${E.THIRD_LEVEL_GRAY}`,boxShadow:`0 0 ${2.5*E.GRID_UNIT}px ${E.SHADOW_COLOR}`},iconWrapper:{float:"left",marginRight:`${5*E.GRID_UNIT}px`},icon:{width:`${9*E.GRID_UNIT}px`,height:`${9*E.GRID_UNIT}px`},title:{marginBottom:`${4*E.GRID_UNIT}px`},classicMailHolder:{marginTop:`${-1*E.GRID_UNIT}px`},classicMailDesc:{fontSize:E.FONT_SIZE_XXS,display:"block",color:E.FIRST_LEVEL_GRAY,fontStyle:"normal"},ul:{listStyleType:"none",padding:"0px",margin:`0 0 0 ${14*E.GRID_UNIT}px`},upgradeLink:{float:"right",padding:`${1.5*E.GRID_UNIT}px ${4.5*E.GRID_UNIT}px`,marginTop:`${-1.5*E.GRID_UNIT}px`,textDecoration:"none",fontSize:E.FONT_SIZE_S,fontWeight:"500",cursor:"pointer",borderRadius:`${E.GRID_UNIT/2}px`,color:E.PRIMARY_BUTTON_TEXT_COLOR,backgroundColor:E.PRIMARY_BUTTON_ACTIVE_COLOR,border:`${E.GRID_UNIT/4}px solid ${E.PRIMARY_BUTTON_ACTIVE_COLOR}`,width:`${17.5*E.GRID_UNIT}px`,textAlign:"center"},tryLaterLink:{color:E.PRIMARY_BUTTON_ACTIVE_COLOR,backgroundColor:E.WHITE,marginTop:"0px"},chrome:Object.assign({},y,{backgroundPosition:`0 ${O}px`}),firefox:Object.assign({},y,{backgroundPosition:`0 ${R}px`}),ie:Object.assign({},y,{backgroundPosition:`0 ${N}px`}),safari:Object.assign({},y,{backgroundPosition:`0 ${M}px`}),classic:Object.assign({},y,{backgroundPosition:`0 ${D}px`,paddingTop:`${2*E.GRID_UNIT}px`})};const v=Object(i.h)({rs_page_icon_alert:{id:"rs_page_icon_alert",defaultMessage:"Alert icon"},rs_page_chrome:{id:"rs_page_browser_chrome",defaultMessage:"Google Chrome"},rs_page_firefox:{id:"rs_page_browser_firefox",defaultMessage:"Firefox"},rs_page_ie:{id:"rs_page_browser_ie",defaultMessage:"Internet Explorer"},rs_page_safari:{id:"rs_page_browser_safari",defaultMessage:"Safari"},rs_page_recommend_text:{id:"rs_page_recommend_text",defaultMessage:"The new {mailBrandNameString} is no longer supported on your browser. Please use a supported browser below or use classic Mail."},rs_page_upgrade_link_text:{id:"rs_page_upgrade_link_text",defaultMessage:"Download"},rs_page_try_later_link_text:{id:"rs_page_try_later_link_text",defaultMessage:"Continue"},rs_page_classic_mail_title:{id:"rs_page_classic_mail_title",defaultMessage:"Continue with classic Mail"},rs_page_classic_mail_desc:{id:"rs_page_classic_mail_desc",defaultMessage:"This version has fewer features but supports older browsers."}}),P="https://www.google.com/chrome/browser/desktop/index.html",F="https://www.mozilla.org/en-US/firefox/download/thanks/",x="https://support.apple.com/HT201541";class w extends o.a.Component{constructor(...e){var t;return t=super(...e),this.renderBrowserUpgradeRow=((e,t,s)=>o.a.createElement("li",{style:Object.assign({},e)},o.a.createElement("a",{href:t,style:L.upgradeLink,target:"_new",rel:"noopener"},o.a.createElement(i.c,v.rs_page_upgrade_link_text)),o.a.createElement(i.c,s))),this.renderChrome=(()=>this.renderBrowserUpgradeRow(L.chrome,P,v.rs_page_chrome)),this.renderFirefox=(()=>this.renderBrowserUpgradeRow(L.firefox,F,v.rs_page_firefox)),this.renderSafari=(()=>this.renderBrowserUpgradeRow(L.safari,x,v.rs_page_safari)),t}render(){const{formatMessage:e}=this.context.intl,{browserName:t,os:s,classicMailUrl:n,mailBrandNameString:a}=this.props;return o.a.createElement("div",{style:L.outerWrapper},o.a.createElement("div",{style:L.contentHolder},o.a.createElement("div",{style:L.iconWrapper},o.a.createElement("img",{alt:e(v.rs_page_icon_alert),src:Object(p.a)("/img/icon_alert.png"),style:L.icon})),o.a.createElement("div",{style:L.title},o.a.createElement(i.c,babelHelpers.extends({},v.rs_page_recommend_text,{values:{mailBrandNameString:a}}))),o.a.createElement("ul",{style:L.ul},"Chrome"===t&&this.renderChrome(),"Firefox"===t&&this.renderFirefox(),"Safari"===t&&this.renderSafari(),"Chrome"!==t&&this.renderChrome(),"Firefox"!==t&&this.renderFirefox(),"Safari"!==t&&s===_.wc.MAC&&this.renderSafari(),o.a.createElement("li",{style:Object.assign({},L.li,L.classic)},o.a.createElement("a",{href:n,style:Object.assign({},L.upgradeLink,L.tryLaterLink),rel:"noopener"},o.a.createElement(i.c,v.rs_page_try_later_link_text)),o.a.createElement("div",{style:L.classicMailHolder},o.a.createElement(i.c,v.rs_page_classic_mail_title),o.a.createElement("em",{style:L.classicMailDesc},o.a.createElement(i.c,v.rs_page_classic_mail_desc)))))))}}w.contextTypes={intl:i.i.isRequired},w.defaultProps={browserName:"",os:"",classicMailUrl:_.uc+"?.src=ym&reason=unsupported_browser&toB=2"};var k=w;const H=159600033,U=Object(i.h)({"launch.error.banner.alt.text":{id:"launch.error.banner.alt.text",defaultMessage:"banner background"}});class j extends o.a.Component{constructor(...e){var t;return t=super(...e),this.initRapidClient=(()=>{c.b.init({rapid:{spaceid:H,test_id:"norrin",keys:window.BrowserLoggerParams,dwell_on:!0,extendbcookie:!0}})}),this.getErrorType=(()=>{const{error:e}=this.props;switch(e.name){case h.n:return _.ib.LAUNCH_PAGE_NOT_FOUND_ERROR;case h.l:return _.ib.LAUNCH_API_ERROR;case h.o:return _.ib.WRONG_MAILBOX_STATE;case"LaunchError.NoScript":return _.ib.NO_SCRIPT;case"LaunchError.UnsupportedBrowser":return _.ib.UNSUPPORTED_BROWSER;case h.m:return _.ib.SWITCH_ACCOUNT;case _.ib.REACT_ERROR:return _.ib.REACT_ERROR;case"GenericError":case"UnknownError":return _.ib.SERVER_ERROR}return _.ib.DEFAULT}),this.getErrorMessage=(()=>{const{error:e}=this.props;return e.message}),this._getErrorProperty=(e=>{const{error:t}=this.props;return Object(m.a)(t,`data.${e}`,null)}),this.getApiName=(()=>this._getErrorProperty("apiName")),this.getErrorCode=(()=>this._getErrorProperty("errorCode")),this.getStatusCode=(()=>this._getErrorProperty("statusCode")),this.getExtraErrorCode=(()=>this._getErrorProperty("extraErrorCode")),this.getExtraStatusCode=(()=>this._getErrorProperty("extraStatusCode")),this.getCode=(()=>this._getErrorProperty("code")),this.getBrowserName=(()=>this._getErrorProperty("browserName")),this.getOS=(()=>this._getErrorProperty("os")),this.getClassicMailUrl=(()=>this._getErrorProperty("classicMailUrl")),this.getCspToken=(()=>this._getErrorProperty("cspToken")),this.getCspToken=(()=>this._getErrorProperty("cspToken")),this.getLoginAlias=(()=>this._getErrorProperty("loginAlias")),this.getAccountType=(()=>this._getErrorProperty("accountType")),this.isNorrinOptinEnabled=(()=>this._getErrorProperty("norrinOptin")),this.renderLaunchErrorDialog=(()=>{const{isRTL:e,mailBrandNameString:t,crumb:s}=this.props,n=this.getErrorType(),{error:a,appName:r}=this.props;switch(n){case _.ib.LAUNCH_API_ERROR:return o.a.createElement(C,{appName:r,type:n,code:this.getCode(),isRTL:e});case _.ib.NO_SCRIPT:return o.a.createElement(C,{appName:r,type:n,cspToken:this.getCspToken(),isRTL:e});case _.ib.UNSUPPORTED_BROWSER:return o.a.createElement(k,{browserName:this.getBrowserName(),os:this.getOS(),classicMailUrl:this.getClassicMailUrl(),mailBrandNameString:t});case _.ib.WRONG_MAILBOX_STATE:return o.a.createElement(C,{appName:r,type:n,mailboxState:a.data.mailboxState,cspToken:this.getCspToken(),isRTL:e});case _.ib.SWITCH_ACCOUNT:return o.a.createElement(C,{appName:r,type:n,norrinOptin:this.isNorrinOptinEnabled(),loginAlias:this.getLoginAlias(),accountType:this.getAccountType(),crumb:s,isRTL:e});case _.ib.REACT_ERROR:case _.ib.LAUNCH_PAGE_NOT_FOUND_ERROR:case _.ib.SERVER_ERROR:case _.ib.DEFAULT:return o.a.createElement(C,{appName:r,type:n,isRTL:e})}return null}),t}componentDidMount(){const e=this.getErrorType(),t=this.getErrorMessage();if(t!==h.a&&t!==h.q){if(e===_.ib.LAUNCH_API_ERROR||e===_.ib.SERVER_ERROR){let{error:e}=this.props;e=d.a.jsonToError(e);const t={apiName:this.getApiName(),errorCode:this.getErrorCode(),statusCode:this.getStatusCode(),isOnline:!0},s=this.getExtraErrorCode(),n=this.getExtraStatusCode();s&&(t.extraErrorCode=s),n&&(t.extraStatusCode=n),this.initRapidClient(),Object(u.a)(l.a,_.p.MailAPIClient,t,e)}}else window.location.href=_.kc+"?reason="+h.s[t]+"&crumb="+this.props.crumb}render(){const e=this.getErrorMessage();if(e===h.a||e===h.q)return null;const{formatMessage:t}=this.context.intl,{hideLogo:s,isRTL:n,logoUrl:a}=this.props;return o.a.createElement("div",null,o.a.createElement("style",null,`\n        ${E.BREAKPOINTS.W768} {\n            .logo {\n                display: none;\n            }\n            .launchErrorWrapper {\n                font-family: ${E.MOBILE_BASE_FONT_STACK};\n            }\n            .headerText {\n                position: absolute;\n                top: ${4*E.GRID_UNIT}px;\n                font-size: 18px;\n                color: ${E.WHITE};\n                letter-spacing: 0;\n                line-height: ${6*E.GRID_UNIT}px;\n                text-align: center;\n                width: 100%;\n            }\n            .ribbon {\n                height: ${14*E.GRID_UNIT}px;\n            }\n        }\n        ${E.BREAKPOINTS.W769} {\n            .headerText {\n                display: none;\n            }\n            .launchErrorWrapper {\n                font-family: ${E.BASE_FONT_STACK};\n            }\n            .ribbon {\n              height: ${21*E.GRID_UNIT}px;\n            }\n        }\n        .launchErrorWrapper {\n            color: ${E.BLACK};\n        }\n        .ribbon {\n            width: 100%;\n        }\n        .logo {\n            position: absolute;\n            top: ${5*E.GRID_UNIT}px;\n            ${n?"right":"left"}: ${5*E.GRID_UNIT}px;\n            height: ${a?"auto":`${10*E.GRID_UNIT}px`};\n        }\n        `),o.a.createElement("div",{className:"launchErrorWrapper"},o.a.createElement("div",null,o.a.createElement("img",{alt:t(U["launch.error.banner.alt.text"]),src:Object(p.a)("/img/banner_bg.jpg"),className:"ribbon"}),s?null:o.a.createElement("img",{alt:t(b.a.mailBrandName),src:a||Object(p.a)("/img/logo_yahoo.png"),className:"logo"}),o.a.createElement("div",{className:"headerText"},t(b.a.mailBrandName))),this.renderLaunchErrorDialog()))}}j.contextTypes={intl:i.i.isRequired};t.a=j},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(13),c=s(4),l=(s(37),s(108)),d=s(5),u=s(14),m=s(16),p=s(25),_=s(555),h=s.n(_),E=s(9),g=s(48),b=s(445),I=s(557),f=s.n(I),S=s(11);const A=s.n(S)()(f.a),T=e=>{const{isBusiness:t}=e;return t?o.a.createElement("span",{className:A.footer}):o.a.createElement("div",{"data-test-id":"contact-card-footer",className:A.containerFooter},o.a.createElement("div",{className:A.footerText},o.a.createElement(c.c,{id:"contact_card.footer",defaultMessage:"Auto generated card visible only to you"})))};T.defaultProps={isBusiness:!1};var C=T,O=s(446),R=s(447),N=s(448),M=s(449),D=s(450),y=s(367),L=s(0);class v extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(e=>{e.stopPropagation()}),this.openComposeView=(e=>{e.stopPropagation();const{isCompose:t,dispatchActionToNewRoute:s,email:n}=this.props;t||s({route:Object(m.e)(Object(u.f)()),mailtoAttr:`mailto:${n}`,i13nModel:{mKey:d.e.CONTACT_CARD_EMAIL_CLICKED,sec:d.g.CONTACT_CARD,interactionType:Object(u.i)(e)}})}),t}componentDidMount(){this._getContactDetailsTimer=setTimeout(()=>{this.props.getContactDetails()},0)}componentDidUpdate(){const{notifyPopoverChanged:e}=this.context;e&&e()}componentWillUnmount(){this._getContactDetailsTimer&&clearTimeout(this._getContactDetailsTimer)}render(){const{email:e,isInRightRail:t,contact:s,name:n,isCompose:a,relationshipHistory:r,hasCoupons:i,showVigLink:c}=this.props;if(!s)return null;const{isBusiness:l=!1,phonesWithType:d=[],name:u,position:m,website:_,xobniId:E}=s||{},g=t?Object(p.i)(this.context,!0):{},I=Object(p.k)({context:this.context,includeMedium:!0}),f=t&&(i||c),S=this.context.getCss(h.a,babelHelpers.extends({isInRightRail:t,isCompose:a},g,{partnerIconEnabled:f})),A=d[0];return o.a.createElement("div",{"data-test-id":"contact-card",className:S.container,onClick:this.handleClick,key:e},o.a.createElement("div",null,f&&o.a.createElement(y.a,{isOnDarkBackground:I}),o.a.createElement("div",{className:S.contactFlexContainer},o.a.createElement(R.a,{email:e,id:E,website:_,isBusiness:l}),o.a.createElement("div",{className:S.rightColElement},o.a.createElement("div",{className:S.header},o.a.createElement(N.a,{name:u||n,email:e,isInRightRail:t}),o.a.createElement(M.a,{position:m,isInRightRail:t})),l&&o.a.createElement(D.a,{website:_,isBusiness:!0}),o.a.createElement("a",{"data-test-id":"contact-card-email",className:S.email,title:e,onClick:this.openComposeView},e),A&&o.a.createElement("div",{"data-test-id":"contact-card-phone",className:S.phone,title:A.number},A.number),o.a.createElement(b.a,{contact:s,isInRightRail:t}))),o.a.createElement(O.a,{relationshipHistory:r,isBusiness:l})),!t&&o.a.createElement(C,{isBusiness:l}))}}v.contextTypes={executeAction:a.a.func.isRequired,notifyPopoverChanged:a.a.func,intl:c.i,getCss:a.a.func,getThemeMode:a.a.func,getTheme:a.a.func,config:a.a.object},v.defaultProps={isInRightRail:!1};t.a=Object(i.b)((e,t)=>{const{email:s}=t,{doesContactIdExist:n,getContactById:a,doesPeopleContactExistByXobniId:r,getCouponsSelectors:o,isFeatureEnabled:i,getSetting:c,getRelationshipHistoryByXobniId:l}=Object(E.b)(e),d=n(s)?a(s):void 0,u=d&&t.showContactSummary,m=o().emailHasCoupons(),p=c(L.nd.VIGLINK_BLACKLIST),_=i(L.mb.VIGLINK)&&d&&d.isBusiness&&d.website&&!p.some(e=>-1!==d.website.toLowerCase().indexOf(e));return{contact:d,hasCoupons:m,showVigLink:_,relationshipHistory:u&&r(d.xobniId)?l(d.xobniId):void 0}},(e,t)=>{const{email:s,isCompose:n,contact:a}=t;return{dispatchActionToNewRoute:t=>e(Object(g.i)(t)),getContactDetails:()=>{a||e(Object(l.d)({email:s,isCompose:n}))}}})(v)},,function(e,t,s){"use strict";e.exports={className:{default:{pillContent:"C_Z281SGl k_w e_6Eb4 b_Z14vXdP M_dRA H_6MGW i_6Mbr ac_C ab_C D_F p_R o_h I_52qC Z_N",avatar:"D_F P_dBP",pillRemove:"D_F p_a R_0 T_0 q_q H_6D6F P_3gIgH M_0 en_0",pillText:"P_oRhLS",dragHoverContent:"D_F H_6D6F W_6D6F p_a T_0 L_0 Z_N",dragHoverLeft:"em_N",dragHoverRight:"em_N",pillContainer:"p_R",editInput:"s_3qWeB b_dm5 A_6EqO"},isHovered:{pillContent:"I_ZoExDJ J_x l_ZoExDJ"},isDragImg:{pillContent:"b_2fAfSG"},isSelected:{pillContent:"l_Z2aVTcY I_ZoExDJ"},hasError:{pillContent:"b_Z1222NH I_Zkgkoa",pillText:"P_3gJOe"},useEllipsis:{pillText:"k_BF J_x o_h G_e"},isDark:{pillContent:"C_52qC I_2sqbPK b_efTvb"},isFolderPill:{pillDiv:"W_6LEV H_6LEV I_ZnIF8Y D_F ab_C gl_C e_e5X"},isDragged:{pillContainer:"D_n"},"dragSide-left":{pillContent:"Q_GAbAU",dragHoverRight:"em_0"},"dragSide-right":{pillContent:"E_GAbAU",dragHoverLeft:"em_0"}},_key:"CLv4H"}},function(e,t,s){"use strict";e.exports={className:{default:{surveyContainer:"W_3zBDu I_52qC",headerSection:"D_F gl_C ek_BB p_R",imageWrapper:"D_F gl_C je_6MGW",optOutBackground:"D_F W_3vqYW gl_C aw_1hc10n H_7kKt",titleText:"t_C A_6FsP u_e69 Y_6LEV",closeButton:"p_a T_6Eb4 R_6Eb4",bodySection:"P_4dtF7",optionsContainer:"hd_n P_0 M_0",textArea:"H_7rdk W_3v3uk V_GM e_dRA b_2w4l8N Y_6MGW y_Z2uhb3X A_6EqO jw_n N_eo6 X_eo6 I_ZnkeaL",buttonWrapper:"Y_6Eb4 P_1DfIQP D_F",messageCounter:"C_Z1VRpVF t_r H_6Eb4",submitMessage:"C_Z1YRXYn t_C je_6Fd5 jb_6MGW",sadFace:"H_7yHc W_7yHc",chick:"H_7yHc W_7yHc D_n"},isPanelFocus:{textArea:"I_52qC l_Z2aVTcY"},submit:{sadFace:"D_n",chick:"D_B"}},_key:"2q9hzL"}},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(11),c=s.n(i),l=s(550),d=s.n(l),u=s(31),m=s(0);class p extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleMouseDown=(e=>{const{value:t}=this.props;this.props.onSelect&&this.props.onSelect(t,e)}),this.handleClick=(e=>{e.preventDefault()}),this.handleKeyDown=(e=>{switch(e.key){case m.Bb.ENTER:e.preventDefault(),e.stopPropagation(),this.handleMouseDown(e);break;case m.Bb.TAB:e.preventDefault(),e.stopPropagation()}}),t}render(){const{isSelected:e,children:t,value:s,hoverStyle:n,title:a}=this.props,r=c()(d.a,{isSelected:e&&!n,hoverStyle:n+(e?"_SELECTED":"")}),i=a||t;return o.a.createElement(u.a,{title:i,ariaLabel:i,"data-test-id":s,onClick:this.handleMouseDown,onKeyDown:this.handleKeyDown},o.a.createElement("a",{href:"#",onClick:this.handleClick,className:r.optionItem},t))}}p.defaultProps={isSelected:!1},t.a=p},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(159),o=s(639),i=s.n(o),c=s(11),l=s.n(c),d=s(101),u=s.n(d),m=s(372),p=(s(8),s(15));class _ extends a.a.Component{constructor(...e){var t;return t=super(...e),this.handleChange=(e=>{const{onChange:t}=this.props;t&&t(e.target.value)}),this.handleFocus=(e=>{const{onFocus:t}=this.props;t&&t(e.target.value)}),this.handleBlur=(e=>{const{onBlur:t}=this.props;t&&t(e.target.value)}),this.handleClear=(()=>{const{onChange:e}=this.props;e&&e("")}),t}render(){const e=this.props,{hint:t,error:s,kind:n,fujiIconProps:o,className:c}=e,d=babelHelpers.objectWithoutProperties(e,["hint","error","kind","fujiIconProps","className"]),m=Boolean(t),_=Boolean(s),h=Boolean(o),E=l()(i.a,{kind:n});return a.a.createElement("div",{className:E.inputContainer},a.a.createElement(r.a,babelHelpers.extends({},d,{className:u()(E.inputField,c),onFocus:this.handleFocus,onChange:this.handleChange,onClear:this.handleClear,onBlur:this.handleBlur})),h&&a.a.createElement("div",{className:E.inputIcon},a.a.createElement(p.b,o)),m&&!_&&a.a.createElement("div",{className:E.hint},t),_&&a.a.createElement("span",{"data-test-id":"input-error",className:E.error},s))}}_.defaultProps={hint:"",error:"",focusOnMount:!1,kind:m.a.DEFAULT,className:""},t.a=_},function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"f",function(){return o}),s.d(t,"e",function(){return i}),s.d(t,"b",function(){return c}),s.d(t,"d",function(){return l}),s.d(t,"c",function(){return d});var n=s(2),a=s(0);const r=e=>babelHelpers.extends({},e,{destinationFolderType:a.ub.TRASH,type:n.ed}),o=e=>babelHelpers.extends({type:n.id},e),i=e=>babelHelpers.extends({type:n.hd},e),c=e=>babelHelpers.extends({type:n.Pg},e),l=e=>babelHelpers.extends({type:n.Qg},e),d=e=>babelHelpers.extends({type:n.Og},e)},function(e,t){const s=1,n=1024,a=1048576,r=1073741824,o={[s]:"B",[n]:"kB",[a]:"MB",[r]:"GB"};e.exports={toNBits:(e,t)=>e.length>t?e.substr(0,t):e.length<t?new Array(t-e.length+1).join("0")+e:e,binToHex(e){var t,s,n=e.length,a="";for(t=0;t<n;t+=4)s=e.substr(t,4),s=s+=new Array(4-s.length+1).join("0"),a+=parseInt(s,2).toString(16);return a},hexToBin(e){var t,s,n=e.length,a="";for(t=0;t<n;t++)s=parseInt(e[t],16).toString(2),a+=s=new Array(4-s.length+1).join("0")+s;return a},prettyPrintBytes(e,t=0){if("number"!=typeof e||e<=0)return"";const i=[r,a,n,s].find(t=>e>=t),c=Math.pow(10,t);return`${Math.round(e/i*c)/c}${o[i]}`}}},,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"c",function(){return a}),s.d(t,"a",function(){return r});const n=20,a=100,r="allContacts"},function(e,t,s){"use strict";s.d(t,"g",function(){return c}),s.d(t,"e",function(){return l}),s.d(t,"f",function(){return d}),s.d(t,"d",function(){return u}),s.d(t,"h",function(){return m}),s.d(t,"a",function(){return p}),s.d(t,"c",function(){return _}),s.d(t,"b",function(){return h});var n=s(14),a=s(9),r=s(0),o=s(65),i=s(2);const c=e=>(t,s)=>{const c=Object(n.f)(),{getAccountSelectors:l,getSelectedAccountIdByRoute:d,getRoute:u,getAccountById:m}=Object(a.b)(s()),p=l().getAllAccounts(),_=`<html><head></head><body>${e.body}</body></html>`,h=m(d(u()))||{};return t({type:i.Jj,csid:c,composeMode:r.J.Modes.NEW,payload:{csid:c,id:c,userInputtedValues:{csid:c,bcc:[],cc:[],html:_,to:e.toAddresses,subject:e.subject,uiState:{useRichText:!0},lastEditedTimeStamp:Date.now(),from:o.getFromAddress(p,h.email),unsubFromMessage:e.unsubFromMessage}}})},l=e=>babelHelpers.extends({type:i.Ij},e),d=e=>babelHelpers.extends({type:i.Gj},e),u=e=>babelHelpers.extends({type:i.Gj},e),m=e=>babelHelpers.extends({type:i.Gj},e),p=e=>babelHelpers.extends({type:i.tb},e),_=e=>babelHelpers.extends({type:i.ub},e),h=e=>babelHelpers.extends({type:i.sb},e)},,,,,function(e,t,s){"use strict";s.d(t,"c",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"b",function(){return c});var n=s(2),a=s(57),r=s(0);function o({i13nModel:e}){return{type:n.D,i13nModel:e}}function i({i13nModel:e}){return{type:n.C,i13nModel:e}}const c=({uiId:e,i13nModel:t={}})=>s=>s(Object(a.a)({name:r.nd.AD_BLOCK_FEATURE_CUE_ID,value:e,runV3:!0,i13nModel:t}))},,,,,,,function(e,t,s){"use strict";s.d(t,"c",function(){return o}),s.d(t,"b",function(){return i}),s.d(t,"a",function(){return c}),s.d(t,"d",function(){return l});var n=s(2),a=s(0),r=s(5);const o=({senderEmail:e,nearbyListing:t})=>({type:n.Oj,senderEmail:e,nearbyListing:t}),i=({senderEmail:e=""})=>({type:n.Nj,senderEmail:e}),c=e=>({type:n.Gc,email:e,i13nModel:{mKey:r.e.COUPON_STORE_LOCATOR_SHOWN,sec:r.g.CPN_STORE_LOCATOR,actionData:{email:e}}}),l=e=>({type:n.ci,name:a.nd.COUPON_STORE_LOCATOR_COLLAPSED,value:e})},function(e,t,s){"use strict";s.d(t,"c",function(){return o}),s.d(t,"b",function(){return i}),s.d(t,"a",function(){return c});var n=s(2),a=s(9),r=s(0);const o=e=>(t,s)=>{const{getLocationSuggestionSelectors:o}=Object(a.b)(s()),{keyword:i,product:c}=e.query;if(o().getLocationSuggestionStatus(i,c)===r.Rc.DOES_NOT_EXIST)return t(babelHelpers.extends({type:n.qf},e))},i=e=>babelHelpers.extends({type:n.rf},e),c=e=>babelHelpers.extends({type:n.pf},e)},function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"a",function(){return r}),s.d(t,"d",function(){return o}),s.d(t,"c",function(){return i});var n=s(2);const a=({i13nModel:e})=>({type:n.Qh,i13nModel:e}),r=({i13nModel:e,keyword:t})=>({type:n.ge,i13nModel:e,keyword:t}),o=({plaAds:e,keyword:t,originalKeyword:s,i13nModel:a})=>({type:n.he,plaAds:e,keyword:t,originalKeyword:s,i13nModel:a}),i=({error:e,keyword:t,originalKeyword:s,i13nModel:a})=>({type:n.Rg,error:e,keyword:t,originalKeyword:s,i13nModel:a})},function(e,t,s){"use strict";s.d(t,"c",function(){return a}),s.d(t,"b",function(){return r}),s.d(t,"a",function(){return o});var n=s(2);const a=e=>babelHelpers.extends({type:n.rh},e),r=e=>babelHelpers.extends({type:n.qh},e),o=({i13nModel:e})=>({type:n.ph,i13nModel:e})},function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"c",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"e",function(){return i}),s.d(t,"d",function(){return c});var n=s(2);const a=({i13nModel:e})=>({type:n.ee,i13nModel:e}),r=({i13nModel:e})=>({type:n.Ke,i13nModel:e}),o=e=>babelHelpers.extends({type:n.Je},e),i=e=>babelHelpers.extends({type:n.kj},e),c=({error:e})=>({type:n.jj,error:e})},function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"c",function(){return r}),s.d(t,"b",function(){return o});var n=s(2);function a(e){return babelHelpers.extends({type:n.dj},e)}function r(e){return{type:n.ej,id:e}}function o(e){return{type:n.cj,id:e}}},function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"a",function(){return r});const n=/\.\w*$/;function a(e){if("string"!=typeof e)return"";const t=e.match(n);return t?t[0]:""}function r(e,t){void 0===e?e="undefined":"string"!=typeof e&&(e=e.toString());let s=e.split("/").pop();return t&&s.substr(-t.length)===t&&(s=s.substr(0,s.length-t.length)),s}},function(e,t,s){"use strict";s.d(t,"b",function(){return r}),s.d(t,"c",function(){return o});var n=s(2),a=s(9);const r=e=>babelHelpers.extends({},e,{isRead:!1,type:n.gh}),o=e=>babelHelpers.extends({},e,{isRead:!0,type:n.gh});t.a=(e=>(t,s)=>{const{streamItem:r}=e,{getMessageGroupsSelectors:o,getMessageFlags:i}=Object(a.b)(s()),c=o().getMessageIdsFromMessageGroupId(r.id).every(e=>i(e).read);return t(babelHelpers.extends({type:n.gh},e,{isRead:c}))})},function(e,t,s){"use strict";s.d(t,"b",function(){return o}),s.d(t,"c",function(){return i});var n=s(2),a=s(9),r=s(5);const o=e=>babelHelpers.extends({},e,{isStarred:!1,type:n.Ti}),i=e=>babelHelpers.extends({},e,{isStarred:!0,type:n.Ti});t.a=(e=>(t,s)=>{const{streamItem:o,i13nModel:i}=e,c=babelHelpers.objectWithoutProperties(e,["streamItem","i13nModel"]),{getMessageGroupsSelectors:l,getMessageFlags:d}=Object(a.b)(s()),u=l().getMessageIdsFromMessageGroupId(o.id).some(e=>d(e).flagged);return t(babelHelpers.extends({},c,{streamItem:o},i&&{i13nModel:babelHelpers.extends({},i,{mKey:u?r.e.MARK_MSG_UNSTARRED:r.e.MARK_MSG_STARRED})},{isStarred:u,type:n.Ti}))})},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(616),c=s.n(i),l=s(17),d=s(15),u=s(3),m=s(4);const p=Object(m.h)({deleteMsg:{id:"delete_msg",defaultMessage:"Delete this message"}}),_=(e,t)=>{const s=t.getCss(c.a,{isDarkThemeMode:e.isDarkThemeMode}),{formatMessage:n}=t.intl;return e.isHovered?o.a.createElement(l.a,{"data-test-id":"icon-btn-trash",title:n(p.deleteMsg),onClick:e.onClick,onDoubleClick:e.onClick,className:e.isCompact?s.trashIconCompact:s.trashIcon},o.a.createElement("span",{className:s.trashCenter},o.a.createElement(d.b,{kind:u.b.DELETE,size:u.d.XS,colorState:u.a.INHERITED,"aria-label":n(p.deleteMsg)}))):o.a.createElement(l.a,{className:s.trashIconAccessible,onClick:e.onClick},o.a.createElement("span",{className:s.accessible,"aria-label":n(p.deleteMsg)}))};_.defaultProps={isHovered:!1,isCompact:!1},_.contextTypes={intl:m.i,getCss:a.a.func},t.a=_},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F D_F",mailReader:"D_F ab_FT em_N ek_BB",listContainer:"D_F H_6D6F ab_FT em_N",toolbar:"en_0",leftPane:"en_0 ej_dAt p_R",deadResizer:"en_0 ej_dBP",resizer:"en_0 ej_dBP",rightPane:"em_T ej_0 p_R D_F o_h",messageView:"p_R em_N ac_FT",blank:"M_1EtAWD I_ZnkeaL em_N ac_FT D_F"},"previewpane-0":{listContainer:"M_0 p_R"},"previewpane-1":{deadResizer:"I_ZpQYvz",resizer:"I_ZpQYvz r_CA ej_eo6 Z_N I4_ZroviD",blank:"M_0"},"previewpane-2":{listContainer:"ek_BB",leftPane:"d_3nV5V",deadResizer:"M_1EtAWD ej_fq7 I_ZpQYvz",resizer:"M_1EtAWD ej_fq7 I_ZnIF8Y r_EB Z_N I4_ZroviD"},"themeMode-DARK":{blank:"I_T",resizer:"I_ajP3z"}},_key:"oeyld"}},,,,,,function(e,t,s){"use strict";var n=s(99),a=s.n(n);t.a=function({boundary:e,headers:t}){const s=Object.keys(t).reduce((e,s)=>`${e}${s}: ${t[s]}\n`,"");return a()(function(t){this.queue(`--${e}\n${s}\n${t}\n\n`)},function(){this.queue(`--${e}--`),this.queue(null)})}},function(e,t,s){"use strict";s.d(t,"a",function(){return l});var n=s(64),a=s(50),r=s(496),o=s.n(r),i=s(8);function c(e,t){const s=[];return+t===a.c&&e.assets&&e.assets.forEach(({callToAction:e,clickUrl:t,headline:n,assetId:r,mediaInfo:o})=>{let i="";o.forEach(e=>{e.contentLabel===a.e&&(i=e.url)}),s.push({callToAction:e,clickUrl:t,headline:n,assetId:r,img:i||o[0].url})}),s}function l(e,t="",s={}){return Array.isArray(e)?e.map((e,r)=>{const l=function(e){let t;try{t=JSON.parse(e)}catch(e){n.a.error("Gemini ad tag is not valid JSON")}return t}(e.tag);if(!l)return;const d=function(e){if(!Array.isArray(e.assets)||e.assets.length<=0)return{};const t=e.assets.map(function(e){return e.mediaInfo.map(function(t){const s=e.embeddedLandingUrls||[];return t.usageType=e.usageType,t.embeddedLandingUrls=s.reduce(function(e,t){return e[t.index.toString()]=t,e},{}),t}).reduce(function(e,t){return t.usageType===a.l.ImagePortrait&&t.contentLabel!==a.f?e:t.url?t:e},{})});return o()(t,function(e){return e.usageType})}(l),u=function(e){let t;return Array.isArray(e.assets)&&e.assets.length>0?(e.assets.forEach(e=>{e.usageType===a.l.VideoPrimary&&(t=e.mediaInfo.map(e=>e))}),t):null}(l),m=function(e,t,s){return Array.isArray(s)&&s?{videoMediaAssets:s,clickUrl:t.clickUrl||"",rules:e.rules,actionUrls:e.actionUrls,callToAction:t.callToAction,thumbnail:t.thumbnailImage||t.hqImage||""}:null}(e,l,u),p=function(e,t,s={}){if(!t)return;const{actionUrls:n,ccCode:a}=e,{url:r,contentType:o,usageType:i,embeddedLandingUrls:c}=s,l=new RegExp("(.png|.gif|.jpg|.jpeg)$","i");let d="";return r&&r.match(l)&&(d=[`<a target="_blank" href="${t.landingUrl}" rel="noreferrer">`,`<img src="${r}" style="display: block; margin: auto; max-width: 100%;"/>`,"</a>"].join("")),{contentType:o||"",url:r||"",usageType:i||"",geminiSponsoredAsset:d,actionUrls:"STRM_VIDEO"===a?"":n,embeddedLandingUrls:c}}(e,l,d[a.l.HtmlPrimary]),_=function(e,t,s={},n){if(!t)return;const r=s[a.l.VideoPreview]||{},o=s[a.l.ImagePortrait]||{},l="image/jpeg"===o.contentType?o.url:"";return t.secThumbnailImage=/^https:\/\//.test(t.secThumbnailImage)?t.secThumbnailImage:"",{adHeadline:t.headline||"",adSummary:t.summary||"",adImg:t.secThumbnailImage||t.secImage||"",adSource:t.source||"",clickUrl:t.clickUrl||"",landingUrl:t.landingUrl||"",creativeId:e.creativeId.toString(),impressionTrackingUrls:t.imprTrackingUrls?t.imprTrackingUrls:[t.imprTrackingUrl],adFeedbackBeacon:t.ad_feedback_beacon||"",rules:e.rules,actionUrls:e.actionUrls,previewVideoContentType:r.contentType||"",previewVideoUrl:r.url||"",callToAction:t.callToAction||"",flashSaleEndTime:Object(i.a)(t,"passThroughFields.flashSaleCountdownMilliSec",null),imagePortrait:l||t.secOrigImg||t.origImg||"",origImg:t.secOrigImg||t.origImg||"",brand:Object(i.a)(t,"passThroughFields.brand"),productAdActivity:Object(i.a)(t,"passThroughFields.productAdActivity"),productAdActivityMessage:Object(i.a)(t,"passThroughFields.productAdActivityMessage"),salePrice:Object(i.a)(t,"passThroughFields.salePrice"),fullPrice:Object(i.a)(t,"passThroughFields.fullPrice"),carouselAssets:c(t,n)}}(e,l,d,t);return _.actionUrls&&_.actionUrls.STATIC_VIEW_3P&&(_.actionUrls.STATIC_VIEW_3P[0]=_.actionUrls.STATIC_VIEW_3P[0].replace("$(S_VIEW_TYPE)",_.rules.viewabilityDefStatic3P[0].t)),_.sectionId=t,_.beacon=e.beacon.replace("$(AD_POSN)",r+1)||"",_.type=function(e,t,s,n){return n.productAdActivity?a.l.ShoppingCartAdType:"STRM_VIDEO"===e&&t?a.l.VideoAdType:s.usageType===a.l.HtmlPrimary&&s.url?a.l.NativeAdType:n.flashSaleEndTime?a.l.FlashSaleAdType:a.l.PencilAdType}(e.ccCode,m,p,_),_.domain=s.domain,function(e){const{adFeedbackBeacon:t,adImg:s,beacon:a,clickUrl:r,impressionTrackingUrls:o}=e;![t,s,a,r,...o].every(e=>!e||/^https:\/\//.test(e))&&n.a.feature("gemini_non_https_url",e).logFailure()}(_),{creativeId:e.creativeId.toString(),nativeAd:p,pencilAd:_,videoAd:m}}).filter(Boolean):[]}},function(e,t,s){"use strict";e.exports={className:{default:{categoriesContainer:"W_A",topSection:"D_F",categoriesHeader:"A_6EqO i_6Fd5 P_6Fd5 M_0",categoriesReorderContainer:"m_Z14vXdP D_F gl_FM",categoriesReorderTitle:"u_b A_6EqO i_6LEV M_E8xte",categoriesReorderBtnsContainer:"ab_C D_F",categoriesList:"hd_n M_0 P_0",category:"P_fq7 m_ZmUeFv D_F ab_C m8_n",categorySelected:"P_fq7 m_ZmUeFv D_F ab_C m8_n q_2ieeaE"},isMenuMode:{categoriesContainer:"W_3rBgu",category:"P_Z1E2XDm"},isCueMode:{category:"P_fq7"}},_key:"2317hS"}},function(e,t,s){"use strict";e.exports={className:{default:{titleWrapper:"W_6D6F D_Z1YJkyX ab_C",fullWidth:"W_6D6F",rowItemsContainer:"D_F aa_C ab_C i_6EWk",iconWrapper:"E_fq7",hint:"A_6DUj C_Z1TsNWR D_X je_eo6",title:"M_0 D_F A_6FsP u_N F_N",titleCheckboxContainer:"E_fq7 H_6LEV",rightAlign:"Q_A",settingState:"Q_6DEy Y_689y U_68F4",warningInfoIcon:"Q_fq7 K_6FIA p_R r_P",warningPopover:"T_6NIX A_6DUj u_dPo i_6EWk Z_N W_3nV5V P_Z1wkQrI p_a e_dRA I_52qC j_ZlOSbd",toggleButtonState:"A_6DUj C_Z1TsNWR Q_eo6",toggleButtonContainer:"D_Z1YJkyX ab_C"},subHeader:{title:"u_b A_6EqO"},warning:{header:"O_cMq D_X",rightAlign:"O_cMq"},"toggleType-CHECKBOX":{title:"i_6LEV"},"toggleType-SWITCH":{titleWrapper:"gl_FM"}},_key:"Z1TQH7F"}},function(e,t,s){"use strict";e.exports={className:{default:{header:"D_F ab_C H_7He5 a_1Ie4E3 M_1EAG48 W_6D6F",brandSideContainer:"D_F ab_C em_N ej_1LWoB0",searchCenterContainer:"em_N en_0 ej_1LWoB0 s_3z5BY p_R",accountToolsSideContainer:"D_F ab_C em_N ej_1LWoB0 gl_CH",logo:"en_0 W_3o4BO H_q k_w D_F ab_C gl_C",logoImage:"H_72FG",mailApps:"D_n en_0 ab_C hd_n em_N P_0 M_Z1fegk0 c26zcWk_F",mailAppsCompact:"D_X c26zcWk_n",popoverListWrapper:"P_3Y3Gk",mailAppsPopoverLink:"P_ZlO2l1 D_F ab_C em_N q4_1I4yPF q3_1I4yPF ir3_1JO2M7",mailAppsPopoverItemLabel:"A_6EqO X_eo6",iconWrapper:"E_6LEV",iconNavLink:"i_0 W_6LEV H_6LEV D_X ir3_Z1HO9zT it3_eo6",avatar:"M_1Eu6qC D_F",settingsLink:"D_F E_6LEV"},tabsVisible:{header:"H_7zJd"}},_key:"1YLLeX"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_3n93F p_R",content:"I_2iedTo k_w H_7yHc p_R o_h",mediaContent:"D_F ab_C gl_C H_6D6F",media:"W_6D6F",button:"c27KHO0_n b_0 I_ZS20TA C_52qC A_6EqO W_6D6F H_6D6F D_F gl_FM ab_C P_3gJOe",itemMenu:"p_a Z_O T_36JN3 R_36JN3 W_6MGW H_6MGW e_6MGW I_52qC j_20lmjm D_F gl_C ab_C r_P",menuContainer:"P_3HLUz",menuItem:"J_x I4_2ieea9 C4_Z2aVTcY",label:"A_6Eb4 i_6FIA J_x D_F r_P",filename:"D_F u_e69",labelBaseName:"G_e o_h",fileSize:"u_dzD A_6DUj",filenameContainer:"D_F ek_BB o_h J_x C_Z1VRpVF Q_eo6",downloadFilename:"D_F ek_BB o_h J_x C_Z1VRpVF Q_67SN W_3mS2U",loadingIconContainer:"p_a T_0 L_0 W_6D6F H_6D6F D_F gl_C ab_C",progressBar:"W_0 H_dRA I_Z2aVTcY p_a B_0 L_0 lv_1tzisg",hoverMask:"p_a T_0 B_0 L_0 R_0 D_F gl_C",previewButtonWrapper:"I_a0zME D_F ek_BB gl_C em_N W_6D6F r_P",downloadIconOnPreview:"p_a e_dRA i_dBP r_P b_1Ea0ib R_eo6 B_eo6 M_0",noPreviewWrapper:"I_a0zME D_F ek_BB gl_C em_N W_6D6F",noPreviewWrapperMsgList:"I_ZnIF8Y D_F ek_BB gl_C em_N W_6D6F b_Z14vXdP P_fq7",previewWrapperMsgList:"I_a0zME D_F ek_BB gl_C em_N W_6D6F",previewButtonMsgList:"u_e69 C_Z2aVTcY P_Z1E2YFn r_P q_n b_0 F_N M_0 o_h G_e A_6EqO",previewButton:"u_e69 C_Z2aVTcY P_Z1E2YFn r_P q_n b_0 F_N M_0 o_h G_e A_6Eb4 Y_6LEV",noPreviewText:"u_e69 C_Z2aVTcY r_BN A_6Eb4 P_Z1E2YFn gl_C t_C q_n b_0 F_N Y_6LEV",noPreviewTextMsgList:"u_e69 C_Z2aVTcY r_BN A_6EqO D_F gl_C t_C i_6EWk y_12BoOJ",downloadIcon:"en_0",downloadIconWrapper:"D_F",popover:"P_Z1E2YFn u_e69"},unsupportedFileType:{content:"b_Z1222NH"},smallPreview:{container:"W_7Ig6",content:"H_7jIs",label:"A_6DUj i_6EqO Y_eTB"},anchorHover:{downloadFilename:"C_Z2aVTcY",content:"b_2fAfSG",filenameContainer:"C_Z2aVTcY"},spam:{filenameContainer:"C_ZroviD r_BN",label:"r_BN"},hover:{content:"b_2fAfSG",mediaContent:"O_cMp"},isCompact:{mediaContent:"O_N"},"type-image":{mask:"I_ioJaP"},"type-xls":{content:"I_2m2209"},"type-ppt":{content:"I_Z2gRbsK"},"type-doc":{content:"I_Z1gjdlg"},"type-pdf":{content:"I_Z2gRbsK"},"type-compressed":{content:"I_Z21PQN4"},"type-video":{content:"I_18K0L5"},"type-audio":{content:"I_18K0L5"},"type-cal":{content:"I_18K0L5"},"state-ERROR":{content:"I_2iedTo P_dRA",mediaContent:"I_ZnIF8Y",label:"C_Znn46r"}},_key:"Z1lBRM1"}},function(e,t,s){"use strict";e.exports={className:{default:{attentionIcon:"p_R T_e8l",tray:"P_0 je_fq7",ul:"hd_n D_F eo_HB M_gQyVX P_0",downloadAllLink:"D_F ab_GM C_Z2aVTcY A_6Eb4 r_P",downloadAllIcon:"E_eo6",spamDownloadWarning:"C_Znn46r",learnMore:"I_T b_0 C_Z2aVTcY r_P Q_fq7",item:"E_6Fd5 Y_6LEV",compactItem:"M_1VQXDU",spamAttachmentWarning:"Y_6LEV C_Znn46r",attachmentWarning:"Y_6LEV C_Znn46r A_6Eb4",attachmentWarningLearnMore:"I_T b_0 C_Z2aVTcY r_P Q_eo6 A_6Eb4"},isCompact:{item:"M_1VQXDU",ul:"M_Z9saPG"}},_key:"Z17lKfs"}},,function(e,t,s){"use strict";e.exports={className:{default:{header:"r_P D_F W_6D6F p_R P_3Y3Gk ir_0",fromField:"u_b en_0 C4_Z2aVTcY",fromEmail:"u_N C_Z1VRpVF",snippet:"J_x o_h C_Z1VRpVF",snippetContainer:"J_x o_h G_e Q_fq7",fromRow:"D_F en_0",avatar:"en_0 Q_fq7 i_0",date:"D_F en_0 M_3gJOe A_6Eb4 C_Z1VRpVF",readUnread:"D_F ac_FT ab_CI en_0",star:"D_F ab_CI Y_689y en_0",attachment:"D_F en_0 s_6LEV H_6LEV M_Ue8I8",print:"en_0 s_6Fd5 H_6Fd5 M_3gJOe cdPFi_Z281SGl O_cMr O4_cMu",flexVertical:"o_h D_F em_N E_fq7",highlightedTerm:"I_2ieea9 D_X P_3zDxc"},"expandable-false":{header:"r_BN"},"expanded-false":{flexVertical:"ab_C",readUnread:"ab_C",star:"ab_C",date:"ab_C",attachment:"ab_C"},expanded:{header:"P_Zjgzuf",flexVertical:"ek_BB em_0"},"starEnhancedExpanded-true":{star:"Y_68F4 cdPFi_ZpQYvz H_6MGW W_6MGW lv_1IWXzk h_Z13pql2 h4_2d9T5e"},"starEnhancedExpanded-false":{star:"Y_e8l cdPFi_ZpQYvz H_6MGW W_6MGW lv_1IWXzk h_Z13pql2 h4_2d9T5e"},"highlightPosition-LEFT":{snippet:"Q_0 E_36IIE t_l"},"highlightPosition-CENTER":{snippet:"Q_36IIE E_36IIE t_C"},"highlightPosition-RIGHT":{snippet:"Q_36IIE E_0 t_r"}},_key:"66yX6"}},function(e,t,s){"use strict";e.exports={className:{default:{groupHeader:"D_F m_Z12nDQf P_Z1A2bQX I_52qC ab_CI",subjectRow:"D_F ab_C em_N o_h A_6FsP P_3Y3Gk",subject:"en_N i_3mCHE",noSubject:"M_3gI0W",messageCount:"em_0 ac_C D_X i_6FIA P_3gJiI e_fFR Q_fq7 E_eTB A_6DUj I_ZpQYvz",readUnread:"D_F ab_C en_0 E_eo6 Y_fq7",messageGroupDestinationRow:"D_F ab_C em_N en_0 o_h M_Z2q6hl",messageGroupDestinationContainer:"D_F t_r A_6EqO C_Z1TsNWR cZ1RzsTJ_Z2uhb3X",messageGroupDestinationAccount:"G_e J_x o_h a_7yHc",messageGroupDestinationFolder:"G_e J_x o_h a_7iGr",endSideButtonGroup:"D_F ab_C Y_eTB en_0",star:"H_6LEV W_6LEV"},compactGroupHeader:{messageGroupDestinationRow:"M_Z2qsJW"},starredMailEnhanced:{star:"cdPFi_ZpQYvz H_6MGW W_6MGW Y_689y lv_2gnJCA h_Z13pql2 h4_2d9T5e"}},_key:"14vgOA"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"I_1I4yPF A_6EqO X_dRA H_7Ig6 D_F ek_BB gl_C e_dRA",header:"X_fq7 o_h D_F d_6EWk",title:"u_b C_Z281SGl o_h em_N i_6EWk",close:"N_eTB r_P",columns:"D_F ab_CH P_3gIMd",optionContainer:"jb6_fq7 D_F ab_C",radio:"c37wHw10_Z1gAvbx D_X H_6Fd5 s_6Fd5 e_6Fd5 I_52qC M_E8xte",column:"em_N ej_0 D_F ek_BB",freeText:"A_6EqO y_Z2uhb3X Q_fq7 o_h I_T cn_ZmdUJf m_2w4l8N em_N W_7yHc",buttonGroup:"t_r em_N a_3n93F"},freeTextFocused:{freeText:"m_2ivgpk"},isCompactLayout:{container:"H_3rmhK gl_FL",header:"D_F N_eTB gl_FM",columns:"D_X N_6DEy",radio:"M_E8xte",close:"N_0",optionContainer:"jb_fq7",buttonGroup:"t_l"},"themeMode-DARK":{title:"C_52qC",container:"C_52qC",freeText:"m_6i9dl"}},_key:"1Epn9p"}},function(e,t,s){"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_2bJhi k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC p_R",filterItem:"I_T b_n W_6D6F i_6DEy D_B C_q r_q y_q u_q P_1Eu7sD A_6EqO ir3_1JO2M7 it3_dRA D33_B dq33_Z1WN6IG u33_b H33_0 C33_T o33_h v33_h",tabs:"P_2iGizO M_0 m_Z14vXdP D_F",categoryFilterContainer:"D_F p_a T_6Eb4 R_6LEV P_fQq0A I_ZnIF8Y e_dRA",categoryFilterAnchor:"D_F ab_C",categoryFilterAnchorLabel:"A_6EqO r_P",categoryFilterCheckIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",categoryFilterLabel:"Q_6Eb4"},"themeMode-DARK":{heading:"m_ZYfFSw I_T C_52qC cdPFi_52qC",tabs:"m_Z6DFj8",categoryFilterContainer:"I_sgPuT"}},_key:"19EB7F"}},,function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(27),o=s(11),i=s.n(o),c=s(354),l=s.n(c),d=s(4),u=s(376),m=s(231),p=s(15),_=s(17),h=s(3),E=s(30),g=s(0),b=(s(8),s(56)),I=s(166);const f=Object(d.h)({timezoneUpdateTip:{id:"timezone_update_tip",defaultMessage:"Your timezone is not consistent with your computer's timezone"},timezoneValidationTip:{id:"timezone_validation_tip",defaultMessage:"Your timezone is now consistent with your computer's timezone"},toggleButtonStateOn:{id:"settings.section_title.toggleOn",defaultMessage:"On"},toggleButtonStateOff:{id:"settings.section_title.toggleOff",defaultMessage:"Off"},tryNow:{id:"feature_cue.btn_try_now",defaultMessage:"Try now"}});class S extends a.a.Component{constructor(e){super(e),this.state={hoverWarningIcon:!1},this.element=null}componentWillUpdate(){!this.element&&this.refs.warningHeader&&(this.element=function(e){if(e){const t=Object(r.findDOMNode)(e).getBoundingClientRect(),{width:s,height:n}=t;return{height:Math.ceil(n),width:Math.ceil(s)}}return{height:0,width:0}}(this.refs.warningHeader))}renderIcon(){const{settingError:e}=this.props,{formatMessage:t}=this.context.intl;return e===g.md.ERROR?a.a.createElement("div",{title:t(f.timezoneUpdateTip)},a.a.createElement(p.b,{kind:h.b.EXCLAMATION_ALT,size:h.d.XS,colorState:h.a.WARNING_GRAD_RED})):e===g.md.VALIDATING?a.a.createElement("div",null,a.a.createElement(b.b,{size:b.a.S})):e===g.md.RESOLVED?a.a.createElement("div",{title:t(f.timezoneValidationTip)},a.a.createElement(p.b,{kind:h.b.CAL_ACCEPT,size:h.d.XS,colorState:h.a.SUCCESS})):null}handleHoverIcon(e){this.setState({hoverWarningIcon:e})}renderWarningPopover(){const{subHeader:e,warning:t}=this.props,{hoverWarningIcon:s}=this.state,n=i()(l.a,{subHeader:e,warning:!!t}),r=s?h.a.SELECTED:h.a.FIRST_LEVEL_GRAY,o=this.element&&this.element.width>123?-(this.element.width-123):-32;return a.a.createElement("div",{className:n.warningInfoIcon},a.a.createElement(p.b,{onMouseEnter:this.handleHoverIcon.bind(this,!0),onMouseLeave:this.handleHoverIcon.bind(this,!1),kind:h.b.INFO,size:h.d.XS,colorState:r,allowPointerEvents:!0}),s?a.a.createElement("div",{style:{left:o},className:n.warningPopover},a.a.createElement("div",{className:n.warningText,"data-test-id":"warning-popover"},this.props.warning)):null)}render(){const{header:e,hint:t,warning:s,canToggle:n,toggleType:r,subHeader:o,toggleEnabled:c,onToggle:d,toggleAriaLabel:g=this.props.header,showToggleState:b,useCalloutButton:S,iconDescription:A}=this.props,{formatMessage:T}=this.context.intl,C=i()(l.a,{subHeader:o,warning:!!s,toggleType:r});return a.a.createElement("header",{className:C.titleWrapper},n&&r===I.d.CHECKBOX?a.a.createElement("div",{className:C.titleCheckboxContainer},a.a.createElement(m.a,{isChecked:c,onClick:d,disabled:!!s,paddingLess:!0})):null,a.a.createElement("div",{className:C.fullWidth},a.a.createElement("div",{className:C.rowItemsContainer},A&&a.a.createElement("span",{className:C.iconWrapper},a.a.createElement(p.b,{kind:A.kind,size:h.d.S,colorState:A.colorState}))," ",a.a.createElement("h4",{className:C.title},a.a.createElement("span",{className:C.header,ref:"warningHeader"},e),s?this.renderWarningPopover():null,a.a.createElement("span",{className:C.settingState},this.renderIcon())),n&&r===I.d.SWITCH?a.a.createElement("div",{className:C.toggleButtonContainer},a.a.createElement("span",{className:C.rightAlign,"data-test-id":"toggle-header-button"},a.a.createElement(u.a,{onClick:d,isEnabled:c,ariaLabel:g,title:g,isClickable:!s})),b&&a.a.createElement("span",{className:C.toggleButtonState,"data-test-id":"toggle-button-state"},T(c?f.toggleButtonStateOn:f.toggleButtonStateOff))):null,S&&a.a.createElement(_.a,{onClick:d,marginLess:!0,kind:E.a.THEMED_LIKE_COMPSOE_BUTTON},T(f.tryNow))),a.a.createElement("div",{className:C.rowItemsContainer},A&&t&&a.a.createElement("span",{className:C.iconWrapper},a.a.createElement(p.b,{kind:A.kind,size:h.d.S,colorState:h.a.TRANSPARENT})),t?a.a.createElement("span",{className:C.hint,dangerouslySetInnerHTML:{__html:t}}):null)))}}S.contextTypes={intl:d.i.isRequired},S.defaultProps={canToggle:!1,toggleType:I.d.SWITCH,subHeader:!1,onToggle:()=>{},toggleEnabled:!0,settingError:g.md.NONE,showToggleState:!1,useCalloutButton:!1},t.a=S},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(15),c=s(22),l=s(4),d=s(3),u=s(11),m=s.n(u),p=s(549),_=s.n(p),h=s(61),E=s(88),g=s(103),b=s(0),I=s(104),f=(s(297),s(443));const S=Object(l.h)({emptyItems:{id:"option",defaultMessage:"No items"},close:{id:"close",defaultMessage:"Close"}}),A=()=>{};class T extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={isOpen:!1},this.focus=(()=>{this.refs.input.focus()}),this.setSelected=((e,t)=>{this.closeOptions(),this.props.onChange&&this.props.onChange(e,t)}),this.clearValue=(()=>{this.props.onChange&&this.props.onChange(null)}),this.openOptions=(()=>{this.props.disabled||this.setState({isOpen:!this.state.isOpen})}),this.closeOptions=(()=>{this.setState({isOpen:!1},this.focus)}),this.handleFocus=(()=>{this.setState({isFocused:!0},this.props.onFocus)}),this.handleBlur=(()=>{this.setState({isFocused:!1},this.props.onBlur)}),this.handleKeyDown=(e=>{const{isOpen:t}=this.state;switch(e.key){case b.Bb.ENTER:e.preventDefault(),e.stopPropagation();break;case b.Bb.ARROW_DOWN:t||this.openOptions()}}),this.getSelectedIndex=(()=>{const{selected:e,children:t}=this.props,s=o.a.Children.toArray(t);return Object(I.b)(s,t=>t.props.value===e)}),this.renderLabel=(e=>{const{isOpen:t,isFocused:s}=this.state,n=this.props.classNames,{formatMessage:a}=this.context.intl,{selected:r,showClear:l,disabled:u,children:m,title:p,placeholder:_,inputFormatter:h}=this.props,E=o.a.Children.toArray(m),g=this.getSelectedIndex(),{children:b}=g>-1?E[g].props:{};let I=(t||s)&&!u?d.a.SELECTED:d.a.SECOND_LEVEL_GRAY,f=b,A=b;if(this.props.arrowDownColor&&(I=this.props.arrowDownColor),h){const e=h(r);A=e.optionLabel||b,f=e.optionTitle||b}return o.a.createElement("div",{onClick:this.openOptions,"data-test-id":"selectbox-input",className:e.selectBox},o.a.createElement("input",{readOnly:!0,type:"text",ref:"input",disabled:u,value:r||"",onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,className:e.selectInput}),o.a.createElement("div",{className:n.selectLabel||e.selectLabel},r||"number"==typeof r&&0===r?o.a.createElement("div",{className:e.inputWrapper},o.a.createElement("span",{title:f,className:n.selectedValue||e.selectedValue},A),l&&!u?o.a.createElement("span",{className:e.closeBtn},o.a.createElement(c.a,{paddingLess:!0,size:d.d.XXS,onClick:this.clearValue,kind:d.b.CAL_DECLINE,colorState:d.a.FAINT,title:a(S.close),"aria-label":a(S.close)})):null):o.a.createElement("span",{className:e.selectPlaceholder,title:p},_),o.a.createElement("span",{className:e.arrowDown},o.a.createElement(i.b,{size:d.d.XS,kind:d.b.INPUT_ARROW_DOWN,colorState:I}))))}),this.renderOptions=(e=>{let t=null;const{children:s,maxWidth:n}=this.props,a=this.getSelectedIndex();return t=o.a.Children.count(s)>0?o.a.Children.map(s,(e,t)=>o.a.cloneElement(e,{key:t,isSelected:t===a,onSelect:this.setSelected})):o.a.createElement("div",{className:e.emptyItem},o.a.createElement(l.c,{id:"option",defaultMessage:"No items"})),o.a.createElement("div",{className:e.optionsContainer,"data-test-id":"options",style:this.props.dropdownType===f.a.FITCONTENT?{maxWidth:n}:{}},o.a.createElement(h.a,{focusOnMount:!0,circularNavigation:!1,onHide:this.closeOptions,onEscape:this.closeOptions,layout:g.a.VERTICAL,kind:E.a.MENU,isRestrictedHeight:!0},t))}),t}render(){const{disabled:e,onClick:t,coloredPlaceholder:s,inline:n}=this.props,{isOpen:a,isFocused:r}=this.state,i=(a||r)&&!e,c=m()(_.a,{isOpen:a,disabled:e,isFocused:i,type:this.props.dropdownType,coloredPlaceholder:s,inline:n});return o.a.createElement("div",{className:c.selectWrapper,"data-test-id":"selectbox",onClick:t},this.renderLabel(c),a?this.renderOptions(c):null)}}T.contextTypes={intl:l.i},T.defaultProps={disabled:!1,showClear:!1,onFocus:A,onBlur:A,onClick:A,classNames:{},coloredPlaceholder:!1},t.a=T},function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s(8);const a=Object(n.c)(["LIGHT","DARK"])},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(563),o=s.n(r),i=s(11),c=s.n(i),l=s(15),d=s(3),u=s(0),m=s(13),p=s(9);function _({isOnDarkBackground:e,redirectUrl:t,noVigLinkCheck:s,vigLinkEnabled:n,size:r}){const i=c()(o.a,{isOnDarkBackground:e});return s||n?a.a.createElement("a",{rel:"noreferrer",href:t,target:"_blank",className:i.infoIconContainer},a.a.createElement(l.b,{kind:d.b.INFO,size:r,colorState:d.a.INHERITED})):null}_.defaultProps={isOnDarkBackground:!1,noVigLinkCheck:!1,size:d.d.S},t.a=Object(m.b)(e=>{const{getSetting:t,isFeatureEnabled:s}=Object(p.b)(e);return{redirectUrl:t(u.nd.PARTNER_ATTRIBUTION_URL),vigLinkEnabled:s(u.mb.VIGLINK)}})(_)},function(e,t,s){"use strict";e.exports={className:{default:{headerContainer:"H_6UbO D_F ek_EZ ab_C gl_FM",header:"A_6EqO u_elT i_6Fd5 y_12BoOJ X_6LEV C_Z281SGl",categoryTitle:"k_w H_6Nds A_6EqO y_12BoOJ P_Z14hUor C_Z1TsNWR",emojiBox:"H_3s0hC z_Z14vXdP m_Z14vXdP N_6MGW",emojiRow:"D_F ab_C k_w P_0 H_72FG",emojiLi:"D_X Q_6LEV W_6MGW H_6MGW Q4_6Fd5 E4_68F4 W4_6UbO H4_6UbO",emojiDiv:"W_6D6F H_6D6F r_P",emojiContainer:"k_w p_a B_0 j_nWwhY I_52qC",activeCategoryButton:"c27KHO0_n b_0 M_0 P_0 i_0 I_T y_Z2uhb3X A_6EqO r_P C_q ir3_1JO2M7",inactiveCategoryButton:"c27KHO0_n b_0 M_0 P_0 i_0 I_T y_Z2uhb3X A_6EqO r_P C_q ir3_1JO2M7 O_6uB4",categoryContent:"D_F ab_C gl_C W_6D6F",emojiPopUp:"W_3vX1s p_a Z_d48",categoryImage:"D_X em_N W_6Fd5 H_6Fd5",categoryContainer:"ha_n M_28w24u D_F P_Z1SeCye aw_ZnLdEY az_DW ba_ZVBCBL lv_Z1smGsJ",categories:"r_P D_X Q_6NIX H_6Fd5 Q6_6MGW",closeWrapper:"D_F ab_C N_6DEy",lazyStyle:"k_w p_a B_0 j_nWwhY I_52qC H_3vxXj D_F ab_C gl_C",emojiBoxV1:"p_R Z_0 iy_h iz_A k_w em_N c22hqzz_GN H_3s0hC z_Z14vXdP m_Z14vXdP N_6MGW",emojiListV1:"M_0 P_0",emojiListItemV1:"H_A hd_n",searchSection:"U_6LEV P_2aKOEx",searchInput:"X_6NIX N_6VdP H_6UbO",emojiPage:"D_F ek_BB ab_C gl_C W_3vFXG H_3rBM0",emojiMessage:"y_rBP3E C_Z1TsNWR",pageEmojiWrapper:"P_0",pageEmoji:"Q_0 W_6UbO H_6UbO"},withoutRecentlyUsedEmoji:{emojiPage:"W_3v3uk",emojiPopUp:"W_3vpWV"}},_key:"1LiGMP"}},function(e,t,s){"use strict";s.d(t,"a",function(){return l}),s.d(t,"b",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"d",function(){return m}),s.d(t,"e",function(){return p});var n=s(45),a=s(267),r=s.n(a),o=s(169),i=s.n(o);const c=new r.a({max:500,maxAge:3e5});function l(e){let t=c.get(e);return void 0===t&&(t=Object(n.t)(new Date,e),c.set(e,t)),t}function d(e,t,s){const n=e<0?"-":"+",a=Math.floor(Math.abs(e/60)),r=Math.abs(e%60),o=new Intl.NumberFormat(s,{minimumIntegerDigits:t?1:2}).format(a);let i=new Intl.NumberFormat(s,{minimumIntegerDigits:2}).format(r);return 0===e?"":(t&&0===r&&(i=""),n+o+(i?":":"")+i)}function u(e){if(Intl.DateTimeFormat){const t=new Intl.DateTimeFormat(e||"en",{timeZoneName:"long"});if(t.formatToParts)try{return t.formatToParts()[6].value||""}catch(e){return""}else if(t.format)try{return(t.format(new Date).split(",")[1]||"").trim()}catch(e){return""}}return""}function m(){const e=i.a.determine();let t=e&&e.name();if(Intl&&Intl.DateTimeFormat&&(t=t||new Intl.DateTimeFormat("en").resolvedOptions().timeZone),t)try{return l(t)}catch(e){return-1*(new Date).getTimezoneOffset()}return-1*(new Date).getTimezoneOffset()}function p(e){try{return m()!==l(e)}catch(e){return!1}}},function(e,t,s){"use strict";s.d(t,"e",function(){return r}),s.d(t,"f",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"j",function(){return c}),s.d(t,"i",function(){return l}),s.d(t,"o",function(){return d}),s.d(t,"m",function(){return u}),s.d(t,"p",function(){return m}),s.d(t,"n",function(){return p}),s.d(t,"l",function(){return _}),s.d(t,"h",function(){return h}),s.d(t,"g",function(){return E}),s.d(t,"b",function(){return g}),s.d(t,"d",function(){return b}),s.d(t,"c",function(){return I}),s.d(t,"k",function(){return f});var n=s(8),a=s(213);const r=864e5,o="https://www.hipmunk.com/search/yahoomail/hotels?",i=`https://www.booking.com/searchresults.html?aid=${a.a}`,c="https://seatgeek.com",l=12952,d=c+"/mlb-tickets",u=c+"/concert-tickets",m=c+"/broadway-tickets",p=c+"/search",_=c+"/cities/",h=Object(n.c)(["HIPMUNK","BOOKING"]),E="/img/logo_hipmunk.png",g="/img/logo_bookingcom.png",b="pageoffers-xml-858204-click_brand-yahoo_market-US_campaign-travelview",I="pageoffers-xml-858204-click_brand-yahoo_market-US_campaign-inboxview",f=[{name:"Atlanta",value:"atlanta"},{name:"Columbus",value:"columbus"},{name:"Indianapolis",value:"indianapolis"},{name:"New York",value:"nyc"},{name:"Tampa",value:"tampa"},{name:"Austin",value:"austin"},{name:"Dallas",value:"dallas"},{name:"Jacksonville",value:"jacksonville"},{name:"Portland",value:"portland"},{name:"Washington",value:"washington"},{name:"Boston",value:"boston"},{name:"Denver",value:"denver"},{name:"Las Vegas",value:"vegas"},{name:"San Diego",value:"san-diego"},{name:"Charlotte",value:"charlotte"},{name:"Detroit",value:"detroit"},{name:"Los Angeles",value:"la"},{name:"San Francisco",value:"sf"},{name:"Chicago",value:"chicago"},{name:"Houston",value:"houston"},{name:"Miami",value:"miami"},{name:"Seattle",value:"seattle"}]},,function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s(8);const a=Object(n.c)(["DEFAULT","DARK_BORDER_BOTTOM","LEFT_ICON"])},,function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"b",function(){return c});var n=s(9),a=s(7),r=s(0),o=s(85);const i=1e3;function c(e,t,s){const{getCouponsSelectors:c,getListsSelectors:l,isFeatureEnabled:d,getMainContentWidth:u,getRouteName:m}=Object(n.b)(e),p=u(),{getCouponCardStreamItems:_}=c(),{doesListExist:h,isListExpanded:E}=l(),g=d(r.mb.DEALS_VIEW_V2),b=m();if(s!==r.Rc.DOES_NOT_EXIST){const e=t.filter(e=>Object(a.q)(e)===r.Fb.COUPON_CARDS&&h(e)).map(e=>{if(e===Object(a.e)({referrer:r.Hb.TOP_COUPONS})){const s=Object(a.e)({referrer:r.Hb.TOP_COUPONS}),n=_(s),c=p>i?3:2,l=Object(o.c)(n,p/c,p);return(E(t[0])?l:l.slice(0,2)).map(t=>({listId:e,id:t[0].id,items:t}))}return _(e)});e.forEach(e=>{const t=e.length-1;e[t]&&(e[t].isLastItemInGroup=!0)});let s=0;const n=e[1]&&e[1].length;if(e[0]&&(n||g)&&(e[0].length||g||e[0].unshift({listId:Object(a.Q)(t[0],{listContentType:r.Fb.ZERO_SAVED_COUPONS}),id:r.Fb.ZERO_SAVED_COUPONS}),e[0].length||!g)){const n=g&&b!==r.Uc.SEARCH?r.Fb.TOP_DEALS_HEADER:r.Fb.COUPON_SEPARATOR;e[0].unshift({listId:Object(a.Q)(t[0],{listContentType:n}),id:s++})}return n&&e[1].unshift({listId:Object(a.Q)(t[0],{listContentType:r.Fb.COUPON_SEPARATOR}),id:s}),e.reduce((e,t)=>e.concat(t),[])}return[]}},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(4),o=s(11),i=s.n(o),c=s(353),l=s.n(c),d=s(0),u=s(364),m=s(87),p=s(3),_=s(95),h=s(5),E=s(13),g=s(57),b=s(9);class I extends a.a.Component{constructor(...e){var t;return t=super(...e),this.state={selectedIndex:-1},this.getRapidSectionValue=(()=>{const{isMenuMode:e,isCueMode:t}=this.props;let s=h.g.SETTINGS_CATEGORIZATION_TAB;return e?s=h.g.TABS_MENU:t&&(s=h.g.FEATURE_CUE),s}),this.onChange=((e,t)=>{const{smartViews:s,isCueMode:n,onTryNow:a}=this.props,r=s.map((t,s)=>s===e?babelHelpers.extends({},t,{status:t.status?0:1}):t),o={mKey:h.e.SETTINGS_CATEGORIZATION_CHANGE,sec:this.getRapidSectionValue(),interactionType:h.d.click,actionData:{smartView:r[e].name,status:r[e].status}};n&&a(t),this.saveSmartViews(r,o)}),this.saveSmartViews=((e,t)=>{this.props.changeSettings({name:d.nd.SYSTEM_TABS,value:e.filter(({name:e})=>!!d.Y[e]).map(({name:e,status:t})=>d.Y[e]+":"+t),i13nModel:t})}),this.moveSmartViews=((e,t)=>{const{smartViews:s}=this.props,n=s.slice(),a=Object.assign({},n[t]),r=t+(e?-1:1),o={mKey:h.e.SETTINGS_CATEGORIZATION_ORDER,sec:this.getRapidSectionValue(),interactionType:h.d.click,actionData:{direction:e?"up":"down"}};r>=0&&r<n.length&&(n[t]=Object.assign({},n[r]),n[r]=a,this.setState({selectedIndex:r},()=>{this.saveSmartViews(n,o)}))}),this.renderReorderControls=(()=>{const e=i()(l.a),{formatMessage:t}=this.context.intl,{selectedIndex:s}=this.state,n=s<=-1;return a.a.createElement("div",{className:e.categoriesReorderContainer},a.a.createElement("div",{className:e.categoriesReorderTitle},a.a.createElement(r.c,{id:"categories_list_header_text",defaultMessage:"Priority list"})),a.a.createElement("div",{className:e.categoriesReorderBtnsContainer},a.a.createElement(m.a,{"data-test-id":"move-category-up",size:p.d.XS,kind:p.b.ARROW_UP,title:t(_.a.moveCategoryUp),"aria-label":t(_.a.moveCategoryUp),onClick:()=>{this.moveSmartViews(!0,s)},colorStates:{normal:n?p.a.DISABLED:p.a.NORMAL,hovered:n?p.a.DISABLED:p.a.SELECTED},disabled:n}),a.a.createElement(m.a,{"data-test-id":"move-category-down",size:p.d.XS,kind:p.b.ARROW_UP,rotate:p.c.D180,title:t(_.a.moveCategoryDown),"aria-label":t(_.a.moveCategoryDown),onClick:()=>{this.moveSmartViews(!1,s)},colorStates:{normal:n?p.a.DISABLED:p.a.NORMAL,hovered:n?p.a.DISABLED:p.a.SELECTED},disabled:n})))}),this.setSelectedIndex=(e=>{this.setState({selectedIndex:e})}),this.handleClick=((e,t)=>{const{isMenuMode:s,isCueMode:n}=this.props;t.stopPropagation(),n||s||this.setSelectedIndex(e)}),this.renderCategories=(e=>{const{formatMessage:t}=this.context.intl,{selectedIndex:s}=this.state,{useCalloutButton:n,smartViews:r,isMenuMode:o,isCueMode:i,showHint:c,showToggleState:l}=this.props,m=o||i,h={[d.zd.PEOPLE]:{kind:p.b.PEOPLE,colorState:p.a.SMARTVIEW_PEOPLE},[d.zd.COUPONS]:{kind:p.b.SHOPPING,colorState:p.a.SMARTVIEW_SHOPPING}},E=r.length>1;return a.a.createElement("ol",{className:e.categoriesList},r.map(({name:r,status:o},i)=>{const p=E&&s===i,g=h[r],b=r===d.zd.COUPONS?d.zd.SHOPPING:r;let I="";return c&&(I=t(m?_.a[`smart_view_${b}_SHORT_HINT`]:_.a[`smart_view_${b}_HINT`])),a.a.createElement("li",{className:p?e.categorySelected:e.category,onClick:this.handleClick.bind(this,i),key:`category-${i}`},a.a.createElement(u.a,{key:r,canToggle:!n,subHeader:!0,toggleEnabled:!!o,header:t(_.a[`smart_view_${b}`]),hint:I,onToggle:this.onChange.bind(this,i),showToggleState:l,useCalloutButton:n,iconDescription:g}))}))}),t}render(){const{isMenuMode:e,isCueMode:t,smartViews:s}=this.props,n=!t&&!e&&s.length>1,r=i()(l.a,{isMenuMode:e,isCueMode:t});return a.a.createElement("div",{className:r.categoriesContainer},n&&this.renderReorderControls(),this.renderCategories(r))}}I.contextTypes={intl:r.i.isRequired},I.defaultProps={isMenuMode:!1,isCueMode:!1,showHint:!1,showToggleState:!1,onTryNow:()=>{}};t.a=Object(E.b)(e=>{const{getSetting:t}=Object(b.b)(e);return{smartViews:t(d.nd.SYSTEM_TABS)}},e=>({changeSettings:t=>e(Object(g.a)(t))}))(I)},function(e,t,s){"use strict";s.d(t,"a",function(){return d});s(6);var n=s(1),a=s.n(n),r=s(17),o=s(514),i=s.n(o),c=s(11),l=s.n(c);function d({isEnabled:e,size:t="M",ariaLabel:s,ariaHidden:n,title:o,onClick:c,isClickable:d=!0}){const u=l()(i.a,{isEnabled:e,size:t,isClickable:d,isEnabledAndLarge:e&&"L"===t});return a.a.createElement(r.a,{className:u.background,role:"checkbox","aria-checked":e,onClick:e=>d?c(e):null,"aria-label":s,"aria-hidden":!!n,title:o},a.a.createElement("span",{className:u.handle}))}},function(e,t,s){"use strict";s.d(t,"a",function(){return o});var n=s(44),a=s.n(n),r=s(14);function o(e){0===e.indexOf("mailto:")&&(e=e.substring(7));const t=function(e){if(e&&e.length){const t=e.indexOf("?");if(t>-1&&(e=e.substring(0,t)),e.length){if(0===(e=e.toLowerCase()).indexOf("http://")||0===e.indexOf("https://")||0===e.indexOf("ftp://"))return"";if(Object(r.m)(e))return e}}return""}(e),s=e.indexOf("?");s>-1&&(e=e.substring(s+1));const n=a.a.parse(e);return t&&Object.assign(n,{to:t}),["to","cc","bcc"].forEach(e=>{const t=n[e];t&&"string"==typeof t&&(n[e]=[].concat(t))}),["subject","body"].forEach(e=>{const t=n[e];t&&Array.isArray(t)&&(n[e]=t.pop())}),n}},function(e,t,s){"use strict";e.exports={className:{default:{container:"ab_C k_w D_F H_7bcz en_0 P_2bJhi p_R m_Z14vXdP I_52qC",photosHeaderContainer:"W_6D6F H_6D6F cZ1RN91d_GG o_h p_R",photosTabs:"P_Z1fenNR",photosListHeading:"D_F gl_C A_6FsP P_2bJhi k_w m_Z14vXdP C_Z281SGl H_7bcz",cboxWrapper:"D_F",usabiltyOptions:"D_F t_r",selectionControlsWrapper:"D_F Q_6EGz",viewMenu:"E_eo6 en_0",listFilterViewMenu:"E_eo6 en_0 D_F",mainActionControls:"D_F em_N gl_C",singleGroupActionList:"hd_n D_F ab_C M_0 P_0 O_6uB4 r_n cZW7ROP_n",triageActionList:"hd_n D_F ab_C M_0 P_0 O_6uB4 r_n cZW7ROP_n",closeWrapper:"O_6uB4 cdPFi4_Z2aVTcY",hamSpam:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",archiveRestore:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",deletePerm:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",move:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",more:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarForward:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarSave:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarClose:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",expandCollapse:"M_0 cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",bottomLine:"M_0 P_0 cn_0 D_n",sortByMenu:"D_F ab_C y_Z2uhb3X X_eo6 A_6EqO cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",nextPrev:"cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",nextPrevDisabled:"cdPFi_sgPuo r_BN cZW7ROP_n",sortByMenuItemIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",sortByMenuItemLabel:"X_6Eb4",popoverListWrapper:"P_3Y3Gk",singleGroupActions:"D_F",singleGroupItem:"D_F M_3gIMd cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",listFilterMenu:"D_F ab_C y_Z2uhb3X X_6FIA A_6EqO lo_AT cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",nextPrevContainer:"D_F P_3gIMd",listHeading:"A_6FsP",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC ",tabs:"P_ZuD6o1 M_1EueWv m_Z14vXdP"},"themeMode-DARK":{container:"I_T m_ZYfFSw C_52qC cdPFi_52qC",photosListHeading:"C_52qC m_ZYfqDw",singleGroupItem:"cdPFi_ZpQYvz cdPFi4_52qC",hamSpam:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",archiveRestore:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",deletePerm:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",move:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",more:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarForward:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarSave:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarClose:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",expandCollapse:"M_0 cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sortByMenu:"cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",listFilterMenu:"cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",nextPrev:"cdPFi_ZpQYvz cdPFi4_52qC",nextPrevDisabled:"cdPFi_ZpQYvz O_cMr r_BN cZW7ROP_n",closeWrapper:"cdPFi_ZpQYvz cdPFi4_52qC"},fullMessageView:{container:"gl_FM"},closeWrapperMargin:{closeWrapper:"Q_fq7"},listWithVerticalPreview:{cboxWrapper:"ip_N ej_d70",viewMenu:"ip_O t_r ej_d70 E_0",singleGroupActions:"ip_P Q_fq7",mainActionControls:"em_N ip_Q",usabiltyOptions:"ip_R",sortMenuContainer:"N_6MGW"},listWithNonVerticalPreview:{container:"gl_FM",viewMenu:"Q_fq7 H_6D6F"},verticalSelectionControlView:{listFilterViewMenu:"p_CS T_6Fd5",listFilterMenu:"X_fq7"},hamSpamDisabled:{hamSpam:"r_n O_6uB4 cZW7ROP_n"},archiveRestoreDisabled:{archiveRestore:"r_n O_6uB4 cZW7ROP_n"},moveDisabled:{move:"r_n O_6uB4 cZW7ROP_n"},deletePermDisabled:{deletePerm:"r_n O_6uB4 cZW7ROP_n"},sponsoredVideoMessage:{sponsoredToolBarForward:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarSave:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarClose:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY"},groupActionsActive:{singleGroupActionList:"O_N r_BN cZW7ROP_A"},triageActionsActive:{triageActionList:"O_N r_BN cZW7ROP_A",closeWrapper:"O_N"},selectionControlDisabled:{selectionControlsWrapper:"hd_n D_F ab_C M_Z1feokn P_0 O_6uB4 r_n cZW7ROP_n"},showTriageActionsLabels:{hamSpam:"M_1MYwXA",archiveRestore:"M_1MYwXA",deletePerm:"M_1MYwXA",move:"M_1MYwXA",more:"M_1MYwXA"}},_key:"Z20yH4J"}},function(e,t,s){"use strict";s.d(t,"a",function(){return E});s(6);var n=s(1),a=s.n(n),r=s(4),o=s(3),i=s(22),c=s(618),l=s.n(c),d=s(11),u=s.n(d),m=s(8),p=(s(23),s(619)),_=s.n(p);const h=Object(r.h)({prev:{id:"carousel.previous",defaultMessage:"Previous"},next:{id:"carousel.next",defaultMessage:"Next"}}),E=Object(m.c)(["NEXT","PREV"]);class g extends a.a.Component{constructor(e){super(e),this._getChildrenTotalWidth=(()=>this.props.itemWidth*a.a.Children.count(this.props.children)),this._navHandlePrev=(()=>{this.navHandle(E.PREV)}),this._navHandleNext=(()=>{this.navHandle(E.NEXT)}),this.setAnimation=((e=!0)=>{this.animated=e}),this.setOffset=((e=0)=>{this.setState({offset:e})}),this.navHandle=((e,t=null)=>{const{offset:s}=this.state,{isRTL:n}=this.props,a=this._getChildrenTotalWidth(),r=this.carousel.clientWidth;let o=s;if(null===t){const t=this.props.defaultTransitionAmount||r;let n=0;if(e===E.NEXT){const e=a-r-s;n=t>e?-e:-t}else n=s>t?t:s;o=s-n,0!==n&&(this.animated=!0,this.setState({offset:o}))}else if(!n&&e===E.NEXT||n&&e===E.PREV){o=s+t;const e=n?t-s:o-a+r;e>0&&(o-=e),this.animated=!0,this.setState({offset:o})}else o=s-t>=0?s-t:0,this.animated=!0,this.setState({offset:o});o!==s&&this.props.onCarouselNav(e===E.NEXT)}),this.renderCarousel=(()=>{const{intl:e}=this.context,{offset:t}=this.state,{toolbarKind:s,isRTL:n,navArrows:r}=this.props,c=t<=0,d=this._getChildrenTotalWidth(),m=d&&this.carousel&&this.carousel.clientWidth+t>=d,p=u()(l.a,{prevDisabled:c,nextDisabled:m,toolbarKind:s,animationDisabled:!this.animated}),_=n?{right:-t}:{left:-t};return a.a.createElement("div",{className:p.carouselContainer},r&&a.a.createElement("div",{className:p.prevNavHandleContainer+" "+p.rtlRawScaleX},a.a.createElement(i.a,{kind:o.b.ARROW_RIGHT_DOC,rotate:o.c.D180,size:o.d.XS,colorState:c?o.a.FAINT:o.a.SELECTED,onClick:this._navHandlePrev,title:e.formatMessage(h.prev),"aria-label":e.formatMessage(h.prev),className:p.prevNavHandle})),a.a.createElement("div",{className:p.carousel,ref:e=>{e&&!this.carousel&&(this.carousel=e)}},a.a.createElement("div",{className:p.list,style:_,"data-test-id":"carousel-container"},this.props.children)),r&&a.a.createElement("div",{className:p.nextNavHandleContainer+" "+p.rtlRawScaleX},a.a.createElement(i.a,{kind:o.b.ARROW_RIGHT_DOC,rotate:o.c.D0,size:o.d.XS,colorState:m?o.a.FAINT:o.a.SELECTED,onClick:this._navHandleNext,title:e.formatMessage(h.next),"aria-label":e.formatMessage(h.next),className:p.nextNavHandle})))}),this.renderSwipeableCarousel=(()=>a.a.createElement(_.a,{onSwiped:(e,t)=>this.navHandle(t>0?E.NEXT:E.PREV),style:{width:"100%",display:"flex"}},this.renderCarousel())),this.animated=e.initialAnimation,this.state={offset:0}}componentDidMount(){this.props.didMount()}componentWillReceiveProps(e){if(e.isWindowResizingDone){const{offset:e}=this.state,t=this._getChildrenTotalWidth(),s=this.carousel.clientWidth+e-t,n=s>e?e:s;this.setState({offset:s>=0?e-n:e})}}render(){return this.props.isSwipeable?this.renderSwipeableCarousel():this.renderCarousel()}}g.contextTypes={intl:r.i.isRequired},g.defaultProps={initialAnimation:!0,didMount:()=>{},defaultTransitionAmount:null,onCarouselNav:()=>{},navArrows:!0},t.b=g},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(13),c=s(98),l=s.n(c),d=s(110),u=s(4),m=s(27),p=s(14),_=s(5),h=s(0),E=s(116),g=s(460),b=s(49);const I=["meta+up","meta+down","meta+a","ctrl+a","up","down",",",".","enter","space","shift+up","shift+down","pageup","pagedown"];Object(d.b)({group:E.d,keys:{select:{key:"SPACE",description:o.a.createElement(u.c,{id:"shortcut.select",defaultMessage:"{one} email",values:{one:o.a.createElement("strong",null,o.a.createElement(u.c,{id:"shortcut.select_strong_one",defaultMessage:"One"}))}})},selectAll:{key:"META+A,CTRL+A",description:o.a.createElement(u.c,{id:"shortcut.select_all",defaultMessage:"{allEmails} in view",values:{allEmails:o.a.createElement("strong",null,o.a.createElement(u.c,{id:"shortcut.select_all_strong_mails",defaultMessage:"All emails"}))}})},selectUp:{key:"SHIFT+UP",description:o.a.createElement(u.c,{id:"shortcut.consecutive_select",defaultMessage:"{consecutive} emails",values:{consecutive:o.a.createElement("strong",null,o.a.createElement(u.c,{id:"shortcut.consecutive_select_strong",defaultMessage:"Consecutive"}))}})},selectDown:{key:"SHIFT+DOWN",description:o.a.createElement(u.c,{id:"shortcut.consecutive_select",defaultMessage:"{consecutive} emails",values:{consecutive:o.a.createElement("strong",null,o.a.createElement(u.c,{id:"shortcut.consecutive_select_strong",defaultMessage:"Consecutive"}))}})}}}),Object(d.b)({group:E.c,keys:{open:{key:"ENTER",description:o.a.createElement(u.c,{id:"shortcut.open",defaultMessage:"{open} an email",values:{open:o.a.createElement("strong",null,o.a.createElement(u.c,{id:"shortcut.open_strong",defaultMessage:"Open"}))}})}}});class f extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleShortcuts=(e=>{const t=Object(m.findDOMNode)(this);if(!t.contains(e.target)&&!e.target.contains(t))return;const s=e.which||e.keyCode,n=String.fromCharCode(s).toLowerCase();if(e.preventDefault(),e.stopPropagation(),"a"===n)return this._onSelectAll(e);if(e.metaKey)switch(s){case b.a.UP:this._onNavigate(h.P.FIRST,e);break;case b.a.DOWN:this._onNavigate(h.P.LAST,e)}else if(e.shiftKey)switch(s){case b.a.UP:this._onShiftNavigate(h.P.UP,e);break;case b.a.DOWN:this._onShiftNavigate(h.P.DOWN,e)}else{if("Period"===e.code)return this._onNavigate(h.P.DOWN,e);switch(s){case b.a.UP:case b.a.COMMA:this._onNavigate(h.P.UP,e);break;case b.a.DOWN:case b.a.PERIOD:this._onNavigate(h.P.DOWN,e);break;case b.a.PAGE_UP:this._onPageUpScroll();break;case b.a.PAGE_DOWN:this._onPageDownScroll();break;case b.a.SPACE:this._onSelect(e);break;case b.a.ENTER:this._onOpen(e)}}}),this._onOpen=(e=>{this.props.onOpen(e)}),this._onSelect=(e=>{e.preventDefault(),this.props.onSelect()}),this._onSelectAll=(e=>{e.preventDefault(),this.props.onSelectAll()}),this._onScrollRef=(e=>{this.scrollContainer=e,this.props.scrollRef&&this.props.scrollRef(e)}),this._onPageUpScroll=(()=>{this.scrollContainer&&(this.scrollContainer.scrollTop=Math.max(this.scrollContainer.scrollTop-this.scrollContainer.clientHeight,0))}),this._onPageDownScroll=(()=>{this.scrollContainer&&(this.scrollContainer.scrollTop+=this.scrollContainer.clientHeight)}),this._onNavigate=((e,t)=>{t.preventDefault(),this.props.onCursorMove(e,{interactionType:Object(p.i)(t)})}),this._onShiftNavigate=((e,t)=>{t.preventDefault(),this.props.onShiftNavigate(e)}),this._selectFirstItem=(()=>{this.props.onCursorMove(h.P.DOWN,{interactionType:_.d.nav})}),t}componentDidMount(){this.context.bindShortcut(I,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(I)}render(){const{infiniteScrollProps:e}=this.props;return o.a.createElement(g.a,babelHelpers.extends({},e,{selectFirstItem:this._selectFirstItem,scrollRef:this._onScrollRef}))}}f.contextTypes={bindShortcut:a.a.func,unbindShortcut:a.a.func},f.defaultProps={onSelect:()=>{}};var S=f,A=s(37),T=s(10),C=s(67),O=s(8),R=s(611),N=s.n(R);const M=Object(u.h)({timechunk_today:{id:"timechunk_today",defaultMessage:"Today"},timechunk_yesterday:{id:"timechunk_yesterday",defaultMessage:"Yesterday"},timechunk_earlier_this_week:{id:"timechunk_earlier_this_week",defaultMessage:"Earlier this week"},timechunk_this_week:{id:"timechunk_this_week",defaultMessage:"This week"},timechunk_last_week:{id:"timechunk_last_week",defaultMessage:"Last week"},timechunk_earlier_in_month:{id:"timechunk_earlier_in_month",defaultMessage:"Earlier in {message}"},timechunk_earlier_in_year:{id:"timechunk_earlier_in_year",defaultMessage:"Earlier in {message}"},timechunk_days:{id:"timechunk_days",defaultMessage:"{weekday, select,\n            0 {Sunday}\n            1 {Monday}\n            2 {Tuesday}\n            3 {Wednesday}\n            4 {Thursday}\n            5 {Friday}\n            6 {Saturday}\n        }"},timechunk_months:{id:"timechunk_months",defaultMessage:"{month, select,\n            0 {January}\n            1 {February}\n            2 {March}\n            3 {April}\n            4 {May}\n            5 {June}\n            6 {July}\n            7 {August}\n            8 {September}\n            9 {October}\n            10 {November}\n            11 {December}\n        }"}});class D extends o.a.Component{constructor(...e){var t;return t=super(...e),this.getTimeChunkMessage=(e=>{const{separatorData:t}=this.props,{formatMessage:s,formatDate:n}=this.context.intl;let a=null;switch(t.type){case C.d.Types.DAY:a=s(M.timechunk_days,{weekday:t.value});break;case C.d.Types.MONTH:case C.d.Types.EARLIER_IN_MONTH:a=s(M.timechunk_months,{month:t.value});break;case C.d.Types.EARLIER_IN_YEAR:case C.d.Types.YEAR:a=n(new Date(t.value,1,1).getTime(),{year:"numeric"})}const r=t.type?M["timechunk_"+t.type.toLowerCase()]:null;let i=null;return r?i=o.a.createElement(u.c,babelHelpers.extends({},r,{className:e.label,values:{message:a}})):a&&(i=o.a.createElement("span",{className:e.label},a)),i}),t}shouldComponentUpdate(e){return this.props.separatorType!==e.separatorType||this.props.separatorData.type!==e.separatorData.type||this.props.separatorData.value!==e.separatorData.value}render(){const e=this.context.getCss(N.a),{separatorType:t}=this.props,{separatorEnhancement:s}=this.props,n=s?e.enhancedContainer:e.container;let a=null;switch(t){case C.b.TIMECHUNK:a=this.getTimeChunkMessage(e)}return a?o.a.createElement("div",{className:n},a):null}}D.contextTypes={intl:u.i.isRequired,getCss:a.a.func},D.defaultProps={separatorType:C.b.TIMECHUNK};var y=D,L=s(146),v=s(230),P=s(461),F=s(56),x=s(11),w=s.n(x),k=s(211),H=s.n(k);const U=w()(H.a),j=1e3;var G=class extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={takesLong:!1},t}componentDidMount(){this.timeout=setTimeout(function(){this.setState({takesLong:!0})}.bind(this),j)}componentWillUnmount(){clearTimeout(this.timeout)}render(){return o.a.createElement("div",{className:U.loadingContainer},this.state.takesLong&&o.a.createElement(F.b,null))}},B=s(133),V=s(105),W=s(45);const q=864e5;function z({items:e,isDescending:t,getTimeStampFromItem:s,dateFormattingOption:n={offset:0},firstDay:a}){const r=Object(W.s)(n),o=(Object(W.z)(r,n).getUTCDay()-a+7)%7,i=r-o*q,c=function(e){const t=new Array(e);for(;e--;)t[e]=0;return t}(o+1);return(t?e:e.slice().reverse()).some(e=>{const t=s(e);if(!(t>=i))return!0;{const e=K(t,n,a);c[(e.value-a+7)%7]++}}),c}function Z({items:e,isDescending:t,showAd:s,getTimeStampFromItem:n,dateFormattingOption:a={offset:0},firstDay:r,insertPencilAds:o}){const i=[],c=function(e){const t=e.length-1,s=e.map((e,s)=>{switch(s){case t:return C.d.Types.TODAY;case t-1:return C.d.Types.YESTERDAY;default:return C.d.Types.DAY}});let n=0,a=-1,r=-1;e.forEach((e,s)=>{e>0&&(t!==s&&e<4&&n>0&&(a=s),r=s,n+=e)});const o=a===r?C.d.Types.THIS_WEEK:C.d.Types.EARLIER_THIS_WEEK;for(let e=0;e<=a;e++)s[e]=o;return s}(z({items:e,isDescending:t,getTimeStampFromItem:n,dateFormattingOption:a,firstDay:r}));let l={type:null};return e.forEach(e=>{const t=function(e,t,s){const{type:n,value:a}=e;if(n===C.d.Types.DAY){const e=(a-s+7)%7;return t[e]!==C.d.Types.DAY?{type:t[e],value:-1}:{type:t[e],value:a}}return e}(K(n(e),a,r,l),c,r);l.type===t.type&&l.value===t.value||i.push({listSeparator:{separatorType:C.b.TIMECHUNK,separatorData:t}}),i.push(e),l=t}),s?o(i):i}function K(e,t,s,n={}){const a=Object(W.s)(t),r=Object(W.z)(a,t),o=r.getUTCMonth(),i=r.getUTCFullYear(),c=r.getUTCDay(),l=Object(W.z)(e,t),d=l.getUTCFullYear(),u=l.getUTCMonth(),m=l.getUTCDay(),p=(c-s+7)%7,_=r.getTime()-p*q,h=_-7*q;return l.getTime()>=_?{type:C.d.Types.DAY,value:m,month:u}:l.getTime()>h?{type:C.d.Types.LAST_WEEK,month:u}:d===i?n.month===u||n.type===C.d.Types.EARLIER_IN_MONTH&&n.value===u?{type:C.d.Types.EARLIER_IN_MONTH,value:u}:o-u<6?{type:C.d.Types.MONTH,value:u}:{type:C.d.Types.EARLIER_IN_YEAR,value:d}:{type:C.d.Types.YEAR,value:d}}var Y=s(7),X=s(2);function $(e,{listId:t}){e.dispatch(X.Qe,{listId:t})}var Q=s(84);const J=()=>{},ee=12,te=200,se=Object(u.h)({empty_list_alt:{id:"item_list.empty_list_alt",defaultMessage:"No items"}});class ne extends o.a.Component{constructor(...e){var t;return t=super(...e),this.onLoadMore=(()=>{const{listId:e,items:t,itemsToFetch:s,allItemsSelected:n}=this.props;this.debounceLoadmore({listId:e,offset:t.length,count:s,allItemsSelected:n})}),this.organizeItemList=(()=>{const{items:e,listId:t,hasTimeChunking:s,getTimeStampFromItem:n,dateFormattingOption:a,pencilAd:r}=this.props,{firstDay:o}=this.context.locale;return 0===e.length||!r&&!s?e:r&&!s?this.insertPencilAds(e):Z({items:e,isDescending:Object(Y.D)(t)===h.Cd.DATE_DESC,showAd:r,getTimeStampFromItem:n,dateFormattingOption:a,firstDay:o,insertPencilAds:this.insertPencilAds})}),this.insertPencilAds=(e=>{const{messageListContainerNode:t,geminiSectionIds:s,secondPencilAd:n,route:a,adFeedbackStatus:r,timechunkPencilAd:o,messageListHeight:i}=this.props,c=t?t.clientHeight:i,l={listAd:!0,sectionId:s[h.vb.MESSAGE_LIST]},d={listAd:!0,sectionId:s[h.vb.MESSAGE_LIST_2]},u=r[d.sectionId],m=[...e];let p=0,_=0;if(m[0].listSeparator?m.splice(1,0,l):m.unshift(l),n&&a.name!==h.Uc.SEARCH&&u!==h.k.ENDED)for(let e=0;e<m.length;e++){const t=!o||Object(O.a)(m,`${e-1}.listSeparator`,null);if(c&&p>c&&_>=10&&t){m.splice(e,0,d);break}_+=m[e].messages?1:0,p+=this.getHeightForIndex(m,e)}return m}),this.translateCursorIndex=(e=>{const{cursorIndex:t,hasTimeChunking:s,items:n,pencilAd:a}=this.props;return t<0?t:this.props.translateCursorIndex(s||a?e.findIndex(e=>e===n[t]):t,e)}),this.getHeightForIndex=((e,t)=>{const s=this.getItemsForIndex(e,t);return s&&s.listSeparator?T.ITEM_LIST_SEPARATOR_HEIGHT:this.props.getHeightForIndex(e,t)}),this.getItemsForIndex=((e,t)=>this.props.getItemsForIndex(e,t)),this.getIdForIndex=((e,t)=>{if(t<0)return"empty";const s=e[t]||{},{id:n,listAd:a,listSeparator:r}=s;if(a)return"gemini";if(r){const{type:e,value:t}=r;return`separator_${e}_${t}`}return n||t}),this.isSectionHeader=((e,t)=>{const s=this.getItemsForIndex(e,t);return s&&s.listSeparator}),this.isPencilAd=((e,t)=>{const s=this.getItemsForIndex(e,t);return s&&s.listAd}),this.renderItem=((e,t)=>{const s=this.getItemsForIndex(e,t),{listSeparator:n}=s;if(n){const{separatorData:e}=n;return o.a.createElement(y,babelHelpers.extends({},n,{key:`${e.type}-${e.value}`}))}return this.props.renderItem(s,t)}),this.renderEmptyList=(e=>{const{formatMessage:t}=this.context.intl;return o.a.createElement("div",{className:e.emptyListContainer,"data-test-id":"message-list-empty"},o.a.createElement(L.a,null),o.a.createElement("div",{className:e.emptyListText,"data-test-id":"empty-list-message"},o.a.createElement(u.c,{id:"message_list.empty_folder",defaultMessage:"Nothing to see here!"})),o.a.createElement("div",{className:e.emptyListImage},o.a.createElement(v.a,{kind:B.a.EMPTY_FOLDER,width:160,height:160,altText:t(se.empty_list_alt)})),o.a.createElement(L.a,null))}),this.handleCursorMove=((e,t)=>{const{actions:s,listId:n,cursorIndex:a,streamId:r}=this.props,o={listId:n,streamId:r,movement:e,unit:this.props.getCursorMoveUnit(e),cursorIndex:a,i13nModel:Object.assign({mKey:_.e.OPEN_MSG,sec:_.g.MSG_LIST_MSG,mKeyGroup:_.f.open_msg},t)};this.context.executeAction(s.moveCursor,o),clearTimeout(this._syncTimer),this._syncTimer=setTimeout(()=>{this.context.executeAction(V.h)},h.Qb+1)}),this.handleShiftNavigate=(e=>{const{props:t}=this,{actions:s,listId:n,streamId:a}=t;this.context.executeAction(s.selectMove,{listId:n,movement:e,streamId:a})}),this.onScrollTop=(e=>{const{listId:t,itemListPageThreshold:s}=this.props;Math.abs(e-this.lastPageScrollTop)>s&&(this.context.executeAction($,{listId:t}),this.lastPageScrollTop=e)}),this.handleScrollTopChange=(e=>{this.props.onScrollTopChange(e),this.debouncedScrollTop(e)}),t}componentDidMount(){this.lastPageScrollTop=0,this.debouncedScrollTop=l()(this.onScrollTop,te),this.debounceLoadmore=l()(this.props.loadMoreItems,1e3)}componentWillUnmount(){clearTimeout(this._syncTimer)}render(){const e=this.props,{hasMoreItems:t,state:s,hasTimeChunking:n,items:a,height:r,scrollRef:i,isInvalidItem:c}=e,l=this.context.getCss(H.a);if(s===h.Rc.DOES_NOT_EXIST||s===h.Rc.LOADING)return o.a.createElement(G,null);if(s===h.Rc.ERROR)return o.a.createElement(P.a,null);if(!a.length&&!t)return this.renderEmptyList(l);const d=this.organizeItemList();return o.a.createElement("div",{className:l.container},o.a.createElement(S,{onSelect:e.onSelect,onSelectAll:e.onSelectAll,onOpen:e.onOpen,onShiftNavigate:this.handleShiftNavigate,onCursorMove:this.handleCursorMove,scrollRef:i,infiniteScrollProps:{initialRenderCount:e.initialRenderCount,loadThreshold:e.loadThreshold,contentInsetTop:n?0:ee,initialIndexForTab:d.findIndex(e=>!e.listAd&&!e.listSeparator),size:e.getItemListSize(d),getHeightForIndex:e=>this.getHeightForIndex(d,e),getElementForIndex:e=>this.renderItem(d,e),getIdForIndex:e=>this.getIdForIndex(d,e),isSectionHeader:e=>this.isSectionHeader(d,e),isPencilAd:e=>this.isPencilAd(d,e),cursorIndex:this.translateCursorIndex(d),groupTabIndex:T.TabIndices.MESSAGE_LIST_MAIN,hasMoreItems:t,onLoadMore:this.onLoadMore,onScroll:this.props.onScroll,onScrollTopChange:this.handleScrollTopChange,layoutKey:this.props.layoutKey+r,bufferSize:this.props.bufferSize,hasAds:this.props.pencilAd,initialScrollTop:this.props.initialScrollTop,isInvalidItem:c}}))}}ne.contextTypes={executeAction:a.a.func,intl:u.i,config:a.a.object,locale:A.d,getCss:a.a.func},ne.defaultProps={onSelect:J,onSelectAll:J,getCursorMoveUnit:()=>1,translateCursorIndex:e=>e,onScrollTopChange:J,getPropsForMask:J,items:[],height:0,isInvalidItem:()=>!1};t.a=Object(i.b)(void 0,e=>({loadMoreItems:t=>e(Object(Q.a)(t))}))(ne)},function(e,t,s){"use strict";var n=s(4),a=(s(6),s(1)),r=s.n(a),o=s(11),i=s.n(o),c=s(278),l=s.n(c),d=s(37),u=s(0),m=s(15),p=s(87),_=s(3),h=s(74),E=s(203);var g=({suggestion:e,inputValue:t=""})=>{const{name:s,type:n,subject:a}=e,o=n===u.Hd.EMAIL&&a?a.replace(/\^_/g,""):s;return r.a.createElement(E.a,{haystack:o,title:o,needle:t,formatter:e=>r.a.createElement("strong",null,e)})};const b=i()(l.a),I=Object(n.h)({search_email_addresses:{id:"search.email_addresses",defaultMessage:"{emailAddress} & {extraEmailCount} more"}}),f=({suggestion:e,inputValue:t=""},{intl:{formatMessage:s}})=>{return r.a.createElement("div",{className:b.suggestionOption},r.a.createElement("span",{className:b.suggestionAvatar},r.a.createElement(h.c,{contact:{id:e.serviceId},size:h.b.M})),r.a.createElement("div",{className:b.personSuggestionLabel},r.a.createElement("div",{className:b.suggestionLabel},r.a.createElement(g,{suggestion:e,inputValue:t})),(()=>{const n=(({emailIds:e=[],formatMessage:t})=>{const s=e.length-1,[n]=e;return s>0?t(I.search_email_addresses,{emailAddress:n,extraEmailCount:s}):n})({emailIds:e.emailIds,formatMessage:s});return r.a.createElement("div",{className:b.emailAddressLabel,"data-test-id":"person-item-email-list"},r.a.createElement(E.a,{haystack:n,title:n,needle:t,formatter:e=>r.a.createElement("strong",null,e)}))})()))};f.contextTypes={intl:n.i.isRequired};var S=f,A=s(536),T=s.n(A),C=s(201);const O=i()(T.a),R=Object(n.h)({search_email_addresses:{id:"search.email_addresses",defaultMessage:"{emailAddress} & {extraEmailCount} more"}}),N=({suggestion:e,inputValue:t=""},{intl:{formatMessage:s}})=>{const{from:n,date:a}=e,o=JSON.parse(n)[0],{email:i}=o,c=1e3*parseInt(a,10);return r.a.createElement("div",{className:O.suggestionOption},r.a.createElement("div",{className:O.suggestionLabelContainer},r.a.createElement("span",{className:O.suggestionIcon},r.a.createElement(m.b,{kind:_.b.INBOX,size:_.d.XS,colorState:_.a.COOL_FAINT})),r.a.createElement("div",{className:O.emailSuggestionLabel},r.a.createElement("div",{className:O.suggestionLabel},r.a.createElement(g,{suggestion:e,inputValue:t})),(()=>{const e=(({emailIds:e=[],formatMessage:t})=>{const s=e.length-1,[n]=e;return s>0?t(R.search_email_addresses,{emailAddress:n,extraEmailCount:s}):n})({emailIds:[i],formatMessage:s});return r.a.createElement("div",{className:O.emailAddressLabel,"data-test-id":"person-item-email-list"},r.a.createElement(E.a,{haystack:e,title:e,needle:t,formatter:e=>r.a.createElement("strong",null,e)}))})())),r.a.createElement("div",{className:O.dateLabel},r.a.createElement(C.a,{date:new Date(c)})))};N.contextTypes={intl:n.i.isRequired,timezone:d.e};var M=N;const D=Object(n.h)({remove_history:{id:"btn_remove_history",defaultMessage:"Remove"}}),y=i()(l.a);class L extends r.a.Component{constructor(...e){var t;return t=super(...e),this.handleDeleteRecent=(e=>{e.preventDefault(),e.stopPropagation(),this.props.deleteRecent(this.props.suggestion)}),t}renderSuggestionWithIcon(e){const{formatMessage:t}=this.context.intl,{suggestion:s}=this.props;return r.a.createElement("div",{className:y.keywordSuggestionOption},r.a.createElement("span",{className:y.keywordSuggestionIcon},r.a.createElement(m.b,{kind:e,size:_.d.S,colorState:_.a.FIRST_LEVEL_GRAY})),r.a.createElement("div",{className:y.keywordSuggestionLabel},r.a.createElement(g,this.props)),s.type===u.Hd.RECENT&&r.a.createElement("span",{className:y.deleteButton},r.a.createElement(p.a,{"data-iskeynav":!0,kind:_.b.CLOSE,size:_.d.XXS,title:t(D.remove_history),colorStates:{normal:_.a.NORMAL,hovered:_.a.SELECTED},onMouseDown:this.handleDeleteRecent})))}render(){const{suggestion:e}=this.props;switch(e.type){case u.Hd.PERSON:return r.a.createElement(S,this.props);case u.Hd.RECENT:return this.renderSuggestionWithIcon(_.b.CLOCK_OUTLINE);case u.Hd.KEYWORD:return this.renderSuggestionWithIcon(_.b.SEARCH);case u.Hd.EMAIL:return r.a.createElement(M,this.props);default:return null}}}L.contextTypes={intl:n.i.isRequired},L.defaultProps={inputValue:""};t.a=L},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(27),o=s.n(r),i=s(11),c=s.n(i),l=s(535),d=s.n(l),u=s(123),m=s(79);const p=()=>{},_=c()(d.a);class h extends a.a.Component{constructor(...e){var t;return t=super(...e),this.state={overlayDimensionStyles:null},this.handleShimClick=(e=>{e.stopPropagation(),this.props.onClick({overlayClicked:!1})}),this.handleOverlayClick=(e=>{e.stopPropagation(),this.props.onClick({overlayClicked:!0})}),this.renderOverlayContent=(e=>a.a.createElement("div",{"data-test-id":"overlay-boundingbox",ref:"boundingBox",style:e,className:_.overlay,onClick:this.handleOverlayClick},this.props.children)),this.renderOverlay=(e=>{const{useShim:t}=this.props;return t?a.a.createElement("div",{className:_.shim,onClick:this.handleShimClick,"data-test-id":"overlay-shim"},this.renderOverlayContent(e)):this.renderOverlayContent(e)}),t}componentDidMount(){if(!this.refs.boundingBox)return;const{alignmentPoints:e,alignTo:t,onShow:s}=this.props;let{overlayDimensionStyles:n}=this.state;if(t){n=function(e,t,s){const[n,a]=s;var r=0,o=0,i=0,c=0;switch(n){case m.a.BottomRight:i=-t.width,c=-t.height;break;case m.a.TopLeft:i=0,c=0;break;case m.a.TopRight:i=-t.width,c=0;break;case m.a.BottomLeft:i=0,c=-t.height;break;case m.a.CenterRight:i=-t.width,c=-t.height/2;break;case m.a.CenterLeft:i=0,c=-t.height/2;break;case m.a.TopCenter:i=-t.width/2,c=0;break;case m.a.BottomCenter:i=-t.width/2,c=-t.height;break;default:i=0,c=0}switch(a){case m.a.BottomRight:r=e.left+e.width,o=e.top+e.height;break;case m.a.TopLeft:r=e.left,o=e.top;break;case m.a.TopRight:r=e.left+e.width,o=e.top;break;case m.a.BottomLeft:r=e.left,o=e.top+e.height;break;case m.a.CenterRight:r=e.left+e.width,o=e.top+e.height/2;break;case m.a.CenterLeft:r=e.left,o=e.top+e.height/2;break;case m.a.TopCenter:r=e.left+e.width/2,o=e.top;break;case m.a.BottomCenter:r=e.left+e.width/2,o=e.top+e.height;break;default:r=e.left,o=e.top}return{left:r+i+window.pageXOffset,top:o+c+window.pageYOffset}}(o.a.findDOMNode(t).getBoundingClientRect(),o.a.findDOMNode(this.refs.boundingBox).getBoundingClientRect(),e),this.setState({overlayDimensionStyles:n},s),window.addEventListener("keydown",this.props.onKeyDown)}}componentWillUnmount(){window.removeEventListener("keydown",this.props.onKeyDown)}render(){const{left:e,top:t,offsetTop:s,offsetLeft:n,alignTo:r}=this.props;let o=null,i=null,c=null;const{overlayDimensionStyles:l}=this.state;return null!==e&&null!==t?(i=e,c=t):l?(i=l.left,c=l.top):r&&(i=-1e4,c=-1e4),null!==i&&null!==c&&(o={left:i+=n,top:c+=s,position:"absolute"}),a.a.createElement(u.a,null,this.renderOverlay(o))}}h.defaultProps={alignmentPoints:[m.a.TopLeft,m.a.TopLeft],offsetTop:0,offsetLeft:0,left:null,top:null,onShow:p,onClick:p,onKeyDown:p,useShim:!1};t.a=h},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(4),o=s(11),i=s.n(o),c=s(634),l=s.n(c),d=s(635),u=s.n(d);var m=function({step:e,active:t,onClick:s}){const n=i()(u.a,{active:t});return a.a.createElement("li",{className:n.step,onClick:s},e)},p=s(17),_=s(30),h=s(104),E=s(10);const g={height:`${7.5*E.GRID_UNIT}px`,padding:`0 ${5*E.GRID_UNIT}px`},b=i()(l.a);class I extends a.a.Component{constructor(...e){var t;return t=super(...e),this.state={currentStep:this.props.startStep},this.getMaxStep=(()=>a.a.Children.count(this.props.children)),this.handleSetStep=(e=>{const t=this.getMaxStep();e>-1&&e<t&&this.setState({currentStep:e})}),this._isCurrentStepValid=(()=>{const{step:e}=this.refs;return!e||"function"!=typeof e.isStepValid||e.isStepValid()}),this._beginNavigateToIndex=(e=>{const{currentStep:t}=this.state;(e<t||this._isCurrentStepValid())&&this.handleSetStep(e)}),this.handleGotoNext=(()=>{this._beginNavigateToIndex(this.state.currentStep+1)}),this.handleGoToPrevious=(()=>{this._beginNavigateToIndex(this.state.currentStep-1)}),this.renderStep=(e=>{const{showNavigation:t,onCancel:s}=this.props,n=!!(e.type&&e.type.prototype&&e.type.prototype.render);return a.a.cloneElement(e,t?n?{ref:"step"}:{}:babelHelpers.extends({},n?{ref:"step"}:{},{onPrevious:this.handleGoToPrevious,onNext:this.handleGotoNext,onCancel:s}))}),this.renderNavButtons=(()=>{const{onCancel:e}=this.props,t=this.getMaxStep(),{currentStep:s}=this.state;return s!==t-1?a.a.createElement("div",{className:b.viewActions},a.a.createElement("span",{className:b.btnPrimary},a.a.createElement(p.a,{style:g,"data-test-id":"next",kind:_.a.SECONDARY,onClick:this.handleGotoNext},a.a.createElement(r.c,{id:"wizard_next_btn_text",defaultMessage:"Next"}))),a.a.createElement("span",null,a.a.createElement(p.a,{className:b.btnLink,"data-test-id":"cancel",kind:_.a.ICON,onClick:e},a.a.createElement(r.c,{id:"wizard_cancel_btn_text",defaultMessage:"Cancel"})))):null}),t}render(){const e=this.getMaxStep(),{currentStep:t}=this.state,{children:s,showNavigation:n,showSteps:o}=this.props;return a.a.createElement("div",{className:b.wizardContainer},o?a.a.createElement("div",{className:b.stepsContainer},a.a.createElement(r.c,{id:"step_label_text",defaultMessage:"Step"}),a.a.createElement("ol",{className:b.steps},Object(h.d)(e).map(e=>a.a.createElement(m,{key:e,step:e+1,active:e===t,onClick:this._beginNavigateToIndex.bind(this,e)})))):null,a.a.createElement("article",null,this.renderStep(s[t])),n?this.renderNavButtons():null)}}I.defaultProps={startStep:0,onCancel:function(){},showSteps:!1,showNavigation:!1};t.a=I},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s.d(t,"a",function(){return n});const n=(e={},t="")=>{const s=t.split("@")[1],n=Object.keys(e);if(!t)return null;for(const t of n){if(new RegExp(t).test(s))return e[t]}return null}},function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"b",function(){return c});var n=s(9),a=s(85),r=s(0),o=s(7);const i=e=>e<1024?2:e<1600?3:4,c=(e,t,s)=>{if(s===r.Rc.DOES_NOT_EXIST)return[];const{getMainContentWidth:c,getYahooDealsSelectors:l,getListsSelectors:d}=Object(n.b)(e),{getActivities:u,getRecommendedProducts:m}=l(),{isListExpanded:p}=d(),_=c(),h=m(),E=Object(a.c)(h,_/i(_),_),g=p(t)?E:E.slice(0,2),b=[];let I=0;return h.length&&(b.push({id:I++,listId:Object(o.Q)(t,{listContentType:r.Fb.YAHOO_DEAL_HEADER}),yahooDealListId:t}),g.forEach((e,s)=>{b.push({products:e,id:I++,listId:t,hasBorder:!0,lastItem:s===g.length-1})})),u().filter(e=>new Date(e.endTime)>Date.now()).forEach(e=>{b.push({id:`${I++}_${e.id}`,listId:Object(o.Q)(t,{listContentType:r.Fb.YAHOO_DEAL_ACTIVITY_HEADER}),endTime:e.endTime,startTime:e.startTime,activityId:e.id}),Object(a.c)(e.products,_/i(_),_).forEach(e=>{b.push({products:e,id:I++,listId:t,hasBorder:!1})})}),b}},function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"a",function(){return a});const n="rrUpsellVideoAdTimestamp",a=5e3},,,function(e,t,s){"use strict";s.d(t,"a",function(){return d});var n=s(1),a=s.n(n),r=s(10),o=s(3),i=s(15),c=s(25);const l=[{id:"fuji-blue",viewBox:20,startColor:r.PALETTE.ycolorTurquoise8a,stopColor:r.PALETTE.ycolorBlue10a},{id:"fuji-red",viewBox:20,startColor:r.PALETTE.ycolorOrange4a,stopColor:r.PALETTE.ycolorPink1a},{id:o.a.ATTACH_EXCEL,viewBox:48,startColor:r.PALETTE.ycolorTurquoise8a,stopColor:r.PALETTE.ycolorGreen6a},{id:o.a.ATTACH_SLIDE,viewBox:48,startColor:r.PALETTE.ycolorOrange4a,stopColor:r.PALETTE.ycolorPink1a},{id:o.a.ATTACH_GENERIC,viewBox:48,startColor:r.PALETTE.ycolorTurquoise8a,stopColor:r.PALETTE.ycolorBlue10a},{id:o.a.ATTACH_DOC,viewBox:48,startColor:r.PALETTE.ycolorBlue10a,stopColor:r.PALETTE.ycolorPurple14a},{id:o.a.ATTACH_MEDIA,viewBox:48,startColor:r.PALETTE.ycolorPink1a,stopColor:r.PALETTE.ycolorPurple14a},{id:o.a.WARNING_GRAD_RED,viewBox:48,startColor:r.PALETTE.ycolorSalmon3b,stopColor:r.PALETTE.ycolorFuchsia18a},...Object.keys(c.h).map(e=>({id:o.a[`THEME_GRADIENT_${e}`],viewBox:48,startColor:c.h[`${e}`].GRADIENT_COLOR_1,stopColor:c.h[`${e}`].GRADIENT_COLOR_3}))].map(({id:e,viewBox:t,startColor:s,stopColor:n})=>a.a.createElement("linearGradient",{key:e,id:e,x1:"0",x2:t,y1:t,y2:"0",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{offset:"40%",stopColor:s}),a.a.createElement("stop",{offset:"60%",stopColor:n})));function d(){return a.a.createElement("svg",{height:"0"},a.a.createElement("defs",null,l,a.a.createElement("clipPath",{id:"clip-orb"},i.a.ORB)))}},,,,function(e,t,s){"use strict";e.exports={className:{default:{settingsGearIcon:"D_F",label:"D_n N_fq7 u_b A_6EqO",settingsLabelIconContainer:"D_F ab_C cdPFi_ZamTeg C_ZamTeg r_P",chevronIcon:"Q_A",menuContainer:"W_3vaYc",menuContainerLazy:"W_3vaYc d_3z5BY D_F ab_C gl_C",menuList:"M_0 P_0 hd_n",menuItemHeader:"M_0 D_F ab_C u_dPo k_w A_6EqO H_72FG P_1EudUu C_Zjpysv m_Z12nDQf",menuItem:"M_0 r_BN u_b A_6EqO P_ZCWMI4 i_6FIA C_Zjpysv z_Z12nDQf",menuItemQuickAccess:"r_BN o_A q_ZnkeaL",menuItemFooter:"M_0 u_e69 A_6DUj i_6EqO P_1Eu7sD z_Z12nDQf D_F H_7ceA gl_FM",moreSettingsLink:"C_Z1VRpVF cdPFi_Z1VRpVF C4_Z2aVTcY cdPFi4_Z2aVTcY r_P D_F ab_C M_0 A_6EqO u_e69 i_6FIA H_6UbO",feedbackLink:"C_Z1VRpVF cdPFi_Z1VRpVF C4_Z2aVTcY cdPFi4_Z2aVTcY r_P D_F ab_C M_0 A_6EqO u_e69 i_6LEV a_3n37k",optOutLink:"C_Z1VRpVF cdPFi_Z1VRpVF C4_Z2aVTcY cdPFi4_Z2aVTcY r_P D_F ab_C M_0 A_6EqO u_e69 i_6LEV a_3nyS5 N_6Fd5",mailProButton:"M_1Urh0k",badgeContainer:"h_Zc8u05",menuLabel:"D_F Q_6Eb4"},"themeMode-MEDIUM":{settingsGearIcon:"cdPFi_52qC",label:"C_52qC"},"themeMode-DARK":{settingsGearIcon:"cdPFi_52qC",label:"C_52qC"},"theme-DEFAULT":{settingsLabelIconContainer:"C4_Z29WjXl cdPFi4_Z29WjXl"},verticalLayout:{settingsLabelIconContainer:"jb_6FIA"},"verticalPreviewPane-false":{label:"cZ1YE9AC_B"},"verticalPreviewPane-true":{label:"cWeabk_B"},hasContactCard:{label:"D_B"},hideFeedbackLink:{feedbackLink:"D_n",optOutLink:"a_3rmNg"}},_key:"Z1233dA"}},,,,,,function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(59),o=s.n(r),i=s(292),c=s(0),l=s(77),d=s(8),u=s(144);const m=1e4,p=o.a.create("norrin/react_error");t.a=class extends n.Component{constructor(...e){var t;return t=super(...e),this.state={hasError:!1},t}componentDidCatch(e,t){const s=new u.a(e).toString(),n=Object(l.b)(Object(d.a)(e,"message","react error"));let a=Object(l.b)(Object(d.a)(t,"componentStack",""));if(a.length>m&&(a=a.substr(0,m)+"..."),p.error(n,{stack:s,componentStack:a}),this.setState({hasError:!0}),!this.props.errorHandler){const e=document.getElementById("ybar");e&&e.parentNode&&e.parentNode.removeChild(e)}}render(){if(!this.state.hasError)return this.props.children;const{logoUrl:e,isRTL:t,errorHandler:s,className:n}=this.props;return a.a.createElement("div",{"data-test-id":"react-error-handler",className:n},a.a.createElement(s||i.a,{appName:window.AppBootstrapData.appName,error:{name:c.ib.REACT_ERROR,message:"REACT_ERROR_OCCURED"},hideLogo:!1,logoUrl:e,crumb:window.AppBootstrapData.crumb,isRTL:t}))}}},function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s(8);const a=Object(n.c)(["FITCONTENT"])},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(4),c=s(158),l=s(554),d=s.n(l);const u=Object(i.h)({label:{id:"contacts_list.loading_indicator",defaultMessage:"Loading"}}),m=({includeHeaders:e},{getCss:t,intl:s})=>{const n=t(d.a,{includeHeaders:e}),a=[n.wrapper];return e&&a.push(n.withBackground),o.a.createElement("div",{className:a.join(" "),"aria-label":s.formatMessage(u.label)},e&&o.a.createElement("div",{className:n.search,"aria-hidden":!0}),e&&o.a.createElement("div",{className:n.tabs,"aria-hidden":!0}),!e&&o.a.createElement("div",{className:n.separator,"aria-hidden":!0},o.a.createElement("span",{className:n.separatorText})),o.a.createElement(c.a,null),o.a.createElement(c.a,null),o.a.createElement(c.a,null),o.a.createElement(c.a,null),o.a.createElement(c.a,null),!e&&o.a.createElement("div",{className:n.separator,"aria-hidden":!0},o.a.createElement("span",{className:n.separatorText})),o.a.createElement(c.a,null),o.a.createElement(c.a,null),o.a.createElement(c.a,null))};m.contextTypes={intl:i.i,getCss:a.a.func},t.a=m},function(e,t,s){"use strict";var n=s(1),a=s.n(n),r=s(6),o=s(13),i=s(3),c=s(556),l=s.n(c),d=s(4),u=s(15),m=s(25);const p=Object(d.h)({backyard:{id:"contact_card.backyard",defaultMessage:"backyard profile"},flickr:{id:"contact_card.flickr",defaultMessage:"flickr profile"},facebook:{id:"contact_card.facebook",defaultMessage:"facebook profile"},linkedin:{id:"contact_card.linkedin",defaultMessage:"linkedin profile"},twitter:{id:"contact_card.twitter",defaultMessage:"twitter profile"}}),_=(e,t)=>{const{formatMessage:s}=t.intl,{backyardLink:n,facebookLink:r,twitterLink:o,linkedinLink:c,flickrLink:d,isInRightRail:_}=e,h=Object(m.k)({context:t,includeMedium:!0}),E=_&&h,g=t.getCss(l.a,{darkVariations:E}),b=g.socialIcon,I=[{href:n&&`https://thestreet.ouroath.com/people/${n}@oath.com`,iconType:i.b.HOME,iconClassName:g.backyardIcon,title:s(p.backyard)},{href:r,iconType:i.b.FACEBOOK,colorState:E?i.a.INHERITED:i.a.FACEBOOK_ENABLED,iconClassName:b,title:s(p.facebook)},{href:o,iconType:i.b.TWITTER,colorState:E?i.a.INHERITED:i.a.TWITTER_ENABLED,iconClassName:b,title:s(p.twitter)},{href:c,iconType:i.b.LINKEDIN,colorState:E?i.a.INHERITED:i.a.LINKEDIN_ENABLED,iconClassName:b,title:s(p.linkedin)},{href:d,iconType:E?i.b.FLICKR_MONOCHROME:i.b.FLICKR,iconClassName:b,title:s(p.flickr)}].filter(({href:e})=>e);return I&&0!==I.length?a.a.createElement("div",{className:g.social},I.map(e=>(e=>{const{iconType:t,href:s,title:n,iconClassName:r,colorState:o}=e;return a.a.createElement("a",{"data-test-id":"contact-card-social",key:t,className:r,href:s,target:"_blank",title:n,rel:"noreferrer"},a.a.createElement(u.b,{kind:t,size:i.d.XS,colorState:o||i.a.INHERITED}))})(e))):null};_.defaultProps={isInRightRail:!1},_.contextTypes={intl:d.i,getCss:r.func,getThemeMode:r.func,getTheme:r.func};t.a=Object(o.b)((e,{contact:t={}})=>({backyardLink:t.backyard,facebookLink:t.facebook,twitterLink:t.twitter,linkedinLink:t.linkedin,flickrLink:t.flickr}))(_)},function(e,t,s){"use strict";var n=s(1),a=s.n(n),r=s(6),o=s(558),i=s.n(o),c=s(13),l=s(9),d=s(0),u=s(4),m=s(102);const p=({relationshipHistory:e,isBusiness:t,isEnabled:s,onContactClick:n},r)=>{if(!s||t||!e)return null;const{prose:o}=e;if(!o||0===o.length)return null;const c=r.getCss(i.a);return a.a.createElement("div",{className:c.contactSummary,"data-test-id":"contact-card-summary"},o.map((e,t)=>{const s={},{type:r,name:o=""}=e;return"contact"===r&&"you"!==o&&(s.className=c.contact,s.onClick=n.bind(void 0,e)),a.a.createElement("span",babelHelpers.extends({"data-test-id":`summary-part-${t}`,key:t},s),o||e||"")}))};p.defaultProps={isBusiness:!1},p.contextTypes={intl:u.i,getCss:r.func,getThemeMode:r.func,getTheme:r.func};t.a=Object(c.b)(e=>{const{isFeatureEnabled:t}=Object(l.b)(e);return{isEnabled:t(d.mb.CONTACT_SUMMARY)}},e=>({onContactClick:({name:t,smtp:s})=>e(Object(m.n)({smtp:s,name:t}))}))(p)},function(e,t,s){"use strict";var n=s(1),a=s.n(n),r=s(6),o=s.n(r),i=s(559),c=s.n(i),l=s(74),d=s(76),u=s(0),m=s(51),p=s(4),_=s(9),h=s(5),E=s(13);const g=(e,t)=>{const{showVigLink:s,email:n,id:r,openVigLink:o,website:i,sectionValue:m}=e,p=t.getCss(c.a,{websiteLinked:s}),_=s?{href:Object(d.c)(i,u.B),title:i.split("://").pop(),target:"_blank",rel:"noreferrer"}:null;return a.a.createElement("div",{className:p.leftColElement},a.a.createElement("a",babelHelpers.extends({className:p.avatarContainer},_,{onClick:()=>{s&&o({i13nModel:{mKey:h.e.CONTACT_CARD_AVATAR_CLICKED,sec:m||h.g.RIGHT_RAIL,actionData:{url:i}}})},"data-test-id":"contact-card-avatar"}),a.a.createElement(l.c,{contact:{email:n,id:r},size:l.b.L})))};g.contextTypes={intl:p.i,getCss:o.a.func,getThemeMode:o.a.func,getTheme:o.a.func};t.a=Object(E.b)((e,{website:t,isBusiness:s})=>{const{isFeatureEnabled:n,getSetting:a}=Object(_.b)(e),r=a(u.nd.VIGLINK_BLACKLIST);return{showVigLink:n(u.mb.VIGLINK)&&s&&t&&!r.some(e=>-1!==t.toLowerCase().indexOf(e))}},e=>({openVigLink:t=>e(Object(m.E)(t))}))(g)},function(e,t,s){"use strict";var n=s(1),a=s.n(n),r=s(6),o=s.n(r),i=s(560),c=s.n(i),l=s(4),d=s(3),u=s(22),m=s(102),p=s(13),_=s(25);const h=Object(l.h)({search:{id:"contact_card.search",defaultMessage:"Search for emails from {name}"}}),E=({name:e,handleNameClick:t,email:s,isInRightRail:n,isMobile:r,sectionValue:o},i)=>{if(!e&&!s)return null;const l=i.getCss(c.a,{darkVariations:Object(_.k)({context:i,includeMedium:!0})&&n,isMobile:r}),m=e||s;return a.a.createElement("div",{className:l.searchSection,"data-test-id":"contact-card-search",onClick:()=>{t(e,s,o)}},a.a.createElement("div",{"data-test-id":"contact-card-name",className:l.name,title:m},m),a.a.createElement("span",{className:l.iconsSection},a.a.createElement(u.a,{paddingLess:!0,"data-test-id":"contact-card-search-icon",className:l.searchIcon,title:i.intl.formatMessage(h.search,{name:m}),kind:r?d.b.SEARCH:d.b.SEARCH_MINI,size:r?d.d.S:d.d.XS,colorState:d.a.INHERITED})))};E.contextTypes={intl:l.i,getCss:o.a.func,getThemeMode:o.a.func,getTheme:o.a.func},E.defaultProps={isInRightRail:!1};t.a=Object(p.b)(null,e=>({handleNameClick:(t,s,n)=>e(Object(m.n)({smtp:s,name:t,sectionValue:n}))}))(E)},function(e,t,s){"use strict";var n=s(1),a=s.n(n),r=s(6),o=s.n(r),i=s(561),c=s.n(i),l=s(25);const d=({position:e,isInRightRail:t,isMobile:s},n)=>{if(!e)return null;const r=n.getCss(c.a,{darkVariations:Object(l.k)({context:n,includeMedium:!0})&&t,isMobile:s});return a.a.createElement("div",{"data-test-id":"contact-card-position",className:r.position,title:e},e)};d.contextTypes={getCss:o.a.func,getThemeMode:o.a.func,getTheme:o.a.func},d.defaultProps={isInRightRail:!1},t.a=d},function(e,t,s){"use strict";var n=s(1),a=s.n(n),r=s(6),o=s.n(r),i=s(562),c=s.n(i),l=s(76),d=s(0),u=s(51),m=s(4),p=s(9),_=s(5),h=s(13);const E=(e,t)=>{const{showVigLink:s,openVigLink:n,website:r,sectionValue:o}=e;if(!r)return null;const i=t.getCss(c.a,{websiteLinked:s}),u=s?{href:Object(l.c)(r,d.B),title:r.split("://").pop(),target:"_blank",rel:"noreferrer"}:null;return a.a.createElement("a",babelHelpers.extends({},u,{className:i.website,onClick:()=>{s&&n({i13nModel:{mKey:_.e.CONTACT_CARD_URL_CLICKED,sec:o||_.g.RIGHT_RAIL,actionData:{url:r}}})}}),r.split("://").pop())};E.contextTypes={intl:m.i,getCss:o.a.func,getThemeMode:o.a.func,getTheme:o.a.func};t.a=Object(h.b)((e,{website:t,isBusiness:s})=>{const{isFeatureEnabled:n,getSetting:a}=Object(p.b)(e),r=a(d.nd.VIGLINK_BLACKLIST);return{showVigLink:n(d.mb.VIGLINK)&&s&&t&&!r.some(e=>-1!==t.toLowerCase().indexOf(e))}},e=>({openVigLink:t=>e(Object(u.E)(t))}))(E)},function(e,t,s){"use strict";s.d(t,"a",function(){return m});s(6);var n=s(1),a=s.n(n),r=s(8),o=s(574),i=s.n(o),c=s(11),l=s.n(c),d=s(15),u=s(3);Object(r.c)([u.d.XS,u.d.S]),Object(r.c)([u.a.SUCCESS,u.a.INVERTED]);function m({size:e,title:t,colorState:s}){const n=l()(i.a,{size:e});return a.a.createElement("div",{className:n.wrapper},a.a.createElement("div",{className:n.container,title:t,"aria-label":t},a.a.createElement(d.b,{kind:u.b.REFRESH,size:e,colorState:s})))}m.defaultProps={size:u.d.S,colorState:u.a.SUCCESS}},,function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"c",function(){return r}),s.d(t,"a",function(){return o});var n=s(2);function a(e,t){e.dispatch(n.Ed,t)}function r(e,t){e.dispatch(n.Fd,t)}function o(e,t){e.dispatch(n.Dd,t)}},,function(e,t,s){"use strict";s.d(t,"a",function(){return o});var n=s(69),a=s(23),r=s(5);function o({type:e,eventData:t}){switch(e){case a.EDITOR_EVENTS.emoji_inserted:n.b.sendI13nModel({i13nModel:{mKey:r.e.EMOJI_ADD,sec:r.g.RTE_TOOLBAR,interactionType:r.d.click,actionData:{emoji:t.emoji.source}}});break;case a.EDITOR_EVENTS.gif_inserted:if(n.b.sendI13nModel({i13nModel:{mKey:r.e.GIF_ADD,sec:r.g.RTE_TOOLBAR,interactionType:r.d.click}}),t.gif.feedbackUrl){const e=new Image;e.crossorigin="anonymous",e.src=t.gif.feedbackUrl}break;case a.EDITOR_EVENTS.gif_removed:n.b.sendI13nModel({i13nModel:{mKey:r.e.GIF_REMOVE,sec:r.g.COMPOSE_MSG,interactionType:r.d.click}});break;case a.EDITOR_EVENTS.gif_resized:n.b.sendI13nModel({setTo:t.size,i13nModel:{mKey:r.e.GIF_CHANGE_SIZE,sec:r.g.COMPOSE_MSG,interactionType:r.d.click}});break;case a.EDITOR_EVENTS.stationery_cleared:n.b.sendI13nModel({i13nModel:{mKey:r.e.COMPOSE_CLEAR_STATIONERY,sec:t.sec,interactionType:r.d.click}});break;case a.EDITOR_EVENTS.default_stationery_cleared:n.b.sendI13nModel({i13nModel:{mKey:r.e.COMPOSE_CLEAR_DEFAULT_STATIONERY,sec:t.sec,interactionType:r.d.click}})}}},function(e,t,s){"use strict";e.exports={className:{default:{popoverContainer:"D_F cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",separator:"m_Z14vXdP M_3HLUz",popoverContent:"P_3Y3Gk"}},_key:"Z1dF06J"}},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(4),c=s(22),l=s(25),d=s(3);const u=Object(i.h)({perm_delete_msgs:{id:"perm_delete_msgs",defaultMessage:"Permanently delete the selected {conversations, select,\n            true {conversations}\n            false {messages}\n        }"},delete_msgs:{id:"delete_msgs",defaultMessage:"Delete the selected {conversations, select,\n            true {conversations}\n            false {messages}\n        }"}});class m extends o.a.Component{render(){const{formatMessage:e}=this.context.intl,{permanent:t,disabled:s,onClick:n,showLabel:a,isCompact:r,size:m,conversations:p}=this.props,_=e(t?u.perm_delete_msgs:u.delete_msgs,{conversations:p}),h=t?"perm-delete":"delete",E=this.context.getThemeMode()===l.f.DARK;return o.a.createElement(c.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${h}`,"aria-label":_,title:_,kind:d.b.DELETE,disabled:s,onClick:n,size:m,colorState:d.a.INHERITED,isOnDarkBackground:E,isCompact:r},a?o.a.createElement(i.c,{id:"delete_icon_label",defaultMessage:"Delete"}):null)}}m.defaultProps={size:d.d.XS,showLabel:!0,onClick:function(){},conversations:!1},m.contextTypes={intl:i.i.isRequired,getThemeMode:a.a.func},t.a=m},function(e,t,s){"use strict";e.exports={className:{default:{popoverContainer:"D_F",popoverContent:"P_3Y3Gk",button:"P_fQq0A ab_C gl_FM je_eo6 jb_eo6 D_F r_P I4_1I4yPF I3_1I4yPF ir3_1JO2M7",label:"D_F",hint:"D_F ab_C Q_eo6 O_cMq O4_N cdPFi4_Z281SGl",separator:"m_Z14vXdP M_3HLUz"},disabled:{button:"O_cMq r_BN I4_52qC"}},_key:"Zu2Dt5"}},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(4),o=s(3),i=s(22),c=s(606),l=s.n(c),d=s(11);const u=s.n(d)()(l.a),m=Object(r.h)({search_back:{id:"back_to_list_btn_title",defaultMessage:"Back"}}),p=(e,{intl:{formatMessage:t}})=>{let{showText:s=!0,onClick:n}=e,r=babelHelpers.objectWithoutProperties(e,["showText","onClick"]);const c=t(m.search_back);return a.a.createElement(i.a,babelHelpers.extends({"data-iskeynav":!0,"data-test-id":"toolbar-back-to-list","aria-label":c,title:c,kind:o.b.ARROW_UP,size:o.d.XS,rotate:o.c.D270,onClick:n,colorState:o.a.INHERITED,className:u.backToListButton},r),s&&c)};p.contextTypes={intl:r.i.isRequired},t.a=p},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(98),c=s.n(i),l=s(610),d=s.n(l),u=s(0),m=s(10),p=s(4),_=s(22),h=s(3),E=s(25),g=s(56),b=s(9),I=s(13);const f={SECTION:"SECTION",ROW:"ROW",AD:"PENCIL"},S=Object(p.h)({infinite_scroll_messages:{id:"infinite_scroll.messages",defaultMessage:"Messages"},infinite_scroll_scroll_to_top:{id:"infinite_scroll.scroll_to_top_button_title",defaultMessage:"Scroll to top"}}),A=5;function T(e=0,t=0,s=0){return{transform:`translate3d(${e}px, ${t}px, ${s}px)`}}class C extends o.a.Component{constructor(...e){super(...e),this.setScrollContainer=(e=>{this.scrollContainer=e}),this._getMeta=(({size:e,getHeightForIndex:t,isSectionHeader:s,hasMoreItems:n,contentInsetTop:a,isInvalidItem:r,getIdForIndex:o})=>{const i=Array(e+(n?1:0)+1);let c=a;const l=[],d=[];let u,m=0;for(let a=0;a<e+(n?1:0);a++){const e=o(a),n=s(a);r(e)||(i[m]=c,n&&(m-u==1&&(d.pop(),l.pop(),m--),u=m,d.push(m)),0===m&&n||(c+=t(a)),m++),n&&l.push(a)}return i[m]=c,{sectionIndices:l,sectionPositionIndices:d,positions:i,containerHeight:c}}),this._getStartItemForScrollTop=(e=>{const t=this.props,{positions:s}=this._getMeta(t);let n=0;for(let a=0;a<t.size;a++)if(s[a]>e){n=a-1;break}return n}),this._getItemsFitToView=(({bufferSize:e,size:t},{positions:s},n)=>{const a=this._rectBox.height;let r=0,o=t;for(let e=0;e<t;e++)if(s[e]>n){r=e-1;break}for(let e=r;e<t;e++){if(s[Math.min(e+1,t-1)]>=n+a){o=e+1;break}}return r=Math.max(r-e,0),o=Math.min(o+e,t),this._maxSpread<o-r&&(this._maxSpread=o-r),{start:r,end:o=r+this._maxSpread}}),this._scrollToFitCursor=(()=>{const{positions:e}=this.state;this.scroller.scrollTop=Math.max(e[this.props.cursorIndex]-this._rectBox.height/2,1)}),this._handleResize=(()=>{this._maxSpread=0,this._onBoundingRectChange()}),this._onBoundingRectChange=(()=>{const e=this._rectBox.height;if(this.scrollContainer)if(this._rectBox=this.scrollContainer.getBoundingClientRect(),this.scroller.style.height=`${this._rectBox.height-this._getPinnedSectionHeight()}px`,this._rectBox.height!==e){const e=this._getItemsFitToView(this.props,this.state,this._lastScrollTop);this.setState(e,this._loadMoreIfNeeded)}else this._loadMoreIfNeeded()}),this._loadMoreIfNeeded=(()=>{const{size:e,loadThreshold:t}=this.props;(this.state.positions[e-t]||this.state.positions[e])<this._lastScrollTop+this._rectBox.height&&this._loadMore()}),this.focusItem=(e=>{if(!this.content||!this.content.children)return!1;const t=this.content.children[e-this.state.start];return!!t&&(this.animationFrameIDs.focusItem=requestAnimationFrame(()=>{t.children[0].focus(),t.children[0].setAttribute("tabindex",this.props.groupTabIndex)}),!0)}),this._handleFocusPass=(e=>{let t;e.preventDefault(),this.props.cursorIndex<0?(this.scroller.scrollTop=0,t=this.props.initialIndexForTab,this.props.selectFirstItem()):(this._scrollToFitCursor(),t=this.props.cursorIndex,this.animationFrameIDs.focusPass=window.requestAnimationFrame(()=>this.focusItem(t)))}),this._handleScroll=(e=>{e.stopPropagation(),this.animationRequested||this.scroller&&(this._lastScrollTop=this.scroller.scrollTop,this.animationRequested=!0,this.props.onScroll(),this.animationFrameIDs.scroll=window.requestAnimationFrame(()=>{this.animationRequested=!1;const e=this._getItemsFitToView(this.props,this.state,this._lastScrollTop);e.pinnedSectionIndex=this._getPinnedSectionIndex(this.state.sectionPositionIndices),this.state.start===e.start&&this.state.end===e.end&&this.state.pinnedSectionIndex===e.pinnedSectionIndex||this.setState(e),this._loadMoreIfNeeded(),this._styleItems(),this.props.onScrollTopChange(this._lastScrollTop),clearTimeout(this.scrollTopTimeout),this.scrollTopTimeout=setTimeout(()=>{const e=this._scrollPercent();(e<A&&this.goToTop||e>A&&!this.goToTop)&&this.forceUpdate()},100)}))}),this._getPinnedSectionIndex=(e=>{const t=this._getSectionIndexStatus(e);return t?t.findIndex(e=>e===u.kd.PINNED):0}),this._styleStickyHeader=(()=>{if(this._lastScrollTop&&!this._stickyHeaderStyled){const e=Object(E.m)(this.context.getTheme())&&this.context.getThemeMode()===E.f.DARK;this.stickyheader.style.boxShadow=e?m.Shadows.BLACK_MED:m.Shadows.MED,this._stickyHeaderStyled=!0}else this._lastScrollTop||(this.stickyheader.style.boxShadow="none",this._stickyHeaderStyled=!1)}),this._styleItems=(()=>{const{start:e,sectionPositionIndices:t}=this.state,s=this._stylesForSections(t);this.content&&Array.prototype.forEach.call(this.content.children,(t,s)=>{const n=this._translateForIndex(s+e);Object.assign(t.style,n)}),this.header&&Array.prototype.forEach.call(this.header.children,(e,n)=>{Object.assign(e.style,s[t[n]])}),this.stickyheader&&this._styleStickyHeader()}),this._loadMore=(()=>{const{size:e,hasMoreItems:t,loadThreshold:s,onLoadMore:n}=this.props,{end:a,loading:r}=this.state;!n||r||!t||e-a>s||this.setState({loading:!0},n)}),this._translateForIndex=(e=>T(0,this.state.positions[e])),this._getSectionIndexStatus=(e=>{const t=Math.floor(u.jd*this._getPinnedSectionHeight());let s=0;for(let n=e.length-1;n>=0;n--){if(this.state.positions[e[n]]<=this._lastScrollTop-t){s=n;break}}return e.map((e,t)=>s===t?u.kd.PINNED:u.kd.FLOW)}),this._stylesForSections=(e=>{const t=this._getSectionIndexStatus(e),{positions:s}=this.state,n={};return e.forEach((e,a)=>{let r;switch(t[a]){case u.kd.FLOW:r=T(0,s[e]);break;case u.kd.PINNED:r={display:"none"}}n[e]=Object.assign({zIndex:1},r)}),n}),this.getRowClass=(e=>e.item),this.renderRow=((e,t,{type:s,translation:n})=>{const{getElementForIndex:a,cursorIndex:r,initialIndexForTab:i,groupTabIndex:c}=this.props,l=t===r||r<0&&i===t?c:-1,d=a(t);if(d)return o.a.createElement("li",{key:t,role:"rowgroup","data-test-id":`infinite-scroll-${s}`,className:e.item,style:n},o.a.cloneElement(d,{tabIndex:l}))}),this._getPinnedSectionHeight=(()=>{const{sectionIndices:e,pinnedSectionIndex:t}=this.state,{getHeightForIndex:s}=this.props;return t>=0&&t<e.length?s(e[t]):0}),this._scrollPercent=(()=>this.scroller?Math.floor(this.scroller.scrollTop/this.scroller.scrollHeight*100):0),this._scrolToTop=(()=>{this.scroller&&(this.scroller.scrollTop=0)}),this.state=Object.assign(this._getMeta(this.props),{loading:!1,pinnedSectionIndex:0,prevSize:0}),this._handleResizeDebounced=c()(this._handleResize.bind(this),200)}componentWillReceiveProps(e){const t={};Object.assign(t,this._getMeta(e)),Object.assign(t,this._getItemsFitToView(e,t,this._lastScrollTop)),t.pinnedSectionIndex=this._getPinnedSectionIndex(t.sectionPositionIndices),t.loading=this.state.loading&&this.props.size===e.size&&Array.apply(null,{length:this.props.size}).every((t,s)=>this.props.getIdForIndex(s)===e.getIdForIndex(s)),t.prevSize=this.props.size,this.setState(t)}componentWillMount(){let e=0;const{cursorIndex:t,initialScrollTop:s,initialRenderCount:n,size:a}=this.props;this._maxSpread=0,this._rectBox={height:0,top:0},this._lastScrollTop=0,this._stickyHeaderStyled=!1,this.animationFrameIDs={},s>0?(this._lastScrollTop=s,e=this._getStartItemForScrollTop(this._lastScrollTop)):t>n&&(e=Math.max(t-(Math.ceil(n/2)-1),0),this._lastScrollTop=this.state.positions[e]),this.setState({start:e,end:Math.min(e+n,a)})}componentDidMount(){const{cursorIndex:e,initialRenderCount:t,initialScrollTop:s}=this.props;if(this._onBoundingRectChange(),s>0)this.scroller.scrollTop=s;else if(e>t)this._scrollToFitCursor();else{const e=this._getItemsFitToView(this.props,this.state,this._lastScrollTop);this.state.start===e.start&&this.state.end===e.end||this.setState(e,()=>{this._styleItems(),this._loadMoreIfNeeded()})}setTimeout(()=>this.focusItem(this.props.cursorIndex)),window.addEventListener("resize",this._handleResizeDebounced),this.scroller.addEventListener("scroll",this._handleScroll)}componentWillUnmount(){clearTimeout(this.scrollTopTimeout),Object.keys(this.animationFrameIDs).forEach(e=>{window.cancelAnimationFrame(this.animationFrameIDs[e])}),this._handleResizeDebounced.cancel(),window.removeEventListener("resize",this._handleResizeDebounced),this.scroller.removeEventListener("scroll",this._handleScroll)}componentDidUpdate(e){const t=this.props;this.props.layoutKey!==e.layoutKey?this._handleResizeDebounced():this._loadMoreIfNeeded(),(!document.activeElement||document.activeElement===document.body||!function(e){return e&&(["INPUT","SELECT","TEXTAREA"].indexOf(e.tagName)>=0||"true"===e.getAttribute("contentEditable"))}(document.activeElement)&&document.activeElement.tabIndex!==m.TabIndices.MESSAGE_LIST_MAIN)&&(function({cursorIndex:e,size:t,bufferSize:s},{start:n,end:a}){return a=a===t-1?a:a-s-1,(n=0===n?n:n+s)<e&&e<a}(this.props,this.state)&&t.cursorIndex!==e.cursorIndex||t.getIdForIndex(t.cursorIndex)!==e.getIdForIndex(e.cursorIndex))&&this.focusItem(t.cursorIndex)}render(){const e=this.context.getTheme(),t=this.context.getCss(d.a,{[`theme-${e}`]:!0}),{formatMessage:s}=this.context.intl,{hasMoreItems:n,getElementForIndex:a,size:r,cursorIndex:i,groupTabIndex:c,isSectionHeader:l,isPencilAd:u,getHeightForIndex:m,dir:p}=this.props,{loading:E,start:b,end:I,sectionIndices:T,pinnedSectionIndex:C,sectionPositionIndices:O}=this.state,R=[];let N=0,M=null,D=null,y=b;const L=this._stylesForSections(O);for(let e=b;e<I;e++)if(e<r){let s,n;if(l(e)?(s=f.SECTION,n=T.indexOf(e)):s=u(e)?f.AD:f.ROW,n<0)continue;const a=this.renderRow(t,n>=0?T[n]:e,{type:s,translation:n>=0?L[O[n]]:this._translateForIndex(y)});a&&(R.push(a),y++)}else R.push(null);const v=O.map((e,s)=>this.renderRow(t,T[s],{type:f.SECTION,translation:L[e]}));return C>-1&&T.length>0&&(N=m(T[C]),M=o.a.createElement("div",{ref:e=>this.stickyheader=e,className:t.stickyHeader,style:{height:N},"data-test-id":"infinite-scroll-header"},a(T[C]))),this._scrollPercent()>A&&(D=o.a.createElement("div",{ref:e=>this.goToTop=e,className:this.props.insideIframe?"btn-top":t.scrollToTop,onClick:this._scrolToTop},o.a.createElement(_.a,{kind:h.b.TAP_TO_TOP,size:h.d.XS,colorState:h.a.INVERTED,paddingLess:!0,title:s(S.infinite_scroll_scroll_to_top)}))),o.a.createElement("div",{"data-test-id":"infinite-scroll-container",className:t.main,dir:p,ref:this.setScrollContainer},M,o.a.createElement("div",{role:"navigation",className:t.scroll,"data-name":"scroll-area","data-test-id":"infinite-scroll-area",ref:e=>{this.scroller=e,this.props.scrollRef(e)},style:{marginTop:N},"aria-label":s(S.infinite_scroll_messages)},o.a.createElement("div",{"data-test-id":"infinite-scroll-focus-passer",className:t.focusStealer,tabIndex:b>i||I<i?c:-1,onFocus:this._handleFocusPass}),o.a.createElement("div",{className:t.container,"data-name":"infinite-scroll-content","data-test-id":"infinite-scroll-content",style:{height:this.state.containerHeight}},o.a.createElement("ul",{ref:e=>this.content=e,className:t.container,role:"grid","data-test-id":"infinite-scroll-rows","aria-readonly":"true"},R),o.a.createElement("ul",{ref:e=>this.header=e,className:t.container,"aria-hidden":!0},v),E&&n&&o.a.createElement("div",{className:t.loading},o.a.createElement(g.b,null)))),D)}}C.contextTypes={getCss:a.a.func,intl:p.i.isRequired,getTheme:a.a.func,getThemeMode:a.a.func},C.defaultProps={contentInsetTop:0,initialRenderCount:15,bufferSize:1,isSectionHeader:()=>!1,isPencilAd:()=>!1,initialIndexForTab:0,cursorIndex:-1,hasMoreItems:!1,loadThreshold:10,selectFirstItem:()=>null,onScrollTopChange:()=>{},onScroll:()=>{},layoutKey:"@DEFAULT",scrollRef:()=>{},isInvalidItem:()=>!1};t.a=Object(I.b)(e=>{const{getEnvironmentSelectors:t}=Object(b.b)(e);return{dir:t().getPageDirection()}})(C)},function(e,t,s){"use strict";var n=s(13),a=s(6),r=s.n(a),o=s(1),i=s.n(o),c=s(4),l=s(211),d=s.n(l),u=s(9),m=s(48);function p({onRetry:e,route:t},s){const n=s.getCss(d.a);return i.a.createElement("div",{"data-test-id":"message-group-list-error",className:n.errorContainer},i.a.createElement("p",null,i.a.createElement(c.c,{id:"folder_loading_error",defaultMessage:"An error occurred while trying to fetch the items in this list."})),i.a.createElement("a",{"data-test-id":"list-loading-error-retry",className:n.listLoadingRetry,onClick:()=>e({route:t})},i.a.createElement(c.c,{id:"list_loading_error_retry",defaultMessage:"Retry"})))}p.contextTypes={getCss:r.a.func};t.a=Object(n.b)(e=>{const{getRoute:t,normalizeRoute:s}=Object(u.b)(e);return{route:s(t())}},e=>({onRetry:t=>e(Object(m.i)(babelHelpers.extends({},t,{retry:!0})))}))(p)},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(624),c=s.n(i);const l=5;class d extends o.a.Component{getActiveStar(e){return o.a.createElement("div",null,o.a.createElement("span",{className:e.activeFullStar},"★"),o.a.createElement("span",{className:e.activeEmptyStar},"☆"))}getHalfActiveStar(e){return o.a.createElement("div",null,o.a.createElement("span",{className:e.halfActiveEmptyStar},"☆"),o.a.createElement("span",{className:e.halfActiveFullStar},"★"),o.a.createElement("span",{className:e.halfBorderStar},"☆"))}getInActiveStar(e){return o.a.createElement("div",null,o.a.createElement("span",{className:e.inActiveEmptyStar},"☆"))}getStarElement(e){const{value:t}=this.props,s={};e<=t-1?s.activeStar=!0:t%1<.5||Math.floor(t)!==e?s.inActiveStar=!0:s.halfStarFormatting=!0;const n=this.context.getCss(c.a,s);return o.a.createElement("span",{className:n.starElement,key:e},s.activeStar&&this.getActiveStar(n),s.halfStarFormatting&&this.getHalfActiveStar(n),s.inActiveStar&&this.getInActiveStar(n))}render(){const e=[];for(let t=0;t<l;t++){const s=this.getStarElement(t);e.push(s)}return o.a.createElement("div",null,e)}}d.defaultProps={value:0},d.contextTypes={getCss:a.a.func},t.a=d},function(e,t,s){"use strict";s(6);var n=s(1),a=s.n(n),r=s(13),o=s(83),i=s(8),c=s(0),l=s(9);const d={},u={};class m extends n.Component{componentDidMount(){d[this.props.sectionId]=d[this.props.sectionId]||[],this.handleNewAd()}componentDidUpdate(e){this.props.adTimestamp===e.adTimestamp&&this.props.rootMargin===e.rootMargin||this.handleNewAd()}createObserver(e){if(void 0!==window.IntersectionObserver){const{rootNode:t,rootMargin:s}=this.props,n={root:t,rootMargin:s,threshold:[.1,e/100,.95]};this.impressionBeaconThreshold=e,this.viewabilityObserver=this.viewabilityObserver?this.viewabilityObserver.disconnect():null,this.viewabilityObserver=new IntersectionObserver(e=>{e.forEach(e=>{this.handleVisibilityChange(100*e.intersectionRatio)})},n),this.viewabilityObserver.observe(this.targetNode)}}fireImpressionBeacon(e){const{pencilAdData:t,sectionId:s}=this.props,{beacon:n,rules:a}=t,{viewabilityDefStatic:r}=a,o="number"==typeof Object(i.a)(r,"d",null)?1e3*r.d:null,c=d[s].indexOf(n)>-1;if(n&&!c&&null!==o)if(e>=this.impressionBeaconThreshold&&!this.impressionBeaconTimer){const e=this.fireAndUpdateBeacon.bind(this,"impression","impressionBeaconTimer");this.impressionBeaconTimer=setTimeout(e,o)}else e<this.impressionBeaconThreshold&&(clearTimeout(this.impressionBeaconTimer),this.impressionBeaconTimer=null)}fireImpression3PBeacon(e){const{pencilAdData:t,sectionId:s}=this.props,{actionUrls:n={}}=t,a=Object(i.a)(n,"STATIC_VIEW_3P.0",null),r=d[s].indexOf(a)>-1;if(a&&!r&&null!==this.impression3PVisTimeRemaining)if(e>95&&!this.impression3PBeaconTimer){const e=this.fireAndUpdateBeacon.bind(this,"impression3P","impression3PBeaconTimer");this.impression3PBeaconVisTime=Date.now(),this.impression3PVisTimeRemaining<=0?e():this.impression3PBeaconTimer=setTimeout(e,this.impression3PVisTimeRemaining)}else e<100&&this.impression3PBeaconTimer&&(this.impression3PVisTimeRemaining-=Date.now()-this.impression3PBeaconVisTime,clearTimeout(this.impression3PBeaconTimer),this.impression3PBeaconTimer=null)}firePartialBeacon(e){const{pencilAdData:t,sectionId:s}=this.props,{actionUrls:n={}}=t,a=Object(i.a)(n,"PARTIAL_VIEW.0",null),r=d[s].indexOf(a)>-1;e>0&&!r&&a&&this.fireAndUpdateBeacon("partial")}handleVisibilityChange(e){const t=Object(i.a)(this.props.pencilAdData,"rules",{});Object.keys(t).length&&(this.fireImpressionBeacon(e),this.fireImpression3PBeacon(e),this.firePartialBeacon(e))}fireAndUpdateBeacon(e,t){const{pencilAdData:s,isAppVisible:n,isCurrentAdPosition:a,sectionId:r}=this.props;if(this[t]=null,n&&a){const{actionUrls:t,beacon:n,impressionTrackingUrls:a=[]}=s;let c;"impression"===e?(Object(o.a)(n,!1),a.forEach(e=>{e&&Object(o.a)(e,!1)}),c=n):"impression3P"===e&&Object(i.a)(t,"STATIC_VIEW_3P.0",null)?(Object(o.a)(t.STATIC_VIEW_3P[0],!1),c=t.STATIC_VIEW_3P[0]):"partial"===e&&Object(i.a)(t,"PARTIAL_VIEW.0",null)&&(Object(o.a)(t.PARTIAL_VIEW[0],!1),c=t.PARTIAL_VIEW[0]),d[r].push(c)}}handleNewAd(){const{pencilAdData:e,geminiViewability:t,isCurrentAdPosition:s,adTimestamp:n,sectionId:a}=this.props;if(t&&this.targetNode&&s){const{rules:t}=e;if(u[a]!==n&&(u[a]=n,d[a]=[]),t&&Object.keys(t).length){const{viewabilityDefStatic:e={},viewabilityDefStatic3P:s=[]}=t;this.createObserver(e.p),this.impression3PVisTimeRemaining="number"==typeof Object(i.a)(s,"0.d",null)?1e3*s[0].d:null}}}render(){return a.a.createElement("div",{ref:e=>this.targetNode=e,"data-test-id":"ad-viewability-tracker",style:this.props.styles,className:this.props.className},this.props.children)}}m.defaultProps={rootNode:null,rootMargin:"0px",styles:{}};t.a=Object(r.b)((e,t)=>{const{getSetting:s,isFeatureEnabled:n,getEnvironmentSelectors:a,getAdSectionIds:r,getAdsSelectors:o}=Object(l.b)(e),{getGeminiAdTimestamp:d}=o(),u=d(t.sectionId),{isAppVisible:m}=a(),p=r(),_=Object(i.e)(p).some(e=>e===t.sectionId),h=s(c.nd.GEMINI_SECTION_IDS)[c.vb.SHOPPING_CART];return{isAppVisible:m(),geminiViewability:n(c.mb.GEMINI_VIEWABILITY)||t.sectionId===h||n(c.mb.AD_VIEWABILITY_TRACKER),isCurrentAdPosition:_,adTimestamp:u}})(m)},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(230),c=s(133),l=s(4),d=s(626),u=s.n(d),m=s(9),p=s(13);const _=({selectionCount:e},{intl:t,getCss:s})=>{const n=s(u.a);return o.a.createElement("div",{className:n.container,"data-test-id":"selection-count","data-test-count":e},o.a.createElement("div",{className:n.wrapper},o.a.createElement("div",{className:n.svgWrapper},o.a.createElement(i.a,{kind:c.a.SELECTED_MESSAGES,width:c.b,height:c.b,altText:" "})),e>0&&o.a.createElement("div",{className:n.countWrapper},o.a.createElement("span",{className:n.count,"data-test-id":"selection-count-node"},t.formatNumber(e)))))};_.contextTypes={intl:l.i,getCss:a.a.func};t.a=Object(p.b)((e,{listId:t,streamId:s})=>{const{getFeaturesSelectors:n,getAllItemsCountForListId:a,doesListExist:r,getListItemIds:o,doesStreamExist:i,getSelectedStreamItems:c}=Object(m.b)(e),l=n().isEnabled("selectAll"),d=r(t)?o(t):[],u=i(s)?c(s):[],p=d.length>0&&d.length===u.length,_=t?a(t):0;return{selectionCount:l&&p&&_>0?_:u.length}})(_)},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(630),c=s.n(i),l=s(167),d=s(5),u=s(14),m=s(16),p=s(4),_=s(0),h=s(7),E=s(107);const g=Object(p.h)({heading:{id:"travel_header.heading",defaultMessage:"Travel"},upcoming:{id:"travel_header.upcoming",defaultMessage:"Upcoming"},upcoming_selected:{id:"travel_header.upcoming_selected",defaultMessage:"Upcoming, selected"},past:{id:"travel_header.past",defaultMessage:"Past"},past_selected:{id:"travel_header.past_selected",defaultMessage:"Past, selected"},emails:{id:"travel.emails",defaultMessage:"Emails"},emails_selected:{id:"travel.emails_selected",defaultMessage:"Emails, selected"}});class b extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleTabChange=((e,{mKeyType:t,smartViewType:s})=>{const n=d.e["FILTER_"+t],a=Object(m.v)(s,{accountIds:Object(h.g)(this.props.listId)});this.context.navigateTo({route:a,i13nModel:{mKey:n,sec:d.g.TRAVEL_LIST,interactionType:Object(u.i)(e)}})}),t}render(){const e=Object(h.r)(this.props.listId),t=Object(h.q)(this.props.listId),{formatMessage:s}=this.context.intl,n=this.context.getCss(c.a);return o.a.createElement("div",{className:n.container,"data-test-id":"travel-header"},o.a.createElement("div",{className:n.heading,"data-test-id":"travel-heading"},s(g.heading)),o.a.createElement("div",{className:n.tabs},o.a.createElement(l.a,null,o.a.createElement(E.a,{isSelected:e===_.Gb.TRAVEL_VIEW_UPCOMING,onClick:e=>this.handleTabChange(e,{mKeyType:_.Gb.TRAVEL_VIEW_UPCOMING,smartViewType:_.zd.TRAVEL}),"data-test-id":"btn-upcoming-tab",title:s(g.upcoming)}),o.a.createElement(E.a,{isSelected:e===_.Gb.TRAVEL_VIEW_PAST,onClick:e=>this.handleTabChange(e,{mKeyType:_.Gb.TRAVEL_VIEW_PAST,smartViewType:_.zd.TRAVEL_PAST}),"data-test-id":"btn-past-tab",title:s(g.past)}),o.a.createElement(E.a,{isSelected:t===_.Fb.MESSAGES,onClick:e=>this.handleTabChange(e,{mKeyType:_.Fb.MESSAGES,smartViewType:_.zd.TRAVEL_EMAILS}),"data-test-id":"btn-emails-tab",title:s(g.emails)}))))}}b.contextTypes={getCss:a.a.func,intl:p.i.isRequired,navigateTo:a.a.func},t.a=b},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(362),c=s.n(i),l=s(4),d=s(11),u=s.n(d),m=s(0),p=s(17),_=s(7),h=s(5),E=s(14),g=s(16),b=s(13),I=s(9),f=s(48),S=s(61),A=s(31),T=s(30),C=s(15),O=s(22),R=s(3),N=s(62),M=s(58),D=s(39),y=s(12),L=s(70),v=s(167),P=s(107);const F=Object(l.h)({heading:{id:"Coupons_header.heading",defaultMessage:"Deals from email"},coupons:{id:"Coupons_header.coupons",defaultMessage:"Deals"},emails:{id:"Coupons_header.emails",defaultMessage:"Emails"},yahooDeals:{id:"Coupons_header.yahoo_deals",defaultMessage:"Yahoo Shopping Deals"},categories:{id:"Coupons_header.categories",defaultMessage:"Categories"}}),x="All";class w extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleTabChange=((e,{mKey:t,smartViewType:s})=>{const n=Object(g.v)(s,{accountIds:Object(_.g)(this.props.listId)});this.props.onTabChange({route:n,i13nModel:{mKey:t,sec:h.g.SHOPPING_VIEW,interactionType:Object(E.i)(e)}})}),this.getActiveIndex=(()=>{switch(Object(_.q)(this.props.listId)){case m.Fb.COUPON_CARDS:return 0;case m.Fb.YAHOO_DEAL_CARDS:return 1;default:return this.props.taiwanShoppingView?2:1}}),this.handleCategoryClick=(e=>{let t;if(e===x)t=Object(g.v)(m.zd.COUPONS,{accountIds:this.props.activeAccountId});else{const s=Object(_.d)(Object(L.b)(m.zd.COUPONS,{keyword:e,accountIds:this.props.activeAccountId})),n=Object(_.S)(s);t={name:m.Uc.SEARCH,params:{query:n}}}this.context.navigateTo({route:t,i13nModel:{mKey:h.e.CATEGORY_FILTER_CLICKED,sec:h.g.SHOPPING_VIEW,actionData:{category:e}}})}),this.renderCategoryFilter=(()=>{const{categories:e,listId:t}=this.props,s=this.context.getThemeMode(),{formatMessage:n}=this.context.intl,a=u()(c.a,{themeMode:s}),r=Object(_.p)(t);if(0!==this.getActiveIndex()||!e||!e.length)return null;const i=[x].concat(e).map(e=>o.a.createElement(A.a,{key:e,name:e},o.a.createElement(p.a,{kind:T.a.MENUITEM,onClick:()=>this.handleCategoryClick(e)},r===e||!r&&e===x?o.a.createElement("span",{className:a.categoryFilterCheckIcon},o.a.createElement(C.b,{kind:R.b.CHECKMARK,size:R.d.XS,colorState:R.a.NORMAL})):null,o.a.createElement("span",{className:a.categoryFilterLabel},e))));return o.a.createElement("div",{className:a.categoryFilterContainer},o.a.createElement(N.a,null,o.a.createElement(M.a,null,o.a.createElement("div",{className:a.categoryFilterAnchor},o.a.createElement("span",{className:a.categoryFilterAnchorLabel},n(F.categories)),o.a.createElement(O.a,{"data-iskeynav":!0,paddingLess:!0,"aria-label":"show list",title:"show list","data-test-id":"category-filter-dropdown-button",kind:R.b.CHEVRON_UP,colorState:R.a.INHERITED,size:R.d.XS,rotate:R.c.D180,className:a.categoryFilterAnchorButton}))),o.a.createElement(D.b,{triggerOn:y.h.CLICK,isArrowVisible:!0},o.a.createElement("div",null,o.a.createElement(S.a,{focusOnMount:!0,"data-test-id":"category-filter"},[i])))))}),t}render(){const{formatMessage:e}=this.context.intl,t=this.context.getThemeMode(),s=u()(c.a,{themeMode:t}),n=e(F.heading),a=this.getActiveIndex();return o.a.createElement("div",null,o.a.createElement("div",{className:s.container},this.props.showShoppingHeader?o.a.createElement("div",{className:s.tabs},o.a.createElement(v.a,null,o.a.createElement(P.a,{isSelected:0===a,title:e(F.coupons),onClick:e=>this.handleTabChange(e,{mKey:h.e.SHOPPING_COUPONS_VIEW_CLICKED,smartViewType:m.zd.COUPONS}),"data-test-id":"coupons-tab"}),this.props.taiwanShoppingView?o.a.createElement(P.a,{isSelected:1===a,title:e(F.yahooDeals),onClick:e=>this.handleTabChange(e,{mKey:h.e.SHOPPING_YAHOO_DEALS_VIEW_CLICKED,smartViewType:m.zd.SHOPPING_YAHOO_DEALS}),"data-test-id":"shopping-deals-tab"}):null,o.a.createElement(P.a,{isSelected:2===a,title:e(F.emails),onClick:e=>this.handleTabChange(e,{mKey:h.e.SHOPPING_EMAILS_VIEW_CLICKED,smartViewType:m.zd.SHOPPING_EMAILS}),"data-test-id":"shopping-emails-tab"})),this.renderCategoryFilter()):o.a.createElement("div",{className:s.heading,"data-test-id":"coupons-heading","aria-label":n,title:n},n,this.renderCategoryFilter())))}}w.contextTypes={intl:l.i.isRequired,getThemeMode:a.a.func,getTheme:a.a.func,navigateTo:a.a.func};t.a=Object(b.b)(e=>{const{getSmartViewTypeFromRoute:t,getRoute:s,getSmartViewPosition:n,isFeatureEnabled:a,getDealsSelectors:r,getSelectedAccountId:o}=Object(I.b)(e),i=s(),c=t(i),l=Object(_.t)(i),d=a(m.mb.TAIWAN_SHOPPING_VIEW),u=r().getTopDealCategories();return{listId:l,taiwanShoppingView:d,showShoppingHeader:c===m.zd.COUPONS&&(n(c)===m.yd.TAB_BAR||d),categories:u,activeAccountId:o()}},e=>({onTabChange:t=>e(Object(f.i)(t))}))(w)},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(4),c=s(11),l=s.n(c),d=s(290),u=s.n(d),m=s(37),p=s(0),_=s(15),h=s(3),E=s(17),g=s(46);const b=Object(i.h)({back_button_title:{id:"oauth_back_button_title",defaultMessage:"Back"},relaunch_button_title:{id:"oauth_relaunch_button_title",defaultMessage:"Relaunch"},cancel_button_title:{id:"oauth_cancel_button_title",defaultMessage:"Cancel"}}),I=l()(u.a);class f extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={errorState:null,accountSyncFailed:this.props.accountSyncFailed},this._getPopupwindow=((e,t,s,n)=>{const a=screen.width/2-s/2,r=screen.height/2-n/2;return window.open(e,t,`width=${s}, height=${n}, top=${r}, left=${a}`)}),this._openOAuthWindow=(()=>{const{partner:e}=this.context,{provider:t,email:s,appRootPath:n}=this.props,a=t===p.hb.GOOGLE?600:700,r=`https://${window.location.hostname}${n}/oAuth`,o="ycorp"===e;return window[p.xc]=this._handleOAuthResponse,this.oAuthWindow=this._getPopupwindow("","authorizeWindow",800,a),this.context.credstoreClient.getAuthorizationURL({provider:t,email:s,redirectUrl:r,isCorpUser:o}).then(({authorizeUrl:e,authorizeURL:n})=>{this.oAuthWindow.location.replace(`${e||n}&${t===p.hb.AOL?"login_id":"login_hint"}=${s}`)})}),this._handleOAuthResponse=(({status:e,wssid:t,crumb:s})=>{const{onAuthorize:n,email:a,provider:r,onNext:o}=this.props;window[p.xc]=void 0,200===(e=parseInt(e,10))?(this.state.accountSyncFailed&&this.setState({accountSyncFailed:!1}),n({email:a,provider:r,type:p.g.IMAPIN,wssid:t,crumb:s}),o()):this.setState({errorState:e})}),this.handleRelaunchClick=(e=>{e.preventDefault(),this._openOAuthWindow()}),this.handleRetry=(()=>{const{email:e,provider:t,onAuthorize:s,onNext:n}=this.props;this.setState({accountSyncFailed:!1}),s({email:e,provider:t,type:p.g.IMAPIN}),n()}),this.getErrorMessageBody=(e=>{const{provider:t}=this.props,{yahooBrandNameString:s}=this.context;switch(e){case 412:return o.a.createElement(i.c,{id:"oauth_error_cancel_permession",defaultMessage:"Account connection cancelled."});case 403:return o.a.createElement(i.c,{id:"oauth_error_different_id",defaultMessage:"You are currently signed into a different {provider}\n                        account.{nextLine}Please {sign_out} of that account and retry.",values:{provider:Object(g.h)(t),nextLine:o.a.createElement("br",null),sign_out:o.a.createElement("a",{className:I.link,target:"_blank",href:p.xb[t].providerUrl},o.a.createElement(i.c,{id:"oauth_sign_out",defaultMessage:"sign out"}))}});case 503:return o.a.createElement(i.c,{id:"oauth_error_provider_not_available",defaultMessage:"{yahooBrandNameString} cannot connect to {provider} at this time. Please\n                        try to connect your account later.",values:{yahooBrandNameString:s,provider:Object(g.h)(t)}});case 409:return o.a.createElement(i.c,{id:"oauth_error_account_confilict",defaultMessage:"This account is already connected"});default:return o.a.createElement(i.c,{id:"oauth_error_default",defaultMessage:"Unable to add mailbox. Please try again later."})}}),this.getErrorMessageHeader=(e=>{const{email:t,provider:s}=this.props;switch(e){case 412:return null;case 403:return o.a.createElement(i.c,{id:"oauth_error_different_id_header",defaultMessage:"{email} could not be added",values:{email:t}});case 503:return o.a.createElement(i.c,{id:"oauth_error_provider_not_available_header",defaultMessage:"{provider} not available",values:{provider:Object(g.h)(s)}});case 409:default:return null}}),this.renderErrorMessage=(e=>{const t=this.getErrorMessageHeader(e),s=this.getErrorMessageBody(e);return o.a.createElement("span",null,null===t?null:o.a.createElement("h4",{className:I.errorHeader},t),s)}),t}componentDidMount(){this.props.accountSyncFailed||this._openOAuthWindow()}componentWillUnmount(){window[p.xc]=void 0,this.state.accountSyncFailed&&this.props.handleAddSuccess()}render(){const{provider:e,onPrevious:t,onCancel:s,email:n,hideCancelButton:a,renderTitleComponent:r,renderNavComponent:c}=this.props,{formatMessage:l}=this.context.intl,{errorState:d,accountSyncFailed:u}=this.state,m=d||u,p=o.a.createElement(i.c,{id:"relaunch_window_test",defaultMessage:"Relaunch window"}),f=o.a.createElement("a",{className:I.tryAgain,onClick:this.handleRetry},o.a.createElement(i.c,{id:"oauth_try_again",defaultMessage:"Try again"}));return o.a.createElement("div",{className:I.container},r?r():o.a.createElement("h5",{className:I.titleLabel},o.a.createElement(i.c,{id:"oAuth_signIn_text",defaultMessage:"Sign in to your account"})),m?o.a.createElement("div",{className:I.errorWrapper},o.a.createElement("div",{className:I.errorIcon},o.a.createElement(_.b,{kind:h.b.EXCLAMATION_ALT,size:h.d.XS,colorState:h.a.WARNING_GRAD_RED})),u?o.a.createElement("span",null,o.a.createElement(i.c,{id:"oauth_error_account_add_failed",defaultMessage:"{email} cannot be added",values:{email:n}}),f):this.renderErrorMessage(d)):null,o.a.createElement("div",{className:I.oAuthHint},o.a.createElement(i.c,{id:"oAuth_signIn_hint",defaultMessage:"A new window should show the {providerName} sign in page.\n                        If you do not see it, check your browser for pop-up blockers.",values:{providerName:Object(g.h)(e)}})),o.a.createElement(i.c,{id:"oAuth_signIn_help",defaultMessage:"Don't see the pop-up window? {link}",values:{link:o.a.createElement("a",{href:"#",className:I.link,onClick:this.handleRelaunchClick},p)}}),c?c({onPrevious:t,onNext:this.handleRelaunchClick}):o.a.createElement("div",{className:I.iconsWrapper},o.a.createElement(E.a,{"data-test-id":"oauth-back-button",className:I.backButton,onClick:t,title:l(b.back_button_title)},o.a.createElement(i.c,{id:"oauth_back_button_label",defaultMessage:"Back"})),o.a.createElement(E.a,{"data-test-id":"oauth-relaunch-button",className:I.primaryButton,onClick:this.handleRelaunchClick,title:l(b.relaunch_button_title)},o.a.createElement(i.c,{id:"oauth_relaunch_button_label",defaultMessage:"Relaunch window"})),a?null:o.a.createElement(E.a,{"data-test-id":"oauth-cancel-button",className:I.cancelButton,onClick:s,title:l(b.cancel_button_title)},o.a.createElement(i.c,{id:"oauth_cancel_button_label",defaultMessage:"Cancel"}))))}}f.contextTypes={intl:i.i.isRequired,config:a.a.object,credstoreClient:m.a,partner:a.a.string,yahooBrandNameString:a.a.string},t.a=f},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(4),c=s(11),l=s.n(c),d=s(290),u=s.n(d),m=s(17),p=(s(37),s(15)),_=s(3),h=s(0),E=s(46),g=s(14),b=s(134),I=s.n(b),f=s(22),S=s(13),A=s(82),T=s(5);const C=Object(i.h)({default_email_placeholder:{id:"imapin_email_placeholder",defaultMessage:"Email Address"},yahoo_email_placeholder:{id:"imapin_yahoo_email_placeholder",defaultMessage:"name@yahoo.com"},gmail_email_placeholder:{id:"imapin_gmail_email_placeholder",defaultMessage:"name@gmail.com"},outlook_email_placeholder:{id:"imapin_outlook_email_placeholder",defaultMessage:"name@outlook.com"},aol_email_placeholder:{id:"imapin_aol_email_placeholder",defaultMessage:"name@aol.com"},office365_email_placeholder:{id:"imapin_office365_email_placeholder",defaultMessage:"name@domain.onmicrosoft.com"},back_button_title:{id:"imapin_back_button_title",defaultMessage:"Back"},next_button_title:{id:"imapin_next_button_title",defaultMessage:"Next"},cancel_button_title:{id:"imapin_cancel_button_title",defaultMessage:"Cancel"},invalid_email_error:{id:"imapin_invalid_email",defaultMessage:"Invalid email address"},invalid_email_domain:{id:"imapin_invalid_domain",defaultMessage:"Not a valid {providerName} address"},clear_input_icon:{id:"imapin_email_input_clear",defaultMessage:"Clear"}});class O extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={accountExist:!1,invalidReason:null,inputText:this.props.email,showClearInputIcon:!!this.props.email},this.isStepValid=(()=>!!this.props.email),this.handleGoNext=(()=>{const{formatMessage:e}=this.context.intl,{partner:t}=this.context,{email:s,accounts:n,onNext:a,provider:r}=this.props,o="ycorp"===t;Object(g.m)(s)?o||Object(E.j)(h.xb[r]||{},s)?Object(E.b)(n,s)?this.setState({accountExist:!0}):(this.props.authorizeNewAccount({email:this.props.email}),a()):this.setState({invalidReason:e(C.invalid_email_domain,{providerName:Object(E.h)(r)})}):this.setState({invalidReason:e(C.invalid_email_error)})}),this.handleChange=(e=>{const{accountExist:t,invalidReason:s}=this.state,{onChange:n}=this.props;t&&this.setState({accountExist:!1}),null!==s&&this.setState({invalidReason:null}),n("email",e)}),this.handleInputChange=(e=>{const t=e.length>0;this.handleChange(e),this.setState({inputText:e,showClearInputIcon:t})}),this.handleKeydown=(e=>{switch(e.key){case h.Bb.ENTER:this.handleGoNext();break;case h.Bb.ARROW_RIGHT:if(this.isCursorEndOfInput(e)){const e=this.getEmailHint(this.state.inputText);e&&(this.setState({inputText:e}),this.handleChange(e))}}}),this.handleClearInput=(()=>{this.setState({inputText:"",showClearInputIcon:!1}),this.handleChange("")}),this.isCursorEndOfInput=(e=>{const t=e.target.selectionEnd,{inputText:s}=this.state;return t===s.length}),this.getEmailPlaceHolder=(()=>{const{provider:e}=this.props,{formatMessage:t}=this.context.intl;switch(e){case h.hb.YAHOO:return t(C.yahoo_email_placeholder);case h.hb.GOOGLE:return t(C.gmail_email_placeholder);case h.hb.OUTLOOK:return t(C.outlook_email_placeholder);case h.hb.AOL:return t(C.aol_email_placeholder);case h.hb.OFFICE365:return t(C.office365_email_placeholder);default:return t(C.default_email_placeholder)}}),this.getEmailHint=(e=>{let t=[];const s=e.indexOf("@"),n=e.length;if(-1===s||n-s<2)return"";Object.keys(h.xb||{}).forEach(e=>{const s=h.xb[e].domainCheck;s&&(t=t.concat(s))});const a=e.substr(s+1).toLowerCase(),r=t.find(e=>("@"+e).indexOf("@"+a)>-1);return e+(r?r.substr(n-s-1)+".com":"")}),t}componentDidMount(){this.refs.selector&&this.refs.selector.focus()}render(){const{formatMessage:e}=this.context.intl,{partner:t,yahooBrandNameString:s}=this.context,{termsUrl:n,privacyUrl:a}=this.context.config,r=l()(u.a,{disabled:!this.isStepValid()}),{email:c,provider:d,onCancel:h,onPrevious:g,renderNavComponent:b,renderTitleComponent:S}=this.props,{accountExist:A,invalidReason:T}=this.state,{inputText:O,showClearInputIcon:R}=this.state,N="ycorp"===t;return o.a.createElement("div",{className:r.container},S?S():o.a.createElement("h5",{className:r.titleLabel},o.a.createElement(i.c,{id:"impain_address_text",defaultMessage:"Add mailbox"})),A?o.a.createElement("div",{className:r.errorWrapper},o.a.createElement("div",{className:r.errorIcon},o.a.createElement(p.b,{kind:_.b.EXCLAMATION_ALT,size:_.d.XS,colorState:_.a.WARNING_GRAD_RED})),o.a.createElement(i.c,{id:"imapin_account_exsit_error",defaultMessage:"Your email {email} already exists.\n                              If you deleted the mailbox recently, please wait for a few minutes until the process is complete and try again.",values:{email:o.a.createElement("strong",null,c)}})):null,o.a.createElement("label",{className:r.label,htmlFor:"accountAddress"},o.a.createElement(i.c,{id:"email_address_text",defaultMessage:"Enter your {provider} mail address",values:{provider:d}})),o.a.createElement("div",{className:r.textInput},o.a.createElement(I.a,{"data-test-id":"typeahead-email-input",ref:"selector",maxVisible:10,placeholder:this.getEmailPlaceHolder(),inputValue:O,hintValue:this.getEmailHint(O),onInputChange:this.handleInputChange,onInputKeyDown:this.handleKeydown,inputContainerClassName:r.typeaheadInputContainer,inputClassName:r.typeaheadInput,inputHintClassName:r.typeaheadInputHint,dropDownClassName:r.typeaheadDropDown}),R&&O.length>0?o.a.createElement("div",null,o.a.createElement("span",{className:r.clearIconContainer},o.a.createElement(f.a,{"data-test-id":"clear-button",kind:_.b.CLEAR,size:_.d.XXS,colorState:_.a.FAINT,onClick:this.handleClearInput,title:e(C.clear_input_icon)})),T?o.a.createElement("span",{"data-test-id":"type-ahead-input-error",className:r.errorInvalidReason},T):null):null),o.a.createElement("div",{className:r.hintTop},o.a.createElement(i.c,{id:"imapin_terms_and_policy_hint",defaultMessage:"Sign in to your {providerName} account and give {yahooBrandNameString} permission\n                        to sync your email, calendar, and contacts and treat them in accordance\n                        with the {terms} and {policy}.",values:{providerName:Object(E.h)(d),yahooBrandNameString:s,terms:o.a.createElement("a",{className:r.link,target:"_blank",href:n,rel:"noopener"},o.a.createElement(i.c,{id:"imapin_terms",defaultMessage:"{yahooBrandNameString} Terms",values:{yahooBrandNameString:s}})),policy:o.a.createElement("a",{className:r.link,target:"_blank",href:a,rel:"noopener"},o.a.createElement(i.c,{id:"imapin_policy",defaultMessage:"Privacy Policy"}))}})),o.a.createElement("div",{className:r.hint},o.a.createElement(i.c,{id:"imapin_signout_accounts_hint",defaultMessage:"Note: If you are signed into a different {providerName} account.\n                        Please sign out of all the accounts before adding this mailbox",values:{providerName:d}})),b?b({onCancel:h,onPrevious:g,onNext:this.handleGoNext,isStepValid:this.isStepValid}):o.a.createElement("div",{className:r.iconsWrapper},N?null:o.a.createElement(m.a,{"data-test-id":"imapin-back-button",className:r.backButton,onClick:g,title:e(C.back_button_title)},o.a.createElement(i.c,{id:"imapin_back_button_label",defaultMessage:"Back"})),o.a.createElement(m.a,{"data-test-id":"imapin-next-button",className:r.primaryButton,onClick:this.handleGoNext,disabled:!this.isStepValid(),title:e(C.next_button_title)},o.a.createElement(i.c,{id:"imapin_next_button_label",defaultMessage:"Next"})),o.a.createElement(m.a,{"data-test-id":"imapin-cancel-button",className:r.cancelButton,onClick:h,title:e(C.cancel_button_title)},o.a.createElement(i.c,{id:"imapin_cancel_button_label",defaultMessage:"Cancel"}))))}}O.contextTypes={intl:i.i.isRequired,config:a.a.object,partner:a.a.string,yahooBrandNameString:a.a.string},t.a=Object(S.b)(void 0,e=>({authorizeNewAccount:t=>e(Object(A.d)(babelHelpers.extends({i13nModel:{mKey:T.e.AUTHORIZE_IMAP_ACCOUNT,sec:T.g.SETTINGS_ACCOUNTS_TAB,interactionType:T.d.click}},t)))}))(O)},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(4),c=s(11),l=s.n(c),d=s(638),u=s.n(d),m=s(15),p=s(3),_=s(298),h=s(17),E=s(56);const g=Object(i.h)({accountNameHint:{id:"confirm_account_name_hint",defaultMessage:"The name shown in emails you send."},accountName:{id:"confirm_account_name_placeholder",defaultMessage:"Your Name"},accountDescriptionHint:{id:"confirm_account_description_hint",defaultMessage:"Name this mailbox."},accountDescription:{id:"confirm_account_description_placeholder",defaultMessage:"Description"},add_confirm:{id:"account_confirm_done",defaultMessage:"Done"}}),b=()=>{};class I extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={sendingName:"",description:""},this.handleChange=((e,t)=>{this.setState({[e]:t})}),this.handleConfirm=(()=>{const{account:e,onCancel:t,onSubmit:s}=this.props,{sendingName:n,description:a}=this.state;s(e.id,{sendingName:n,description:a}),t()}),t}componentWillReceiveProps(e){e.accountSyncFailed&&this.props.onPrevious()}componentDidMount(){this.props.isSyncing||this.props.handleAddSuccess()}componentWillUnmount(){this.props.isSyncing||this.props.onCancel()}render(){const{sendingName:e,description:t}=this.state,{isSyncing:s}=this.props,{formatMessage:n}=this.context.intl,a=l()(u.a,{isSyncing:s}),{mailBrandNameString:r}=this.context;return o.a.createElement("div",{className:a.addConfirmWrapper},o.a.createElement("div",{className:a.addConfirmSection},o.a.createElement("h5",{className:a.titleLabel},s?o.a.createElement(E.b,{size:"S"}):o.a.createElement(m.b,{kind:p.b.CAL_ACCEPT,size:p.d.XS,colorState:p.a.SUCCESS}),o.a.createElement("span",{className:a.titleTextWrapper},o.a.createElement(i.c,s?{id:"add_confirm_syn_title",defaultMessage:"Setting up your new mailbox"}:{id:"add_confirm_title",defaultMessage:"Your mailbox has been added"}))),o.a.createElement("div",{className:a.hint},o.a.createElement(i.c,{id:"add_confirm_hint",defaultMessage:"Changes made in {mailBrandNameString} will reflect in other email clients, including mobile apps.",values:{mailBrandNameString:r}})),o.a.createElement("label",{className:a.label,htmlFor:"accountName"},o.a.createElement(i.c,{id:"name_text",defaultMessage:"Your Name"})),o.a.createElement("div",{className:a.textInput},o.a.createElement(_.a,{isClearable:!0,name:"accountName",value:e,hint:n(g.accountNameHint),"aria-label":n(g.accountName),placeholder:n(g.accountName),onChange:e=>this.handleChange("sendingName",e),disabled:s})),o.a.createElement("label",{className:a.label,htmlFor:"description"},o.a.createElement(i.c,{id:"description_text",defaultMessage:"Description"})),o.a.createElement("div",{className:a.textInput},o.a.createElement(_.a,{isClearable:!0,name:"accountName",value:t,hint:n(g.accountDescriptionHint),"aria-label":n(g.accountDescription),placeholder:n(g.accountDescription),onChange:e=>this.handleChange("description",e),disabled:s})),o.a.createElement(h.a,{className:a.confirmButton,onClick:this.handleConfirm,title:n(g.add_confirm)},o.a.createElement("span",null,n(g.add_confirm)))))}}I.contextTypes={intl:i.i.isRequired,mailBrandNameString:a.a.string},I.defaultProps={account:null,onCancel:b,onSubmit:b,handleAddSuccess:b,isSyncing:!1},t.a=I},,,function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s(255);const a=(e=[])=>{let t=null;for(const s of e){const{category:e=[]}=s;for(const s of e){const{name:e=""}=s,a=e.split(">")[0]||"",r=n.f.find(e=>e===a.toLowerCase());if(t&&r&&t!==r)return null;t=r||t}}return t}},,,,function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(4),c=s(151),l=s(287),d=s.n(l),u=s(15),m=s(17),p=s(37),_=s(74),h=s(50),E=s(62),g=s(58),b=s(39),I=s(12),f=s(22),S=s(61),A=s(10),T=s(31),C=s(30),O=s(3),R=s(11),N=s.n(R),M=s(621),D=s.n(M);const y=Object(i.h)({chevron_title:{id:"ad_feedback.chevron_title",defaultMessage:"Ad Feedback"},why_this_ad:{id:"why_this_ad",defaultMessage:"Why this ad?"},start_ad_feedback_form:{id:"start_ad_feedback_form",defaultMessage:"I don't like this ad"}});class L extends o.a.Component{constructor(...e){var t;return t=super(...e),this.onChevronClicked=(e=>{e.preventDefault(),e.stopPropagation()}),this.renderAdFeedbackChoices=(()=>{const{formatMessage:e}=this.context.intl;return[{option:"why_this_ad",onClick:this.props.onAdChoiceClicked},{option:"start_ad_feedback_form",onClick:this.props.onAdFeedbackRequest,testId:"feedback-menu-start"}].map(t=>o.a.createElement(T.a,{key:t.option},o.a.createElement(m.a,{onClick:t.onClick,kind:C.a.MENUITEM,"data-test-id":t.testId},e(y[t.option]))))}),t}render(){const{formatMessage:e}=this.context.intl,{isCompactLayout:t,hideFeedbackChevron:s}=this.props,n=N()(D.a,{isCompactLayout:t,hideFeedbackChevron:s});return o.a.createElement("div",{onClick:this.onChevronClicked,"data-test-id":"feedback-menu"},o.a.createElement(E.a,null,o.a.createElement(g.a,null,o.a.createElement("span",{className:n.chevronDown},o.a.createElement(f.a,{kind:O.b.CHEVRON_UP,size:this.props.size,rotate:O.c.D180,colorState:O.a.INHERITED,title:e(y.chevron_title),tabIndex:"-1"}))),o.a.createElement(b.b,{triggerOn:I.h.CLICK,permittedArrowDirections:[I.g.UP,I.g.DOWN],offset:16,zAltitude:A.ZIndices.POPOVER.HIGH,align:I.a.END},o.a.createElement("div",{className:n.adFeedbackContainer},o.a.createElement(S.a,{focusOnMount:!0},this.renderAdFeedbackChoices())))))}}L.contextTypes={intl:i.i.isRequired},L.defaultProps={size:O.d.XXS};var v=L,P=s(60),F=s(25),x=s(0),w=s(622),k=s.n(w);const H=Object(i.h)({closeAdFeedback:{id:"close_ad_feedback",defaultMessage:"Close ad"}});class U extends o.a.Component{onIconClicked(e){e.preventDefault(),e.stopPropagation(),this.props.onAdFeedbackRequest()}render(){const{pencilAdHovered:e,isCompact:t}=this.props,s=this.context.getThemeMode()===F.f.DARK,n=N()(k.a,{isCompact:t,adHoveredInDarkTheme:e&&s,adHoveredInLightTheme:e&&!s,adNotHoveredInCompact:!e&&t}),{formatMessage:a}=this.context.intl;return o.a.createElement("div",{className:n.closeIconContainer},o.a.createElement(m.a,{"data-test-id":"icon-btn-close",title:a(H.closeAdFeedback),onClick:this.onIconClicked.bind(this),onDoubleClick:this.onIconClicked.bind(this),className:n.closeIcon},o.a.createElement("span",{className:n.closeCenter},o.a.createElement(u.b,{kind:O.b.CLOSE,size:O.d.XXS,colorState:O.a.INHERITED,"aria-label":a(H.closeAdFeedback)}))))}}U.defaultProps={pencilAdHovered:!1,isCompact:!1},U.contextTypes={intl:i.i,getThemeMode:a.a.func};var j=U,G=s(623),B=s.n(G),V=s(51),W=s(13);const q=Object(i.h)({flash_sale_countdown_in_seconds:{id:"ad.flash_sale_countdown_in_seconds",defaultMessage:"\n            {days, plural,\n                =0 {}\n                other {{days} days : }\n            }\n            {hrs, plural,\n                =0 {}\n                other {{hrs} hrs : }\n            }\n            {mins, plural,\n                =0 {}\n                other {{mins} mins : }\n            }\n            {secs} secs\n        "},flash_sale_countdown:{id:"ad.flash_sale_countdown",defaultMessage:"\n            {days, plural,\n                =0 {}\n                other {{days} days : }\n            }\n            {hrs, plural,\n                =0 {}\n                other {{hrs} hrs : }\n            }\n            {mins} mins\n        "}});class z extends r.Component{constructor(e){super(e),this.timerId=0,this.clearTimers=this.clearTimers.bind(this),this.startTimers=this.startTimers.bind(this),this.state={now:Date.now()}}clearTimers(){this.timerId&&(clearTimeout(this.timerId),this.timerId=0)}startTimers(){if(!this.timerId){const e=this.props.countdownInSeconds?1e3:6e4,t=this.props.flashSaleEndTime-this.state.now;this.timerId=setInterval(()=>{t<=e&&(this.clearTimers(),this.props.flashSaleAdEnded()),this.setState({now:this.state.now+e})},e)}}componentDidMount(){this.startTimers()}componentWillUnmount(){this.clearTimers()}getFormatedTime(e){return e<0&&(e=0),{days:Math.floor(e/864e5),hrs:Math.floor(e/36e5)%24,mins:Math.floor(e/6e4)%60,secs:Math.round(e/1e3)%60}}render(){const e=this.props.flashSaleEndTime-this.state.now,t=N()(B.a,{isDarkTheme:this.context.getThemeMode()===F.f.DARK,flashSaleHighlight:e<864e5}),s=this.props.countdownInSeconds?q.flash_sale_countdown_in_seconds:q.flash_sale_countdown;return o.a.createElement("div",{className:t.flashSaleCountdown},o.a.createElement(u.b,{kind:O.b.CLOCK,colorState:O.a.INHERITED,size:O.d.XXXS}),o.a.createElement("span",{className:t.flashSaleCountdownText},this.context.intl.formatMessage(s,this.getFormatedTime(e))))}}z.contextTypes={intl:i.i,getThemeMode:a.a.func};var Z=Object(W.b)(null,e=>({flashSaleAdEnded:()=>e(Object(V.i)())}))(z),K=s(8),Y=s(462),X=s(45);const $=Object(i.h)({learn_more_btn_title:{id:"learn_more_btn_title",defaultMessage:"Learn More"},learn_more_btn_label:{id:"learn_more_btn_label",defaultMessage:"Learn More"},watch_btn_label:{id:"watch_btn_label",defaultMessage:"Watch"},sponsored:{id:"ad.sponsored",defaultMessage:"Sponsored"},ad_text:{id:"ad.text",defaultMessage:"AD"}});class Q extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={hover:!1},this.onAdChoiceClicked=(e=>{e.stopPropagation(),this.props.onAdChoiceClicked(e)}),this.renderSponsoredIcon=((e,t)=>o.a.createElement("button",{className:e.sponsoredIcon,onClick:this.onAdChoiceClicked,tabIndex:"-1"},o.a.createElement(u.b,{kind:O.b.SPONSORED,size:t,colorState:O.a.INHERITED}))),this.onPreviewVideoEnd=(()=>{this.setState({previewVideoEnded:!0})}),this.renderSponsoredImg=(e=>{const t=this.props.pencilAdData;if(t.type===h.l.VideoAdType&&t.previewVideoUrl)return o.a.createElement("div",{className:e.previewVideo},this.state.previewVideoEnded?o.a.createElement("img",{"data-test-id":"play-icon",className:e.videoOverlay,src:Object(P.a)("/img/gemini_pencil_play.png")}):null,o.a.createElement("video",{muted:!0,className:e.previewVideoPlayer,ref:e=>this.previewVideoPlayer=e},o.a.createElement("source",{src:t.previewVideoUrl,type:t.previewVideoContentType})));if(t.adImg){return o.a.createElement("div",{className:e.favicon},o.a.createElement(_.c,{size:this.props.msgListDensity===x.ec.SLIM?_.b.S:_.b.C,fallback:t.adImg}))}}),this.renderActionButton=((e,{type:t,callToAction:s})=>{const{formatMessage:n}=this.context.intl,a=s||n(t===h.l.VideoAdType?$.watch_btn_label:$.learn_more_btn_label);return o.a.createElement("div",null,o.a.createElement(m.a,{className:e.actionButton,title:a,"data-test-id":"learn-more-btn"},a))}),this.renderFeedbackMenu=((e,t)=>{const{isCompactLayout:s,feedbackEnabled:n}=this.props;if(n)return o.a.createElement("div",{className:e.iconContainer},o.a.createElement(v,{size:t,onAdChoiceClicked:this.onAdChoiceClicked,onAdFeedbackRequest:this.props.onAdFeedbackRequest,isCompactLayout:s,hideFeedbackChevron:!this.state.hover&&s}))}),this.renderCloseIcon=(e=>{const{isCompactLayout:t,feedbackEnabled:s}=this.props;if(s)return o.a.createElement("div",{className:e.closeIconContainer},o.a.createElement(j,{pencilAdHovered:this.state.hover,onAdFeedbackRequest:this.props.onAdFeedbackRequest,isCompact:t}))}),this.renderRating=((e,t)=>o.a.createElement("div",{className:t.starRatingContainer},o.a.createElement(Y.a,{value:parseInt(e,10)/2}))),this.getPencilAdVersionRotationId=(()=>{const{pencilAdVersion:e}=this.props,t=Object(X.u)();if("pencilAdVersionRotation1"===e)return t%3;if("pencilAdVersionRotation2"===e){const e=t%6;if([2,3].indexOf(e)>-1)return 1;if([4,5].indexOf(e)>-1)return 2}else if("pencilAdVersionRotation3"===e){const e=t%9;if([3,4,5].indexOf(e)>-1)return 1;if([6,7,8].indexOf(e))return 2}return 0}),t}componentDidMount(){this.previewVideoPlayer&&this.previewVideoPlayer.play&&(this.previewVideoPlayer.play(),this.previewVideoPlayer.onended=this.onPreviewVideoEnd)}render(){const{pencilAdData:e,onClick:t,isCompactLayout:s,adPosition:n,isSearchRoute:a,closeIconPencilAd:r,timechunkPencilAd:i,pencilAdVersion:c,msgListDensity:l,snippetsEnabled:u,searchAdIconOnHover:m,flashSaleAdInSecondsEnabled:p,flashSaleAdEnabled:_,searchAdBackBucket:E}=this.props,{formatMessage:g}=this.context.intl,b=_&&e.type===h.l.FlashSaleAdType&&e.flashSaleEndTime>Date.now(),I=e.type===h.l.NativeAdType,f=e.type===h.l.VideoAdType,S=I&&s,A=r&&s&&this.state.hover,T=m&&!this.state.hover,C="alignDollarSignWithCross"===c,R="alignDollarSignWithCaret"===c,N="alignDollarSignWithImage"===c,M="heightOptimizationBackBucketExp"!==c&&!s&&(l===x.ec.SLIM||l===x.ec.NORMAL),D=this.getPencilAdVersionRotationId(),y=this.context.getCss(d.a,babelHelpers.extends({isCompactLayout:s,sponsoredCompactLayout:S,adHoveredInCompact:A,transparentLink:a&&!E||"noGreyBackground"===c,gradientltr:("gradientltr"===c||1===D)&&n===x.vb.MESSAGE_LIST,gradientrtl:("gradientrtl"===c||2===D)&&n===x.vb.MESSAGE_LIST,heightOptimization:M,secondPencilAd:n===x.vb.MESSAGE_LIST_2,timechunkPencilAd:i},Object(F.i)(this.context),{iconHidden:T,alignDollarIcon:C||R,alignDollarIconCompact:(C||R)&&s,msgListDensity:`${s?"compact_":""}${s&&u?"snippets_":""}${l}`,isFlashSaleAd:b,compactFlashSaleAd:b&&!u&&l!==x.ec.RELAXED,alignDollarIconWithImage:N})),L=a&&!E||"noGreyBackground"===c?y.linkWithTransparentBackground:"",v=C||R?o.a.createElement("button",{className:y.sponsored,onClick:this.onAdChoiceClicked},g($.ad_text)):this.renderSponsoredIcon(y,O.d.XXS);return o.a.createElement("a",{ref:this.props.anchorRef,rel:"noreferrer","data-test-id":`pencil-ad-${n}`,className:`${y.link} ${L}`,href:e.clickUrl,tabIndex:"-1","aria-hidden":!0,role:"row",target:"_blank",onClick:t,onMouseLeave:()=>this.setState({hover:!1}),onMouseOver:()=>{this.state.hover||this.setState({hover:!0})}},o.a.createElement("div",{className:y.gridB1},o.a.createElement("div",{className:y.imageContainer},s?v:this.renderSponsoredImg(y)),s||C||R?null:this.renderSponsoredIcon(y,N?O.d.XS:O.d.S),s?null:o.a.createElement("div",{className:y.advertiserContainer},o.a.createElement("span",{className:y.advertiser},e.adSource),o.a.createElement("button",{className:y.sponsored,onClick:this.onAdChoiceClicked},g($.ad_text)))),o.a.createElement("div",{className:y.spacer}),o.a.createElement("div",{className:y.gridB2},o.a.createElement("div",{className:y.message},o.a.createElement("div",{className:y.subjectContainer},o.a.createElement("span",{"data-test-id":"ad-subject",className:y.subject,"aria-label":s?e.adSource:e.adHeadline,title:s?e.adSource:e.adHeadline},s?e.adSource:e.adHeadline),!s||C||R?null:o.a.createElement("div",{className:y.sponsoredContainer},o.a.createElement("button",{className:y.sponsored,onClick:this.onAdChoiceClicked},g($.ad_text)))),s&&(b||u)?o.a.createElement("div",{"data-test-id":"ad-compact-headline",className:y.adHeadline,"aria-label":e.adHeadline,title:e.adHeadline},e.adHeadline):null,o.a.createElement("div",{className:y.snippetContainer},b&&o.a.createElement(Z,{flashSaleEndTime:e.flashSaleEndTime,countdownInSeconds:p}),!b&&!s&&u&&o.a.createElement("span",{className:y.snippet,"data-test-id":"ad-summary","aria-label":e.adSummary,title:e.adSummary},e.adSummary),!b&&s&&o.a.createElement("span",{className:y.snippet,"data-test-id":"ad-summary","aria-label":e.adSummary,title:e.adSummary},u?e.adSummary:e.adHeadline),!s||r||C||R?null:this.renderFeedbackMenu(y,O.d.XXS),s&&!E&&e.rating&&this.renderRating(e.rating,y))),s||E||!e.rating?null:this.renderRating(e.rating,y),(I||f||b)&&!s?this.renderActionButton(y,e):null,r||C||!(!R&&!s||R&&this.state.hover)?null:this.renderFeedbackMenu(y,O.d.S),r||!C&&!R||this.state.hover?null:this.renderSponsoredIcon(y,O.d.S),(r||C&&this.state.hover)&&this.renderCloseIcon(y)))}}Q.contextTypes={intl:i.i.isRequired,getCss:a.a.func,getThemeMode:a.a.func,getTheme:a.a.func};var J=c.a(Q),ee=s(16),te=s(83),se=s(14),ne=s(5),ae=s(9),re=s(24),oe=s(193),ie=s(288),ce=s.n(ie),le=s(463),de=s(115);const ue=Object(i.h)({save_coupon:{id:"coupon_card.save",defaultMessage:"Save coupon"},saved_coupon:{id:"coupon_card.unsave",defaultMessage:"Saved!"},deals_text:{id:"deals.text",defaultMessage:"Deal from your inbox:"},openMessage:{id:"coupon.openMessage",defaultMessage:"Open Message"},expiresToday:{id:"expiration_message.expires_today",defaultMessage:"Expires today"},expiresTomorrow:{id:"expiration_message.expires_tomorrow",defaultMessage:"Expires tomorrow"},expiresThisWeek:{id:"expiration_message.expires_this_week",defaultMessage:"Expires on {day}"},expiresInNDays:{id:"expiration_message.expires_in_n_days",defaultMessage:"Expires in {numDays} days"}});class me extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={couponSaved:!1,hover:!1},t}handleCouponClick(){const{topCoupon:e,couponClickedFromPencil:t,adPosition:s}=this.props;t({mKey:ne.e.COUPON_CLICKED_FROM_PENCIL,sec:ne.g.MSG_LIST_AD,actionData:{domain:e.domain,email:e.email,url:e.originalLink,adPosition:s}})}saveCouponClick(e){const{topCoupon:t,couponSave:s,adPosition:n}=this.props,{cmid:a,schemaId:r,domain:o,email:i,originalLink:c}=t;e.stopPropagation(),e.preventDefault(),s({cardMid:a,schemaId:r,i13nModel:{mKey:ne.e.COUPON_CLIPPED_FROM_PENCIL,sec:ne.g.MSG_LIST_AD,actionData:{domain:o,email:i,url:c,adPosition:n}}}),this.setState({couponSaved:!0})}formatExpirationMessage({timestamp:e=0,dateDiff:t=0}){const{formatMessage:s,formatDate:n}=this.context.intl,a=this.context.timezone.name||"UTC",r=new Date(e);let o="";if(0===t)o=s(ue.expiresToday);else if(1===t)o=s(ue.expiresTomorrow);else if(t>1&&t<7){const e=n(r,{timeZone:a,weekday:"long"});o=s(ue.expiresThisWeek,{day:e})}else t>=7&&(o=s(ue.expiresInNDays,{numDays:t}));return o}componentDidMount(){const{topCoupon:e,couponRenderedOnPencil:t,adPosition:s}=this.props;this._renderCouponTimer=setTimeout(()=>{t({mKey:ne.e.COUPON_RENDERED_ON_PENCIL,sec:ne.g.MSG_LIST_AD,actionData:{domain:e.domain,email:e.email,url:e.originalLink,adPosition:s}})},0)}componentWillUnmount(){this._renderCouponTimer&&clearTimeout(this._renderCouponTimer)}render(){const{isCompactLayout:e,topCoupon:t,renderCouponOnPencilPosition:s,coloredCoupon:n,uiVersion2:a,msgListDensity:r,snippetsEnabled:i}=this.props,{email:c,domain:l,description:p,expirationTime:h,clipped:E}=t,{formatMessage:g}=this.context.intl,b=this.context.getTheme(),I=n&&!Object(F.k)({context:this.context})&&([F.g.DEFAULT,F.g.DEEP_PURPLE,F.g.AQUA_BLUE,F.g.BLUE_NIGHT,F.g.SUNRISE,F.g.AQUA_GREEN].indexOf(b)+1||b===F.g.ROADTRIP&&Number.POSITIVE_INFINITY||[F.g.NIGHT_LANDSCAPE,F.g.SUNSET_AUSSIE,F.g.LIGHTHOUSE].indexOf(b)+4),f=!e&&r===x.ec.SLIM,S=this.context.getCss(d.a,babelHelpers.extends({isCompactLayout:e,renderCouponOnPencilPosition:s,backgroundId:I,transparentLink:a,savedCoupon:this.state.couponSaved||E},Object(F.i)(this.context),{heightOptimization:!e,couponNonCompact:!e&&s,msgListDensity:`${e?"compact_":""}${e&&i?"snippets_":""}${r}`,isSlim:f,couponCompact:e&&s}));return o.a.createElement("a",{rel:"noreferrer","data-test-id":"pencil-coupon",href:t.dealLink,className:`${S.link} ${a?S.linkWithTransparentBackground:""}`,tabIndex:"-1","aria-hidden":!0,role:"row",target:"_blank",onClick:this.handleCouponClick.bind(this),onMouseLeave:()=>this.setState({hover:!1}),onMouseOver:()=>{this.state.hover||this.setState({hover:!0})}},o.a.createElement("div",{className:S.gridB1},o.a.createElement("div",{className:S.imageContainer},o.a.createElement("div",{className:S.favicon},o.a.createElement(_.c,{"data-test-id":"coupon-vendor-xavatar",contact:{email:c},size:f?_.b.S:_.b.C,useFallbackImage:!1}))),!e&&o.a.createElement("div",{className:S.advertiserContainer},o.a.createElement("span",{className:S.advertiser,"data-test-id":"coupon-domain"},l))),o.a.createElement("div",{className:S.spacer}),o.a.createElement("div",{className:S.gridB2},o.a.createElement("div",{className:S.message},o.a.createElement("div",{className:S.subjectContainer},e&&o.a.createElement("span",{className:S.advertiser,"data-test-id":"coupon-domain"},l),o.a.createElement("span",{"data-test-id":"coupon-subject",className:S.subject,"aria-label":t.description,title:t.description},p)),o.a.createElement("div",{className:S.snippetContainer},o.a.createElement("span",{className:S.snippet,"data-test-id":"coupon-summary","aria-label":this.formatExpirationMessage(h),title:this.formatExpirationMessage(h)},g(ue.deals_text)+" "+this.formatExpirationMessage(h)))),!e&&!a&&o.a.createElement("div",null,this.state.couponSaved||E?o.a.createElement(m.a,{className:`${S.filledActionButton} ${S.actionButton}`,title:g(ue.saved_coupon),"data-test-id":"saved-coupon-btn"},g(ue.saved_coupon)):o.a.createElement(m.a,{className:S.actionButton,title:g(ue.save_coupon),"data-test-id":"save-coupon-btn",onClick:e=>this.saveCouponClick(e)},g(ue.save_coupon))),!e&&a&&!(this.state.couponSaved||E)&&o.a.createElement(m.a,{className:S.unclippedScissorsIcon,onClick:e=>this.saveCouponClick(e),title:g(ue.save_coupon),"data-test-id":"clip-coupon-btn"},o.a.createElement(u.b,{kind:O.b.SCISSORS,size:f?O.d.XXXS:O.d.XXS,colorState:O.a.INHERITED})),!e&&a&&(this.state.couponSaved||E)&&o.a.createElement(m.a,{className:S.clippedScissorsIcon,title:g(ue.saved_coupon),"data-test-id":"clipped-coupon-btn"},o.a.createElement(u.b,{kind:O.b.SCISSORS,size:f?O.d.XXXS:O.d.XXS,colorState:O.a.INVERTED}))))}}me.contextTypes={intl:i.i.isRequired,getCss:a.a.func,timezone:p.e,navigateTo:a.a.func,getThemeMode:a.a.func,getTheme:a.a.func};var pe=c.a(me);let _e=0;class he extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleFanAdCallback=((e,t)=>{"fbAdLoaded"!==t.data.name&&"fbAdError"!==t.data.name||this.iframeRef&&this.iframeRef.contentWindow===t.source&&(this.iframeLoadTimer&&window.clearTimeout(this.iframeLoadTimer),this.iframeTimeout||("fbAdLoaded"===t.data.name?this.props.fanAdLoadSuccess({i13nModel:{mKey:ne.e.FAN_AD_LOAD_SUCCESS,sec:ne.g.FAN_AD,actionData:{respTime:Date.now()-this.renderStartTime}},adPosition:e}):this.props.fanAdLoadError({adPosition:e,errorCode:t.data.errorCode,errorMessage:t.data.errorMessage,i13nModel:{mKey:ne.e.FAN_AD_LOAD_ERROR,sec:ne.g.FAN_AD,actionData:{errorCode:t.data.errorCode,errorMessage:t.data.errorMessage,respTime:Date.now()-this.renderStartTime}}})))}),this.timeoutHandler=(()=>{this.iframeTimeout=!0,this.props.fanAdLoadError({adPosition:this.props.adPosition,errorCode:0,errorMessage:"Iframe load timeout",i13nModel:{mKey:ne.e.FAN_AD_LOAD_ERROR,sec:ne.g.FAN_AD,actionData:{errorCode:0,errorMessage:"Iframe load timeout"}}})}),t}initializeState(){this.iframeLoadTimer=setTimeout(this.timeoutHandler,3e3),this.iframeTimeout=!1,this.renderStartTime=Date.now()}componentDidMount(){window.addEventListener("message",this.handleFanAdCallback.bind(this,this.props.adPosition),!1),this.initializeState()}componentWillUnmount(){window.removeEventListener("message",this.handleFanAdCallback.bind(this,this.props.adPosition),!1),this.iframeLoadTimer&&window.clearTimeout(this.iframeLoadTimer)}componentDidUpdate(){this.iframeLoadTimer&&window.clearTimeout(this.iframeLoadTimer),this.initializeState()}render(){const e=Object(F.k)({context:this.context}),{isCompactLayout:t,fanAdsSettings:s,adPosition:n}=this.props,{url:a,placementId1:r,placementId2:i}=s,c=t?A.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT:A.MESSAGE_LIST_GEMINI_AD_HEIGHT,l={placement_id:"messageList"===n&&r||"messageList2"===n&&i||"",api_version:"v2",style:t?"compact":"",theme:e?"dark":""},d=Object.keys(l).map(e=>{if(l[e])return e+"="+l[e]}).filter(e=>void 0!==e).join("&");return o.a.createElement("div",null,o.a.createElement("iframe",{"data-test-id":"fan-ad",ref:e=>this.iframeRef=e,key:_e++,scrolling:"no",frameBorder:"0",style:{height:c,width:"100%"},src:a+d}))}}he.contextTypes={getThemeMode:a.a.func};var Ee=s(76);let ge=!1;class be extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleAdClicked=(e=>{const{pencilAdData:t,listId:s,sectionId:n}=this.props;if(this.props.pencilAdClicked({i13nModel:{mKey:ne.e.PENCIL_AD_CLICKED,sec:ne.g.MSG_LIST_AD,interactionType:Object(se.i)(e),actionData:{sectionId:t.sectionId||n,type:t.type}}}),-1!==[h.l.NativeAdType,h.l.VideoAdType].indexOf(t.type)){e.preventDefault();const n=Object(K.a)(t,"actionUrls.IMPR_INTERNAL",[]);switch(t.type){case h.l.NativeAdType:case h.l.VideoAdType:Object(te.a)(t.clickUrl,!1),n.forEach(function(e){e=e.replace("$(impr_label)","msm_open"),Object(te.a)(e,!1)})}this.context.navigateTo({route:Object(ee.w)(s,t.creativeId)})}}),this.onAdChoiceClicked=(e=>{e.preventDefault(),e.stopPropagation(),window.open(this.props.aboutAdsUrl,"_blank")}),this.onAdFeedbackRequest=(()=>{const{startAdFeedback:e,sectionId:t,pencilAdData:s}=this.props;e({i13nModel:{mKey:ne.e.PENCIL_AD_FEEDBACK_OPEN,sec:ne.g.MSG_LIST_AD,interactionType:ne.d.click,actionData:{sectionId:s.sectionId||t}},sectionId:t})}),this.createObserver=(e=>{const{anchor:t,viewabiltyContainerNode:s}=this.props;if(s&&t&&void 0!==window.IntersectionObserver){const n={root:s,threshold:[.1,e/100,1]};this.vBeaconThreshold=e,this.viewabilityObserver=this.viewabilityObserver?this.viewabilityObserver.disconnect():null,this.viewabilityObserver=new IntersectionObserver(e=>{e.forEach(e=>{this.handleBeacons(100*e.intersectionRatio)})},n),this.viewabilityObserver.observe(t)}}),this.handleBeacons=(e=>{const t=Object(K.a)(this.props.pencilAdData,"rules.viewabilityDefStatic",null);if(this.allBeaconsFired=this.allBeaconsFired||ce()(this.beaconsFired,e=>e),!this.allBeaconsFired&&t){if(100!==e||this.beaconsFired.viewabilityDefStatic3P||this.v3PBeaconTimer)e<100&&this.v3PBeaconTimer&&!this.beaconsFired.viewabilityDefStatic3P&&(this.v3PBeaconTimeRemaining-=Date.now()-this.v3PBeaconVisTime,clearTimeout(this.v3PBeaconTimer),this.v3PBeaconTimer=null);else{const e=this.fireAndUpdateBeacon.bind(this,"viewabilityDefStatic3P","v3PBeaconTimer");this.v3PBeaconVisTime=Date.now(),this.v3PBeaconTimer=setTimeout(e,this.v3PBeaconTimeRemaining)}if(e>=this.vBeaconThreshold&&!this.beaconsFired.viewabilityDefStatic&&!this.vBeaconTimer){const e=this.fireAndUpdateBeacon.bind(this,"viewabilityDefStatic","vBeaconTimer");this.vBeaconTimer=setTimeout(e,1e3*t.d)}else e<this.vBeaconThreshold&&!this.beaconsFired.viewabilityDefStatic&&(clearTimeout(this.vBeaconTimer),this.vBeaconTimer=null);e>0&&!this.beaconsFired.partialView&&this.fireAndUpdateBeacon("partialView"),e>0&&this.props.isAdBlockVerifiedBeacon&&!ge&&Object(re.b)()&&window.rapidInstance&&window.rapidInstance.beaconEvent&&(this.props.geminiAdRendered({i13nModel:{isBeaconEvent:!0,eventName:ne.a.GEMINI_AD_RENDERED}}),ge=!0)}}),this.fireAndUpdateBeacon=((e,t)=>{const{pencilAdData:s,isAppVisible:n}=this.props;this[t]=null,n&&(Object(oe.a)(s,e),this.beaconsFired[e]=!0)}),this.handleNewAd=(()=>{const{pencilAdData:e,geminiViewabilityIO:t,isCompactLayout:s,viewabiltyContainerScrollTop:n,anchor:a,adViewabilityTrackerEnabled:r,renderCouponOnPencilPosition:o}=this.props;if(t&&!r&&!o){const{rules:t,actionUrls:r,beacon:o}=e;if(this.beaconsFired={viewabilityDefStatic:!o,viewabilityDefStatic3P:!(r&&r.STATIC_VIEW_3P),partialView:!(r&&r.PARTIAL_VIEW)},this.allBeaconsFired=!1,t&&0!==Object.keys(t).length){const{viewabilityDefStatic:e,viewabilityDefStatic3P:r}=t;if(this.createObserver(e.p),this.v3PBeaconTimeRemaining=r?1e3*r[0].d:0,Object(oe.d)(a)){const e=s?A.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT:A.MESSAGE_LIST_GEMINI_AD_HEIGHT,t=Object(oe.b)(e,n);this.handleBeacons(t)}}}}),t}componentDidUpdate(e){this.props.pencilAdData.clickUrl===e.pencilAdData.clickUrl&&this.props.viewabiltyContainerNode===e.viewabiltyContainerNode&&this.props.anchor===e.anchor||this.handleNewAd()}shouldComponentUpdate(e){if(e.fanAds&&e.renderFanAd){const t=e.action.actionTimestamp-this.props.fanAdRenderTime>3e3;return"LAUNCH_COMPLETED"!==e.action.type&&Object(Ee.d)(e.action)&&t||e.isCompactLayout!==this.props.isCompactLayout}return(!0!==e.adBlockCouponsOnPencilAds||!(this.props.selectedCoupons.length>0||this.props.topCoupons.length>0)||e.msgListDensity!==this.props.msgListDensity)&&(e.pencilAdData.clickUrl!==this.props.pencilAdData.clickUrl||e.isCompactLayout!==this.props.isCompactLayout||e.viewabiltyContainerNode!==this.props.viewabiltyContainerNode||e.anchor!==this.props.anchor||e.msgListDensity!==this.props.msgListDensity||!e.renderFanAd&&"FAN_AD_LOAD_ERROR"===e.action.type||!this.props.renderCouponOnPencilPosition&&(e.selectedCoupons.length>0||e.topCoupons.length>0))}renderAdListItem(){const{anchorRef:e,isCompactLayout:t,adPosition:s,pencilAdData:n,isSearchRoute:a,closeIconPencilAd:r,timechunkPencilAd:i,flashSaleAdEnabled:c,flashSaleAdInSecondsEnabled:l,pencilAdVersion:d,searchAdBackBucket:u,searchAdIconOnHover:m,msgListDensity:p,snippetsEnabled:_,renderCouponOnPencilPosition:E,onCouponSave:g,onCouponClickedFromPencil:b,onCouponRenderedOnPencil:I,topCoupons:f,selectedCoupons:S,adBlockCouponsOnPencilAds:A,listId:T,adBlockCouponsOnPencilAdsVersion:C,fanAds:O,renderFanAd:R,fanAdLoadError:N,fanAdLoadSuccess:M,fanAdsSettings:D}=this.props;let y=!1,L=!1;return 2===S.length?(y=S[0],L=S[1]):1===S.length?(y=S[0],L=f.length>0&&f[0]):f.length>0&&(y=f.length>0&&f[0],L=f.length>1&&f[1]),(E||A)&&y&&"messageList"===s?o.a.createElement(pe,{key:"coupon-list-item",isCompactLayout:t,renderCouponOnPencilPosition:E||A,topCoupon:y,couponSave:g,adPosition:s,coloredCoupon:"coloredCouponOnPencilAdPosition"===d,couponClickedFromPencil:b,couponRenderedOnPencil:I,listId:T,uiVersion2:"version2"===C,msgListDensity:p,snippetsEnabled:_}):A&&L&&"messageList2"===s?o.a.createElement(pe,{key:"coupon-list-item",isCompactLayout:t,renderCouponOnPencilPosition:A,topCoupon:L,couponSave:g,adPosition:s,coloredCoupon:"coloredCouponOnPencilAdPosition"===d,couponClickedFromPencil:b,couponRenderedOnPencil:I,listId:T,uiVersion2:"version2"===C,msgListDensity:p,snippetsEnabled:_}):O&&R?o.a.createElement(he,{fanAdLoadError:N,fanAdLoadSuccess:M,adPosition:s,isCompactLayout:t,fanAdsSettings:D}):o.a.createElement(J,{key:n.type,anchorRef:e,pencilAdData:n,onAdChoiceClicked:this.onAdChoiceClicked,isCompactLayout:t,onAdFeedbackRequest:this.onAdFeedbackRequest,onClick:this.handleAdClicked,feedbackEnabled:n.type!==h.l.SearchAdType,adPosition:s,isSearchRoute:a,closeIconPencilAd:r,timechunkPencilAd:i,flashSaleAdEnabled:c,flashSaleAdInSecondsEnabled:l,pencilAdVersion:d,searchAdBackBucket:u&&a,searchAdIconOnHover:m&&a,msgListDensity:p,snippetsEnabled:_})}render(){const{pencilAdData:e,fanAds:t,renderFanAd:s,adViewabilityTrackerEnabled:n,sectionId:a,viewabiltyContainerNode:r,adBlockCouponsOnPencilAds:i}=this.props;return t&&s||e&&e.clickUrl?n&&!i?o.a.createElement(le.a,{pencilAdData:e,sectionId:a,rootNode:r},this.renderAdListItem()):this.renderAdListItem():null}}be.contextTypes={navigateTo:a.a.func,intl:i.i.isRequired,store:a.a.object};t.a=Object(W.b)((e,t)=>{const{getAdsSelectors:s,isFeatureEnabled:n,getSetting:a,getRoute:r,getCouponsSelectors:o,getMessagesSelectors:i,getAction:c,isAppVisible:l}=Object(ae.b)(e),{sectionId:d}=t,u=s(),m=r().name===x.Uc.SEARCH,p=n(x.mb.SEARCH_AD_BACK_BUCKET)&&m,_=a(x.nd.PENCIL_AD_VERSION),h=n(x.mb.AD_BLOCK_COUPONS_ON_PENCIL_ADS)&&u.isAdBlocked(),E=a(x.nd.AB_BLOCK_COUPONS_ON_PENCIL_AD_VERSION),g="heightOptimizationBackBucketExp"===_,b=u.getCouponOnPencilState(),I=["couponOnPencilAdPosition","coloredCouponOnPencilAdPosition","couponOnPencilAdRotation1","couponOnPencilAdRotation2","couponOnPencilAdRotation3"].indexOf(_)>-1&&1===b;let f=o().getTopCoupons(x.F);const S=f.filter(e=>!e.clipped);f=f.filter(e=>e.clipped);const{getParentMessageIdForCardConversationId:A,getParentConversationIdForCardConversationId:T}=i(),C=n(x.mb.CONVERSATIONS)?T:A;let O=S.slice(0,2);O=O.map(e=>{const t=o().getCardConversationId(e.schemaId),s=C(t);return babelHelpers.extends({},e,{groupId:s})});const R=n(x.mb.FAN_ADS)&&!m,N=u.getFanAdRenderTime(),M=a(x.nd.PREVIEW_PANE)===x.Gc.RIGHT,D=a(x.nd.GEMINI_SECTION_IDS),{MESSAGE_LIST:y,MESSAGE_LIST_2:L}=x.vb,v=n(x.mb.TIMECHUNK_PENCIL_AD);return{aboutAdsUrl:a(x.nd.ABOUT_AD_URL),pencilAdError:!!u.getGeminiError(),geminiViewabilityIO:n(x.mb.GEMINI_VIEWABILITY_IO),isSearchRoute:m,pencilAdData:u.getPencilAdData(t.sectionId),closeIconPencilAd:n(x.mb.CLOSE_ICON_PENCIL_AD),flashSaleAdEnabled:n(x.mb.FLASH_SALE_AD),flashSaleAdInSecondsEnabled:n(x.mb.FLASH_SALE_AD_IN_SECONDS),pencilAdVersion:_,isAdBlockVerifiedBeacon:n(x.mb.AD_BLOCK_VERIFIED_BEACON),searchAdIconOnHover:n(x.mb.SEARCH_AD_ICON_ON_HOVER),searchAdBackBucket:p,msgListDensity:p||g||R?null:a(x.nd.MSG_LIST_DENSITY),snippetsEnabled:n(x.nd.SNIPPETS)||R,adViewabilityTrackerEnabled:n(x.mb.AD_VIEWABILITY_TRACKER),renderCouponOnPencilPosition:I,topCoupons:f,selectedCoupons:O,adBlockCouponsOnPencilAds:h,adBlockCouponsOnPencilAdsVersion:E,fanAds:R,fanAdRenderTime:N,renderFanAd:N>0,fanAdsSettings:a(x.nd.FAN_ADS_SETTINGS),action:c(),isCompactLayout:M,isAppVisible:l(),adPosition:d===D[y]?y:L,timechunkPencilAd:v}},e=>({startAdFeedback:t=>e(Object(V.C)(t)),pencilAdClicked:t=>e(Object(V.p)(t)),geminiAdRendered:t=>e(Object(V.j)(t)),onCouponSave:t=>e(Object(de.b)(t)),onCouponClickedFromPencil:t=>e(Object(de.d)(t)),onCouponRenderedOnPencil:t=>e(Object(de.i)(t)),fanAdLoadError:t=>e(Object(V.g)(t)),fanAdLoadSuccess:t=>e(Object(V.h)(t))}))(be)},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(13),c=s(4),l=s(98),d=s.n(l),u=s(54),m=(s(8),s(14)),p=s(37),_=s(0),h=s(41),E=s(17),g=s(15),b=s(3),I=s(231),f=s(201),S=s(286),A=s(612),T=s.n(A),C=s(47),O=s(75),R=s(142),N=s(25),M=s(72),D=s(33),y=s(613),L=s.n(y);const v=Object(c.h)({markAsRead:{id:"mark_as_read",defaultMessage:"Mark as read"},markAsUnread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},msgIsRead:{id:"msg_is_read",defaultMessage:"This message is read"},msgIsNotRead:{id:"msg_is_not_read",defaultMessage:"This message is not read"},msgIsReplied:{id:"msg_is_replied",defaultMessage:"Replied"},msgIsForwarded:{id:"msg_is_forwarded",defaultMessage:"Forwarded"}}),P=(e,t)=>{const s=e.isDarkThemeMode,n=t.getCss(L.a,{isDarkThemeMode:s}),{formatMessage:a}=t.intl,{isRead:r,isHovered:i,isReplied:c,isForwarded:l}=e;let d=null;return d=r?i?o.a.createElement("span",{className:n.iconContainer},o.a.createElement(g.b,{"data-test-read":r,"data-test-isreplied":c,"data-test-isforwarded":l,kind:b.b.CIRCLE,size:b.d.XS,colorState:b.a.INHERITED}),o.a.createElement("span",{className:n.accessible,"aria-label":a(r?v.msgIsRead:v.msgIsNotRead)})):c?o.a.createElement("span",{className:n.indicator},o.a.createElement(g.b,{"data-test-read":r,"data-test-isreplied":c,"data-test-isforwarded":l,kind:b.b.REPLY,size:b.d.XXXS,colorState:s?b.a.INHERITED:b.a.SECOND_LEVEL_GRAY}),o.a.createElement("span",{className:n.accessible,"aria-label":a(v.msgIsReplied)})):l?o.a.createElement("span",{className:n.indicator},o.a.createElement(g.b,{"data-test-read":r,"data-test-isreplied":c,"data-test-isforwarded":l,kind:b.b.FORWARD,size:b.d.XXXS,colorState:s?b.a.INHERITED:b.a.SECOND_LEVEL_GRAY}),o.a.createElement("span",{className:n.accessible,"aria-label":a(v.msgIsForwarded)})):o.a.createElement("span",{className:n.accessible,"aria-label":a(v.msgIsRead)}):o.a.createElement("span",{className:n.iconContainer},o.a.createElement(g.b,{"data-test-read":r,"data-test-isreplied":c,"data-test-isforwarded":l,kind:b.b.CIRCLE,size:b.d.XS,colorState:s?b.a.SELECTED_DARK_THEME_MODE:b.a.SELECTED}),o.a.createElement("span",{className:n.accessible,"aria-label":a(v.msgIsNotRead)})),o.a.createElement(E.a,{"data-test-id":"icon-btn-read",title:a(e.isRead?v.markAsUnread:v.markAsRead),onClick:e.onClick,onDoubleClick:e.onClick,className:n.readIcon},d)};P.defaultProps={isHovered:!1,isCompact:!1},P.contextTypes={intl:c.i,getCss:a.a.func};var F=P,x=s(614),w=s.n(x),k=s(60),H=s(24);const U=(()=>{let e=1;return()=>(e+=1,e%=3)})(),j=Object(c.h)({markAsStarred:{id:"mark_as_starred",defaultMessage:"Star"},markAsUnstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},msgIsStarred:{id:"msg_is_starred",defaultMessage:"Starred"},msgIsNotStarred:{id:"msg_is_not_starred",defaultMessage:"Not starred"}});class G extends o.a.Component{constructor(e){super(e),this.state={shouldBurst:!1,hasAnimation:e.starredMailEnhanced&&e.starAnimation.timeout>0,messageSize:e.isCompactLayout?null:this.getMessageSize(e.msgListDensity),starSize:e.isCompactLayout?b.d.XS:this.getStarSize(e.msgListDensity),isStarred:this.props.isStarred},this.burstURL={dark:Object(k.a)(e.starAnimation.darkGifURL),light:Object(k.a)(e.starAnimation.lightGifURL)},this.preload(this.burstURL),this.burstOnClick=this.burstOnClick.bind(this)}componentWillReceiveProps(e){this.setState({hasAnimation:e.starredMailEnhanced&&e.starAnimation.timeout>0,messageSize:e.isCompactLayout?null:this.getMessageSize(e.msgListDensity),starSize:e.isCompactLayout?b.d.XS:this.getStarSize(e.msgListDensity)}),!this.state.isStarred&&e.isStarred&&e.starAnimation.timeout>0&&(this.setState({shouldBurst:!0}),setTimeout(()=>{this.setState({shouldBurst:!1})},e.starAnimation.timeout)),this.state.isStarred!==e.isStarred&&this.setState({isStarred:!this.state.isStarred})}preload(e){Object(H.d)(Object(k.a)(e.light)),Object(H.d)(Object(k.a)(e.dark))}renderStarGif(e,t){const s=t.isDarkThemeMode?this.burstURL.dark:this.burstURL.light;let n=20,a=20,r=0;const i=U();switch(e){case"S":n=24,a=24,r=2;break;case"M":n=32,a=32,r=6}return o.a.createElement("img",{src:s,style:{transform:`translateZ(${i}px)`,height:`${n}px`,width:`${a}px`,paddingTop:`${r}px`}})}getStarSize(e){if(this.props.starredMailEnhanced)switch(e){case 1:return b.d.XS;case 2:case 3:return b.d.S;default:return b.d.XS}return b.d.XS}getMessageSize(e){if(this.props.starredMailEnhanced)switch(e){case 1:return"XS";case 2:case 3:return"S";default:return""}return""}burstOnClick(e){this.props.onClick(e),!this.state.isStarred&&this.state.hasAnimation?(this.setState({shouldBurst:!0}),this.timeout=setTimeout(()=>{this.setState({shouldBurst:!1})},this.props.starAnimation.timeout)):this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout))}render(){const e=this.props.isDarkThemeMode,t=this.props.starredMailEnhanced,s=this.context.getCss(w.a,{isDarkThemeMode:e,starredMailEnhanced:t,darkStarredMailEnhanced:e&&t,messageSize:this.state.messageSize}),{formatMessage:n}=this.context.intl;let a=null;if(this.state.shouldBurst&&this.state.hasAnimation)a=this.renderStarGif(this.state.messageSize,this.props);else if(this.props.isStarred)a=o.a.createElement("span",{className:s.iconContainer},o.a.createElement(g.b,{"data-test-starred":this.props.isStarred,kind:b.b.STAR,size:t?this.state.starSize:b.d.XS,colorState:e?b.a.STARRED_DARK:b.a.STARRED}),o.a.createElement("span",{className:s.accessible,"aria-label":n(j.msgIsStarred)}));else if(t){const t=e?b.a.INVERTED_MORE_DIM:b.a.FAINT,r=e?b.a.SMARTVIEW_DARK:b.a.COOL_FAINT;a=o.a.createElement("span",{className:s.iconContainer},o.a.createElement(g.b,{kind:b.b.STAR,size:this.state.starSize,allowPointerEvents:!0,colorState:this.props.isHovered?r:t}),o.a.createElement("span",{className:s.accessible,"aria-label":n(this.state.isStarred?j.msgIsStarred:j.msgIsNotStarred)}))}else a=this.props.isHovered?o.a.createElement("span",{className:s.iconContainer},o.a.createElement(g.b,{kind:b.b.STAR,size:b.d.XS,colorState:b.a.INHERITED}),o.a.createElement("span",{className:s.accessible,"aria-label":n(this.props.isStarred?j.msgIsStarred:j.msgIsNotStarred)})):o.a.createElement("span",{className:s.accessible,"aria-label":n(j.msgIsNotStarred)});return o.a.createElement(E.a,{"data-test-id":"icon-btn-star",title:n(this.props.isStarred?j.markAsUnstarred:j.markAsStarred),onClick:t?this.burstOnClick:this.props.onClick,onDoubleClick:t?this.burstOnClick:this.props.onClick,className:s.starIcon},a)}}G.defaultProps={isHovered:!1},G.contextTypes={intl:c.i,getCss:a.a.func};var B=G,V=s(615),W=s.n(V);const q=Object(c.h)({searchByContact:{id:"search_by_contact",defaultMessage:"Search for messages from this sender"},searchBySubject:{id:"search_by_subject",defaultMessage:"Search for messages with this subject"}}),z=(e,t)=>{const s=e.searchType===_.hd.SUBJECT,n=t.getCss(W.a,{isDarkThemeMode:e.isDarkThemeMode}),{formatMessage:a}=t.intl;return e.showSearch&&e.isHovered?o.a.createElement(E.a,{"data-test-id":"icon-btn-search",title:a(s?q.searchBySubject:q.searchByContact),onClick:e.onClick,onDoubleClick:e.onClick,className:e.isCompact?n.contactSearchIconCompact:n.searchIcon},o.a.createElement("span",{className:n.iconContainer},o.a.createElement(g.b,{kind:b.b.SEARCH_MINI,size:b.d.XS,colorState:b.a.INHERITED}))):null};z.defaultProps={isHovered:!1,isCompact:!1},z.contextTypes={intl:c.i,getCss:a.a.func};var Z=z,K=s(344),Y=s(617),X=s.n(Y),$=s(93),Q=s(12),J=s(43),ee=s(260),te=s(5),se=s(379),ne=s(10),ae=s(20),re=s(9);const oe=(e,t)=>{const{attachmentTraySize:n,previewableInlineAttachmentSize:a,attachments:r,showAttachmentClip:i,rsvpEnabled:l,doesAttachmentExistById:d,getAttachmentById:m}=e,p=t.getCss(X.a),h=Object(J.e)(r,a).map(e=>e.id&&d(e.id)?m(e.id):e);function E(t,s){const{messageGroup:n}=e,a=n.id,r=Object.assign({mKey:te.e.ATTACHMENT_LIGHTBOX_OPEN,sec:te.g.MSG_LIST_MSG,interactionType:s});e.onAttachmentPreviewClick({attachmentId:t,messageGroupId:a,i13nModel:r})}const I=function(){if(l&&h.length&&Object(J.d)(h[0].type,h[0].subtype)===_.u.SimplifiedTypes.CAL)return h[0]}(),f=I?o.a.createElement(ae.a,{import:"../../rsvp_view/index.jsx",eventAttachment:I,folder:Object(u.e)(e.messageGroup),messageId:I.id.split(":")[0],compact:!0,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,651))},_moduleResolver:function(){return 651}}):h.map((t,s)=>o.a.createElement("span",{className:p.attachmentItem,key:t.id,"data-test-id":"attachment-item-"+s},o.a.createElement(ee.a,{attachment:t,readOnly:!0,allowDownload:!1,onRemove:()=>{},onClick:E.bind(null,t.id),isPreviewEnabled:!e.isSpam,previewWithoutDownload:!0,smallPreview:!0})));return!i&&!r.length||e.isHovered?h.length?null:o.a.createElement("span",{className:p.accessible,"data-test-id":"accessible-no-attachment"},o.a.createElement(c.c,{id:"msg_no_attachment",defaultMessage:"No attachment"})):o.a.createElement($.c,{arrowSize:Q.b.M,permittedArrowDirections:[Q.g.UP,Q.g.DOWN],triggerOn:$.b.HOVER_DELAYED,triggerDelayTime:200,triggerOff:$.a.HOVER_OUT,align:Q.a.END,offset:16,persistent:!0,isArrowVisible:!1,zAltitude:ne.ZIndices.POPOVER.MEDIUM},o.a.createElement("span",{"data-test-id":"attachment-icon",className:p.attachmentIcon},o.a.createElement(g.b,{kind:h.length?Object(J.g)(h):b.b.ATTACHMENT,size:b.d.XS,colorState:e.isDarkThemeMode?b.a.FAINT:b.a.DISABLED}),o.a.createElement("span",{className:p.accessible},o.a.createElement(c.c,{id:"msg_has_attachments",defaultMessage:"Message has attachments"}))),o.a.createElement("div",{"data-test-id":"attachment-popover",className:p.attachmentsPopover},!l&&h.length>n?o.a.createElement("div",{style:{width:60+100*n},className:p.attachmentsCarouselContainer},o.a.createElement(se.b,{itemWidth:100},f)):o.a.createElement("div",{className:I?null:p.attachmentsPopoverContainer},f)))};oe.defaultProps={isHovered:!1,attachmentTraySize:3},oe.contextTypes={getCss:a.a.func,config:a.a.object};var ie=Object(i.b)(e=>{const{getAttachmentById:t,doesAttachmentExistById:s}=Object(re.b)(e).getAttachmentsSelectors();return{doesAttachmentExistById:s,getAttachmentById:t}})(oe),ce=s(11),le=s.n(ce),de=s(620),ue=s.n(de);class me extends o.a.Component{render(){const{isDarkThemeMode:e,isHovered:t,couponIconClicked:s}=this.props,n=le()(ue.a);return t?null:o.a.createElement("span",{"data-test-id":"coupon-icon-msg-list",className:n.couponIcon,onClick:s},o.a.createElement(g.b,{kind:b.b.SCISSORS,size:b.d.XXS,colorState:e?b.a.FAINT:b.a.DISABLED}),o.a.createElement("span",{className:n.accessible},o.a.createElement(c.c,{id:"message_has_coupon",defaultMessage:"Message has deals"})))}}me.defaultProps={isHovered:!1};var pe=s(39),_e=s(53),he=s(261),Ee=s(62),ge=s(58),be=s(2),Ie=s(32),fe=s.n(Ie);const Se=()=>{},Ae={},Te=Object(c.h)({email_aria_label:{id:"email_aria_label",defaultMessage:"{senderNames}'s email"},deselectionAriaLabel:{id:"deselect_message",defaultMessage:"Deselect message"},selectionAriaLabel:{id:"select_message",defaultMessage:"Select message"}}),Ce=d()(()=>{let e;try{e=new MouseEvent("mouseover",{bubbles:!0,cancelable:!0,view:window})}catch(t){(e=document.createEvent("MouseEvent")).initMouseEvent("mouseover",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)}document.activeElement.dispatchEvent(e),setTimeout(()=>document.activeElement.dispatchEvent(e),0)},100,{leading:!0});class Oe extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={hover:!1},this.handleCheckboxClicked=(e=>{const{messageGroup:t}=this.props;e.preventDefault(),e.stopPropagation(),e.shiftKey?this.props.onShiftClick(t):e.metaKey||e.ctrlKey?this.props.onCtrlClick(t,{interactionType:Object(m.i)(e)}):this.props.onCheckboxClick(t,{interactionType:Object(m.i)(e)})}),this.handleReadIconClicked=(e=>{const{messageGroup:t}=this.props;e.preventDefault(),e.stopPropagation(),this.props.onReadClick(t,{interactionType:Object(m.i)(e)})}),this.handleStarIconClicked=(e=>{const{messageGroup:t}=this.props;e.preventDefault(),e.stopPropagation(),this.props.onStarClick(t,{interactionType:Object(m.i)(e)})}),this.handleDeleteIconClicked=(e=>{const{messageGroup:t}=this.props;e.preventDefault(),e.stopPropagation(),this.props.onDeleteClick(t,{interactionType:Object(m.i)(e)}),Ce()}),this.handleContactSearchClicked=(e=>{const{messageGroup:t}=this.props;e.preventDefault(),e.stopPropagation(),this.props.onContactSearchClick(t,{interactionType:Object(m.i)(e)})}),this.handleSubjectSearchClicked=(e=>{const{messageGroup:t}=this.props;e.preventDefault(),e.stopPropagation(),this.props.onSubjectSearchClick(t,{interactionType:Object(m.i)(e)})}),this.handleOnClick=(e=>{const{onClick:t,messageGroup:s}=this.props;e.stopPropagation(),e.preventDefault(),e.metaKey||e.ctrlKey?this.handleCheckboxClicked(e):e.shiftKey?this.props.onShiftClick(s):t(s,{interactionType:Object(m.i)(e)})}),this.handleAccessibilityOnClick=(e=>{this.handleOnClick(e)}),this.handleOnDoubleClick=(e=>{const{onDoubleClick:t,messageGroup:s}=this.props;e.stopPropagation(),e.preventDefault(),e.shiftKey?this.props.onShiftClick(s):t(s,{interactionType:Object(m.i)(e)})}),this.renderMessageCount=((e,t,s)=>o.a.createElement("span",{"data-test-id":"message-count",className:e>1?t:s,role:"gridcell"},o.a.createElement("span",{className:s,"data-test-id":"accessible-message-count"},o.a.createElement(c.c,{id:"msg_count",values:{messageCount:e},defaultMessage:"{messageCount, plural,\n                                            one {# message}\n                                            other {# messages}\n                                        }"})),e>1?o.a.createElement("span",{"aria-hidden":"true","data-test-id":"visible-message-count"},e):null)),this.renderDraftLabel=((e,t,s)=>o.a.createElement("span",{"data-test-id":"draft-indicator",className:e?t:s},e?o.a.createElement(c.c,{id:"msg_has_draft",defaultMessage:"DRAFT"}):null)),this.renderSubject=((e,t,s)=>o.a.createElement("span",{"data-test-id":"message-subject",className:s.subject,onClick:this.handleAccessibilityOnClick,role:"gridcell",title:Object(R.d)(e)},e?Object(R.b)(e,t,s.highlightedTerm):o.a.createElement("span",null,o.a.createElement("span",null,"("),o.a.createElement("span",{className:s.noSubject},o.a.createElement(c.c,{id:"message.no_subject",defaultMessage:"No Subject"})),o.a.createElement("span",null,")")))),this.updateContent=(()=>{this.popoverContent&&this.popoverContent.updatePosition()}),this.selectCueToRender=((e,t,s)=>o.a.createElement("div",null,this.props.showInboxCouponsCue?this.renderCue({align:Q.a.START,subject:e,highlightSearchTerm:t,classNames:s,cueName:_.mb.INBOX_COUPONS_CUE}):null)),this.renderCue=(({align:e=Q.a.CENTER,subject:t,highlightSearchTerm:n,classNames:a,cueName:r,bgValue:i=Q.d.DEFAULT,useBrandName:c=!1,props:l={}})=>{let d;const u=babelHelpers.extends({},l,{cueName:r,fromName:c?this.props.fromName:"",cardConversationId:this.props.cardConversationId,onShow:this.updateContent});switch(r){case _.mb.INBOX_COUPONS_CUE:d=o.a.createElement(ae.a,babelHelpers.extends({import:"../../inbox_coupons_cue"},u,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,970))},_moduleResolver:function(){return 970}}))}return o.a.createElement(Ee.a,null,o.a.createElement(ge.a,null,this.renderSubject(t,n,a)),o.a.createElement(pe.a,{align:e,overflowScroll:!1,triggerOn:Q.h.MOUNT,permittedArrowDirections:[Q.g.UP],zAltitude:ne.ZIndices.POPOVER.HIGH,isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},bg:i,persistent:!0},d))}),this.renderMessageDestinationLabel=(e=>{const{messageDestinationLabel:t}=this.props;switch(t){case h.l.ACCOUNT:return this.renderAccountLabel(e);case h.l.FOLDER:return this.renderFolderLabel(e);case h.l.NONE:return null}}),this.renderAccountLabel=(e=>{const{accountDescription:t,folderName:s,accountProvider:n}=this.props,{formatMessage:a,locale:r}=this.context.intl;let i,c=Ae[r];return c||(c=Ae[r]={[_.hb.YAHOO]:a(M.a.yahoo_account_description),[_.hb.YAHOO_SB]:a(M.a.yahoo_account_description),[_.hb.OUTLOOK]:a(M.a.outlook_account_description),[_.hb.AOL]:a(M.a.aol_account_description),[_.hb.GOOGLE]:a(M.a.gmail_account_description),[_.hb.GOOGLE_APP]:a(M.a.gmail_account_description)}),o.a.createElement("div",{className:e.messageDestinationLabel,"data-test-id":"account"},o.a.createElement("span",{title:(i=t||c[n])+"/"+s},i))}),this.renderFolderLabel=(e=>{const{messageGroup:t}=this.props,{formatMessage:s}=this.context.intl,n=Object(u.e)(t),a=this.props.getFolderDisplayTypeByFolderId(n.id),r=Object(D.m)(s,a)||n.name;return o.a.createElement("div",{className:e.messageDestinationLabel,title:r,"data-test-id":"folder"},o.a.createElement(O.a,{folderId:n.id}))}),this.renderEmailTypeIcon=(()=>{const{messageGroup:e,attachmentTraySize:t,previewableInlineAttachmentSize:s,isSpam:n,showCouponIcon:a,rsvpEnabled:r,isCompactLayout:i,couponIconClicked:c}=this.props,l=Object(u.a)(e),d=!(!Object(u.b)(e)||Object(u.h)(e)&&!(Object(u.h)(e)&&l.length>0)),m=this.state.hover&&!this.props.isScrolling()&&!this.props.isDragging()&&i,p=this.context.getThemeMode()===N.f.DARK;return d?o.a.createElement(ie,{previewableInlineAttachmentSize:s,attachments:l,isHovered:m,isDarkThemeMode:p,onAttachmentPreviewClick:this.props.onAttachmentPreviewClick,messageGroup:e,isSpam:n,attachmentTraySize:t,showAttachmentClip:d,rsvpEnabled:r}):a?o.a.createElement(me,{isDarkThemeMode:p,isHovered:m,couponIconClicked:c}):void 0}),t}shouldComponentUpdate(e,t){const{props:s}=this;return!(fe()(s.messageGroup,e.messageGroup)&&s.isRead===e.isRead&&s.isStarred===e.isStarred&&s.isReplied===e.isReplied&&s.isForwarded===e.isForwarded&&s.tabIndex===e.tabIndex&&s.snippetsEnabled===e.snippetsEnabled&&s.layout===e.layout&&s.msgListDensity===e.msgListDensity&&s.selected===e.selected&&s.active===e.active&&s.showInboxCouponsCue===e.showInboxCouponsCue&&this.state.hover===t.hover)}render(){const{messageGroup:e,messageGroupId:t,selected:s,active:n,messageURL:a,myAddresses:r,highlightSearchTerm:i,listId:c,layout:l,isBriefView:d,isCompactLayout:m,isConversationMode:p,snippetsEnabled:h,onDragStart:A,onDragEnd:O,hideSearchIcon:M,starRef:D,readRef:y,senders:L,isRead:v,isStarred:P,isReplied:x,isForwarded:w,showCouponIcon:k,starredMailEnhanced:H,starAnimation:U,msgListDensity:j}=this.props,G=h&&!d,{formatMessage:V}=this.context.intl,W=Object(u.f)(e,{listId:c}),q=W.hasVerifiedMessage,z=l===_.fc.COMPACT_SLIM||l===_.fc.COMPACT_SNIPPET_SLIM,Y=l===_.fc.COMPACT_NORMAL||l===_.fc.COMPACT_SNIPPET_NORMAL,X=l===_.fc.COMPACT_RELAXED||l===_.fc.COMPACT_SNIPPET_RELAXED,$=l===_.fc.SLIM&&!z,{hasDraft:Q}=W,J=Object(R.a)(W.snippetWithMatchDelimiter,i),ee=1===e.messages.length,te=this.context.getThemeMode(),se=te===N.f.DARK||!!d&&te===N.f.MEDIUM,ne=this.state.hover&&!this.props.isScrolling()&&!this.props.isDragging(),ae=ne&&m,re=L.map(e=>e.name).join(", "),oe=L&&L.length&&Object(C.c)(L),ie=oe&&1===oe.length&&(!m||1===e.messages.length)&&r&&!M,ce=!p&&!m&&!d,le=ne&&ce,de=Object(u.a)(e),ue=this.context.getCss(T.a,{isStarred:P,isRead:v,highlightPosition:J,isCompactLayout:m,layout:l,hasJustOneMessage:ee,isCompactSlimLayout:z,isCompactNormalLayout:Y,isCompactRelaxedLayout:X,isNonCompactSlimLayout:$,borderless:d,showSubjectSearchAndHovered:le,isCompactHovered:ae,isCompactHasEmailTypeIcon:(de.length>0||k)&&!d&&!ne&&m,darkThemeMode:se}),me=ue.container+(n?" "+ue.active:"")+(s?" "+ue.selected:"");return o.a.createElement("a",{role:"row","data-test-id":"message-list-item","data-test-active":s,"data-test-starred":P,"data-test-read":v,tabIndex:this.props.tabIndex,"aria-label":V(Te.email_aria_label,{senderNames:re}),href:a,onClick:this.handleOnClick,onDoubleClick:this.handleOnDoubleClick,onMouseOver:()=>{this.state.hover||this.props.isScrolling()||this.props.isDragging()||this.setState({hover:!0})},onMouseLeave:()=>this.setState({hover:!1}),className:me+" message-list-item",onDragStart:A.bind(null,e),onDragEnd:O,rel:"noopener"},d?null:o.a.createElement("div",{className:ue.gridB1,draggable:"true"},o.a.createElement("div",{"data-test-id":"icon-btn-checkbox-container",className:ue.check,role:"gridcell",onClick:this.handleCheckboxClicked,onDoubleClick:this.handleCheckboxClicked},o.a.createElement(I.a,{"data-test-id":"icon-btn-checkbox","aria-label":V(s?Te.deselectionAriaLabel:Te.selectionAriaLabel),isChecked:!!s,onClick:this.handleCheckboxClicked,onDoubleClick:this.handleCheckboxClicked,isInverted:se,className:ue.checkbox})),q?o.a.createElement(E.a,{"data-test-id":"icon-btn-ybadge",className:ue.ybadgeIcon},o.a.createElement(g.b,{kind:b.b.YBADGE,size:b.d.XS,colorState:b.a.YBADGE})):o.a.createElement("div",{className:ue.readIcon,role:"gridcell",ref:y.bind(null,t)},o.a.createElement(F,{isHovered:ne,isRead:v,isReplied:x,isForwarded:w,isDarkThemeMode:se,onClick:this.handleReadIconClicked})),o.a.createElement("div",{className:ue.senders,"data-test-id":"senders"},o.a.createElement(S.a,{isRead:v,senders:L,myAddresses:r,onClick:this.handleAccessibilityOnClick}),ae?o.a.createElement(Z,{isHovered:ne,showSearch:ie,isCompact:m,isDarkThemeMode:se,onClick:this.handleContactSearchClicked}):null,m?this.renderMessageCount(e.messages.length,ue.messageCount,ue.accessible):null,m?this.renderDraftLabel(Q,ue.draftIndicator,ue.accessible):null),m?null:o.a.createElement(Z,{isHovered:ne,showSearch:ie,searchType:_.hd.CONTACT,isCompact:m,isDarkThemeMode:se,onClick:this.handleContactSearchClicked})),d?null:o.a.createElement("div",{className:ue.starIcon,role:"gridcell",draggable:"true",ref:D.bind(null,t)},o.a.createElement(B,{isHovered:ne,isStarred:P,isDarkThemeMode:se,onClick:this.handleStarIconClicked,starredMailEnhanced:H,starAnimation:U,msgListDensity:j,isCompactLayout:m})),o.a.createElement("div",{className:ue.gridB2,draggable:"true"},o.a.createElement("div",{className:ue.message},o.a.createElement("div",{className:ue.subjectContainer},this.props.showInboxCouponsCue&&this.props.cardConversationId?this.selectCueToRender(W.subjectWithMatchDelimiter,i,ue):this.renderSubject(W.subjectWithMatchDelimiter,i,ue),m?null:this.renderMessageCount(e.messages.length,ue.messageCount,ue.accessible),m?null:this.renderDraftLabel(Q,ue.draftIndicator,ue.accessible)),o.a.createElement("span",{className:ue.subjectSearchIcon},o.a.createElement(Z,{isHovered:ne,showSearch:ce,searchType:_.hd.SUBJECT,isCompact:m,isDarkThemeMode:se,onClick:this.handleSubjectSearchClicked})),G?o.a.createElement("div",{className:ue.snippetContainer,"data-test-id":"snippet"},o.a.createElement("div",{className:ue.snippet,onClick:this.handleAccessibilityOnClick,role:"gridcell"},Object(R.b)(W.snippetWithMatchDelimiter,i,ue.highlightedTerm))):null),this.renderMessageDestinationLabel(ue),o.a.createElement("div",{className:ue.emailTypeIcon,"data-test-id":"email-type-icon-wrapper",role:"gridcell"},d?null:this.renderEmailTypeIcon()),o.a.createElement("span",{className:ue.dateWrapper+" date",style:ne?{display:"none"}:{},role:"gridcell"},o.a.createElement(f.a,{"data-test-id":"date-time-label",date:new Date(1e3*W.date),timezone:this.context.timezone.name})),!d&&!m&&o.a.createElement("div",{className:ue.iconB2,role:"gridcell"},o.a.createElement(K.a,{isHovered:ne,isCompact:m,isDarkThemeMode:se,onClick:this.handleDeleteIconClicked}))),!d&&m&&o.a.createElement("div",{className:ue.iconB2,role:"gridcell"},o.a.createElement(K.a,{isHovered:ne,isCompact:m,isDarkThemeMode:se,onClick:this.handleDeleteIconClicked})))}}Oe.contextTypes={intl:c.i.isRequired,getCss:a.a.func,getThemeMode:a.a.func,config:a.a.object,timezone:p.e},Oe.defaultProps={isScrolling:Se,isDragging:Se,onDragStart:Se,readRef:Se,starRef:Se};t.a=Object(i.b)((e,t)=>{const{getRelevantMessageIdFromMessageGroupId:s,getMessagesSelectors:n,isFeatureEnabled:a,getSetting:r,doesMessageGroupIdExist:o,getMessageIdsFromMessageGroupId:i,getFoldersSelectors:c,getCardConversationIdByMessageId:l,__patchV2MessageGroupItem__:d}=Object(re.b)(e),{getFolderDisplayTypeByFolderId:u}=c(),{listId:m,messageGroupId:p,messageGroupListId:h}=t,E=Object(_e.a)([m]),g=s(p,m),{isCoupon:b}=n(),I=a(_.mb.RSVP),f=a(_.mb.CPN_ICON_MSG_LIST),S=o(p)?i(p):[],A=f&&S.some(b),T=r(_.nd.PREVIEWABLE_INLINE_ATTACHMENT_SIZE),C=a(_.mb.STARRED_MAIL_ENHANCED),O=r(_.nd.STAR_ANIMATION),{isRead:R,isStarred:N,isReplied:M,isForwarded:D,getParticipantsInfo:y,isSpam:L,folderName:v,accountProvider:P,accountDescription:F}=Object(he.b)(e,{streamId:E,groupId:p,listId:m,relevantMessageId:g}),{senders:x=[]}=y(),w=x.length>0?x[0].name:"",k=l(g),{getEnvironmentSelectors:H}=Object(re.b)(e),U=H();return{messageGroup:d({id:p},h||m),cardConversationId:k,fromName:w,rsvpEnabled:I,previewableInlineAttachmentSize:T,isRead:R,isStarred:N,isReplied:M,isForwarded:D,accountProvider:P,accountDescription:F,folderName:v,senders:x,isSpam:L,showCouponIcon:A,getFolderDisplayTypeByFolderId:u,starredMailEnhanced:C,starAnimation:O,isRTL:"rtl"===U.getPageDirection()}},e=>({couponIconClicked:()=>e({type:be.zc,i13nModel:{mKey:te.e.COUPON_ICON_CLICKED,sec:te.g.MSG_LIST}})}))(Oe)},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(27),c=s(208),l=s.n(c),d=s(11),u=s.n(d),m=s(584),p=s.n(m),_=s(4),h=s(37),E=s(15),g=s(65),b=s(0),I=s(3),f=s(184),S=(s(8),s(20)),A=s(123),T=s(17),C=s(22),O=s(124),R=s(585),N=s.n(R),M=s(149),D=s(187);const y=/^(?:https?|ftp|mailto):(?:\/\/)?/i;const L=Object(_.h)({link_text_placeholder:{id:"compose.link_placeholder",defaultMessage:"Display text"},close:{id:"compose.link_close",defaultMessage:"Close"},error_title:{id:"compose.link_error_title",defaultMessage:"Error"},open_link_alert:{id:"compose.link_test_error",defaultMessage:"This link cannot be tested."}}),v="app",P=/^(?:https?|ftp|mailto):(?:\/\/)?/i;class F extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={focusOnLinkInput:!1,saveBtnEnabled:!1,showTestAlert:!1},this.saveLink=(()=>{let e=this.linkInput.value.trim();const t=this.textInput.value.trim()||e.replace(P,"");P.test(e)||(e="http://"+e),this.props.onSave(t,e)}),this.handleClose=(()=>{this.props.onClose()}),this.handleKeyDown=(e=>{e.stopPropagation(),"Enter"===e.key?(e.preventDefault(),this.saveLink()):"Escape"===e.key&&(e.preventDefault(),this.handleClose())}),this.toggleTestLink=(e=>{this.setState({focusOnLinkInput:e})}),this.openTestLink=(()=>{const e=this.linkInput.value.trim(),t=P.test(e);e.replace(P,"")&&(function(e){let t=!1;if(!y.test(e))return t;const s=window.open();if(s){s.opener=null;try{s.location=e,t=!0}catch(e){}}return t}(t?e:`http://${e}`)||this.setState({showTestAlert:!0}))}),this.handleLinkInput=(()=>{const e=this.linkInput.value.trim();this.setState(""===e||"http://"===e?{saveBtnEnabled:!1}:{saveBtnEnabled:!0})}),this.hideTestAlertDialog=(()=>{this.setState({showTestAlert:!1})}),t}componentDidMount(){const{anchorNode:e}=this.props,{left:t,top:s}=Object(D.a)(e,this.dropdown);(s>document.getElementById(v).clientHeight||s<0)&&e.parentNode.scrollIntoView(),Object.assign(this.dropdown.style,{left:t+"px",top:Object(D.a)(e,this.dropdown).top+"px"}),this.timeout=setTimeout(()=>{const e=this.linkInput.value,t=e&&e.trim().length||0;this.linkInput.focus(),this.linkInput.setSelectionRange(t,t)},0)}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}render(){const{textInput:e,linkInput:t}=this.props,{saveBtnEnabled:s,focusOnLinkInput:n}=this.state,a=!(t||s),r=this.context.intl.formatMessage,i=r(L.link_text_placeholder),c=u()(N.a,{saveBtnEnabled:!a,focusOnLinkInput:n}),l=Object(O.getTextDirection)(e||i);return o.a.createElement(A.a,null,o.a.createElement("div",{ref:e=>this.dropdown=e,className:c.container,onKeyDown:this.handleKeyDown,"data-test-id":"hyperlink-plugin"},this.state.showTestAlert?o.a.createElement(M.a,{title:r(L.error_title),message:r(L.open_link_alert),onAccept:this.hideTestAlertDialog}):null,o.a.createElement("div",{className:c.close},o.a.createElement(C.a,{onClick:this.handleClose,kind:I.b.CLOSE,size:I.d.XXS,title:r(L.close),"aria-label":r(L.close)})),o.a.createElement("div",{className:c.item},o.a.createElement("input",babelHelpers.extends({ref:e=>this.textInput=e,className:c.textInput,placeholder:r(L.link_text_placeholder),onFocus:this.handleLinkInput,defaultValue:e},l&&{dir:l}))),o.a.createElement("div",{className:c.item},o.a.createElement("input",{ref:e=>this.linkInput=e,className:c.linkInput,placeholder:"http://www.yahoo.com",onFocus:this.toggleTestLink.bind(this,!0),onBlur:this.toggleTestLink.bind(this,!1),onChange:this.handleLinkInput,defaultValue:t}),o.a.createElement("span",{"data-test-id":"testLinkInput",className:c.testLink,onMouseDown:this.openTestLink},o.a.createElement(_.c,{id:"compose.test_hyperlink",defaultMessage:"Test"}))),o.a.createElement("div",{className:c.item},o.a.createElement(T.a,{onClick:this.saveLink,className:c.button,disabled:a},o.a.createElement(_.c,{id:"compose.save_hyperlink",defaultMessage:"Save"})))))}}F.contextTypes={intl:_.i.isRequired};var x=F,w=s(587),k=s.n(w);const H=/^(?:https?|ftp|mailto):/i,U=u()(k.a);var j=class extends o.a.Component{constructor(...e){var t;return t=super(...e),this.editLink=(()=>{this.props.onEdit()}),this.removeLink=(()=>{this.props.onRemove()}),t}componentDidMount(){const{anchorNode:e}=this.props,{left:t,top:s}=Object(D.a)(e,this.container);Object.assign(this.container.style,{left:t+"px",top:s+"px"})}render(){const e=this.props.goToLinkValue.trim(),t=H.test(e);return o.a.createElement(A.a,null,o.a.createElement("div",{className:U.container,ref:e=>this.container=e},o.a.createElement("div",{className:U.linkWrapper},o.a.createElement(_.c,{id:"compose.link_go_to",defaultMessage:"Go to"})," ",o.a.createElement("span",null,t?o.a.createElement("a",{className:U.link,href:e,rel:"noreferrer",target:"_blank","data-test-id":"anchor"},e):e)),o.a.createElement("div",{"data-test-id":"editControl",className:U.control,onClick:this.editLink},o.a.createElement(_.c,{id:"compose.link_edit",defaultMessage:"Edit"})),o.a.createElement("div",{"data-test-id":"removeControl",className:U.control,onClick:this.removeLink},o.a.createElement(_.c,{id:"compose.link_remove",defaultMessage:"Remove"}))))}},G=s(588),B=s.n(G),V=s(19),W=s(23);const q=u()(B.a);var z=class extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={renderGoToLink:!1,renderHyperlinkDropdown:!1,textInput:"",linkInput:"",goToLinkValue:""},this.handleClick=(e=>{"A"===e.target.nodeName&&-1===e.target.className.indexOf(W.HYPERLINK_PLUGIN_IGNORE_CLASS)?this.props.editor.pushButton("clicklink",e.target):this.hideGoToLink()}),this._getFirstCurrentLinkNodes=(()=>this._currentLinkNodes[0]),this._setCurrentLinkNodes=(e=>{this._currentLinkNodes=Array.isArray(e)?e:NodeList.prototype.isPrototypeOf(e)?Array.prototype.slice.call(e):[e]}),this.createNewLink=(e=>{let t=e;const s=t.parentNode;"A"===s.nodeName?t=s:(this.props.editor.pushButton("insertHTML","<a data-tmp>_</a>"),t=s.querySelector("[data-tmp]")),t&&(this._setCurrentLinkNodes(t),this._getFirstCurrentLinkNodes().innerHTML="",this.setState({renderHyperlinkDropdown:!0,renderGoToLink:!1,anchorNode:t,textInput:t.textContent||"",linkInput:t.hasAttribute("href")?t.getAttribute("href").trim():"http://"}))}),this.createLinkFromSelection=(e=>{let t=e;t.nodeType===Node.TEXT_NODE?"A"!==t.parentNode.nodeName?(document.execCommand("createlink",!1," "),t=this.props.editor.element.querySelectorAll('a[href=" "]')):t=t.parentNode:"A"!==t.nodeName&&(document.execCommand("createlink",!1," "),t=this.props.editor.element.querySelectorAll('a[href=" "]')),Object(V.a)(t,"Cannot find anchor element to create link"),this._setCurrentLinkNodes(t),this.showHyperLinkDropdown()}),this.showHyperLinkDropdown=(()=>{if(!this._currentLinkNodes&&this._currentLinkNodes.length<1)return;let e="";this._getFirstCurrentLinkNodes().hasAttribute("href")&&""!==this._getFirstCurrentLinkNodes().getAttribute("href").trim()&&(e=this._getFirstCurrentLinkNodes().getAttribute("href")),this.setState({renderHyperlinkDropdown:!0,renderGoToLink:!1,anchorNode:this._currentLinkNodes[this._currentLinkNodes.length-1],textInput:this._currentLinkNodes[this._currentLinkNodes.length-1].textContent,linkInput:e})}),this.hideHyperLinkDropdown=(()=>{this.setState({renderHyperlinkDropdown:!1})}),this.updateLink=((e,t)=>{const{editor:s}=this.props;if(this.hideHyperLinkDropdown(),!this._currentLinkNodes)return;this.props.editor.focus(),this._getFirstCurrentLinkNodes().focus();const n=window.getSelection(),a=document.createRange();let r;const o=this._currentLinkNodes.length;this._currentLinkNodes.forEach((s,n)=>{(r=document.createElement("a")).textContent=n===o-1?e||s.innerText:s.innerText||e,r.href=t,s.parentElement.replaceChild(r,s)}),this._currentLinkNodes=null,a.setStartAfter(r),a.setEndAfter(r),n.removeAllRanges(),n.addRange(a),a.collapse(),n.collapseToEnd(),s.contentChanged({type:"link",node:r}),document.execCommand("unlink",!1,!1)}),this.cancelCreateOrEditLink=(()=>{this.hideHyperLinkDropdown(),!this._currentLinkNodes||this._getFirstCurrentLinkNodes().getAttribute("href")&&""!==this._getFirstCurrentLinkNodes().getAttribute("href").trim()||this.removeCurrentLinkNodes()}),this.removeCurrentLinkNodes=(()=>{let e,t;this._currentLinkNodes.filter(e=>this.props.editor.element.contains(e)).forEach(s=>{e=s.parentElement,!(t=s.firstChild)||t.nodeType===Node.TEXT_NODE&&""===t.textContent.trim()||e.insertBefore(t,s),e.removeChild(s),e.normalize(),window.getSelection().removeAllRanges();const n=document.createRange();n.setStartAfter(e),n.setEndAfter(e),window.getSelection().addRange(n),window.getSelection().collapseToEnd()}),this._currentLinkNodes=null}),this.showGoToLink=(e=>{this.setState({renderHyperlinkDropdown:!1,renderGoToLink:!0,anchorNode:e,goToLinkValue:e.getAttribute("href")}),this._setCurrentLinkNodes(e)}),this.hideGoToLink=(()=>{this.setState({renderGoToLink:!1})}),this.editHyperLink=(()=>{this.showHyperLinkDropdown()}),this.removeHyperLink=(()=>{this.hideGoToLink(),this.removeCurrentLinkNodes()}),t}componentWillMount(){this.commands={createlink:{action:()=>{const e=window.getSelection();e.isCollapsed?this.createNewLink(e.anchorNode):this.createLinkFromSelection(e.anchorNode)}},clicklink:{action:(e,t)=>{this.showGoToLink(t)}}}}componentDidUpdate(e){this.props.editor!==e.editor&&this.props.editor.addPlugin({commands:this.commands})}render(){return o.a.createElement("div",{onClick:this.handleClick,className:q.container},this.props.children,this.state.renderHyperlinkDropdown?o.a.createElement(x,{onSave:this.updateLink,onClose:this.cancelCreateOrEditLink,textInput:this.state.textInput,linkInput:this.state.linkInput,anchorNode:this.state.anchorNode}):null,this.state.renderGoToLink?o.a.createElement(j,{onEdit:this.editHyperLink,onRemove:this.removeHyperLink,goToLinkValue:this.state.goToLinkValue,anchorNode:this.state.anchorNode}):null)}},Z=s(150),K=s(155);const Y=b.u.Dispositions,X=()=>{};class $ extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={rtePlaceholderVisible:!0,hiddenQuotedText:"",showSendAsAttachmentBtn:!0,hoveredImage:null,imageSize:W.CURRENT_IMAGE_SIZE_STATUS.SMALL},this.editorSetup=(e=>{const t=this.refs.rte,{content:s,htmlAnnotations:n,undoStack:a,redoStack:r,initialFocus:o}=e;if(this.rte||(this.rte=new l.a({element:t,isRich:!0,shouldTabIndent:!0,whitelistedAttributes:["style","size","href","src","face","color"],skippedFromMutationObserver:["data-inlineimagemanipulating"]}),this.rte.undoStack=a,this.rte.redoStack=r,this.rte.undoStack.length&&(this.rte.firstUndoSave=!1),this.rte.addPlugin({commands:{add_attachment:{action:()=>{e.onAttachmentShortcut(e.csid)}}},keydownCommands:{[W.RTEKeyModifier.SPECIAL|W.RTEKeyModifier.SHIFT]:{85:"add_attachment"},[W.RTEKeyModifier.SPECIAL]:{75:"createlink"}}})),s){const{quote:e,nonQuote:t}=Object(f.c)(s,n);this.setState({rtePlaceholderVisible:!1,hiddenQuotedText:e},()=>{this.props.autoExpandQuotedText&&this.state.hiddenQuotedText&&this.expandQuote()}),this.rte.setHTML(t)}else this.isListeningForChanges=!0;this._lazyLoadedPlugins&&this._initializeLazyLoadedPlugins(this._lazyLoadedPlugins,e),this._stationeryPlugin&&this._stationeryPlugin.checkAndSetDraft(),o&&this.rte.focus(),this.rte.addPlugin({onContentMutated:e=>{this.isListeningForChanges?this.onContentChange("content_mutation",e):this.isListeningForChanges=!0},contentChanged:e=>{e&&e.type&&W.EDITOR_EVENTS[e.type]&&this.onContentChange(e)}})}),this.onContentChange=(e=>{if(this.isListeningForChanges){const t=e=>"string"==typeof e?e:e&&e.type;this.props.onContentChange({format:{richTextMode:this.rte.isRich},caret:this.rte.getCaretCoordinates(),type:t(e),eventData:e&&e.eventData}),this.state.rtePlaceholderVisible&&this.setState({rtePlaceholderVisible:!1})}}),this.handleSendAsAttachment=(e=>{if(!e)return;const t=e.getAttribute("data-id");t?this.props.onSendAsAttachment(!0,t,null):this.props.onSendAsAttachment(!1,null,Object(g.extractPidFromString)(e.src))}),this.resizeHoverImage=(e=>{this._inlineImagePlugin.resizeHoverImage(e)}),this._resizeLinkEnhancerCard=(e=>{this._linkEnhancerPlugin.handleResizeCard({newSize:e})}),this._removeLinkEnhancerCard=(()=>{this._linkEnhancerPlugin.handleRemoveCard()}),this._moveLinkEnhancerCard=(()=>{this._linkEnhancerPlugin.handleMoveCardToBottom()}),this.getInnerHtml=(()=>this.rte.getRawHTML()),this.getPlainText=(()=>this.rte.getText()),this.getUndoStack=(()=>this.rte.undoStack),this.getRedoStack=(()=>this.rte.redoStack),this.getRawMessageContent=(()=>this.rte.getRawHTML()+this.state.hiddenQuotedText),this.containsStationery=(()=>!!this._stationeryPlugin&&this._stationeryPlugin.isStationeryUsed()),this.handleMouseDown=(()=>{this.state.rtePlaceholderVisible&&this.setState({rtePlaceholderVisible:!1})}),this.handleKeyDown=(e=>{this.props.onKeyDown&&this.props.onKeyDown(e)}),this.handleQuoteExpand=(e=>{e.preventDefault(),e.stopPropagation(),this.expandQuote()}),this.expandQuote=(()=>{const{hiddenQuotedText:e}=this.state;let t="";if(this.props.cepForward){const s=e.indexOf("<div fwdid");if(-1===s)t=e;else{const n=e.indexOf(">",s);t=e.substring(0,s)+e.substring(n+1)}this.props.onExpandQuotedText({csid:this.props.csid})}else t=e;this.isListeningForChanges=!t,this.rte.setHTML(t,{isAppend:!0,skipContentChanged:!0}),this.setState({hiddenQuotedText:""}),this.rte.undoStack.concat(this.rte.redoStack).forEach(e=>{const s=Object(Z.getInertElement)(e.html);Object(Z.setPurifiedHTML)(s,t,!0),e.html=s.innerHTML}),this._stationeryPlugin&&this._stationeryPlugin.checkAndSetDraft()}),this.updateImgHoverOverlayProps=(e=>{this.setState(babelHelpers.extends({showSendAsAttachmentBtn:!1,imageSize:W.CURRENT_IMAGE_SIZE_STATUS.SMALL},e))}),this.updateCurrentCardState=(({newCardSize:e,hoveredCard:t})=>{this.setState({cardSize:e,hoveredCard:t})}),this.handlePluginsLoaded=(e=>{this._lazyLoadedPlugins=e,this.rte&&this._initializeLazyLoadedPlugins(this._lazyLoadedPlugins)}),this._initializeLazyLoadedPlugins=((e,t)=>{const{InlineImagePlugin:s,StationeryPlugin:n,LinkEnhancerPlugin:a,TableFormatterPlugin:r}=e;if(this.props.linkEnhancer&&!this._linkEnhancerPlugin&&(this._linkEnhancerPlugin=new a({rte:this.rte,overlay:Object(i.findDOMNode)(this.refs.linkEnhancerOverlay),apiClient:this.context.linkEnhancerClient,blacklist:this.props.linkEnhancerUrlBlacklist,enhancedLinks:this.props.enhancedLinks,scrollableArea:this.props.scrollableAreaRef,onCardHovered:this.updateCurrentCardState,context:this.context,linkEnhancerFetch:this.props.linkEnhancerFetch,onLinkEnhancerlinkRemoved:this.props.onLinkEnhancerlinkRemoved,onLinkEnhancerlinkMoveToInline:this.props.onLinkEnhancerlinkMoveToInline,onLinkEnhancerlinkAdded:this.props.onLinkEnhancerlinkAdded,onLinkEnhancerlinkResized:this.props.onLinkEnhancerlinkResized,onLinkEnhancerlinkMoveToBottom:this.props.onLinkEnhancerlinkMoveToBottom}),this.rte.addPlugin(this._linkEnhancerPlugin)),this.props.stationery&&!this._stationeryPlugin){const{htmlAnnotations:e=[],initialFocus:s}=t||this.props,{onStationeryThemeChange:a,onStationeryDefaultThemeChange:r,rtl:o}=this.props;this._stationeryPlugin=new n({rte:this.rte,htmlAnnotations:e,onThemeChange:a,onDefaultThemeChange:r,context:this.context,fontFamily:this.props.composeFontFamily,rtl:o}),this.rte.addPlugin(this._stationeryPlugin),this._stationeryPlugin.checkAndSetDraft(),!this.containsStationery()&&this.props.canApplyDefaultStationery&&this._stationeryPlugin.update(this.props.getThemeConfig()),s&&this.rte.focus()}this.props.inlineAttachment&&!this._inlineImagePlugin&&(this._inlineImagePlugin=new s({rte:this.rte,getAttachmentInfo:()=>this.props.getAttachments().filter(({disposition:e})=>e===Y.INLINE),onImageRemove:this.props.onImageRemove,onImagePaste:this.props.onImagePaste,updateImgHoverOverlayProps:this.updateImgHoverOverlayProps,_overlay:Object(i.findDOMNode)(this.refs.imageOverlay)}),this._inlineImagePlugin.setScrollableArea(this.props.scrollableAreaRef),this.rte.addPlugin(this._inlineImagePlugin)),this._tableFormatterPlugin||(this._tableFormatterPlugin=new r,this.rte.addPlugin(this._tableFormatterPlugin))}),this.formatMessage=((e,t={})=>this.context.intl.formatMessage(e,t)),this._notifyPlugins=(()=>{const{linkEnhancer:e,inlineAttachment:t}=this.props;t&&this._inlineImagePlugin&&(this._inlineImagePlugin.setOverylayNode(Object(i.findDOMNode)(this.refs.imageOverlay)),this._inlineImagePlugin.contentChanged("sethtml")),e&&this._linkEnhancerPlugin&&(this._linkEnhancerPlugin.setOverylayNode(Object(i.findDOMNode)(this.refs.linkEnhancerOverlay)),this._linkEnhancerPlugin.contentChanged("sethtml"))}),t}componentWillMount(){this.isListeningForChanges=!1}componentDidMount(){document.execCommand("enableObjectResizing",!1,"false"),this.editorSetup(this.props)}componentWillReceiveProps(e){if(e.csid!==this.props.csid&&this.editorSetup(e),(e.composeFontSize!==this.props.composeFontSize||e.composeFontFamily!==this.props.composeFontFamily)&&this.rte){const t=this.rte.element.style,s=Object(g.getFontSizeStyle)(e.composeFontSize),n=e.composeFontFamily.replace(/"/g,""),a=Object(K.b)(this.rte.element),r=Object(K.c)(a);if(t.fontSize=s,t.fontFamily=n,a&&!r){const e=a.style;e.fontSize=s,e.fontFamily=n}}this._inlineImagePlugin&&this._inlineImagePlugin.setScrollableArea(e.scrollableAreaRef),this._linkEnhancerPlugin&&(this._linkEnhancerPlugin.setScrollableArea(e.scrollableAreaRef),this._linkEnhancerPlugin.setEnhancedLinks(e.enhancedLinks))}shouldComponentUpdate(e,t){const{props:s,state:n}=this;return e.csid!==s.csid||e.content!==s.content||t.hiddenQuotedText!==n.hiddenQuotedText||t.rtePlaceholderVisible!==n.rtePlaceholderVisible||t.showSendAsAttachmentBtn!==n.showSendAsAttachmentBtn||t.hoveredImage!==n.hoveredImage||t.hoveredCard!==n.hoveredCard||t.imageSize!==n.imageSize||t.cardSize!==n.cardSize||e.contentEditable!==s.contentEditable}componentWillUnmount(){this.rte&&this.rte.destroy()}render(){const{ariaLabel:e,kind:t,contentEditable:n,inlineAttachment:a,scrollableAreaRef:r,onImageRemove:i}=this.props,c=u()(p.a,{kind:t}),{hiddenQuotedText:l,showSendAsAttachmentBtn:d,imageSize:m,cardSize:h}=this.state,b={fontFamily:this.props.composeFontFamily,fontSize:Object(g.getFontSizeStyle)(this.props.composeFontSize)};return o.a.createElement("div",{tabIndex:-1,onBlur:this.props.onBlur,"data-test-id":"editorWrapper",className:c.editorWrapper,ref:e=>this.editorWrapper=e},o.a.createElement("div",{className:c.placeholder,"data-test-id":"rte_placeholder"},this.state.rtePlaceholderVisible?o.a.createElement(_.c,{id:"compose.rte_placeholder",defaultMessage:"Write something..."}):null),o.a.createElement(z,{editor:this.rte},o.a.createElement(S.a,{import:"./editor_plugin_loader.jsx",onLoad:this.handlePluginsLoaded,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,947))},_moduleResolver:function(){return 947}}),o.a.createElement("div",{className:c.editorContainer,id:"editor-container",ref:"editorContainer"},o.a.createElement("div",{"data-test-id":"rte",role:"textbox",spellCheck:!0,autoCorrect:"off","aria-multiline":!0,contentEditable:n,"aria-label":e,className:"rte "+c.rte,ref:"rte",style:b,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.props.onFocus}),a?o.a.createElement(S.a,{import:"./img_hover_overlay.jsx",ref:"imageOverlay",onload:this._notifyPlugins,overlayType:W.RTEHoverOverlayTypes.IMAGE,onHoverImageRemove:this.removeHoverImage,onImageResize:this.resizeHoverImage,onSendAsAttachment:this.handleSendAsAttachment,showSendAsAttachmentBtn:d,hoveredElement:this.state.hoveredImage,onImageRemove:i,imageSize:m,editor:this.rte,editorWrapperRef:this.editorWrapper,scrollableAreaRef:r,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,648))},_moduleResolver:function(){return 648}}):null,this.props.linkEnhancer?o.a.createElement(S.a,{import:"./img_hover_overlay.jsx",onload:this._notifyPlugins,ref:"linkEnhancerOverlay",overlayType:W.RTEHoverOverlayTypes.LINK_ENHANCER_CARD,onCardResize:this._resizeLinkEnhancerCard,onCardRemove:this._removeLinkEnhancerCard,onCardMove:this._moveLinkEnhancerCard,hoveredElement:this.state.hoveredCard,cardSize:h,editor:this.rte,editorWrapperRef:this.editorWrapper,scrollableAreaRef:r,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,648))},_moduleResolver:function(){return 648}}):null)),l?o.a.createElement("div",null,o.a.createElement("button",{"data-test-id":"compose-show-quoted-text",onClick:this.handleQuoteExpand,className:c.button},o.a.createElement("span",{className:c.buttonInner},o.a.createElement(E.b,{kind:I.b.CHEVRON_UP,size:I.d.XXS,rotate:I.c.D90,colorState:I.a.DISABLED}),o.a.createElement(_.c,{id:"compose.show_quote",defaultMessage:"Show Original Message"})))):null)}}$.contextTypes={config:a.a.object,intl:_.i.isRequired,executeAction:a.a.func,linkEnhancerClient:h.b},$.defaultProps={kind:W.EditorTypes.COMPOSE,onStationeryThemeChange:X,onStationeryDefaultThemeChange:X,autoExpandQuotedText:!1,onExpandQuotedText:X,contentEditable:!0,undoStack:[],redoStack:[],getThemeConfig:X,getAttachments:()=>[],canApplyDefaultStationery:!1};t.a=$},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(4),c=s(13),l=s(0),d=s(7),u=s(490),m=s.n(u);const p=({children:e,isDark:t},{getCss:s})=>{const n=s(m.a);return o.a.createElement("ul",{className:n.container,role:"tablist"},r.Children.toArray(e).map(e=>Object(r.cloneElement)(e,{isDark:t})))};p.contextTypes={getCss:a.a.func};var _=p,h=s(491),E=s.n(h);const g=(e,{getCss:t})=>{let{children:s,onClick:n,isDark:a=!1,isSelected:r=!1}=e,i=babelHelpers.objectWithoutProperties(e,["children","onClick","isDark","isSelected"]);const c=t(E.a,{isSelected:r,isDark:a,isDarkAndSelected:a&&r});return o.a.createElement("li",{className:c.container,role:"presentation"},o.a.createElement("button",babelHelpers.extends({},i,{className:c.button,role:"tab","aria-selected":r,onClick:n}),s))};g.contextTypes={getCss:a.a.func};var b=g,I=s(492),f=s.n(I),S=s(102),A=s(25),T=s(5),C=s(14);s.d(t,"b",function(){return N});const O={[l.Gb.TOP_CONTACTS]:T.e.TOP_VIEW,[l.Gb.USER_CREATED_CONTACTS]:T.e.USER_CREATED_VIEW,[l.Gb.PEOPLE]:T.e.PEOPLE_VIEW,[l.Gb.NOT_PEOPLE]:T.e.BUSINESS_VIEW},R=Object(i.h)({top:{id:"contacts_pane.top",defaultMessage:"Top"},people:{id:"contacts_pane.people",defaultMessage:"People"},business:{id:"contacts_pane.business",defaultMessage:"Businesses"},userCreated:{id:"contacts_pane.userCreated",defaultMessage:"All"}}),N=[{title:R.top,listFilter:l.Gb.TOP_CONTACTS},{title:R.userCreated,listFilter:l.Gb.USER_CREATED_CONTACTS},{title:R.business,listFilter:l.Gb.NOT_PEOPLE}],M=({listId:e,onChange:t},s)=>{const n=Object(d.r)(e),{formatMessage:a}=s.intl,r=s.getCss(f.a),i=Object(A.k)({context:s,includeMedium:!0});return o.a.createElement("div",{"data-test-id":"contacts-pane-header",className:r.container},o.a.createElement(_,{isDark:i},N.map(({title:e,listFilter:s})=>o.a.createElement(b,{"data-test-id":"contacts-pane-"+s,isSelected:n===s,onClick:e=>t({listFilter:s,i13nModel:{mKey:O[s],sec:T.g.CONTACTS_PANE,interactionType:Object(C.i)(e)}}),key:s},a(e)))))};M.contextTypes={getCss:a.a.func,getThemeMode:a.a.func,intl:i.i.isRequired};t.a=Object(c.b)(void 0,e=>({onChange:t=>e(Object(S.b)(t))}))(M)},function(e,t,s){"use strict";var n=s(6),a=s.n(n),r=s(1),o=s.n(r),i=s(13),c=s(51),l=s(22),d=s(3),u=s(4),m=s(17),p=s(625),_=s.n(p);const h=Object(u.h)({yahoo_mail_pro_branding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},close_ad_thank_you:{id:"ad.close_thank_you",defaultMessage:"close"},upgrade_now_btn_label:{id:"ad.upgrade_now_btn_label",defaultMessage:"Upgrade now"},upsell_message_caption:{id:"ad.upsell_message_caption",defaultMessage:"Want an ad-free inbox? Upgrade to {YahooMailProBrand}."},upsell_message_trail_plan_caption:{id:"ad.upsell_message_trail_plan_caption",defaultMessage:"Want an ad-free inbox? Try {YahooMailProBrand} for free!"},upsell_message_trial_plan_caption_short:{id:"ad.upsell_message_trial_plan_caption_short",defaultMessage:"Try {YahooMailProBrand} for free!"},thank_you_message_caption:{id:"ad.thank_you_message_caption",defaultMessage:"We'll review your feedback and make changes as needed."},thank_you:{id:"ad.thank_you_message",defaultMessage:"Thank you for your feedback."}});class E extends o.a.Component{constructor(...e){var t;return t=super(...e),this.openPaymentPage=(()=>{this.props.mailProEligible&&window.open(this.context.config.adFreeMailUrl,"_blank")}),t}render(){const{isCompactLayout:e,mailProEligible:t}=this.props,{formatMessage:s}=this.context.intl,n=this.context.getCss(_.a,{isCompactLayout:e}),a=e?h.upsell_message_trial_plan_caption_short:h.upsell_message_trail_plan_caption;return o.a.createElement("div",{className:n.thankYouContainer,"data-test-id":"feedback_thank_you"},o.a.createElement("div",{className:n.textContainer,onClick:this.openPaymentPage},o.a.createElement("div",{className:n.header},o.a.createElement("span",{className:n.thankYou},s(h.thank_you)),e?null:o.a.createElement("span",null," "),t?s(a,{YahooMailProBrand:s(h.yahoo_mail_pro_branding)}):null),t?null:o.a.createElement("div",{className:n.caption,title:s(h.thank_you_message_caption)},s(h.thank_you_message_caption))),t?o.a.createElement(m.a,{onClick:this.openPaymentPage,className:n.upgradeNow,title:s(h.upgrade_now_btn_label),"data-test-id":"upgrade-now"},s(h.upgrade_now_btn_label)):null,o.a.createElement("div",{className:n.close,"data-test-id":"close"},o.a.createElement(l.a,{kind:d.b.CLOSE,size:d.d.XXS,colorState:d.a.DISABLED,onClick:this.props.onAdFeedbackClose,title:s(h.close_ad_thank_you)})))}}E.contextTypes={intl:u.i.isRequired,config:a.a.object,getCss:a.a.func.isRequired};var g=E,b=s(361),I=s.n(b),f=s(0);const S=Object(u.h)({ad_offensive:{id:"ad.offensive",defaultMessage:"It's offensive"},ad_notRelevant:{id:"ad.notRelevant",defaultMessage:"It's not relevant"},ad_keepSeeing:{id:"ad.keepSeeing",defaultMessage:"I keep seeing this"},ad_somethingElse:{id:"ad.somethingElse",defaultMessage:"Something else:"},close_ad_feedback:{id:"ad.close_feedback",defaultMessage:"close"},ad_done:{id:"ad.feedback_done",defaultMessage:"Done"},ad_form_question:{id:"ad.form_question",defaultMessage:"Before you close this ad, would you tell us why you didn't like it?"}});class A extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={active:""},this.getChoice=(()=>this.state.active),this.onChange=(e=>{this.setState({active:e})}),this.onAdFeedbackSubmit=(e=>{e.preventDefault(),this.props.submitAdFeedback({reason:this.getChoice(),comment:this.state.active===f.nb.SOMETHING_ELSE?this.refs.input.value:"",sectionId:this.props.sectionId})}),this.renderRadio=(e=>{const t=e===f.nb.SOMETHING_ELSE,{isCompactLayout:s}=this.props,n=this.state.active===f.nb.SOMETHING_ELSE,a=this.context.getCss(I.a,{freeTextFocused:n,isCompactLayout:s});return o.a.createElement("div",{className:a.optionContainer},o.a.createElement("input",{className:a.radio,type:"radio",name:"adFeedbackRadio",onChange:this.onChange.bind(this,e),checked:t?n:null}),o.a.createElement("span",{className:a.text},o.a.createElement(u.c,S["ad_"+e])),t?o.a.createElement("input",{className:a.freeText,onFocus:this.onChange.bind(this,f.nb.SOMETHING_ELSE),ref:"input",onKeyDown:e=>e.stopPropagation()}):null)}),t}render(){const{isCompactLayout:e}=this.props,{formatMessage:t}=this.context.intl,s=this.context.getCss(I.a,{isCompactLayout:e});return o.a.createElement("form",{className:s.container,"data-test-id":"feedback-list-item"},o.a.createElement("div",{className:s.header},o.a.createElement("span",{className:s.title,title:t(S.ad_form_question)},t(S.ad_form_question)),o.a.createElement("span",{className:s.close,"data-test-id":"feedback-close"},o.a.createElement(l.a,{kind:d.b.CLOSE,size:d.d.XXS,colorState:d.a.DISABLED,onClick:this.props.onAdFeedbackClose,title:t(S.close_ad_feedback)}))),o.a.createElement("div",{className:s.columns},o.a.createElement("div",{className:s.column},this.renderRadio(f.nb.OFFENSIVE),this.renderRadio(f.nb.NOT_RELEVANT)),o.a.createElement("div",{className:s.column},this.renderRadio(f.nb.KEEP_SEEING),this.renderRadio(f.nb.SOMETHING_ELSE)),o.a.createElement("div",{className:s.buttonGroup},o.a.createElement(m.a,{"data-test-id":"feedback-done",onClick:this.onAdFeedbackSubmit,title:t(S.ad_done),marginLess:!0},o.a.createElement(u.c,S.ad_done)))))}}A.contextTypes={intl:u.i.isRequired,getCss:a.a.func.isRequired};var T=A,C=s(9),O=s(5);class R extends o.a.Component{constructor(...e){var t;return t=super(...e),this.onAdFeedbackClose=((e,t)=>{const{sectionId:s,closeAdFeedback:n}=this.props;e.preventDefault(),n({i13nModel:{mKey:O.e.PENCIL_AD_FEEDBACK_CLOSED,sec:O.g.MSG_LIST_AD,actionData:{sectionId:s,feedbackSubmitted:t}},sectionId:s})}),this.onAdFeedbackSubmit=(e=>{const{sectionId:t,submitAdFeedback:s}=this.props;s(babelHelpers.extends({i13nModel:{mKey:O.e.PENCIL_AD_FEEDBACK_SUBMITTED,sec:O.g.MSG_LIST_AD,actionData:babelHelpers.extends({sectionId:t},e)},sectionId:t},e))}),t}render(){return this.props.adFeedbackSubmitted?o.a.createElement(g,{onAdFeedbackClose:e=>this.onAdFeedbackClose(e,!0),isCompactLayout:this.props.isCompactLayout,mailProEligible:this.props.mailProEligible}):o.a.createElement(T,{onAdFeedbackClose:e=>this.onAdFeedbackClose(e,!1),submitAdFeedback:this.onAdFeedbackSubmit,isCompactLayout:this.props.isCompactLayout,sectionId:this.props.sectionId})}}R.contextTypes={executeAction:a.a.func,store:a.a.object};t.a=Object(i.b)((e,t)=>{const{getFeaturesSelectors:s,getAdsSelectors:n,getSetting:a}=Object(C.b)(e),{sectionId:r}=t,{getAdFeedbackBeacon:o,getAdFeedbackStatus:i}=n(),{isEnabled:c}=s(),l=o(t.sectionId);return{adFeedbackSubmitted:i()[r]===f.k.SUBMITTED,isCompactLayout:a(f.nd.PREVIEW_PANE)===f.Gc.RIGHT,adFeedbackBeacon:l,mailProEligible:c(f.mb.MAIL_PRO_ELIGIBLE)}},e=>({closeAdFeedback:t=>e(Object(c.c)(t)),submitAdFeedback:t=>e(Object(c.D)(t))}))(R)},function(e,t){e.exports={SyntaxError:{description:"Engineers messed up somewhere"},ApiError:{description:"The API layer returned an error"},HttpTransport:{NotOkStatusCode:{description:"Request returned with not-ok status code",requiredData:["statusCode"]},CrossDomainError:{description:"Origin is not allowed by Access-Control-Allow-Origin at Request.crossDomainError"},ContentTypeError:{description:"Return type does not match Request Accept type.",requiredData:["statusCode"]},ConnectionTimedOut:{description:"Request timed out."},ParseError:{description:"Parser is unable to parse the response.",requiredData:["statusCode","responseText"]},OutboundError:{description:"Request fails to go to the server from the client's browser."},ServerNotFound:{description:"DNS lookup failed."},ConnectionRefused:{description:"Client was not able to connect to host."},ConnectionReset:{description:"Connection reset by peer."}},BaseClient:{RequestBlocked:{description:"Request is blocked"},EmptyResponse:{description:"Response is empty"}},RequestQueue:{Rejected:{description:"A write request was issued. Therefore, the RequestQueue is dropping the call"},Timeout:{description:"Request timed out in queue"}},BootcampApiClient:{SearchError:{description:"The BootcampApiClient returned an error for the search"},SearchChunkError:{description:"The BootcampApiClient returned a chunk error"},SearchAdsError:{description:"The BootcampApiClient returned an error for parsing search ads"},SuggestionError:{description:"The BootcampApiClient returned an error for the suggestions"},LocalStoresError:{description:"The BootcampApiClient returned an error for fetching local stores"},RetailerOffersError:{description:"The BootcampApiClient returned an error for fetching offers for a retailer"},RetailerActivatedOffersError:{description:"The BootcampApiClient returned an error for fetching activated offers for a retailer"},TopRetailersError:{description:"The BootcampApiClient returned an error for fetching top retailers"},TopDealCategoriesError:{description:"The BootcampApiClient returned an error for fetching top deal categories"}},LinkEnhancerClient:{InvalidRequestUrl:{description:"Request URL is invalid."},EmptyResponseBody:{description:"Response Body is empty"},NoRootType:{description:"No Root Type"},NoWebSnippet:{description:"No Web Snippet"}},MailApiClient:{SaveAndSend:{description:"Both `Save` and `Send` requests have failed"},EmptyRequestPayload:{description:"Request payload is empty"}},UDBClient:{EmptyKey:{description:"Cannot write empty list of keys to UDB"},LoadTestMode:{description:"Cannot write to UDB in load testing mode"},DevBox:{description:"Cannot write to UDB on MAC devbox"},InvalidYca:{description:"Invalid YCA header"},Forbidden:{description:"Role does not have a permission or cookie is invalid"}},LaunchError:{LaunchApiFailed:{description:"Launch API has failed"},WrongMailboxState:{description:"Mailbox is deleted/disabled or maintainence"},NoScript:{description:"Javascript is disabled"},UnsupportedBrowser:{description:"browser is unsupported"},PageNotFound:{description:"Page not found"},ActiveMailboxNotFound:{description:"Active mailbox not found"}},Authentication:{InvalidCredentials:{description:"The user cookies are not valid anymore.",requiredData:["statusCode","errorCode","refresh"]},MissingCrumb:{description:"Crumb not passed as query parameter.",requiredData:["statusCode","errorCode"]},InvalidCrumb:{description:"No valid crumb found for the given user.",requiredData:["statusCode","errorCode"]},WssidReissue:{description:"Request does not have a valid wssid.",requiredData:["statusCode","errorCode","wssid"]}},GenericError:{description:"A generic error has occurred.",code:"FE-100"},UnknownError:{description:"An unkown error has occurred.",code:"FE-100"},AthenaApiClient:{DataError:{description:"The AthenaApiClient returned an error while parsing response."}},ClassicABClient:{CategoryDataError:{description:"Classic addressbook returned error for categories."},ContactsDataError:{description:"Classic addressbook returned error for contacts list."},ContactsSyncDataError:{description:"Classic addressbook returned error for contacts sync."}}}},function(e,t){},,,,,,,,function(e,t,s){"use strict";e.exports={className:{default:{container:"H_6UbO M_0 P_0 D_F"}},_key:"1ntBGx"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_X H_6UbO k_w M_Z1fefhY P_0 M6_Ic6Mi",button:"H_6D6F z_n x_n n_n bn_e8l bm_n q_n A_6EqO i_6Fd5 P_3Y3Gk u_b C_Z281SGl r_P"},isSelected:{button:"C_Z2aVTcY bm_FJ jb_eDQ bj_Z2aVTcY"},isDark:{button:"C_ZpQYvz"},isDarkAndSelected:{button:"C_Z21zYBA bj_Z21zYBA"}},_key:"25jHoL"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"m_ylyiC F_n P_1EudUu"},"themeMode-MEDIUM":{container:"m_2vTbMf"},"themeMode-DARK":{container:"m_2vTbMf"}},_key:"VrnQ"}},,function(e,t,s){"use strict";(function(e){s.d(t,"a",function(){return b});var n=s(21),a=s(128),r=s(351),o=s(99),i=s.n(o),c=s(44),l=s(35),d=s(34),u=s(73),m=s(36),p=s.n(m),_=s(42),h=s(0),E=s(8);const g={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"};class b{constructor({bootcampHost:e,cookie:t,headers:s,httpRetry:n}){this.cookie=t,this.bootcampHost=e,this.headers=s,this.httpRetry=n}_setCustomHeaders(e,t={}){t&&Object.keys(t).forEach(s=>{e.setHeader(s,t[s])})}searchStream(t,s){const o=new n.b("GET",this.bootcampHost+"/v3/srp?",{timeout:_.f,httpRetry:this.httpRetry}),c=p()(t,["keyword","buckets","plaBucketId"]);o.setHeader("Accept","multipart/form-data"),o.setHeader("Accept-Encoding","gzip;q=0, deflate, sdch, br"),o.setCookieHeader(this.cookie),this._setCustomHeaders(o,this.headers),o.withCredentials=!0,c.query=t.keyword,c.bucketid=(t.buckets||[]).join(","),t.plaBucketId&&(c.bucketid=t.plaBucketId);const{sortOrder:m=h.Cd.DATE_DESC}=t;c.order=g[m];const b=o.createStream(c),I=b.pipe(Object(a.a)({boundary:_.d})).pipe(function(t){return i()(function(s){try{const{status:n,response:a}=JSON.parse(s);if(401===n)throw new l.a(d.b,{statusCode:n,errorCode:"AUTH",refresh:!0});if(!a||200!==n)throw new l.a("BootcampApiClient.SearchError");if(a.verticals){const e=Object(u.a)(a.verticals,t);t.searchStreamLogger.logLatency(e,a.requestTS,a.responseTS),Object(E.b)(e)||this.emit("data",JSON.stringify(e))}else if(a.ads){const s=new e(a.ads,"base64").toString("utf8");t.parseXML(s,(e,s)=>{if(e)throw new l.a("BootcampApiClient.SearchAdsError");const n=Object(u.b)(s);t.searchStreamLogger.logLatency(n,a.requestTS,a.responseTS),this.emit("data",JSON.stringify(n))})}}catch(e){return this.emit("data",JSON.stringify({status:500,error:l.a.errorify(e)}))}})}({timezone:t.timezone,formatDateUsingUTC:"false"!==t.formatDateUsingUTC,parseXML:t.parseXML,searchStreamLogger:s})).pipe(Object(r.a)({boundary:_.d,headers:{"Content-Type":"application/json"}}));return b.on("error",e=>I.emit("error",e)),I}itemsApi(e){const t=e.url+"&wssid="+e.wssid+"&bucketid="+(e.buckets||[]).join(","),s=new n.b("GET",t,{httpRetry:this.httpRetry}),{ymreqid:a,listContentType:r,timezone:o}=e;return s.setHeader("Accept","application/json"),s.setCookieHeader(this.cookie),this._setCustomHeaders(s,this.headers),s.withCredentials=!0,s.send({ymreqid:a}).then(e=>JSON.stringify(Object(u.i)(JSON.parse(e.text),{listContentType:r},{timezone:o})))}deletePensieveApi(e){const t={itemIds:[e.itemIds]},s=`${this.bootcampHost}`+"/v3/items/hide?"+Object(c.stringify)(e),a=new n.b("POST",s,{httpRetry:this.httpRetry});return a.setHeader("Accept","application/json"),a.setCookieHeader(this.cookie),this._setCustomHeaders(a,this.headers),a.withCredentials=!0,a.send(t).then(e=>JSON.stringify(JSON.parse(e.text)))}gifsApi(e){const{ymreqid:t,timezone:s}=e,a=this.bootcampHost+function({query:e,mailboxId:t,wssid:s,offset:n,source:a=h.x.TUMBLR}){const r=Object.assign({vertical:"WEB",mimeTypes:"image/gif",source:a,limit:20,appid:"norrin",order:"desc",mailboxId:t,wssid:s,cursor:n},e||a===h.x.TENOR?{query:e}:{});return"/v3/items?"+Object(c.stringify)(r)}(e),r=new n.b("GET",a,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.setCookieHeader(this.cookie),this._setCustomHeaders(r,this.headers),r.withCredentials=!0,r.send({ymreqid:t}).then(e=>JSON.stringify(Object(u.i)(JSON.parse(e.text),{listContentType:h.Fb.GIFS},{timezone:s})))}suggestionsApi(e){const t=new n.b("GET",this.bootcampHost+"/v3/suggestions?",{httpRetry:this.httpRetry});return t.setHeader("Accept","multipart/form-data"),t.setCookieHeader(this.cookie),this._setCustomHeaders(t,this.headers),t.withCredentials=!0,new Promise((s,n)=>{t.createStream(Object.assign({multipart:!0},e)).on("error",n).pipe(Object(a.a)({boundary:_.d})).once("data",t=>{let a;try{a=Object(u.o)(JSON.parse(t),{timezone:e.timezone})}catch(e){return n(e)}s(JSON.stringify(a))})})}searchSuggestionsStream(e){const t=new n.b("GET",this.bootcampHost+"/v3/suggestions?",{httpRetry:this.httpRetry});t.setHeader("Accept","multipart/form-data"),t.setHeader("Accept-Encoding","gzip;q=0, deflate, sdch, br"),t.setCookieHeader(this.cookie),this._setCustomHeaders(t,this.headers),t.withCredentials=!0;const s=t.createStream(e),o=s.pipe(Object(a.a)({boundary:_.d})).pipe(i()(function(e){try{const t=JSON.parse(e),{status:s,response:n}=t;if(!n||200!==s)throw new l.a("BootcampApiClient.SuggestionError");if(n.suggestions){const e=Object(u.o)(t);Object(E.b)(e)||this.emit("data",JSON.stringify(e))}}catch(e){return this.emit("data",JSON.stringify({status:500,error:l.a.errorify(e)}))}})).pipe(Object(r.a)({boundary:_.d,headers:{"Content-Type":"application/json"}}));return s.on("error",e=>o.emit("error",e)),o}recentSearchesApi(e){const t=this.bootcampHost+"/v3/recentSearches?",{ymreqid:s,wssid:a}=e,r=new n.b("GET",t,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.setCookieHeader(this.cookie),r.withCredentials=!0,r.send({ymreqid:s,wssid:a}).then(e=>JSON.parse(e.text))}linkContentProviderApi(e){const{redirectUrl:t,errorUrl:s,q:{appid:a,wssid:r}}=e,o=`${this.bootcampHost}/v3/contentProviders/${e.provider}${e.unlink?"/remove":""}?${Object(c.stringify)({appid:a,wssid:r})}`,i=new n.b("POST",o,{httpRetry:this.httpRetry});return i.setHeader("Accept","application/json"),i.setCookieHeader(this.cookie),this._setCustomHeaders(i,this.headers),i.withCredentials=!0,i.send({redirectUrl:t,errorUrl:s}).then(e=>e.text)}}}).call(this,s(324).Buffer)},function(e,t,s){"use strict";(function(e){var n=s(44),a=s.n(n),r=s(21),o=s(19),i=s(352),c=s(8),l=s(50),d=s(497);const u=r.a.GET,m={Transport:r.b,request:e=>{const t=e.sectionId,s=Object.keys(t).map(s=>m._sendRequest(e,t[s]).then(e=>(Object(c.a)(e,"body.error")&&d.a.feature("gemini_no_ads",babelHelpers.extends({},e.body,{sectionId:t[s]})).logFailure(),e)));return Promise.all(s).then(t=>m._constructAdResponses(t,e))},_sendRequest:(e,t)=>{Object(o.a)(e.ymreqid,"ymreqid is required for making requests to Gemini ssi"),Object(o.a)(e.userAgent,"userAgent is required for making requests to Gemini ssi");const{logRequest:s=(()=>{}),ymreqid:n,rotationActionType:a,region:r}=e,i=new m.Transport(u,l.b+l.k);i.setHeader("Accept","application/json"),i.setHeader("X-Forwarded-For",e.remoteAddress),i.setHeader("User-Agent",e.userAgent),e.cookie&&!e.forceFilter&&i.setHeader("Cookie",e.cookie);const c={apiName:"geminiAd.get",sectionId:t,rotationActionType:a,ymreqid:n,intl:r},d=m._getQueryParams(e,t),p=i.send(d);return s(p,c),p},getForceFilter:t=>{const s=a.a.stringify({useForceFilter:!0,forceFilter:"creative_id:"+t,useSpaceBall:!1,useFrequencyCapping:!1,useBudget:!1,useDeviceTargeting:!1,useBooleanQueries:!1,useSegmentsTargeting:!1,useBudgetCampaignFineThrottling:!1,useCF:!1,honorBlacklistedProperties:!1,dedupOnTitleSummaryHash:!1,"grouping.maxCreativesPerAdvertiser":5});return new e(s).toString("base64")},_getQueryParams:(e,t)=>{const{locale:s,region:n,ymreqid:a}=e,r="zh-Hant-HK"===s||"zh-Hant-TW"===s?"zh_TW":s.substr(0,2),o=Object.assign({format:"json",apiVersion:2,size:"3x3",sectionId:l.g,creativeCode:"STRM",propertyName:"mail_norrin",siteLanguage:r,countryCode:n,requestId:`${a}-${t}`,publisherInfo:"||159600001|STRM|",contentInHttps:1},e);o.sectionId=t||l.g,o.adCount=l.a[+t]||1,e.buckets&&e.buckets.length&&(o.bucket=e.buckets.join(",")),+t!==l.j||e.videoMomentEnabled||(o.creativeCode="STRM"),"devbox"===e.environment&&(o.nonRevenue=1),o.forceFilter&&(o.forceFilter=m.getForceFilter(o.forceFilter),o.nonRevenue=2);const i={};for(const e in o)l.d[e]&&(i[l.d[e]]=o[e]);return i},_constructAdResponses:(e,t)=>{const s={};return e.forEach(e=>{if(Object(c.a)(e,"body.ads",null)){const n=Object(c.a)(e,"body.section.id",l.g);n===l.h?s[l.i]=s[l.i]||Object(i.a)(e.body.ads,l.h,t):s[n]=Object(i.a)(e.body.ads,n,t)}}),s}};t.a=m}).call(this,s(324).Buffer)},,function(e,t,s){"use strict";var n=s(59);t.a=s.n(n).a.create("norrin/gemini_client")},,,,,,,function(e,t,s){"use strict";e.exports={className:{default:{icon:"D_X W_6MGW H_6MGW cdPFi_Z281SGl cZW7ROP_n en_0 cvhIH6_T"},allowPointerEvents:{icon:"cZW7ROP_A"},flipRTL:{rtlRawScaleX:"rtlR_rtlR_h_2gl0WC "},"colorState-FIRST_LEVEL_GRAY":{icon:"cdPFi_Z1VRpVF"},"colorState-NORMAL_LESS_DIM":{icon:"cdPFi_Z26U5qH"},"colorState-DARK":{icon:"cdPFi_Z281SGl"},"colorState-TRANSPARENT":{icon:"cdPFi_T"},"colorState-FAINT":{icon:"cdPFi_ZpQYvz"},"colorState-LESS_IMPORTANT":{icon:"cdPFi_Z1Xxgu0"},"colorState-COOL_FAINT":{icon:"cdPFi_ZvsWfq"},"colorState-INHERITED":{icon:"cdPFi_q"},"colorState-INVERTED":{icon:"cdPFi_52qC"},"colorState-INVERTED_DIM":{icon:"cdPFi_ak5kB"},"colorState-INVERTED_LESS_DIM":{icon:"cdPFi_ak5m8"},"colorState-INVERTED_MORE_DIM":{icon:"cdPFi_ak5jA"},"colorState-SELECTED":{icon:"cdPFi_Z2aVTcY"},"colorState-PRIMARY_HOVER":{icon:"cdPFi_Z29WjXl"},"colorState-SELECTED_DARK_THEME_MODE":{icon:"cdPFi_Z21zYBA"},"colorState-STARRED":{icon:"cdPFi_ZkhR3R"},"colorState-STARRED_DARK":{icon:"cdPFi_ZkcEUn"},"colorState-DISABLED":{icon:"cdPFi_Z1TsNWR"},"colorState-ADVISORY":{icon:"cdPFi_ZkcEUn"},"colorState-FIRST_LEVEL_ORANGE":{icon:"cdPFi_ZkhR3R"},"colorState-WARNING":{icon:"cdPFi_Znn46r"},"colorState-HEADING":{icon:"cdPFi_Z1XBA33"},"colorState-SMARTVIEW_DARK":{icon:"cdPFi_2sqbQg"},"colorState-IMPROVED_GRAY_DARK":{icon:"cdPFi_Z1YRXYn"},"colorState-SECOND_LEVEL_GRAY":{icon:"cdPFi_Z1TsNWR"},"colorState-YBADGE":{icon:"cdPFi_Z25iliW"},"colorState-SUCCESS":{icon:"cdPFi_Z287E9E"},"colorState-WHITE":{icon:"cdPFi_52qC"},"colorState-ICON_HOVER_BGCOLOR":{icon:"cdPFi_2ieea9"},"colorState-GRAD_BLUE":{icon:"cdPFi_Z2aVTcY"},"colorState-ATTACH_MEDIA":{icon:"cdPFi_Z3YymY"},"colorState-ATTACH_CAL":{icon:"cdPFi_Z3YymY"},"colorState-ATTACH_EXCEL":{icon:"cdPFi_Zjgrcs"},"colorState-ATTACH_DOC":{icon:"cdPFi_euEfy"},"colorState-ATTACH_SLIDE":{icon:"cdPFi_8Skn3"},"colorState-ATTACH_PDF":{icon:"cdPFi_8Skn3"},"colorState-ATTACH_GENERIC":{icon:"cdPFi_1k4EMl"},"colorState-ATTACH_COMPRESSED":{icon:"cdPFi_1k4EMl"},"colorState-SMARTVIEW_PEOPLE":{icon:"cdPFi_ZkcEUn"},"colorState-SMARTVIEW_SHOPPING":{icon:"cdPFi_Z1tEW3v"},"colorState-WARNING_GRAD_RED":{icon:"cdPFi_Z1rD0qn"},"colorState-TOUCH_PRIMARY":{icon:"cdPFi_Z2aVTcY"},"colorState-FACEBOOK_ENABLED":{icon:"cdPFi_Z269xr6"},"colorState-LINKEDIN_ENABLED":{icon:"cdPFi_Z2dxU8K"},"colorState-TWITTER_ENABLED":{icon:"cdPFi_Z2a87Op"},"colorState-PURPLE":{icon:"cdPFi_Z1WGv5u"},"size-XXXS":{icon:"W_6Eb4 H_6Eb4"},"size-XXS":{icon:"W_6Fd5 H_6Fd5"},"size-XS":{icon:"W_6LEV H_6LEV"},"size-S":{icon:"W_6MGW H_6MGW"},"size-M":{icon:"W_6UbO H_6UbO"},"size-L":{icon:"W_74JI H_74JI"},"size-XL":{icon:"W_7rdk H_7rdk"},"size-XXL":{icon:"W_7Ig6 H_7Ig6"},"size-XXXL":{icon:"W_3n93F H_3n93F"},"size-40":{icon:"W_72FG H_72FG"},"rotate-D45":{icon:"h_1RtVxM"},"rotate-D90":{icon:"h_22ufi4"},"rotate-D180":{icon:"h_ZQwKon"},"rotate-D270":{icon:"h_9u8MW"}},_key:"ZO0W7g"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"P_0 C_Z281SGl r_P y_Z2uhb3X A_6EqO cvhIH6_T ir3_1JO2M7 cZ11XJIl_0"},decorated:{button:"k_w e_dRA D_X M_6LEV o_v p_R V_M t_C cZ1RN91d_n A_6EqO u_e69 i_3qGKe P_1EudUu H_A cn_dBP cg_FJ l_T j_n S_n S4_n"},"kind-PRIMARY":{button:"I_Z2aVTcY C_52qC l_Z2aVTcY I3_Z2bdAhD l3_Z2bdIi1 I0_Z2bdAhD l0_Z2bdIi1"},"kind-CUE":{button:"I_Z2aVTcY C_52qC b_0 P_ZGAgNS E_fq7 i_6FIA u_e69 I3_Z2bdAhD I0_Z2aVTcY I4_Z29WjXl"},"primaryHover-true_false":{button:"I4_Z2bdAhD l4_Z2bdIi1"},"primaryHover-true_true":{button:"I4_Z2aVTcY l4_Z2aVTcY"},"kind-SECONDARY":{button:"I_52qC C_Z2aVTcY l_Z2aVTcY M_0 I4_52qC C4_Z2dyg2z l4_Z2dyg2z I3_ZpQYvz C3_Z2dyg2z l3_Z2dyg2z I0_ZpQYvz C0_Z2dyg2z l0_Z2dyg2z"},"kind-SECONDARY_BORDERLESS":{button:"I_52qC b_0 C_Z2aVTcY H_q P_1EudUu M_0 I4_2iedUU C4_Z29WjXl"},"kind-DANGER":{button:"I_52qC C_ZnTFMv l_ZnTFMv M_0 I4_v5hft I3_v5hft I0_v5hft"},"kind-ICON":{button:"b_0 P_eo6 H_6NIX W_6VdP e_dRA C_q q_T O_cMu O4_N I4_2ieea9"},"kind-PILL":{button:"b_Z14vXdP P_1Eu6qC H_6NIX W_A e_6Fd5 C_q q_T I4_2ieea9"},"kind-PARENT_TEXT_COLOR":{":hover":"C_q"},"kind-ICON_HIGHLIGHTED":{button:"b_0 P_eo6 H_6NIX W_6VdP e_dRA C_q I_7l9bL i_0 O_N"},"kind-CHROMELESS":{button:"q_T C_Z1VRpVF u_e69 b_0 C4_Z2dyg2z C3_Z2aVTcY"},"kind-MENUITEM":{button:"G_e J_x r_P P_Z1E2XDm b_0 s_6D6F M_0 t_l y_q A_q D_F ab_C I_T I4_1I4yPF I3_1I4yPF it3_689y"},"kind-MENUITEM_PARENT_TEXT_COLOR":{button:"G_e J_x r_P P_Z1E2XDm b_0 s_6D6F M_0 t_l y_q A_q D_F ab_C I_T I4_1I4yPF C4_Z2aVTcY I3_1I4yPF it3_689y"},disabled:{button:"O_cMq r_A"},paddingLess:{button:"P_0"},marginLess:{button:"M_0"},isOnDarkBackground:{button:"ir3_Z1FS2Mn"},THEMED_LIKE_COMPSOE_BUTTON_ATT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_FRONTIER:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_ROGERS:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_BT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_SKY:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_DEFAULT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_SUNRISE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_AQUA_GREEN:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_AQUA_BLUE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_DEEP_PURPLE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_BLUE_NIGHT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_NIGHT_LANDSCAPE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_ROADTRIP:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_SUNSET_AUSSIE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_LIGHTHOUSE:{button:"I_ZamTeg C_52qC l_T"}},_key:"ZNSCb8"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"c27KHO0_n b_0 M_0 i_0 I_T y_Z2uhb3X A_6EqO r_P C_q cvhIH6_T ir3_1JO2M7",content:"D_F ab_C gl_C W_6D6F",label:"D_X em_N o_h X_eo6 G_e t_l i_N"},"size-XXXS":{button:"P_dBP"},"size-XXS":{button:"P_dRA"},"size-XS":{button:"P_eo6"},"size-S":{button:"P_fq7"},"size-M":{button:"P_fq7"},"size-L":{button:"P_6Eb4"},"size-XL":{button:"P_6Fd5"},"size-XXL":{button:"P_6Fd5"},paddingLess:{button:"P_0"},isOnDarkBackground:{button:"ir3_Z1FS2Mn"},isCompact:{content:"W_72FG ek_BB",label:"A_6DUj X_0"},disabled:{button:"r_BN"}},_key:"Z1UAQih"}},function(e,t,s){"use strict";e.exports={className:{default:{tab:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z281SGl",darkMode_photoThemefalse:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z281SGl",darkMode_photoThemetrue:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z281SGl",textSvg:"em_N H_6FIA",text:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x",close:"en_0 O4_N P_2gqvDS",checkmailIcon:"en_0 O4_N P_2gqvDS",decorator:"D_F en_0 Q_eo6 E_eo6"},"kind-MENU":{tab:"W_3qYiD P_1Eu7sD C_Z281SGl I_52qC I4_Z1owzy4 N4_6Eb4",text:"C_Z281SGl G_e"},"kind-BAR":{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC"},activeMenu:{text:"u_b"},decoratedMenu:{tab:"X_6Fd5"},decoratedBar:{tab:"P_1MYwXA",darkMode_photoThemefalse:"P_1MYwXA",darkMode_photoThemetrue:"P_1MYwXA"},decoratedSettings:{decorator:"P_eo6"},activeHover:{tab:"r_BN",darkMode_photoThemefalse:"r_BN",darkMode_photoThemetrue:"r_BN",close:"O_N Q_0"},inactiveHover:{close:"O_N Q_0"},animate:{tab:"ah_2wpkLb",darkMode_photoThemefalse:"ah_2wpkLb",darkMode_photoThemetrue:"ah_2wpkLb"},extraIconPadding:{decorator:"X_eo6"},darkModePhotoTheme_NIGHT_LANDSCAPE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_cOYC3 I4_cOYCy",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_ROADTRIP_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_1iaDpX I4_1iaDqt",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_SUNSET_AUSSIE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_2woiXE I4_2woiYa",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_LIGHTHOUSE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_t5YJT I4_t5YKp",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_NIGHT_LANDSCAPE_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_1qHGaS I4_1qHGaS cdPFi4_52qC"},darkModePhotoTheme_ROADTRIP_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_Zrb5Gc I4_Zrb5Gc cdPFi4_52qC"},darkModePhotoTheme_SUNSET_AUSSIE_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_2bmuGB I4_2bmuGB cdPFi4_52qC"},darkModePhotoTheme_LIGHTHOUSE_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_Zsxwsy I4_Zsxwsy cdPFi4_52qC"}},_key:"ZklX7d"}},function(e,t,s){"use strict";e.exports={className:{default:{popover:"p_a Z_d48",popoverAnchor:"D_X",popoverContent:"p_R e_dRA I_52qC j_ZlOSbd"},"bg-DARK":{popoverContent:"C_52qC I_Z281SGl j_n"},"zAltitude-500":{popover:"Z_e69",popoverContent:"j_nWwhY"},"zAltitude-900":{popover:"Z_f8a",popoverContent:"j_ZqTdtW"},"zAltitude-9000":{popover:"Z_7G9R",popoverContent:"j_ZqTdtW"},"zAltitude-10000":{popover:"Z_3mRud",popoverContent:"j_ZqTdtW"},"zAltitude-11000":{popover:"Z_3n0uA",popoverContent:"j_ZqTdtW"},"borderRadius-LOW":{popoverContent:"e_dRA"},"borderRadius-MEDIUM":{popoverContent:"e_eo6"},"borderRadius-HIGH":{popoverContent:"e_eTB"},"borderRadius-MOBILE_DEFAULT":{popoverContent:"e_fq7 o_h"},animate:{popover:"lv_1Ys0hm"},highlight:{popover:"b_ZXQDCD e_dRA j_Z1oW7xg",popoverContent:"p_R e_0 j_n"}},_key:"Z25xDOr"}},function(e,t,s){"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_eTB T_69bz",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_eTB H_eTB M_e8l"},arrowDirectionDown:{pointerWrapper:"T_A B_69bz h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_eTB H_6D6F T_0 L_69bz"},arrowDirectionRight:{pointerWrapper:"ek_BB W_eTB H_6D6F T_0 R_69bz h_ZQwKon"},"zAltitude-500":{pointer:"j_ZlOSbd"},"zAltitude-900":{pointer:"j_ZlOSbd"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"}},_key:"1n41Mj"}},function(e,t,s){"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_6Eb4 T_36JN3",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_6Eb4 H_6Eb4 M_eTB"},arrowDirectionDown:{pointerWrapper:"T_A B_36Jxi h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_6Eb4 H_6D6F T_0 L_36JN3"},arrowDirectionRight:{pointerWrapper:"ek_BB W_6Eb4 H_6D6F T_0 R_36Jxi h_ZQwKon"},"zAltitude-500":{pointer:"j_nWwhY"},"zAltitude-900":{pointer:"j_nWwhY"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"bg-LIGHTGRAY":{pointer:"I_ZnkeaL"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"}},_key:"SXduY"}},function(e,t,s){"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_6MGW T_36SjV",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_6MGW H_6MGW M_6Eb4"},arrowDirectionDown:{pointerWrapper:"T_A B_36SjV h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_6MGW H_6D6F T_0 L_36SjV"},arrowDirectionRight:{pointerWrapper:"ek_BB W_6MGW H_6D6F T_0 R_36SjV h_ZQwKon"},"zAltitude-500":{pointer:"j_nWwhY"},"zAltitude-900":{pointer:"j_ZqTdtW"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"}},_key:"1Bt427"}},function(e,t,s){"use strict";e.exports={className:{default:{list:"hd_n P_0 H_6D6F M_0 ir3_0"},"layout-HORIZONTAL":{list:"D_F"},"layout-GRID":{list:"D_F eo_HB W_6D6F"},disabled:{list:"O_6uB4 cZW7ROP_n"},"kind-TOOLBAR":{list:"D_F ab_C M_0 P_0"},isRestrictedHeight:{list:"iz_A K_3v1qi"}},_key:"Z1bnxvY"}},function(e,t,s){"use strict";e.exports={className:{default:{menuContainer:"D_F em_N H_6Nds s_6NIX r_P cj_dRA ck_dRA p_R je_eDQ",menuContentContainer:"P_1HKSdG",menuButtonContainer:"em_N",menuButton:"em_N r_P y_Z2uhb3X A_6EqO b_0 I_T",menuSpan:"p_a L_0 W_6D6F T_0 H_6D6F D_F ab_C gl_C C_52qC A_6EqO o_h",text:"Q_fq7 o_h",chevron:"D_F en_0",rule:"b_Z2A6Uz m_0 M_fQoXz",tabList:"ha_n M_0 P_3Y3Gk",tabItem:"H_6NIX M_Ic8v9",closeAllButton:"y_Z2uhb3X A_6EqO b_0 I_T t_l C_Z1YRXYn P_1Eu7sD H_6VdP W_6D6F r_P I4_Z1owzy4",closeAllText:"D_F ab_C"}},_key:"Z1yrLzI"}},function(e,t,s){"use strict";e.exports={className:{default:{background:"e_6Fd5 P_dRA lv_Z1G1k6c ir_0 D_B W_6UbO H_6Fd5 p_R r_BN I_52qC b_Z1a7UWG",handle:"p_R D_B W_fq7 H_fq7 I_52qC e_6Fd5 lv_Z1G1k6c L_0 b_Z1a7UWG"},"size-L":{background:"W_74JI H_6MGW",handle:"W_6Eb4 H_6Eb4 L_e8l"},isEnabled:{background:"I_Z2aVTcY b_2fAfSG",handle:"L_6Fd5 b_6i9dl"},isEnabledAndLarge:{handle:"L_6MWH"},isClickable:{background:"r_P"}},_key:"Zw2nvR"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"D_F F_n gl_C ab_C H_6MGW o_h",container:"W_6MGW H_6MGW D_X ah_1PEzoz",spinner:"W_6MGW H_6MGW ah_Zq6hUs",arc:"cdPFi_n cZ13pKbK_Z2aVTcY cZ1XO2Ji_dRA c2abBOT_EY cZ1vNhDV_rd cZV8aCd_pI ah_14s73"},"size-S":{container:"W_6Fd5 H_6Fd5",spinner:"W_6Fd5 H_6Fd5"},inverted:{arc:"cZ13pKbK_52qC"},flex:{wrapper:"F_N H_6D6F"}},_key:"n3x6k"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"C4_Z2aVTcY"}},_key:"Zt4S9c"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F hd_n P_0 M_0 o_h J_x H_6UbO",item:"H_6D6F E_dRA",svgDefs:"W_0 H_0"}},_key:"2qYHHJ"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F gl_C ab_C",primaryButton:"A_6EWk C_Z2aVTcY r_P"}},_key:"pbtff"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"C_Z2aVTcY r_P",notificationTitle:"t_CS A_6EWk C_Z281SGl u_e69 i_6TFj",notificationSubText:"t_CS A_6EqO"}},_key:"1xydhh"}},function(e,t,s){"use strict";e.exports={className:{default:{progress:"k_w W_6D6F H_6Fd5 I_52qC p_R",placeholder:"b_Z14vXdP e_fq7 H_6EGz W_dbGOz",value:"p_a T_0 H_6D6F s_6Nds e_fq7 q_Z22jis8 D_F gl_CH N_fq7 lv_ZLoey2",label:"C_52qC A_6DUj u_b i_6Fd5"}},_key:"Z7L78D"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"s_3vhr3 k_w I_52qC D_F el_QDCVj M_1vskfw",messageContainer:"i_6Nds t_l A_6EqO",message:"E_6Eb4",subtitle:"C_Z24Sbth t_l A_6Eb4",cancel:"E_68F4 P_eo6 q_T C_Z2aVTcY A_6EqO y_Z2uhb3X b_0 r_P",bar:"Y_6Eb4"}},_key:"2uBe7N"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F o_h",label:"D_X o_h J_x G_e",count:"X_fq7 D_F en_0",rtlIgnoreDirRTL:"rtlI_rtlI_dz_uqG ",rtlIgnoreDirLTR:"rtlI_rtlI_dz_sSg "}},_key:"Z2hqMtH"}},function(e,t,s){"use strict";e.exports={className:{default:{notificationTitle:"t_CS A_6EWk C_Z281SGl u_e69 i_6TFj",notificationSubText:"t_CS A_6EqO",button:"C_Z2aVTcY A_6EqO"}},_key:"1zb16t"}},function(e,t,s){"use strict";e.exports={className:{default:{settings:"C_Z2aVTcY r_P"}},_key:"62EcE"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"C_Z2aVTcY Q_dRA u_e69 r_P",errorWrapper:"t_l",errorHeader:"u_e69 U_eo6",errorBody:"A_6EqO i_6Fd5",restoreWrapper:"P_ZuGzVr",lineText:"N_6Fd5",option:"r_P",lightLink:"C_Z2aVTcY r_P"}},_key:"Z1DxJc6"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"C_Z2aVTcY A_6EWk"}},_key:"1iekj1"}},function(e,t,s){"use strict";e.exports={className:{default:{grayOverlay:"p_f T_0 R_0 B_0 L_0 Z_3mRud I_Zjpytw D_F ab_C gl_C",container:"j_1doAr4 ir3_0"},"kind-LIGHT":{grayOverlay:"I_ZS20V7"},hideShadow:{container:"j_n"}},_key:"ZrKsXm"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"s_3zJDR d_3mS2U k_w I_52qC D_F el_QDCVj ab_FT",header:"M_0 P_2Xpez D_F ab_AJ A_6FsP",spaceid:"P_Z1E2XDm",positionRow:"P_Z1E2XDm D_F",positionCol:"F_N",button:"ac_C I_Z2aVTcY C_52qC M_1aQVuq b_0 H_6NIX P_2aKXbq"}},_key:"Z5vnm3"}},function(e){e.exports={a:"https://s.yimg.com/nq/nr/"}},function(e){e.exports={"/img/12top_brands_logos.png":"/img/12top_brands_logos_pEoN1JXg6k-Emnj2TUvHatZ9h0QVZM0AlrQwXoY2nJ8_v1.png","/img/account_sources.png":"/img/account_sources_7z1m0DoroJa8DZ_NjUoRzuBSr5Zq_t6vXueQXSZvy14_v1.png","/img/accounts.png":"/img/accounts_1nd2Eye60wTf2xrCGZbes4un4vItAKHigeEDfu4ulJU_v1.png","/img/ad_format_selection_ad_free_icn_selected.png":"/img/ad_format_selection_ad_free_icn_selected_GuzCTiUSYDllVdnzPjXGVbx-iPmznf8vT87FTCKVUfA_v1.png","/img/ad_format_selection_ad_free_icn.png":"/img/ad_format_selection_ad_free_icn_GyqKHJYnyeJdYQDRExuLbDCar5G2-3uBjKQu7BxSk9Y_v1.png","/img/ad_format_selection_ad_free_phone.png":"/img/ad_format_selection_ad_free_phone_xpFyneoJDD6Rav228pDZGfvyN0ngHNLf3rgjKWSGZ0c_v1.png","/img/ad_format_selection_pencil_ad_icn_selected.png":"/img/ad_format_selection_pencil_ad_icn_selected_FOaFMNvONpzqoU83iK1sLUX3h48d0_Jb_UvfakXN6MY_v1.png","/img/ad_format_selection_pencil_ad_icn.png":"/img/ad_format_selection_pencil_ad_icn_5m1aZM3JxGPyLzPdWsZi0lnukIMPXnJqOHKcvzPmzZg_v1.png","/img/ad_format_selection_pencil_ad_phone.png":"/img/ad_format_selection_pencil_ad_phone_AatTQ76Ik24c-68e4TIxxOSH8GdsW1bme9fn_ceGpXM_v1.png","/img/ad_format_selection_sm_icn_selected.png":"/img/ad_format_selection_sm_icn_selected_CYipwBfLX3gkwMgJtmn77-GmUTuEOC6jH90nXn0Ib5U_v1.png","/img/ad_format_selection_sm_icn.png":"/img/ad_format_selection_sm_icn_OJULoVdzzUYWCjl2vtRhXiSLHAHB_P8dlWQ7zj1Ieyc_v1.png","/img/ad_format_selection_sm_phone.png":"/img/ad_format_selection_sm_phone_wBFf0Qzyb9I9PfgiX5TJkh_d_IRRM1Ft5aq-I4LZo2U_v1.png","/img/adblock_upsell_bg.png":"/img/adblock_upsell_bg_PppZ_B01W7h3CQopBxz8dVaFQxebyaZUhnXMEfm6GRo_v1.png","/img/adblock_upsell_emoji_v6_1.png":"/img/adblock_upsell_emoji_v6_1_vpVm7gxUPFcIILvP_8tLLaHEouOj0XrpnWl3RxkaCmA_v1.png","/img/adblock_upsell_emoji_v6_2.png":"/img/adblock_upsell_emoji_v6_2_cy0WOpnH6NB19yGln-iPlCenkwSMPzaXR-JAqtZ-RAw_v1.png","/img/adblock_upsell_emoji_v6_step2.png":"/img/adblock_upsell_emoji_v6_step2_pyl1XhC-eSM3545nE6nCAcnrh5aktxEZDTJA6v6z6W4_v1.png","/img/adblock_upsell_emoji.png":"/img/adblock_upsell_emoji_3wn8gXgM7jp1wTh4FyGrlWm-Ujl63tHPD6PgiOUjlWY_v1.png","/img/adblocker_examples.png":"/img/adblocker_examples_9q4lcF3b3Mau6jIa3Adz2Mkz6Nqk7VvnCkqfNXkLP_w_v1.png","/img/add_coupon_icon.png":"/img/add_coupon_icon_icqjwiXsXAkfsacocnFSWMBgLaFFHIf6QzVJ-Z1A0Ec_v1.png","/img/animation_adblocker.gif":"/img/animation_adblocker_GOWX9h-awX9lPkuLkfUfrpqcWU5OSmOCOoBuM4vTID4_v1.gif","/img/att_favicon.png":"/img/att_favicon_MfGbnKVgiBjX8NYye-jw69e2dDVTvzS1GHVjgKH6dRM_v1.png","/img/banner_bg.jpg":"/img/banner_bg_qXF28kscVA6dgD37S0WT2ng1GEICc1nd2Mr4wv6bTDw_v1.jpg","/img/basic_mail_icon_sprite_1x.png":"/img/basic_mail_icon_sprite_1x_zHl5jun7DRosDw2Rpm7cFLP98oh5HCfIsd6xRMqdEl0_v1.png","/img/basic_mail_icon_sprite_2x.png":"/img/basic_mail_icon_sprite_2x_ck_d4ZP-EJxuTApgw7qnG2COVobkS8bNdarl7VFB9JA_v1.png","/img/basic_mail_icons.gif":"/img/basic_mail_icons_rmxEfE1PL4Ar_qT3TFxjOYpmJFOavl-vuj4gVsrpZCg_v1.gif","/img/basic_mobile_spritesheet.png":"/img/basic_mobile_spritesheet_Y7DI46C3c1JguB-AK_vs35gdUR0oCoQppyZHNje7SzU_v1.png","/img/bluetruck_illustration.png":"/img/bluetruck_illustration_dVvQR2GFxZkjfh8F3DKeKCRmjvSKcgtseVCQ_HyDGoc_v1.png","/img/browser_icons.png":"/img/browser_icons_ahJCt0stnPEWhAglCZlyOs5bfjVgAEIkdm3qsiVbn40_v1.png","/img/categorization.png":"/img/categorization_5zn0n6_7uerOd1wvNGySUTaNAFUAv2_H6nxw1iwBwQ0_v1.png","/img/compose_thumbnail.png":"/img/compose_thumbnail_zWbkZgLwqImhmUeIQc3bm8SNrFitPRklzpSlk3RDgqQ_v1.png","/img/coupon_clipper_onboarding.png":"/img/coupon_clipper_onboarding_7kunwyrShFg81vTdaxj3wV0cS5sOvE7fCC1pqUtQmRc_v1.png","/img/coupon_emptystate_dark.png":"/img/coupon_emptystate_dark_2ddSB6JIAMN_8Flo8ABLaGmiHWx4fRGqX9Nex7FJ4fA_v1.png","/img/coupon_emptystate_light.png":"/img/coupon_emptystate_light_57U4--78ByaWDgm7NIQ8NLUV3E4-0myYWlTtcFVOKZg_v1.png","/img/coupons_view_cue.png":"/img/coupons_view_cue_-FGNCM99gd0D3Y2NEGNsiJ9_s4ieXl6Wb9BASIhBojY_v1.png","/img/dialogue_cue_2x.png":"/img/dialogue_cue_2x_s5allvEg4Tju1MnIAyg3cAkP0bV-ZIkihNqKY5KamHw_v1.png","/img/dialogue_cue.png":"/img/dialogue_cue_zd3E04rRFiJTDqi9VBupr-fcuDdlwp8YY3xnKXpzGiQ_v1.png","/img/earny_compare.png":"/img/earny_compare_bRPQcdv8s3h-rfeRubNQfwLvtbEldV6qTnIYfV2CrVk_v1.png","/img/earny_file.png":"/img/earny_file_X1nioTykNoj8Jn3u2-pWAYL9KQYu_bSj4MKtAPp-zAU_v1.png","/img/earny_logo.png":"/img/earny_logo_BRIi6CbmtlYHomuEsdrhnBMwsEkZoEUPQV5ehkik7jE_v1.png","/img/earny_money_illustration.png":"/img/earny_money_illustration_UjT3GERuWsMvVtw7vquj6HxQWFK8geDyBHbLR5Qo03c_v1.png","/img/earny_refund.png":"/img/earny_refund_rLZC1b9XSVDVCya9RqT0026e9_7-xClTvOg2nwDpSLo_v1.png","/img/email_organize.jpg":"/img/email_organize_61cSQOgX2BZREDyBzUrNKMSsLFjNiBzD4HjuOJ_T-YI_v1.jpg","/img/emoji_cue_bg.png":"/img/emoji_cue_bg_Z-PQNF4DA6D9x_MKkwqlso9l5PSZ5z5GhkxS6rcG6Zk_v1.png","/img/empty_contacts.png":"/img/empty_contacts_H8Y9myLGlVYCM__mARuEEz6qR95PrgUGtZS3GBfsrNI_v1.png","/img/empty_contacts2x.png":"/img/empty_contacts2x_BuQmX0YJAhIYwUyFPzHZ0mVnIhAhshQt4R6DJDIMVsg_v1.png","/img/empty_contacts3x.png":"/img/empty_contacts3x_WCcZCCPst_l_leSksHgbxsTEm0kTKVDnYN4qRQgl50k_v1.png","/img/error_state_1x.png":"/img/error_state_1x_PKSn0H8KFmeH0tZRJC6df7xcWtmAEyxWEDkleJx6QB0_v1.png","/img/favicon.ico":"/img/favicon_LFWFGUw4cMt2cbVGy0T6xBqoJ4BBr2VKY56xSLK4IX0_v1.ico","/img/fbbot_cue.png":"/img/fbbot_cue_UGh-82n1HYQx0jwIRLjAApLfXUCEy6yBQpVywVUQlps_v1.png","/img/festive_graphic.png":"/img/festive_graphic_0uEfHHC7QHfyJ3S3YvpL_po11eQZLr5eyy6tvn0uYP4_v1.png","/img/filters.png":"/img/filters_yHgb1PmhFXeM7dA3NApWU8K4QgGdiHC2UV8JpuWk1TY_v1.png","/img/finish_onboarding_illustration_2x.png":"/img/finish_onboarding_illustration_2x_5_C-n3F0rNI5aIAVOUCHsCHvKcVjftrnZQOyzZHq0Is_v1.png","/img/finish_onboarding_illustration_3x.png":"/img/finish_onboarding_illustration_3x_0UgVFoHZDC6C0RvqjZojIL7mutNuEOr9hw4GweUlJ9A_v1.png","/img/firefox_logo_1x.png":"/img/firefox_logo_1x_xPvCiPmfQZ0mpEJ7_cVKMiVzeS7VxYwDMEqxk8fBLTE_v1.png","/img/firefox_logo_2x.png":"/img/firefox_logo_2x_uysP81r-hlniRJUTXOnANirKUw2PkA1W2lylDWkaE_0_v1.png","/img/flights_past.png":"/img/flights_past_j8zGHhIg_m-qx49p5E0JWMWRNg1GN66V5x84dXZzd-E_v1.png","/img/flights_upcoming.png":"/img/flights_upcoming_RantjpbGBMfbnfwBkbRYj7KH9_tD-FRJC-yHBNPsrKE_v1.png","/img/gemini_pencil_play.gif":"/img/gemini_pencil_play_QlDOpN6VzAygUq52NVG08-jnfkl_E15TlmXnFWrbTVE_v1.gif","/img/gemini_pencil_play.png":"/img/gemini_pencil_play_LEUjFFdlfoXu1AtRyMXjFNHYH-ma_MEiSbW7VHddqhU_v1.png","/img/grocery.png":"/img/grocery_f9dJsDExPq8ca2ISzd3f8PyGvM9yTbHSvHexQVebzIo_v1.png","/img/holiday_card_upsell.png":"/img/holiday_card_upsell_TMnMGn51Dx7PzkOboqdCZSfHbcFCojIz_PDRbBMRkbQ_v1.png","/img/home_screen_android_192.png":"/img/home_screen_android_192_HhDxuHELFPqfjx7sc01pWnI7E2jnc0oQyEIDd7wkg_0_v1.png","/img/home_screen_android_512.png":"/img/home_screen_android_512_xFXDztzgEs_qPk6JYHtS0BkQMlZcRWKszdbwc59_tWE_v1.png","/img/home_screen_ios_120.png":"/img/home_screen_ios_120__QnvRjzKYlIMKPJEqWltmadnpLrJtBeMFtnXmJS6SSk_v1.png","/img/home_screen_ios_152.png":"/img/home_screen_ios_152_-XMniI1egNiZSc2mVlekAVQhLhMg2iJvS8c-oqSC4L8_v1.png","/img/home_screen_ios_167.png":"/img/home_screen_ios_167_hZSKR2GMx1nhmbQn7_YB2OarRP-ojANhV3z0WvpkHiE_v1.png","/img/home_screen_ios_180.png":"/img/home_screen_ios_180_DJ0UEXpXM9v2tssfCohCI08Hn_TVL_dfwqYvGGs7CQE_v1.png","/img/hotel_search_header.png":"/img/hotel_search_header_77deu34EKBWxHgkoee-dLux-d1EcYqo-YFXFCSXP2OY_v1.png","/img/icon_alert.png":"/img/icon_alert_QAOF3wxCVUv2M77-Ou2cD-tiiDm5bK2M4mBRMjqBoVU_v1.png","/img/icon_chrome1x.png":"/img/icon_chrome1x_nMPfEt2mF3tPcpQT15AkBw0yIQe5MRDnBiYsHiSg4tg_v1.png","/img/icon_chrome2x.png":"/img/icon_chrome2x_PjFwQ2xNtXAGL8gx4aKL4tnUDq4kyq74R4Syliu4CYo_v1.png","/img/icon_mail.png":"/img/icon_mail__B65oasTtMfqAvhH2Nc9WL_yH-sifCdLFw7UykqE9C4_v1.png","/img/imapin_providers.png":"/img/imapin_providers_4kKhxZqnIuXWgSgyC--6UxBFgBg59eQDwozEk4PUW9I_v1.png","/img/landshark_close_v2.png":"/img/landshark_close_v2_iwb8fxruLJwC6JD7xGwBRK-iE9-a3CBaUsPY1TH0Njs_v1.png","/img/landshark_close.png":"/img/landshark_close_U6n9PguTQSJC6JUn4Xeb37kS3i9F5JPY4cqxNyVf13k_v1.png","/img/landshark_coupon_landscape.png":"/img/landshark_coupon_landscape_XYyAgWf3O8u2byo-AYdYv545BcUWS8RoWHSO-FH170k_v1.png","/img/landshark_coupon.png":"/img/landshark_coupon_zhzdRX5MbBQf7-hZ5r-W0yGXBzISAhKsRXPyX8L73s4_v1.png","/img/landshark_gifs_landscape.png":"/img/landshark_gifs_landscape_WQRT9pH-zakCO7_eK4l0S7fIrms_KH-pDj27d7EnoQo_v1.png","/img/landshark_gifs.png":"/img/landshark_gifs_Wfq6fs_5BJ0u2dO-rxCk-hc96aoJe54YiOS6eObaT7k_v1.png","/img/landshark_logo.png":"/img/landshark_logo_ybxxnTqG__IW0zErfX2E5OaDHZbszjW8THOICsh5kRI_v1.png","/img/landshark_notification_landscape.png":"/img/landshark_notification_landscape_J7hgOLx9U3lu0lpoEtdn3YU6q-vBniuSRkU5ZYP72n4_v1.png","/img/landshark_notification.png":"/img/landshark_notification_vLVx4zkbEZ5E8HzpAuDX7kaw7ALHS2zMOtPpguFCNY4_v1.png","/img/landshark_star_rating.png":"/img/landshark_star_rating_eCQB0KVowZc7vIwHooY2izBCqwVIUU4lkJDmFNEbL4c_v1.png","/img/landshark_yahoo_app.png":"/img/landshark_yahoo_app_h5IKZHZsQBYv0Iy-VmaAYe6GkNTyuYrFiyACj6n9jIA_v1.png","/img/lighthouse_bg_pattern.jpg":"/img/lighthouse_bg_pattern_jpjqmQ-nwLBVZ5y8OjrL5-i1heaJ8IWPnJUjf1IUIyk_v1.jpg","/img/lighthouse.jpg":"/img/lighthouse_PUgvxDHl-qtULKc42tNN15lR_dAJgTEZF2_nVB1LpHE_v1.jpg","/img/logo_aol.png":"/img/logo_aol_clxvkBqQO5A4NyDBQL_XUQnYFNgJc6w7wBBB9JK4ZXI_v1.png","/img/logo_bookingcom.png":"/img/logo_bookingcom_SjLhCyprQQMNkJQezGRPDxCPvO_nU4Onk3YUIES8bFI_v1.png","/img/logo_google.png":"/img/logo_google__aTo1DuheYRfWYlCK2bkqqQ8B0MCtpVBqJiEhsZ7N-w_v1.png","/img/logo_hipmunk.png":"/img/logo_hipmunk_fYUTx1uP8id-X4RbsLc4Kpf1ABSkdNuiTYH1RBtWZBE_v1.png","/img/logo_outlook.png":"/img/logo_outlook_3qQfp6WXMHdFhQ_3mEUKenPJSCirJIquWiRKJYiZHaI_v1.png","/img/logo_seatgeek.png":"/img/logo_seatgeek_ImpK17gPzk44uSv8A_WpYoEFJFkJFUK0sWv42VmRMkw_v1.png","/img/logo_yahoo_192x192.png":"/img/logo_yahoo_192x192_vr6aFgo5aAbRZ4r-JZHcykubmdJhqVATpH8mna4wl_Y_v1.png","/img/logo_yahoo.png":"/img/logo_yahoo_NCltWA5ApN7a1rUCdSG8Jly0nlgFTOu5mPPMqYTMOrY_v1.png","/img/mail_logo_1_2x.png":"/img/mail_logo_1_2x_B2CE8ywvwV5cBlssyru2x8jZczu-3z-0OCic7iHR7TU_v1.png","/img/mail_logo_1.png":"/img/mail_logo_1_05WibzspZUTzEde6qQorLAqCcGWyEDM57nEXJh3mFcc_v1.png","/img/mail_onboarding.jpg":"/img/mail_onboarding_O6Ucamw93q_XxSSrwFmA2gHcpwZfapblbG2CYKR-FAY_v1.jpg","/img/mail_pro_badge.png":"/img/mail_pro_badge_qyLbrdGnKGfG0HbG1hyOsQ0RTjSSu8z0DgzOTgoLUUs_v1.png","/img/mail_pro_nomoreads.png":"/img/mail_pro_nomoreads_F1MNaI1YIoFU0YFMvbArpNllAp5bputOiQXXpib4V8s_v1.png","/img/mail_pro_support.png":"/img/mail_pro_support_wUBKtvN-m1VwLIBI3Pd0b5zXREVCIhoVtO4qtzIJ8sI_v1.png","/img/mobile_imapin_syncing2x.png":"/img/mobile_imapin_syncing2x_GTe6ObaIxC9MKM9jWdo66fezuMraGMiigrrhLnjM3x4_v1.png","/img/mobile_imapin_syncing3x.png":"/img/mobile_imapin_syncing3x_7r181Lmkfbo6wJKVW7a8IjgEzJ3Alaw65hY7XMAzidw_v1.png","/img/mobile_onboarding_bg_stars.png":"/img/mobile_onboarding_bg_stars__QHV_uZ5TvgKh5VnDeHQ1lHbFKIVzC2d82MhuaxMJ_s_v1.png","/img/mobile_onboarding_compose.png":"/img/mobile_onboarding_compose_LiQHwNkEYsbIuXHZmjSr6_QwdY0ZtNTyjpKwxfhZz_M_v1.png","/img/mobile_onboarding_done.png":"/img/mobile_onboarding_done_2C_rqACUf2j-00rIHfm4yfAGv5rt5H1aAbEzSsFPFPQ_v1.png","/img/mobile_onboarding_folder_list.png":"/img/mobile_onboarding_folder_list_9GwuPfJ_x_aq7855j9zrw6-A8YbVLvNXWJx6UVsOmco_v1.png","/img/mobile_onboarding_mail_orb_2x.png":"/img/mobile_onboarding_mail_orb_2x_ey2-alwPCFLIlIhXuPPY8x02x4j1tavRyt0yZzBBwhg_v1.png","/img/mobile_onboarding_notifications.png":"/img/mobile_onboarding_notifications_WtchBYwcEgpCWdqF7wp_KkOkkvNkdrNzYIj4Ge3LtnU_v1.png","/img/mobile_onboarding_swiping.png":"/img/mobile_onboarding_swiping_JRQWQvb24EWJmZUw-pDVkFC1zAttnkz9131_Yw0TFhI_v1.png","/img/mobile_onboarding_welcome.png":"/img/mobile_onboarding_welcome_fNk3h0ag2KzkQHnP28eiOaA7KI4azVIyAw1U51-QEYo_v1.png","/img/moms_day_upsell.jpg":"/img/moms_day_upsell_0Uptnu1vMNzQ-WnrXzWgU5cJsz-dOmVfh7SfC6abfbA_v1.jpg","/img/money_envelope_and_cc_illustration_2x.png":"/img/money_envelope_and_cc_illustration_2x_5LE_jAA5XRafUrLi40pVK1jsECCh9Fdoj8x1F3bM4aY_v1.png","/img/night_landscape.jpg":"/img/night_landscape_9rgor26l7kpsUIU_xuRZqIsKlx81vItVRrizcEVmK8A_v1.jpg","/img/notification.gif":"/img/notification_-rcyzPQT7KY2ZjtO4OwJRrn-Cjs7DhLJ03HAWS1tLq8_v1.gif","/img/offers_empty_state.png":"/img/offers_empty_state_F_AAtT8EWnRg5l_lrCiBTF1tJ81kyA6j0svkfLr4S5A_v1.png","/img/offline_state_2x.png":"/img/offline_state_2x_ADY9JQ2tMLM6k4voDBmpuFgCX5_oTvfPqDkZJnWfIss_v1.png","/img/onboarding_cue_imap_2x.png":"/img/onboarding_cue_imap_2x_SGlqr9zeZZe0euLWP6vU6XginBQ5CidA2eHXs1uVYc8_v1.png","/img/onboarding_cue_imap.png":"/img/onboarding_cue_imap_yWyhwokr3gKc96RTJzOsJCXJSckhDaQn7Ozza2aZG1o_v1.png","/img/onboarding_cue_notification_2x.png":"/img/onboarding_cue_notification_2x_IXLF85hmnjkTzGgEXbh18hkgs7_v5YON8QAbIwzShwY_v1.png","/img/onboarding_cue_notification.png":"/img/onboarding_cue_notification_rZIMLqk3IcbY_7gSdeaDViuFSnAWJ1NQt2JhoR8pvxw_v1.png","/img/onboarding_cue_themes_2x.png":"/img/onboarding_cue_themes_2x_1d5n5Shc3Xeuk38Dax41tCIhSxnqbUSqhBjMiE0aoVo_v1.png","/img/onboarding_cue_themes.png":"/img/onboarding_cue_themes_Zca6nK62x1zdd_xBVk28jPiGQniKTw0Z574FI8FO_wo_v1.png","/img/onboarding_cue_top_2x_att.png":"/img/onboarding_cue_top_2x_att_J9iSRWP-q2nJwfLBO-bZV82RmZuMieW07ot0ZsDyJd4_v1.png","/img/onboarding_cue_top_2x_bt.png":"/img/onboarding_cue_top_2x_bt_u7n2bVkuW2BLkFjTe3Tis4WGHDfxxO8j0cFyAM-VXHs_v1.png","/img/onboarding_cue_top_2x_frontier.png":"/img/onboarding_cue_top_2x_frontier_dowLOcdSOr7MgNQNh5C23a6NQJ1j9n7OUA7Z9SOHlvs_v1.png","/img/onboarding_cue_top_2x_rogers.png":"/img/onboarding_cue_top_2x_rogers_6E-Xw1ppVO7dTbF3kk5xdv3Ok-DotLnprfHZbc3SVmI_v1.png","/img/onboarding_cue_top_2x_sky.png":"/img/onboarding_cue_top_2x_sky_oitgn_QcKIk_uq5bxjKK8QPBkUJu9teGmn0EjL3rRWA_v1.png","/img/onboarding_cue_top_2x_verizon.png":"/img/onboarding_cue_top_2x_verizon_u9E1S4gQXLeen1aNyx6X2PGda_A55nzgu1Hlf8qV8VU_v1.png","/img/onboarding_cue_top_2x.png":"/img/onboarding_cue_top_2x_wN2hFRldOka69jNOjBMEgKtEoCEy_27nhPUH2yC_LL4_v1.png","/img/onboarding_cue_top_att.png":"/img/onboarding_cue_top_att_uGpp-MD_riLCAiD8j9w6IPw-q_l-7akw3h4LeOKt7DQ_v1.png","/img/onboarding_cue_top_bt.png":"/img/onboarding_cue_top_bt_9sggAIp0vp_pMQi9PFrIN6koeBxKOSQhcnYzU8_Byf4_v1.png","/img/onboarding_cue_top_frontier.png":"/img/onboarding_cue_top_frontier_V20oRBMHCc_7SVVL1Yz0Kv52hCQcLrmmxY87-MiLbBg_v1.png","/img/onboarding_cue_top_rogers.png":"/img/onboarding_cue_top_rogers_qWeZDyA7DOfOwDK-sdmNy4GBEkDhgcTJMOqNHL1Ov5A_v1.png","/img/onboarding_cue_top_sky.png":"/img/onboarding_cue_top_sky_3kPLrf-AM5bCIDH07dazvweXalNfRq6ZO1YY2Fpi7o8_v1.png","/img/onboarding_cue_top_verizon.png":"/img/onboarding_cue_top_verizon_Bck_qzvAYFG-PsAo4o0uRfABt3P8q9X9bOteSKSg19E_v1.png","/img/onboarding_cue_top.png":"/img/onboarding_cue_top_Fp8snNV_hyx71Q8PYf6GOkQyH2QvB5nBfHO6Mw8PYCE_v1.png","/img/onboarding_xavatar_2x.png":"/img/onboarding_xavatar_2x_o7rLmrz4nSL_aMT8zs74EDj3EX6P-k_Agb_tzSWb8tU_v1.png","/img/opt_out_bg.png":"/img/opt_out_bg_PppZ_B01W7h3CQopBxz8dVaFQxebyaZUhnXMEfm6GRo_v1.png","/img/opt_out_chick.png":"/img/opt_out_chick_eEVB-cwUSajdACIrAB8VQ1lAJIqln9L8OaKUtSaJPNY_v1.png","/img/opt_out_sad.png":"/img/opt_out_sad_KqhlmFfpxWIqm0mjPpYWxa7W3XkLvLDU41IlRVA5MbU_v1.png","/img/orbs_2x.png":"/img/orbs_2x_5hs8yr56EA3smA2MDEy4yU6k_0ueMWLwrUHQ2IF_LFg_v1.png","/img/people_smartview_cue_2x.gif":"/img/people_smartview_cue_2x_CoMJr8nicOvYe2f6mMw3zXRumfQlvqbT8FqMaa6SpJY_v1.gif","/img/people_smartview_cue.gif":"/img/people_smartview_cue_i0R2Kka_41sqZMqP_RTYZqbO3WsVtkt9g_yQxASVcnk_v1.gif","/img/personalize_inbox.jpg":"/img/personalize_inbox_7-LGmVnMKvVuTBu0gg6RnHWULPu9o9ifBDe-Xm8BY58_v1.jpg","/img/push_notifications_onboarding_2x.png":"/img/push_notifications_onboarding_2x_jr2WrhLbo8ryIvLt20HECkyCcp6hqlTLAughQ6LluzQ_v1.png","/img/receipt_and_cc_blue.png":"/img/receipt_and_cc_blue_IdLDLCYOIavt1TFEON_xFXFLLWgpyLYvuoxaq1VRPrA_v1.png","/img/receipt_and_cc_color.png":"/img/receipt_and_cc_color_313wF6n1Jsw9xT1oL1P3oyUoJnh4hOQicuk-wWUG930_v1.png","/img/receipt_empty_state.png":"/img/receipt_empty_state_NvQLXDbo2xN6pPiIJwVpzb8gS6ewWs__fH2zHOpnhVk_v1.png","/img/related_searches_tag_dark.png":"/img/related_searches_tag_dark_7GlAJLCPBfBnLvkwqwRNSB0khyFthPyLLJb9kQCHky4_v1.png","/img/related_searches_tag.png":"/img/related_searches_tag_Qe4hfsuRE4PXyYWndHPqdweTYG7jiv1KVWw-y9j6598_v1.png","/img/restaurant_search_header.png":"/img/restaurant_search_header_50uLcMJuKl0uDQ8KMLzwaugIagIScHbwmgCxgIk9p7U_v1.png","/img/roadtrip_bg_pattern.jpg":"/img/roadtrip_bg_pattern_GKkcDbxgblfi6EviN4vsxVUOhk1T40pycArKn6wc15c_v1.jpg","/img/roadtrip.jpg":"/img/roadtrip_YRCZDn6VBhz00-3mX5tqRuktIJ-yWKk7fMo1u80pjXw_v1.jpg","/img/sad_folder.png":"/img/sad_folder_7nLfKu3WMz6uv75DD-20GtKeZ1g_xJzr2U0QnKTnHKk_v1.png","/img/search_onboarding.jpg":"/img/search_onboarding_Pdur6X8BSMGE2nB9cxvZlHaIkhBdMylpnJQ-lTrqb9g_v1.jpg","/img/social_accounts.png":"/img/social_accounts_I1ShhMBBcBxec-IXiM2btQvSprw24-yIWTkFHUYKDpk_v1.png","/img/sr_truck_1x.png":"/img/sr_truck_1x_WD2WQEV7llCc_t1_crntGCP2kOKWuJMQDALghdzL_tQ_v1.png","/img/srlogo.png":"/img/srlogo_vaDyvbBhkvyBKJjeMj9rHEWnujjiMVefbvY4XUNjbsE_v1.png","/img/star_animation_orange.gif":"/img/star_animation_orange__ntVn5lQMPNSdqtjQRSF8UI8xsL_KdGGMH-Azy8I-Hc_v1.gif","/img/star_animation_yellow.gif":"/img/star_animation_yellow_5y9rgBZfln6MoTN2zXCaK9RzSlEqF1q-gET8jsYrRfs_v1.gif","/img/star_burst_colorful.gif":"/img/star_burst_colorful_6dqE9cj8d1lfi2O4CCn751Y0xpSTXt2-3OJ15arJy-c_v1.gif","/img/star_burst_dark_colorful.gif":"/img/star_burst_dark_colorful_XRTSpCp0Srcyo3SYEY_FNRMavqGsk7hf_vAZDS6AHcs_v1.gif","/img/star_jiggle_dark.gif":"/img/star_jiggle_dark_vJjiqRFWWpfeWo1c0EE1OnRM3C3GT-LCj1-IKBaW30g_v1.gif","/img/star_jiggle.gif":"/img/star_jiggle_mHRSWCxuDP22UpMVWUIHksRgw_KP5K_zUbJC_O4xyz8_v1.gif","/img/subscriptions_huffpost.png":"/img/subscriptions_huffpost_EQuPep28iO4Qs8w0z7y1xtvD4kySIn5BPfK5oRQ9fF8_v1.png","/img/sunset_aussie_bg_pattern.jpg":"/img/sunset_aussie_bg_pattern_OtDs9lJ_KqQskm6N5td0qQXWpvzgFeOlL9ca-paHPwI_v1.jpg","/img/sunset_aussie.jpg":"/img/sunset_aussie_lDtSmc_s8KyaEHRdT0D5QTYtMLbMX9NWJaD1E9cKRXI_v1.jpg","/img/tenor.png":"/img/tenor_oxJhYeiAd8fUcrdVfozpyGSSYmgt7DKIkdiYMrOUFmI_v1.png","/img/themes_cue_v2_bar.jpg":"/img/themes_cue_v2_bar_QpyOioVctDS-i609elkNIIu0ynwzJpCL1cQMjmVQjWw_v1.jpg","/img/themes_cue_v2_bottom.jpg":"/img/themes_cue_v2_bottom_kMvwy2p5JGMeNzp9EmZVXNIVchk9qKR9HlLik_LcG5E_v1.jpg","/img/ticket_search_header.png":"/img/ticket_search_header_5ImyEhQZb87yNx7lNftniOMkqmOGwPao_DDwUWaK198_v1.png","/img/truck_shoprunner.png":"/img/truck_shoprunner_-gyfxNTUSiLroVOKtduhMoP-UDI6d1k1BnLs7xUF6uY_v1.png","/img/unsupported_browser_bigtriangle.png":"/img/unsupported_browser_bigtriangle_rkPMKyG5t8pCl73gZ6IZHu4w46_nJCVX0BupaxCTbGU_v1.png","/img/unsupported_browser_circle.png":"/img/unsupported_browser_circle_WLzOkaj7xTxe9oEHSaZDOJDhTAjKwhCQUfmBqIcT5hA_v1.png","/img/unsupported_browser_maillogo.png":"/img/unsupported_browser_maillogo_I5EKIAwsb8YvZ1PNEfK3yw6QAsLjc8YtmFG3lRCUYQU_v1.png","/img/unsupported_browser_phone.png":"/img/unsupported_browser_phone_writpnVtNgQE3flcPogwDxTQojsUY6Rbt62VkGXdUD8_v1.png","/img/unsupported_browser_smalltriangle.png":"/img/unsupported_browser_smalltriangle_toRjtBcf56AbRF9QNaLi2GQ51e_ff1BN7-cOUvqmnQQ_v1.png","/img/vacation_response.png":"/img/vacation_response_FEynu9gYqFEdlS2AtsCLXUDOS2-oYXqQbBELhcCQJPY_v1.png","/img/viewing_email.png":"/img/viewing_email_wUyyBFfRqELtfdvE28PBha2fq0uwckTwIzjVwfm4tAA_v1.png","/img/welcome_illustration_2x.png":"/img/welcome_illustration_2x_pA2RvkabgxB3a_mjVe64PKG_Wuw1JrAcKG7o6RMiZFk_v1.png","/img/welcome_illustration_3x.png":"/img/welcome_illustration_3x_dtJqgamzfoQffUzaAKwcWy-rGI1UEcY4PPuCR5mJV4w_v1.png","/img/yahoo_badge.png":"/img/yahoo_badge_PIDYkGpMyvCeBI7l6OmFM2o6YMgW4pibk1qXlqxjCRQ_v1.png","/img/yahoo_shoprunner_background.png":"/img/yahoo_shoprunner_background_JiQLNwMM_pT0rYGr-OJvjyWI5EFmsowB-nZ_eAiIOgM_v1.png","/img/yahoo_shoprunner.png":"/img/yahoo_shoprunner_C07YljR7GcHfuX0p-MF_wHZelpJxTDqq9WDeTE9o9jI_v1.png","/html/status.html":"/html/status_NsIMApfRFdB9nTk9uhk8xFAt08_hm8m9QjmR2g0Vl9Y_v1.html","/json/mobile_manifest.json":"/json/mobile_manifest_m8yRgPyLx7GIxVkETyKu2nBDZfxje9yPllynmCPrnZE_v1.json","/json/web_manifest.json":"/json/web_manifest_zdmVWTe8Hdp05CX3yPbgNMfiiGr4DFZJOp0JdEBS8DM_v1.json"}},function(e,t,s){"use strict";e.exports={className:{default:{menu:"I_52qC b_Z14vXdP e_dRA j_Z2jsUnk C_Z281SGl Z_3nxNR p_a ir_0 P_3HLUz"}},_key:"1RO7iY"}},function(e,t,s){"use strict";e.exports={className:{default:{buttonContainer:""},active:{buttonContainer:"I_7l9bL"}},_key:"ZTqMOv"}},function(e,t,s){"use strict";e.exports={className:{default:{listItem:"G_e p_R",icon:"i_0"},"kind-WRAP_CONTENT":{listItem:"H_A i_N"},"kind-GRID":{listItem:"P_0 f_l M_dRA ir4_2ivgpk"}},_key:"1fXSHs"}},function(e,t,s){"use strict";e.exports={className:{default:{account:"en_0 E_6MGW ac_C C_52qC",menuButton:"I_T b_0 C_52qC ir3_Z1HO9zT",button:"D_F ab_C y_Z2uhb3X A_6EqO",accountText:"E_eo6",menuName:"u_b D_B J_x o_h G_e",menuAddress:"D_B J_x o_h G_e",menuContainer:"s_3nV5V a_3v1qi H_7iGr D_F ek_BB gl_C X_6Fd5",logoutLink:"H_72FG i_72FG X_6Fd5 D_B I_ZnkeaL ir3_1JO2M7 cZ11XJIl_0"}},_key:"VKE1J"}},function(e,t,s){"use strict";e.exports={className:{default:{overlay:"Z_7G9R",shim:"Z_7G9R T_0 B_0 L_0 R_0 p_a q_T"}},_key:"1HLIBC"}},function(e,t,s){"use strict";e.exports={className:{default:{suggestionLabelContainer:"D_F ab_C o_h",suggestionOption:"D_F P_ZGAgNS k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9 gl_FM",keywordSuggestionOption:"D_F P_ZGAgNS k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9",suggestionIcon:"W_6FIA H_6EGz E_6FYl D_F ab_C",emailSuggestionLabel:"o_h",suggestionLabel:"J_x G_e o_h N_6Fd5",emailAddressLabel:"J_x G_e o_h N_6Fd5 C_Z1YFBQc A_6DUj",dateLabel:"C_Z1VRpVF A_6DUj J_x D_F ac_CI"}},_key:"ZmbOtX"}},function(e,t,s){"use strict";e.exports={className:{default:{buttonContainer:"I_52qC D_F M_3gJOe ab_C"}},_key:"Mr5Pj"}},function(e,t,s){"use strict";e.exports={className:{default:{dragIcon:"H_6FIA Z_7G9S p_a",counter:"D_X H_6Fd5 W_6Fd5 Z_7G9T p_a L_fFR T_6Fd5 e_e5X t_C q_ZnTFMv C_52qC"}},_key:"1HvlCH"}},function(e,t,s){"use strict";e.exports={className:{default:{searchBoxContainer:"en_0 O_cMq D_F p_R H_74JI",searchButton:"M_0 b_0 C_52qC en_0 W_7GHz D_F u_b cZ1RN91d_n J_x A_6EqO k_w gl_C ck_dRA y_Z2uhb3X bl_dRA H_74JI I_2sqbOJ",searchBoxInput:"M_0 W_6D6F D_F C_Z1AHs3T ab_C I_52qC A_6EWk y_Z2uhb3X P_6Eb4 H_74JI cj_dRA bk_dRA"}},_key:"Z1rzFeh"}},function(e,t,s){"use strict";e.exports={className:{default:{bgContainer:"D_F ek_BB H_6D6F aw_2941hk ba_10I1Qt az_oOItw ay_Z1nkUQx I_kt4zd",container:"D_F ek_BB H_6D6F cZ1RN91d_n s_1HCsWR aw_Z22yhkg I_kt4zd az_oOItw ba_Z2gmOa3 ay_Z1p6ctn c2hBT4u_Zm6i39 cZTwBjO_Zdogtk",inputModeWrapper:"H_6D6F",appHeader:"en_0 cZ1RN91d_n D_F ek_BB gl_FM",tabSpace:"f_l a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_ZM1sUU",tabWrapper:"a_1Ie4E3 I_sgPtS M_1EAG48 W_6D6F",tab:"N_3o4BO cZ1YE9As_ZbJh7p e_1GFLLo",ybar:"H_7zJd",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"},"ads-false":{tab:"N_0"},"themeMode-LIGHT":{tabWrapper:"I_ajP3z"},wideLogo:{tabSpace:"f_l a_3rehn W_3rehn s_3rehn cZ10Gnkk_ZM1sUU"},darkModePhotoTheme_NIGHT_LANDSCAPE:{tabWrapper:"I_cOYBx"},darkModePhotoTheme_ROADTRIP:{tabWrapper:"I_1iaDps"},darkModePhotoTheme_SUNSET_AUSSIE:{tabWrapper:"I_2woiX9"},darkModePhotoTheme_LIGHTHOUSE:{tabWrapper:"I_t5YJo"}},_key:"1kFWTw"}},function(e,t,s){"use strict";e.exports={className:{default:{searchContainer:"H_6UbO M_1JP1a2 p_R",input:"W_6D6F H_6D6F k_w li_6UbO y_Z2uhb3X",magnifying:"p_a L_0 T_0 cZW7ROP_n H_6D6F D_F ab_C P_3gJOe"}},_key:"Z1rdFsB"}},function(e,t,s){"use strict";e.exports={className:{default:{header:"D_F ab_C W_6D6F k_w C_52qC aw_Z1Skzn2 P_nzg7u",text:"em_N D_F ek_BB ab_CI",heading:"A_6FsP u_b U_fq7",subheading:"A_6Eb4"},ATT:{header:"aw_ZvJQac"},FRONTIER:{header:"aw_Z21mNgp"},ROGERS:{header:"aw_cqhYR"},BT:{header:"aw_fyCuS"},SKY:{header:"aw_2i3i9C"},DEFAULT:{header:"aw_Z1oGKIG"},SUNRISE:{header:"aw_j5A3N"},AQUA_GREEN:{header:"aw_Z1TaR3H"},AQUA_BLUE:{header:"aw_lYTmB"},DEEP_PURPLE:{header:"aw_Z2r9M2j"},BLUE_NIGHT:{header:"aw_ZhWBiv"},NIGHT_LANDSCAPE:{header:"aw_1EcdPV"},ROADTRIP:{header:"aw_Z29MWQS"},SUNSET_AUSSIE:{header:"aw_Z1FJaQI"},LIGHTHOUSE:{header:"aw_DHTjP"}},_key:"1JqHIX"}},function(e,t,s){"use strict";e.exports={className:{default:{twoColumnList:"D_F ha_n P_0 gl_FM eo_HB o_h M_1A1TYO",column:"em_N en_N s_3rRhf",spacer:"ej_6LEV en_0",sectionContainer:"U_6TFj",sectionHeading:"A_6EWk C_Z281SGl U_6Fd5",listView:"hd_n X_0"},searching:{twoColumnList:"ek_BB"}},_key:"2iQpu0"}},function(e,t,s){"use strict";e.exports={className:{default:{delimit:"M_3gJOe A_6DUj",keyGroups:"D_F",keyGroup:"D_F ab_C",vertical:"D_F ek_BB ab_CI",key:"A_6DUj i_6DUj I_ZnkeaL j_19EkMo y_2tAGiz H_6FIA P_3gJOe k_w e_dRA J_x D_F ab_C",marginTop:"Y_fq7"}},_key:"Z2kJbF9"}},function(e,t,s){"use strict";e.exports={className:{default:{keyRow:"D_F ab_C M_3Y3Gk em_N",description:"A_6Eb4 C_Z281SGl E_fq7"}},_key:"ZVMVx3"}},function(e,t){function s(e){this.key=e,this.value=null,this.descendantCount=0,this.children={}}s.prototype={insert(e,t){if(!arguments.length)throw new Error("Invalid number of arguments, requires key and value");this._insert(e,t)},_insert(e,t,n){var a=arguments.length;if(n===e.length)return void(null===this.value&&(this.value=t));a<3&&(n=0),this.descendantCount=this.descendantCount+1;const r=e[n];void 0===this.children[r]&&(this.children[r]=new s(r)),this.children[r]._insert(e,t,n+1)},find(e){return!e||e&&0===e.length?[]:this._find(e)},_find(e,t){void 0===t&&(t=0);const s=this.children[e[t]];return s?t===e.length-1?s._getChildrenValues(e):s._find(e,t+1):[]},_getChildrenValues(e){var t=[];e||(e=""),this.value&&t.push(this.value);for(const s in this.children)this.children.hasOwnProperty(s)&&(t=t.concat(this.children[s]._getChildrenValues(e+s)));return t}},e.exports=s},function(e,t,s){"use strict";e.exports={className:{default:{container:"s_3Lic3 H_HMYSt k_w I_52qC D_F ek_BB ab_FT",cheatContent:"P_1EutVf U_72FG D_F ek_BB en_N ej_0 em_N",keysetContainer:"iz_A W_6D6F em_N ej_0",header:"en_0",filterSection:"en_0"}},_key:"ZIdXmv"}},function(e,t,s){"use strict";e.exports={className:{default:{properties:"D_F en_0 gl_FM je_6Fd5 jb_6Fd5 N_6Fd5 X_6Fd5 H_7bcz k_w I_52qC m_Z14vXdP U_67SN",container:"Z_qc"},verticalLayout:{container:"H_6D6F",properties:"ek_BB gl_CI H_6D6F"},"themeMode-DARK":{properties:"I_sgPuT m_ZYfFSw U_0"},"themeMode-MEDIUM":{properties:"I_sgPuT m_ZYfFSw U_0"},"themeCombo-DARK_NIGHT_LANDSCAPE":{properties:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{properties:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{properties:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{properties:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{properties:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{properties:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{properties:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{properties:"I_t5YMW"}},_key:"ZVBdTR"}},function(e,t,s){"use strict";e.exports={className:{default:{selectWrapper:"r_P p_R A_6EqO",selectTitle:"D_X u_6EqO C_Z281SGl U_fq7",selectPlaceholder:"F_N o_h J_x D_X G_e C_Z1TsNWR",selectLabel:"D_F gl_FL C_Z281SGl m_2w4l8N H_6VdP i_6VdP X_fq7",emptyItem:"C_ZxFlP3 P_1Eu6qC i_6VdP",optionsContainer:"W_6D6F P_3DHIS p_a q_52qC C_Z281SGl e_dRA j_Z2nrtxD",selectedValue:"em_N o_h J_x D_X G_e C_Z281SGl",inputWrapper:"em_N D_F o_h gl_FL H_6VdP i_6VdP",selectInput:"O_0 W_dBP H_dBP b_n ir_n p_a D_X",closeBtn:"r_P e_e5X M_8ximD D_X W_6Fd5 H_6Fd5 i_6Fd5",arrowDown:"r_P D_F gl_C ab_C"},isOpen:{selectWrapper:"Z_7G9R"},isFocused:{selectLabel:"m_2fAfSG",arrowDown:"l_B4CaF"},disabled:{selectLabel:"r4_DZ",selectedValue:"C_ZvsWfq"},coloredPlaceholder:{selectPlaceholder:"C_Z2aVTcY"},"type-FITCONTENT":{optionsContainer:"W_CS s_6D6F"},inline:{selectBox:"H_6TFj",selectLabel:"D_I m_n H_6Nds i_6FIA X_0",selectedValue:"A_6EqO C_Z1VRpVF",inputWrapper:"D_X o_h gl_FL H_6VdP i_6VdP",arrowDown:"r_P D_X o_h gl_FL H_6TFj X_fq7 Y_fq7"}},_key:"ZfrCPr"}},function(e,t,s){"use strict";e.exports={className:{default:{optionItem:"k_w D_B W_6D6F b_n r_P t_l o_h J_x G_e q_T P_20hyCR i_6VdP A_6EqO q4_2iedUU"},isSelected:{optionItem:"q_2ieeaE"},"hoverStyle-BOLD":{optionItem:"u4_b q4_T"},"hoverStyle-BOLD_SELECTED":{optionItem:"u_b q4_T"}},_key:"Z1OYXqQ"}},function(e,t,s){"use strict";e.exports={className:{default:{mainAd:"em_N P_6Fd5 k_w W_3vpWV a_3vpWV o_v"},isCompactSize:{mainAd:"a_3o4BO W_3o4BO"},wideRightRail:{lrec:"U_3mS2U"}},_key:"bSccJ"}},function(e,t,s){"use strict";e.exports={className:{default:{rightRailContainer:"D_F o_v p_R I_ZnwrMC",rightRail:"D_F ek_BB",panesContainer:"D_F em_N ek_BB iz_A iy_h a_3vpWV H_6D6F",attachmentPreview:"em_N",hideAdsChevronWrapper:"x_Z14vXdP W_6LEV H_6D6F X_eTB D_F ab_C o_h p_a T_0 Q_36SPr L_67SN cZW7ROP_n",activeHideAdsChevronWrapper:"x_2fAfSG W_6LEV H_6D6F X_eTB D_F ab_C o_h p_a T_0 Q_36SPr L_67SN cZW7ROP_n",hideAdsChevron:"c27KHO0_n I_52qC O_cMp b_0 D_F cdPFi_Z281SGl r_P s_6NIX H_6NIX j_Z197UJe e_VHH8F ab_C X_dRA cZW7ROP_A O4_N aw4_ZBSKJ8 cdPFi4_52qC"},hasAttachmentPreview:{panesContainer:"a_n ek_EZ",rightRail:"ek_FB"},"themeMode-MEDIUM":{hideAdsChevronWrapper:"x_ZYfFSw",rightRailContainer:"I_T"},"themeMode-DARK":{hideAdsChevronWrapper:"x_ZYfFSw",rightRailContainer:"I_T",hideAdsChevron:"I_2sqbOJ O_N cdPFi4_Z281SGl"},"theme-ATT":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-FRONTIER":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-ROGERS":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-BT":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-SKY":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-DEFAULT":{activeHideAdsChevronWrapper:"x_2oWau5",hideAdsChevron:""},"theme-SUNRISE":{activeHideAdsChevronWrapper:"x_Z110WD6",hideAdsChevron:"I4_ZmlXUP aw4_n"},"theme-AQUA_GREEN":{activeHideAdsChevronWrapper:"x_2uOeea",hideAdsChevron:"I4_Z1UHURv aw4_n"},"theme-AQUA_BLUE":{activeHideAdsChevronWrapper:"x_2iwbQA",hideAdsChevron:"I4_Z280Xf5 aw4_n"},"theme-DEEP_PURPLE":{activeHideAdsChevronWrapper:"x_Z1aO4GY",hideAdsChevron:"I4_Zwa5YI aw4_n"},"theme-BLUE_NIGHT":{activeHideAdsChevronWrapper:"x_2oWau5",hideAdsChevron:"I4_Z21zYBA aw4_n"},"theme-NIGHT_LANDSCAPE":{activeHideAdsChevronWrapper:"x_2uRWCH",hideAdsChevron:"I4_Z1UEcsX aw4_n"},"theme-ROADTRIP":{activeHideAdsChevronWrapper:"x_Z15YOdY",hideAdsChevron:"I4_ZrkPvI aw4_n"},"theme-SUNSET_AUSSIE":{activeHideAdsChevronWrapper:"x_Z110WD6",hideAdsChevron:"I4_ZmlXUP aw4_n"},"theme-LIGHTHOUSE":{activeHideAdsChevronWrapper:"x_2tSflE",hideAdsChevron:"I4_Z1VDTK1 aw4_n"}},_key:"Z2b6PDC"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C H_7cul W_6D6F P_0 M_0 k_w b_n q_n",content:"D_F ek_BB gl_C F_N A_6EqO i_7ceA C_Z281SGl H_7ceA m_Z12nDQf",orb:"ah_Z1tF3s4 F_n p_R cdPFi_ZpQYvz P_0 M_20hyCR W_1M2iaA H_1M2iaA",name:"ah_Z1tF3s4 W_7rdk H_6DEy q_ZpQYvz e_eDQ",emails:"ah_Z1tF3s4 Y_6Eb4 W_3nH9d H_fq7 q_ZpQYvz e_eo6"},"themeMode-MEDIUM":{content:"m_1iPdY0",orb:"cdPFi_Z1Xxgu0",name:"q_Z1Xxgu0",emails:"q_Z1Xxgu0"},"themeMode-DARK":{content:"m_1iPdY0",orb:"cdPFi_Z1Xxgu0",name:"q_Z1Xxgu0",emails:"q_Z1Xxgu0"}},_key:"r9Vvz"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"F_N",search:"H_72FG k_w m_Z12nDQf",tabs:"H_6UbO m_Z12nDQf",separator:"H_6MWH D_F ab_C P_Z1feoPS",separatorText:"ah_Z1tF3s4 D_X H_fq7 W_7kKt e_eo6 q_ZpQYvz",withBackground:"q_52qC"},includeHeaders:{wrapper:"W_3vpWV"},"themeMode-MEDIUM":{withBackground:"q_sgPuT",search:"m_1iPdY0",tabs:"m_1iPdY0",separatorText:"q_Z1Xxgu0"},"themeMode-DARK":{withBackground:"q_sgPuT",search:"m_1iPdY0",tabs:"m_1iPdY0",separatorText:"q_Z1Xxgu0"},"themeCombo-DARK_NIGHT_LANDSCAPE":{withBackground:"q_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{withBackground:"q_cOYF6"},"themeCombo-DARK_ROADTRIP":{withBackground:"q_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{withBackground:"q_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{withBackground:"q_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{withBackground:"q_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{withBackground:"q_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{withBackground:"q_t5YMW"}},_key:"ZdVGa6"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB en_0 I_52qC r_BN W_3v1qi cZ1RN91d_GG X_6Fd5 N_6Fd5",email:"o_h J_x mq_CZ G_e r_P C_Z2aVTcY S4_U",phone:"Y_dRA",header:"U_fq7 p_R",rightColElement:"D_F ek_BB i_6EqO Q_6Eb4 o_h gl_C W_3o4BO",contactFlexContainer:"D_F A_6DUj je_6Fd5 U_fq7"},isInRightRail:{container:"je_6LEV jb_6LEV k_w M_Zm1Iab U_eo6 W_3vpWV a_3vpWV cn_3vzlv cg_FJ l_ZpQYvz K_3I1y8 o_A",contactFlexContainer:"je_dm5 U_dm5"},partnerIconEnabled:{container:"je_eo6"},isCompose:{email:"r_BN C_Z281SGl S4_n"},darkModeNonPhotoTheme:{container:"I_sgPuT C_ZpQYvz l_T",email:"C_Z21zYBA"},darkModePhotoTheme_NIGHT_LANDSCAPE:{container:"I_cOYF6 C_ZpQYvz l_T",email:"C_Z21zYBA"},darkModePhotoTheme_ROADTRIP:{container:"I_1iaDt1 C_ZpQYvz l_T",email:"C_Z21zYBA"},darkModePhotoTheme_SUNSET_AUSSIE:{container:"I_2woj1H C_ZpQYvz l_T",email:"C_Z21zYBA"},darkModePhotoTheme_LIGHTHOUSE:{container:"I_t5YMW C_ZpQYvz l_T",email:"C_Z21zYBA"}},_key:"Z1RRuAd"}},function(e,t,s){"use strict";e.exports={className:{default:{social:"D_F gl_l Y_fq7",socialIcon:"D_F E_6Eb4 cdPFi_ZpQYvz",backyardIcon:"D_F E_6Eb4 cdPFi_Z1RVMOO cdPFi4_Z2aVTcY"},darkVariations:{backyardIcon:"cdPFi_2sqbRh cdPFi4_52qC",socialIcon:"cdPFi_2sqbRh cdPFi4_52qC"}},_key:"ZTBWer"}},function(e,t,s){"use strict";e.exports={className:{default:{containerFooter:"H_A z_Z12nDQf je_eTB jb_6DEy C_Z1VRpVF A_6DUj",footerText:"X_eo6 N_eo6 i_6EqO",footer:"U_fq7"}},_key:"5M9Ke"}},function(e,t,s){"use strict";e.exports={className:{default:{contactSummary:"gl_C A_6EqO C_Z1VRpVF o_h je_6Fd5",contact:"r_P C_Z2aVTcY"},"themeMode-DARK":{contactSummary:"C_ZvsWfq",contact:"C_Z21zYBA"},"themeMode-MEDIUM":{contactSummary:"C_ZvsWfq",contact:"C_Z21zYBA"}},_key:"ZI2MiP"}},function(e,t,s){"use strict";e.exports={className:{default:{avatarContainer:"W_A o_v H_tQ r_BN",leftColElement:"D_B gl_C"},websiteLinked:{avatarContainer:"r_P"}},_key:"ZM5zAb"}},function(e,t,s){"use strict";e.exports={className:{default:{name:"C_Z281SGl i_6MGW A_6EWk u_b cZ1RN91d_GG w_AS k_w D_X a_3nHoX",searchSection:"r_P cdPFi_Z1VRpVF cdPFi4_Z2aVTcY C4_Z2aVTcY",searchIcon:"Q_dRA cdPFi_q P_Z1nnkYl",iconsSection:"p_a"},isMobile:{name:"A_6FIA",searchSection:"gl_FM ab_C",searchIcon:"P_3gJOe"},darkVariations:{name:"C_ZpQYvz",searchSection:"cdPFi_ZpQYvz cdPFi4_52qC C4_52qC"}},_key:"qu1CF"}},function(e,t,s){"use strict";e.exports={className:{default:{position:"i_6LEV C_Z1VRpVF Y_dRA A_6EqO q_T w_AS"},isMobile:{position:"A_6Fd5"},darkVariations:{position:"C_ZvsWfq"}},_key:"Z1uMvl0"}},function(e,t,s){"use strict";e.exports={className:{default:{website:"o_h J_x mq_CZ G_e r_A Y_dRA i_6EGz C_Z2aVTcY S4_U"},websiteLinked:{website:"r_P"},"themeMode-DARK":{website:"C_Z21zYBA"},"themeMode-MEDIUM":{website:"C_Z21zYBA"}},_key:"Z2hCzCK"}},function(e,t,s){"use strict";e.exports={className:{default:{infoIconContainer:"D_F gl_CH cdPFi_Z1TsNWR cdPFi4_Z2aVTcY"},isOnDarkBackground:{infoIconContainer:"cdPFi_ZpQYvz cdPFi4_52qC"}},_key:"Z1NjuAv"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1JO2M7 it3_0 I4_2tvNsT",activeContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1JO2M7 it3_0 I4_2tvNsT n_Z1YKD9t I_1kC8gG",dragoverContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1JO2M7 it3_0 I4_2tvNsT I_1kC8gG",activeDragoverContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1JO2M7 it3_0 I4_2tvNsT n_Z1YKD9t I_1kC8gG",labelContainer:"D_F W_6D6F ab_C i_6FIA p_R o_h G_e J_x",activeLabelContainer:"D_F W_6D6F ab_C i_6FIA p_R",folderLabelContainer:"D_F W_6D6F ab_C i_6FIA p_R",label:"G_e J_x o_h H_6FIA",chevron:"c27KHO0_n I_T b_0 P_0 E_0 D_F cdPFi_Z1YRXYn",folderMenu:"c27KHO0_n I_T b_0 X_fq7 v_h D_F em_N gl_CH je_e8l",folderMenuIcon:"cdPFi_Zjpyu2 r_P E_fq7 cdPFi4_Z281SGl",loader:"E_6Eb4",unreadWrapper:"E_fq7",unreadFadeIn:"ah_ZPQR1p",unreadFadeOut:"ah_Z1DNnWG",navContainer:"W_6D6F C_Z1YRXYn D_F",activeNavContainer:"W_6D6F C_Z281SGl D_F u_b",trashIconWrapper:"D_F em_N gl_CH cdPFi_Zjpyu2 r_P cdPFi4_ZkiIcp"},isActive:{labelContainer:"Q_689y",unreadWrapper:"T_eDQ"},"indentation-TOPFOLDER_WITH_ICON":{container:"X_0",activeContainer:"X_0",dragoverContainer:"X_0",activeDragoverContainer:"X_0"},"indentation-TOPFOLDER_WITHOUT_ICON":{container:"X_6LEV",activeContainer:"X_6LEV",dragoverContainer:"X_6LEV",activeDragoverContainer:"X_6LEV"},"indentation-SUBFOLDER_WITH_ICON":{container:"X_0",activeContainer:"X_0",dragoverContainer:"X_0",activeDragoverContainer:"X_0"},"indentation-SUBFOLDER_WITHOUT_ICON":{container:"X_6EGz",activeContainer:"X_6EGz",dragoverContainer:"X_6EGz",activeDragoverContainer:"X_6EGz"},showFolderMenu:{folderMenu:"v_v"},"themeMode-MEDIUM":{container:"C_2sqbRh ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn",navContainer:"C_2sqbRh ir3_Z1FS2Mn",activeNavContainer:"C_52qC ir3_Z1FS2Mn",dragoverContainer:"C_2sqbRh",activeDragoverContainer:"C_52qC",folderLabelContainer:"C_2sqbPK",chevron:"cdPFi_2sqbRh",folderMenuIcon:"cdPFi_ZpQYvz cdPFi4_52qC",trashIconWrapper:"cdPFi_ZpQYvz cdPFi4_Zkij7I"},"themeMode-DARK":{container:"C_2sqbRh ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn",navContainer:"C_2sqbRh ir3_Z1FS2Mn",activeNavContainer:"C_52qC ir3_Z1FS2Mn",dragoverContainer:"C_2sqbRh",activeDragoverContainer:"C_52qC",folderLabelContainer:"C_2sqbPK",chevron:"cdPFi_2sqbRh",folderMenuIcon:"cdPFi_ZpQYvz cdPFi4_52qC",trashIconWrapper:"cdPFi_ZpQYvz cdPFi4_Zkij7I"}},_key:"1fyxO2"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C",closeButton:"en_0",inputContainer:"D_F b_0 em_N",inputSubmitContainer:"D_F em_N ab_C b_2w4l8N",input:"W_6D6F k_w H_6LEV y_Z2uhb3X X_eo6 b_0",okIcon:"I_ZroviD en_0 W_6LEV H_6LEV",popoverContainer:"D_F",popover:"P_eTB C_ZnTFMv W_3nh43 k_w A_6Eb4"},invalidFolderName:{inputSubmitContainer:"b_Z1222NH"},validFolderName:{okIcon:"I_Z2aVTcY"},"indentation-INDENTATION_NORMAL":{container:"P_ZmsKgw"}},_key:"UBopn"}},function(e,t,s){"use strict";e.exports={className:{default:{inputContainer:"p_R D_F W_6D6F",input:"q_T y_Z2uhb3X je_0 jb_0 X_fq7 N_fq7",clearButtonContainer:"p_a T_0 R_0 B_0 W_6VdP D_F gl_C ab_C"},showClear:{rtlRemoveInput:"rtlRM_rtlRM_X_fq7 rtlRM_rtlRM_N_6VdP ",rtlRawInput:"rtlR_rtlR_N_fq7 rtlR_rtlR_X_6VdP "},"showClear-false":{input:"X_fq7 N_fq7"}},_key:"1Lr5KA"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"A_6DUj P_Z2rzCvT H_6FIA i_6FIA Q_A t_C e_3mS2U C_Z1YRXYn I_ZpQYvz",activeContainer:"A_6DUj P_Z2rzCvT H_6FIA i_6FIA Q_A t_C e_3mS2U C_52qC I_T u_b"},whiteBackground:{container:"C_2sqbRh I_ajP4A"},isAccountSwitcher_MEDIUM:{activeContainer:"I_ajP4A"},isAccountSwitcher_DARK:{activeContainer:"I_ajP4A"},isAccountSwitcher_LIGHT:{activeContainer:"I_ZpQYvz"},"themeMode-LIGHT":{activeContainer:"C_Z281SGl"},"highlightThemeCombo-true_ATT":{container:"C_52qC I_Z2dxrGx"},"highlightThemeCombo-true_FRONTIER":{container:"C_52qC I_Z1A0QhA"},"highlightThemeCombo-true_ROGERS":{container:"C_52qC I_Z21W7Hh"},"highlightThemeCombo-true_BT":{container:"C_52qC I_Z20SNAa"},"highlightThemeCombo-true_SKY":{container:"C_52qC I_Z2dycH0"},"highlightThemeCombo-true_DEFAULT":{container:"C_52qC I_Z2aVTcY"},"highlightThemeCombo-true_SUNRISE":{container:"C_52qC I_ZmlXUP"},"highlightThemeCombo-true_AQUA_GREEN":{container:"C_52qC I_Z1UHURv"},"highlightThemeCombo-true_AQUA_BLUE":{container:"C_52qC I_Z280Xf5"},"highlightThemeCombo-true_DEEP_PURPLE":{container:"C_52qC I_Zwa5YI"},"highlightThemeCombo-true_BLUE_NIGHT":{container:"C_52qC I_Z21zYBA"},"highlightThemeCombo-true_NIGHT_LANDSCAPE":{container:"C_52qC I_Z1UEcsX"},"highlightThemeCombo-true_ROADTRIP":{container:"C_52qC I_ZrkPvI"},"highlightThemeCombo-true_SUNSET_AUSSIE":{container:"C_52qC I_ZmlXUP"},"highlightThemeCombo-true_LIGHTHOUSE":{container:"C_52qC I_Z1VDTK1"},"highlightDarkPartnerThemeCombo-true_ATT":{container:"C_Z281SGl I_52qC"},"highlightDarkPartnerThemeCombo-true_FRONTIER":{container:"C_Z281SGl I_52qC"},"highlightDarkPartnerThemeCombo-true_ROGERS":{container:"C_Z281SGl I_52qC"},"highlightDarkPartnerThemeCombo-true_BT":{container:"C_Z281SGl I_52qC"},"highlightDarkPartnerThemeCombo-true_SKY":{container:"C_Z281SGl I_52qC"}},_key:"19wdSu"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"P_3Y3Gk",separator:"m_Z14vXdP M_3HLUz"}},_key:"220Q4E"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F k_w W_6D6F H_6NIX X_6DEy N_fq7 ab_C C_Z1YRXYn ir3_1JO2M7 it3_dRA I4_2tvNsT",activeContainer:"D_F k_w W_6D6F H_6NIX X_6DEy N_fq7 ab_C C_Z281SGl ir3_1JO2M7 it3_dRA I4_2tvNsT u_b n_Z1YKD9t I_1kC8gG",labelContainer:"D_F W_6D6F ab_C i_6FIA",label:"G_e J_x o_h E_6LEV H_6FIA",smartViewIcon:"c27KHO0_n I_T N_fq7 b_0 D_F em_N gl_CH",badgeContainer:"a_6NIX h_1UBaXG",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC rtlR_rtlR_N_fq7 rtlR_rtlR_X_2vNgMj ",starAnimation:"N_fq7 ab_C Q_A i_6FIA W_72FG H_6LEV D_F k_w",sparkleGuidedStarAnimation:"p_a H_6VdP Q_69H5"},"animation-slideUp":{starAnimation:"v_h ah_Z2d532X ai_qM"},isActive:{smartViewIcon:"Q_68F4"},isActiveAndNoIcon:{labelContainer:"Q_689y"},hasIcon:{container:"X_fq7"},"themeMode-MEDIUM":{container:"C_2sqbRh ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn"},"themeMode-DARK":{container:"C_2sqbRh ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn"}},_key:"HXw6p"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C H_6NIX N_fq7 C_Z1YRXYn I4_2tvNsT",newFolderContainer:"D_F ab_C r_P cdPFi_Z281SGl ir3_1JO2M7 it3_dRA I4_T"},"indentation-INDENTATION_NORMAL":{newFolderContainer:"P_ZmsKgw"},"themeMode-MEDIUM":{container:"C_2sqbRh",newFolderContainer:"cdPFi_2sqbRh ir3_Z1FS2Mn"},"themeMode-DARK":{container:"C_2sqbRh",newFolderContainer:"cdPFi_2sqbRh ir3_Z1FS2Mn"}},_key:"1OPKiY"}},function(e,t,s){"use strict";e.exports={className:{default:{smartviewList:"hd_n P_0 M_0",smartviewContainer:"H_6NIX D_F ab_C ir3_1JO2M7 it3_dRA",toggleSmartViews:"N_fq7 A_6DUj C_Z1VRpVF r_P C4_Z1YRXYn",labelContainer:"D_F W_6D6F ab_C i_6FIA",label:"em_N G_e J_x o_h E_fq7 H_6FIA",chevron:"c27KHO0_n I_T b_0 P_0 E_0 D_F"},"indentation-INDENTATION_NONE":{folderTree:"P_0"},darkModeNonPhotoTheme:{smartviewContainer:"C_2sqbPK ir3_Z1FS2Mn",toggleSmartViews:"C_2sqbPK C4_2sqbRh"},darkModePhotoTheme_NIGHT_LANDSCAPE:{smartviewContainer:"C_2sqbPK ir3_Z1FS2Mn",toggleSmartViews:"C_2sqbRh C4_52qC"},darkModePhotoTheme_ROADTRIP:{smartviewContainer:"C_2sqbPK ir3_Z1FS2Mn",toggleSmartViews:"C_2sqbRh C4_52qC"},darkModePhotoTheme_SUNSET_AUSSIE:{smartviewContainer:"C_2sqbPK ir3_Z1FS2Mn",toggleSmartViews:"C_2sqbRh C4_52qC"},darkModePhotoTheme_LIGHTHOUSE:{smartviewContainer:"C_2sqbPK ir3_Z1FS2Mn",toggleSmartViews:"C_2sqbRh C4_52qC"}},_key:"ZACIE2"}},function(e,t,s){"use strict";e.exports={className:{default:{scrollOuter:"p_R k_w W_6D6F",listSpacer:"H_6Fd5"}},_key:"Z1b0Hro"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"e_dRA l_T cn_dBP cg_FJ k_w r_P A_6EqO u_e69 p_R S_n C_52qC I_ZamTeg D_F H_6VdP gl_C ab_C en_0 M_1Eu7sD ir3_1JO2M7 it3_dRA",badgeContainer:"p_a h_Z1ffcnk L_0 T_67SN"},"themeMode-MEDIUM":{link:"ir3_Z1FS2Mn"},"themeMode-DARK":{link:"ir3_Z1FS2Mn"}},_key:"qoTwW"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"D_F en_0 gl_C ab_C H_6MGW o_h",container:"W_6MGW H_6MGW D_X ah_1Ozsbb"},"size-XS":{wrapper:"H_6LEV",container:"W_6LEV H_6LEV"}},_key:"ZjGm2r"}},function(e,t,s){"use strict";e.exports={className:{default:{divider:"M_ZyFsHm q_ak5k6 r_P cdPFi_Zjpyv3 t_C H_0 p_R P_dRA q4_52qC cdPFi4_Zjpytw",moreButton:"b_n r_P P_dRA p_R H_6Fd5 T_69H5 q_T W_6D6F ir3_1JO2M7",moreIcon:"p_a T_68F4 L_dRK W_6Eb4 H_6Eb4"},"themeMode-MEDIUM":{divider:"q_Z221Km9 cdPFi_ak5jA q4_ZS20V7 cdPFi4_ak5l7",moreButton:"ir3_Z1FS2Mn"},"themeMode-DARK":{divider:"q_Z221Km9 cdPFi_ak5jA q4_ZS20V7 cdPFi4_ak5l7",moreButton:"ir3_Z1FS2Mn"}},_key:"1W2w4s"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"p_R Z_0 em_N W_6D6F D_F ek_BB",shadow:"O_0 Z_N p_a T_73HH W_6D6F H_eo6 aw_Z1X3J96",folderList:"Y_fq7 P_Z1jXKuU D_B iz_A iy_h it_68UO",adTL:"Y_6TFj U_3nb7H",adRec:"W_3nV5V H_3nx4N Q_36Jhx"},scrollingUnder:{shadow:"O_N"},isRTL:{adRec:"E_36Jhx"},"themeMode-MEDIUM":{container:"C_52qC"},"themeMode-DARK":{container:"C_52qC"}},_key:"1rAe9r"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_3zJDR k_w I_52qC D_F el_QDCVj",header:"M_0 P_Qw4gz A_6FsP u_e69 D_F el_Z1mLfFl ab_AJ gl_FM",icon:"p_a M_6Fd5",title:"em_N",close:"Q_6Eb4",message:"P_ZG0ms9 w_AS ix_AS",controls:"P_ZG0ms9"},hideIcon:{header:"P_JMQ5f",message:"P_Z2fgN7g",controls:"P_ZG120x"},showCustomTitle:{header:"u_dPo i_6MGW je_6DEy"},wideContainer:{container:"W_3DpOq"}},_key:"DF9OM"}},function(e,t,s){"use strict";e.exports={className:{default:{swatchItem:"D_F ek_BB ab_C M_eo6",swatchContent:"W_7rdk",swatchTitleBase:"J_x U_6Eb4 ac_CI",colorElement:"p_R",color:"D_F gl_C ab_C W_6LEV H_6LEV b_0 P_0 it_689y",colorMenu:"P_6DEy",subColorMenu:"P_Z2aXgbn Q_eTB"}},_key:"2lVS8r"}},function(e,t,s){"use strict";e.exports={className:{default:{itemAddress:"A_6DUj C_Z1Xxgu2",checkmarkWrapper:"W_6LEV H_6LEV D_X",buttonContent:"D_F ab_C i_6LEV",rtlIgnoreDir:"rtlI_rtlI_dz_sSg ",rtlIgnoreMarginR:"rtlI_rtlI_E_fq7 ",rtlIgnoreMarginL:"rtlI_rtlI_Q_fq7 "}},_key:"2kABJf"}},function(e,t,s){"use strict";e.exports={className:{default:{select:"C_516e D_F ab_C ir_0 q_T b_0",menuContainer:"D_F",label:"D_F ab_C y_Z2uhb3X A_6EqO",labelName:"a_3He0m",menuLabelEmail:"D_X",menu:"P_3zDxc l_ZufDBK j_20l77p",fromField:"q_T b_0 C3_4N1z"}},_key:"ZHGUtO"}},function(e,t,s){"use strict";e.exports={className:{default:{anchor:"D_F",rtlIgnoreDirRTL:"rtlI_rtlI_dz_uqG ",rtlIgnoreDirLTR:"rtlI_rtlI_dz_sSg "}},_key:"uHY9u"}},function(e,t,s){"use strict";e.exports={className:{default:{input:"D_F ab_CI je_eo6 em_N m_Z1a7UWG"},hasFocus:{input:"bj_Z2aVTcY"}},_key:"2tU4n4"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"en_0",inputDark:"C_Z281SGl",additionalOptionsButtonWrapper:"D_F p_a L_371PO B_dBP P_eo6",additionalOptionsListWrapper:"P_3Y3Gk",ccContainer:"D_F ab_C em_N",subject:"G_e y_Z2uhb3X A_6EqO C_Z281SGl ir_0 P_0 X_0 bj3_Z281SGl b_0 j_n d_72FG em_N",extraRecipientsBtn:"en_0 Q_fq7 E_eo6 Y_6DEy U_6DEy A_6DUj y_Z2uhb3X C_Z1VRpVF P_ZvFAnJ b_n a_3mS2U q_T r_P",composeHeaderTop:"p_R",composeSubject:"p_R",ccButton:"C_Z1TsNWR je_0 jb_0 cn_0 q_T en_0 r_P",ccButtonNotLast:"x_ZGN9rt C_Z1TsNWR je_0 jb_0 cn_0 q_T en_0 r_P",xButton:"en_0",xButtonWrapper:"p_a R_fq7 T_fq7"},"filled-subject":{subject:"C_Z281SGl"},isSubjectDisabled:{subject:"C_Z1VRpVF I_T"}},_key:"hRSAQ"}},function(e,t,s){"use strict";e.exports={className:{default:{editorWrapper:"p_R em_N D_F ek_BB en_0 d_eik",editorContainer:"p_R cZ1RN91d_GG k_w W_6D6F em_N D_F",rte:"em_N ir_0 o_h",placeholder:"p_a T_6LEV L_0 C_Z1TsNWR cZW7ROP_n",button:"b_0 ir_0 P_eo6 I_T y_Z2uhb3X A_6DUj C_Z1TsNWR M_6Fd5",buttonInner:"D_F ab_C r_P"},"kind-MESSAGE":{rte:"k_w P_6Fd5 d_7ALe",placeholder:"T_eTB P_1Eu7sD i_6VdP"},"kind-COMPOSE":{rte:"N_6Fd5"},"kind-VACATION_RESPONSE_SETTINGS":{rte:"k_w P_6Fd5 d_3w6xl",placeholder:"T_eTB P_1Eu7sD i_6VdP"}},_key:"w1Ac8"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"I_52qC b_Z14vXdP j_ZqTdtW Z_f8a p_a D_F ek_BB P_1iBkeu",button:"q_ZpQYvz e_dRA k_w r_P H_6NIX s_7ceA Y_6Eb4 A_6EqO b_0 C_Z1TsNWR",rtlIgnoreDirRTL:"rtlI_rtlI_dz_uqG ",rtlIgnoreDirLTR:"rtlI_rtlI_dz_sSg ",item:"H_6UbO s_3rBgu a_3vXwX jb_fq7 p_R D_F ab_C",testLink:"r_P C_Z2aVTcY q_2uyuKK m_2tEJa0 D_Z1YJkyX ab_C gl_CH J_x P_ZvFCc1 H_6D6F W_6D6F",textInput:"z_0 x_0 n_0 m_2tEJa0 H_6D6F W_6D6F A_6EqO bj3_Z2aVTcY",linkInput:"z_0 x_0 n_0 m_2tEJa0 H_6D6F s_3r5Ku N_eo6 A_6EqO bj3_Z2aVTcY",close:"t_r E_36JN3 Q_0"},saveBtnEnabled:{button:"q_Z2aVTcY C_52qC"},focusOnLinkInput:{testLink:"bj_Z2aVTcY"}},_key:"Z80OXA"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_3zKan k_w I_52qC D_F el_QDCVj",header:"M_0 P_SdQ8b D_F el_Z1mLfFl ab_AJ",icon:"p_a M_6Fd5",title:"em_N u_e69 A_6FsP M_ZlnAYq",close:"Q_6Eb4 ac_C",message:"P_kT94R",controls:"P_kT94R"}},_key:"11hA3I"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"p_a D_F I_52qC b_Z14vXdP j_ZqTdtW Z_f8a P_Z1E2YFn",linkWrapper:"C_Z1VRpVF",link:"C_Z2aVTcY a_3rdfm J_x o_h G_e D_X f_r",control:"Q_6Eb4 u_b C_Z2aVTcY r_P"}},_key:"hddyh"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB em_N"}},_key:"1Nkogp"}},function(e,t,s){"use strict";e.exports={className:{default:{attachmentDragContainer:"em_N D_F ek_BB p_R o_h",dragOverlay:"cZW7ROP_n b_2dWFvS T_fq7 p_a L_0 R_0 B_eo6 D_F gl_C ab_C q_2iedUU",dragDescriptionContainer:"D_F A_6EWk u_b O_cMr ek_BB ab_C C_Z2aVTcY",dragTextDescription:"je_6LEV"}},_key:"Z19Utn2"}},function(e,t,s){"use strict";e.exports={className:{default:{icon:"D_X P_3gIMd O_cMu O4_N I4_2ieea9 O0_N I0_7l9bL e_dRA",sectionDivider:"M_3gIMd",rtlIgnoreDir:"rtlI_rtlI_dz_sSg rtlI_rtlI_D_F ",rightAlignIcon:"h_2gl0WC",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC ",rtlRawHidden:"rtlR_rtlR_v_h rtlR_rtlR_D_ATgVd ",rtlRemoveHidden:"rtlRM_rtlRM_v_h rtlRM_rtlRM_D_ATgVd "}},_key:"ZSXmc7"}},function(e,t,s){"use strict";e.exports={className:{default:{menuItem:"C_Z281SGl H_6UbO i_6UbO N_fq7 D_F ab_C",checkmarkWrapper:"D_X E_fq7 i_0"},"selected-false":{checkmarkWrapper:"W_6LEV"},"kind-tiny":{menuItem:"A_6DEy"},"kind-small":{menuItem:"A_6EqO"},"kind-medium":{menuItem:"A_6Fd5"},"kind-large":{menuItem:"A_6MGW"},"kind-xlarge":{menuItem:"H_72FG i_72FG A_6UbO"},"kind-huge":{menuItem:"H_7ceA i_7ceA A_74JI"},"kind-modern":{menuItem:"y_1ACvVU"},"kind-modernwide":{menuItem:"y_ZISf5J"},"kind-classic":{menuItem:"y_ZYqQIR"},"kind-classicwide":{menuItem:"y_ZNDoVU"},"kind-courier":{menuItem:"y_16XJVH"},"kind-garamond":{menuItem:"y_1i8dl0"},"kind-lucida":{menuItem:"y_Z2hYH8W"}},_key:"Cv0SA"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"p_R D_F ab_C P_eo6 o_h",input:"p_a T_0 L_0 O_0 r_P P_1mPDMf o_h W_0 H_0"}},_key:"Z26Mf44"}},function(e,t,s){"use strict";e.exports={className:{default:{composeToolbar:"z_Z14vXdP D_F ab_C I_52qC W_6D6F p_R B_0",sendButton:"q_Z2aVTcY e_dRA k_w r_P H_6VdP s_3mS2U en_0 M_1gLo4F V_M cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl ir3_1JO2M7 it3_dRA",status:"Q_fq7 E_fq7 C_Z1TsNWR",spacer:"em_N",sectionDivider:"M_1Eu7sD n_Z14vXdP H_6MGW",formattingTools:"en_N J_x o_h cZ1RN91d_n",icon:"D_X P_3gIMd V_GI O_cMu O4_N I4_2ieea9 O0_N I0_7l9bL ir3_1JO2M7 it3_dRA H_6NIX W_6VdP k_w b_efTvb e_dRA",menuIcon:"D_Z1YJkyX gl_C V_GI ir3_1JO2M7 it3_dRA H_6NIX W_6VdP",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC ",deleteButton:"D_Z1YJkyX gl_C en_0 P_0 q_n O4_N I4_2ieea9 ir3_1JO2M7 it3_dRA H_6NIX W_6VdP k_w b_efTvb e_dRA",trashIcon:"cdPFi_Z26U5qH cdPFi4_ZkiIcp"},"kind-MESSAGE":{composeToolbar:"W_A z_n i_N H_72FG",toolbarContainer:"gl_C z_2w4l8N"},"kind-VACATION_RESPONSE_SETTINGS":{composeToolbar:"W_A i_N H_7ceA P_2aKOEx",toolbarContainer:"gl_C z_2w4l8N"},disabled:{composeToolbar:"cZW7ROP_n O_od"},fixed:{composeToolbar:"p_f Z_e69",toolbarPlaceholder:"W_6D6F H_7qGO"}},_key:"tp6Kc"}},function(e,t,s){"use strict";e.exports={className:{default:{attachmentIcon:"W_6UbO H_6UbO",fallback:"u_e69 A_6Fd5 C_ZroviD i_74JI"}},_key:"iLD67"}},function(e,t,s){"use strict";e.exports={className:{default:{compose:"I_52qC j_n k_w W_6D6F D_F ek_BB em_N P_ZzJed p_R",loadingContainer:"je_74JI",editorContainer:"em_N D_F ek_BB iz_A"}},_key:"2d0UNX"}},function(e,t,s){"use strict";e.exports={className:{default:{errorContainer:"H_6D6F W_6D6F",errorWrapper:"H_6D6F W_6D6F D_F gl_C ab_C P_Z17Hvh7",errorMessage:"A_6FsP Q_fq7",emptyBodyRetry:"r_P C_Z2aVTcY"}},_key:"Z1fhFdm"}},function(e,t,s){"use strict";e.exports={className:{default:{flexSpacer:"em_N en_N"}},_key:"93Fn1"}},function(e,t,s){"use strict";e.exports={className:{default:{loadingContainer:"je_74JI W_6D6F"}},_key:"1LglKj"}},function(e,t,s){"use strict";e.exports={className:{default:{compose:"p_a R_0 T_0 L_0 B_0 D_F"}},_key:"ZyEg8F"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB r_P P_ZVpSLT I_52qC m_Z14vXdP",buttonGroup:"D_F en_0 u_b C_Z1TsNWR U_7rdk",listItem:"D_I r_BN",button:"r_P u_b C_Z2aVTcY b_0 P_0 M_0 H_6Nds A_6EqO I_T C4_Z29WjXl ir3_1JO2M7 it3_dBP",comma:"u_b C_Z1TsNWR"}},_key:"1NhqKE"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"D_F W_6D6F r_BN gl_C",container:"D_F ab_C en_0 b_Z14vXdP e_3mS2U I_52qC P_Z1otBpf",bottomLine:"M_0 P_0 cn_0",label:"X_eo6",toolbarItem:"r_P D_F M_1Eu5U7 cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",moreMenuItem:"r_P D_F M_oRiNT",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC "}},_key:"Z2jp2F9"}},function(e,t,s){"use strict";e.exports={className:{default:{tooltip:"s_3rBgu I_Zcn3mu C_52qC t_C P_fQos4 e_eTB p_a dq33_Z1WN6IG p33_a T33_e5X Y33_69rk cn33_fam cg33_FJ"},right:{tooltip:"R33_6D6F L33_A l33_Z1vf50c"},left:{tooltip:"L33_6D6F R33_A l33_9Tjpk"}},_key:"Z1Kvy9o"}},function(e,t,s){"use strict";e.exports={className:{default:{participants:"o_h G_e J_x em_N"},transparent:{participants:"em_0 v_h"}},_key:"Z1ihYk"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F",popoverListWrapper:"P_3Y3Gk",list:"hd_n D_F ab_C M_0 P_0",checkboxWrapper:"D_F",chevronWrapper:"D_F cdPFi_Z1Xxgu0 cdPFi4_Z2aVTcY"},"themeMode-DARK":{chevronWrapper:"cdPFi_ZpQYvz cdPFi4_52qC"}},_key:"Z22Yrri"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F",clippedContainer:"K_q o_h",label:"D_F ab_C y_Z2uhb3X A_6EqO P_eo6",itemLabel:"em_N P_0 o_h G_e",labelText:"X_eo6",customGroup:"K_3rehn iz_A iy_h P_3HLUz",systemGroup:"hd_n P_cFf M_0 m_Z14vXdP",lastGroup:"hd_n P_Z26RiTK M_0 m_0",popoverContainer:"D_F",popoverContent:"P_Z1gGUOP",shortcut:"ab_CH Q_fq7 Z_0",fullLabel:"D_F W_6D6F",anchorButton:"a_3rtg7",noResultContainer:"D_F ab_C C_Z1Xxgu0 i_6VdP k_w",inputContainer:"D_F ab_C k_w",inputField:"em_N cn_0 W_6D6F H_6VdP N_0 X_0 A_6EqO C_Z281SGl ir3_0"}},_key:"Z17hp72"}},function(e,t,s){"use strict";e.exports={className:{default:{backToListButton:"y_Z2uhb3X A_6EqO J_x C_q cdPFi_q E_fq7"}},_key:"2dJHJY"}},function(e,t,s){"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_2bJhi k_w m_Z14vXdP C_Z281SGl H_7bcz",tabs:"D_F P_1g7oPJ M_cFf m_Z14vXdP"},"themeMode-DARK":{heading:"C_52qC m_ZYfqDw",tabs:"m_Z6DFj8"}},_key:"ZnkVPn"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"M_0 P_0 C_Z281SGl D_F ek_EZ H_6MGW p_R J_x b_ZGN9rt l_ZVhlrG e_dRA"},"themeMode-DARK":{container:"C_52qC",inactiveSegment:"C_52qC",activeSegment:"C_52qC"},isOnDarkBackground:{container:"C_52qC",inactiveSegment:"C_52qC",activeSegment:"C_52qC"}},_key:"efwid"}},function(e,t,s){"use strict";e.exports={className:{default:{segment:"ce_dBP cd_FJ cc_ZVhlrG C_Z24Sbth r_P D_F u_e69 p_R M_0 I4_IyTRc x8_n",button:"I_T b_n D_X C_q r_q y_q u_q A_6EqO P_1Eu7sD W_6D6F ir3_1JO2M7 it3_dRA D33_B C33_T dq33_Z1WN6IG u33_b H33_0 o33_h v33_h",buttonText:"D_X"},isSelected:{segment:"I_Z2tSq0X C_Z281SGl u_b Z_O I4_Z2tSq0X"},showEllipsis:{buttonText:"W_q G_e o_h J_x"},showWhiteLabels:{segment:"C_52qC"}},_key:"gQubX"}},function(e,t,s){"use strict";e.exports={className:{default:{main:"H_6D6F W_6D6F",scroll:"p_R iy_h iz_A H_6D6F W_6D6F X_6Fd5 N_6Fd5 k_w",container:"hd_n P_0 M_0 p_R",item:"p_a T_0 L_0 R_0",newItem:"p_a T_0 L_0 R_0 ah_Z19ro7u",oldItem:"p_a T_0 L_0 R_0 ah_fqorO",maskItem:"cZ1RN91d_n p_a T_0 L_0 R_0",stickyHeader:"p_a T_0 L_0 R_0 X_6Fd5 I_ZD6Uwa Z_N j_n",scrollToTop:"D_F ab_C gl_C p_a B_6Fd5 R_0 H_6UbO W_6UbO E_6Fd5 I_ZS20T5 e_dRA r_P Z_O",loading:"p_a B_0 L_0 R_0",focusStealer:"H_0"},"theme-ATT":{scrollToTop:"I_Z15BeVd I4_Z2dxrGx"},"theme-FRONTIER":{scrollToTop:"I_2dK1Xc I4_Z1A0QhA"},"theme-ROGERS":{scrollToTop:"I_Z1m994D I4_Z21W7Hh"},"theme-BT":{scrollToTop:"I_Z3iqci I4_Z20SNAa"},"theme-SKY":{scrollToTop:"I_1za5gA I4_Z2dycH0"},"theme-DEFAULT":{scrollToTop:"I_Z1owzv1 I4_Z2aVTcY"},"theme-SUNRISE":{scrollToTop:"I_ZNpR7F I4_ZmlXUP"},"theme-AQUA_GREEN":{scrollToTop:"I_1dThJA I4_Z1UHURv"},"theme-AQUA_BLUE":{scrollToTop:"I_26UHLI I4_Z280Xf5"},"theme-DEEP_PURPLE":{scrollToTop:"I_ZRpDPm I4_Zwa5YI"},"theme-BLUE_NIGHT":{scrollToTop:"I_ZMqghf I4_Z21zYBA"},"theme-NIGHT_LANDSCAPE":{scrollToTop:"I_Z1W4Pak I4_Z1UEcsX"},"theme-ROADTRIP":{scrollToTop:"I_ZNsLcW I4_ZrkPvI"},"theme-SUNSET_AUSSIE":{scrollToTop:"I_ZNpR7F I4_ZmlXUP"},"theme-LIGHTHOUSE":{scrollToTop:"I_Zd2nN5 I4_Z1VDTK1"}},_key:"ZR47Hi"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"H_6UbO i_6UbO k_w I_52qC X_fq7 C_Z1YRXYn A_6EqO u_b",enhancedContainer:"I34_2spJWC D34_F dq34_hP p34_a H34_eo6 W34_6D6F T34_68F4 L34_0 H_6UbO i_6UbO k_w I_52qC X_fq7 C_Z1YRXYn A_6EqO u_b",label:""},"themeMode-DARK":{container:"I_T C_52qC",enhancedContainer:"I34_ajOPR D34_F dq34_hP p34_a H34_eo6 W34_6D6F T34_68F4 L34_0 I_T C_52qC"}},_key:"1bxyiD"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C H_6TV4 bn_dBP bm_FJ bj_2spJWC p_R A_6EqO i_6FIA o_h X_eo6 h_Z1H3PfF ir3_1JO2M7 it3_689y I4_1I4yPF",check:"en_0 i_0 H_6D6F E_689y Z_f8a k_w",checkbox:"H_6D6F",ybadgeIcon:"P_0 q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 H_6D6F Q_6Eb4 E_eo6",emailTypeIcon:"s_6FIA en_0 i_0 M_3gJOe",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0 p_R",gridB2:"D_F o_h ab_C H_6D6F em_sL ej_0",participants:"o_h J_x G_AY em_N",dateWrapper:"ab_C gl_CH D_F em_0 en_0 s_7jIs N_fq7 Q_fq7 A_6DUj C_Z1VRpVF",message:"D_F ab_C o_h H_6D6F em_N E_fq7 J_x",subjectContainer:"en_0 a_6D6F D_F ab_C",subject:"o_h G_e J_x en_N",snippet:"J_x o_h C_Z1VRpVF",snippetContainer:"J_x o_h Q_fq7",messageCount:"en_0 P_3gJiI Q_fq7 e_fFR A_6DUj I_ZpQYvz",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",draftIndicator:"en_0 J_x C_ZnTFMv s_6NIX A_fq7 cZ1RN91d_n lo_GT cZ1HOHqP_Zc28mn gp_3bdM8 u_e69 Q_fq7",senders:"D_F o_h G_e em_N",noSubject:"M_3gI0W",highlightedTerm:"I_2ieea9 D_X P_3zDxc",selected:"I_laXMl I4_laXMl",active:"I_1I4z5p",messageDestinationLabel:"M_3gJOe o_h J_x G_e W_7yHc en_0"},"layout-1":{container:"H_6Mrc"},"layout-3":{container:"H_73rW"},isCompactLayout:{check:"D_X p_a L_dRA T_dm5",checkbox:"H_A",gridB2:"gl_CH em_U",readIcon:"D_X H_6LEV p_a T_fq7 L_6Eb4",ybadgeIcon:"D_X H_6LEV p_a T_fq7 L_6Eb4",starIcon:"D_X H_6LEV p_a Q_6Eb4 T_6Ntd L_6Eb4",maskStarIconWhenStarred:"D_X H_6LEV p_a Q_6Eb4 T_6Ntd L_6Eb4 O_0",draftIndicator:"D_X",senders:"p_a L_73HH T_fq7 a_e91 J_x G_e",subjectContainer:"D_B p_a T_6NIX L_74JI a_eFx J_x o_h G_e",snippetContainer:"p_a Q_0 T_74JI L_74JI a_eFx",emailTypeIcon:"p_a M_0 X_fq7 N_eDQ R_eo6 B_fam",messageCount:"D_X",dateWrapper:"p_a T_fq7 R_eo6 t_r"},isCompactSlimLayout:{check:"T_dm5",readIcon:"T_eo6",ybadgeIcon:"T_eo6",starIcon:"T_6Mbr",senders:"T_eo6",subjectContainer:"T_6Mbr",snippetContainer:"T_72FG",dateWrapper:"T_eo6",emailTypeIcon:"B_eTB"},isCompactNormalLayout:{check:"je_e8l",readIcon:"T_fam",ybadgeIcon:"T_fam",starIcon:"T_6Ntd",senders:"T_fam",subjectContainer:"T_6Ntd",snippetContainer:"T_74ed",dateWrapper:"T_fam",emailTypeIcon:"B_fq7"},isCompactRelaxedLayout:{container:"i_6LEV",check:"je_eo6",readIcon:"T_fq7",ybadgeIcon:"T_fq7",starIcon:"T_6NIX",senders:"T_fq7",messageCount:"P_3gJyt",subjectContainer:"T_6NIX",snippetContainer:"T_74JI",dateWrapper:"T_fq7",emailTypeIcon:"B_6DEy"},"layout-4":{container:"H_74tX"},"layout-5":{container:"H_7bXP"},"layout-6":{container:"H_7d0Q"},"layout-7":{container:"H_7jsH"},"layout-8":{container:"H_7qWz"},"layout-9":{container:"H_7t1B"},"isRead-false":{subject:"u_b",participants:"u_b",participantSolo:"u_b"},hasJustOneMessage:{messageCount:"W_0 O_0"},"highlightPosition-LEFT":{snippet:"Q_0 E_36IIE t_l"},"highlightPosition-CENTER":{snippet:"Q_36IIE E_36IIE t_C"},"highlightPosition-RIGHT":{snippet:"Q_36IIE E_0 t_r"},"highlightPosition-NONE":{snippet:"G_e"},isNonCompactSlimLayout:{checkbox:"je_Cd90f jb_Cd90f"},showSubjectSearchAndHovered:{subjectContainer:"a_1BBI71",subjectSearchIcon:"Q_68F4 E_69H5"},darkThemeMode:{container:"C_ZpQYvz bj_ajOPR ir3_Z1FS2Mn I4_ZS2gnO",highlightedTerm:"I_ajP6C",messageCount:"C_52qC I_2sqbOe",draftIndicator:"C_Zkij7I",snippet:"C_ZvsWfq",dateWrapper:"C_2sqbQg",selected:"I_ZS2g95 I4_ZS2g95",active:"I_ZS2g95"},borderless:{container:"bm_n"},isCompactHasEmailTypeIcon:{subjectContainer:"a_1C0Rfo",snippetContainer:"a_1C0Rfo"},isCompactHovered:{subjectContainer:"a_ZLhQ7h",snippetContainer:"a_ZLhQ7h",iconB2:"p_R D_F ek_EZ ab_C H_6D6F",gridB1:"p_s",readIcon:"L_6Fd5",ybadgeIcon:"L_6Fd5",senders:"L_74JI",check:"L_eTB"},"themeMode-DARK":{container:"I3_ZFyHXD I4_1YEmYj",active:"I_iJ8JF",selected:"I_iJ8JF I4_iJ8JF"}},_key:"9KK0O"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",readIcon:"P_0 q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 H_6D6F Q_6Eb4 E_eo6 cdPFi_ZpQYvz cdPFi4_Z1TsNWR",iconContainer:"H_6LEV",indicator:"Q_e8l"},"isRead-false":{readIcon:"cdPFi_Z2aVTcY cdPFi4_Z2aVTcY"},isDarkThemeMode:{readIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"Z1YAmK7"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",starIcon:"k_BF q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 P_3gIMd E_eo6 H_6D6F cdPFi_ZpQYvz cdPFi4_Z1TsNWR",iconContainer:"H_6LEV"},isDarkThemeMode:{starIcon:"cdPFi_ak5kB cdPFi4_ak5m8"},starredMailEnhanced:{starIcon:"cdPFi_ZvsWfq h_Z13pql2 lv_1IWXzk cdPFi4_ZvsWfq h4_2d9T5e"},darkStarredMailEnhanced:{starIcon:"cdPFi_2sqbQg h_Z13pql2 lv_1IWXzk cdPFi4_2sqbQg h4_2d9T5e"},messageSize:{starIcon:""},"messageSize-S":{starIcon:"W_6MGW H_6MGW P_Z12gc7W Q_689y E_dRA"}},_key:"1cm5XM"}},function(e,t,s){"use strict";e.exports={className:{default:{searchIcon:"D_F gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY P_3gIMd Q_eo6",contactSearchIconCompact:"D_Z1YJkyX gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY Q_eo6 P_0",iconContainer:"H_6LEV"},isDarkThemeMode:{searchIcon:"cdPFi_ak5kB cdPFi4_ak5m8",contactSearchIconCompact:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"eboP8"}},function(e,t,s){"use strict";e.exports={className:{default:{trashIcon:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY P_eo6 Q_6Fd5 W_7jIs",trashIconAccessible:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY P_0",trashCenter:"D_F ab_C gl_C H_6D6F",trashIconCompact:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY D_F gl_F W_6D6F P_fq7 M_18qTTf"},isDarkThemeMode:{trashIcon:"cdPFi_1cIiP7 cdPFi4_Z1rAFli",trashIconCompact:"cdPFi_1cIiP7 cdPFi4_Z1rAFli"}},_key:"1jQ2Sd"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",attachmentIcon:"D_F",attachmentsPopover:"D_F",attachmentsCarouselContainer:"D_F H_3mT4V P_3gIMd",attachmentsPopoverContainer:"D_F P_1Eu5U7",attachmentItem:"P_V9iAe M_3gIgH r_P"}},_key:"mCSbU"}},function(e,t,s){"use strict";e.exports={className:{default:{carouselContainer:"D_F ir_n em_N",carousel:"D_F o_h p_R em_N s_72FG",list:"D_F ha_n p_a J_x lv_1Ys0hR L_0 B_0 P_0 M_0",prevNavHandleContainer:"D_F",nextNavHandleContainer:"D_F",prevNavHandle:"em_0 en_0",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC ",nextNavHandle:"em_0 en_0"},animationDisabled:{list:"lv_n"},prevDisabled:{prevNavHandle:"r_BN"},nextDisabled:{nextNavHandle:"r_BN"},"toolbarKind-VACATION_RESPONSE_SETTINGS":{prevNavHandleContainer:"jb_74JI",nextNavHandleContainer:"jb_74JI"}},_key:"Z7QRAV"}},,function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",couponIcon:"D_F"}},_key:"OgOlY"}},function(e,t,s){"use strict";e.exports={className:{default:{chevronDown:"V_GI P_Z2rzFgL",adFeedbackContainer:"P_3Y3Gk"},isCompactLayout:{chevronDown:"V_ P_0"},hideFeedbackChevron:{chevronDown:"v_h Q_36RhU"}},_key:"B55jU"}},function(e,t,s){"use strict";e.exports={className:{default:{closeIcon:"I_T r_P b_0 P_eo6 Q_fq7 E_6Eb4 W_72FG",closeCenter:"D_F ab_C gl_C H_6D6F",closeIconCompact:"I_T r_P b_0 D_F gl_F W_6D6F P_fq7 M_18qTTf"},isCompact:{closeIcon:"E_eo6"},adHoveredInLightTheme:{closeIcon:"cdPFi_Z9gXaW cdPFi4_Z1rB5pY"},adHoveredInDarkTheme:{closeIcon:"cdPFi_1cIiP7 cdPFi4_Z1rAFli"},adNotHoveredInCompact:{closeIconContainer:"D_n"}},_key:"Z4f6tD"}},function(e,t,s){"use strict";e.exports={className:{default:{flashSaleCountdown:"D_F ab_C C_Z1VRpVF cdPFi_Z1VRpVF",flashSaleCountdownText:"Q_eo6"},flashSaleHighlight:{flashSaleCountdown:"C_Z287E9E cdPFi_Z287E9E"},isDarkTheme:{flashSaleCountdown:"C_ZvsWfq cdPFi_ZvsWfq"}},_key:"Z1bA1sY"}},function(e,t,s){"use strict";e.exports={className:{default:{starElement:"p_R N_dBP o_h D_B f_l A_6DUj",activeFullStar:"p_R D_B f_l C_Z1ryQjN",activeEmptyStar:"p_a D_B Z_N T_0 L_0 C_Z1vPqV0",inActiveEmptyStar:"C_ZpQYvz",halfActiveFullStar:"p_a D_B Z_N W_e5X T_0 L_0 o_h C_Z1ryQjN",halfActiveEmptyStar:"p_R D_B f_l C_ZpQYvz",halfBorderStar:"p_a D_B Z_O W_e5X o_h T_0 L_0 C_Z1vPqV0"}},_key:"1q9cfa"}},function(e,t,s){"use strict";e.exports={className:{default:{thankYouContainer:"I_1I4yPF H_74JI D_F gl_FM ab_C X_6DEy e_dRA",textContainer:"o_h K_74JI D_F ek_BB gl_C em_N r_P",header:"K_6VdP u_b o_A",caption:"C_Z1TsNWR K_6VdP A_6DUj",close:"H_72FG N_eTB je_dRA r_P",upgradeNow:"J_x i_6EGz e_dRA M_1GMufD I_T b_2fAfSG p_R C_Z2aVTcY r_P P_fQoXz"},isCompactLayout:{thankYouContainer:"H_7rdk",textContainer:"K_7rdk",caption:"o_A",header:"D_F ek_BB gl_FM jb_eo6 i_6Eb4 w_AS J_EP ix_AS K_7rdk",close:"H_7jIs je_0 N_eo6",upgradeNow:"P_eo6 M_Z1EyLxu",thankYou:"U_eo6"},"themeMode-DARK":{caption:"C_52qC",upgradeNow:"C_52qC",thankYouContainer:"C_52qC"}},_key:"sgAcU"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ac_FT ab_C gl_C em_N",wrapper:"p_R",svgWrapper:"O_cMs",countWrapper:"p_a L_0 T_0 H_3nj85 W_3nj85 D_F gl_C ab_C",count:"C_Z281SGl A_74JI i_74JI u_dzD p_R T_36KP4"},"themeMode-DARK":{count:"C_52qC"}},_key:"Z2wD4bH"}},function(e,t,s){"use strict";e.exports={className:{default:{searchHeader:"P_2iGizO m_Z14vXdP D_F en_0 ek_EZ gl_FM"},"themeMode-DARK":{searchHeader:"m_ZYfFPt"}},_key:"Z2wEO9i"}},function(e,t,s){"use strict";e.exports={className:{default:{didYouMean:"A_6EqO C_q u_q i_6UbO J_x a_3Lic3 o_h G_e",didYouMeanKeyword:"S_U kz_ZkiIcp lc_BK D_X A_6EqO u_b",didYouMeanWord:"D_X A_6EqO u_b"},"themeMode-DARK":{didYouMeanKeyword:"C_52qC",didYouMean:"C_52qC",didYouMeanWord:"C_52qC"}},_key:"Z1Rwsh3"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C J_x r_P H_6Nds",labelPadding:"N_eo6"},"themeMode-DARK":{container:"C_52qC"}},_key:"Z2rlRsL"}},function(e,t,s){"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_2bJhi k_w m_Z14vXdP C_Z281SGl H_7bcz",tabs:"P_1g7oPJ M_cFf m_Z14vXdP D_F"},"themeMode-DARK":{heading:"C_52qC m_ZYfqDw",tabs:"m_Z6DFj8"}},_key:"ZnkVPn"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F H_6D6F D_F ab_C gl_C"}},_key:"vwCkd"}},function(e,t,s){"use strict";e.exports={className:{default:{shadedContainer:"I_ZnwrMC D_F em_N o_h W_6D6F H_6D6F",container:"D_F em_N o_h s_1HLnlu a_1Ie4E3 cZTwBjA_1Ie4E3 cZTwBjK_1EAG48",leftRail:"a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_ZM1sUU D_F ek_BB em_0",leftRailWide:"a_3rehn W_3rehn s_3rehn cZ10Gnkk_ZM1sUU D_F ek_BB em_0",mainContent:"em_N gl_C I_52qC j_ZlOSbd o_h p_R D_F s_e5X x_Z14vXdP",widthRestrictor:"D_F em_N ej_eUh",mainNavigation:"em_N je_6Fd5 D_F W_6D6F H_6D6F iz_A"},"verticalPreviewPane-false":{container:"s_1HCsWR"},"themeMode-MEDIUM":{shadedContainer:"I_sgPuT"},darkModeNonPhotoTheme:{shadedContainer:"I_sgPuT",mainContent:"I_sgPuT j_n x_ZYfFSw"},darkModePhotoTheme_NIGHT_LANDSCAPE:{shadedContainer:"I_cOYCy",mainContent:"I_cOYF6 j_n x_ZYfFSw"},darkModePhotoTheme_ROADTRIP:{shadedContainer:"I_1iaDqt",mainContent:"I_1iaDt1 j_n x_ZYfFSw"},darkModePhotoTheme_SUNSET_AUSSIE:{shadedContainer:"I_2woiYa",mainContent:"I_2woj1H j_n x_ZYfFSw"},darkModePhotoTheme_LIGHTHOUSE:{shadedContainer:"I_t5YKp",mainContent:"I_t5YMW j_n x_ZYfFSw"}},_key:"Z2rmwAv"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"H_6D6F D_F cZ1RN91d_n ek_BB s_1HCsWR aw_Z1CkV98",shadedContainer:"em_N W_6D6F H_6D6F D_F o_h p_R T_7zJd I_ZnwrMC",container:"em_N D_F o_h s_1HLnlu a_1Ie4E3 cZTwBjK_1EAG48 cZTwBjA_1Ie4E3",mainContent:"em_N D_F s_e5X o_h p_R j_ZlOSbd gl_C I_52qC P_Z2jbO7T",widthRestricter:"em_N D_F ej_eUh",leftRail:"em_0 D_F gl_CH W_3o4BO s_3o4BO a_3rehn cZ10Gnkk_ZM1sUU",rightRail:"em_N D_F a_3vpWV s_3o4BO",titleLabel:"u_e69 A_6EWk M_27m6vR",navWrapper:"D_F ab_C gl_CI H_6TFj M_1MapR8",errorContainer:"D_F W_3vPwA ek_BB",errorWrapper:"D_F ab_CI A_6EqO i_6LEV C_ZkiIcp",errorIcon:"D_F E_fq7"}},_key:"ggnFT"}},function(e,t,s){"use strict";e.exports={className:{default:{wizardContainer:"D_F em_N ek_BB",stepsContainer:"D_F C_Z1TsNWR U_6UbO",steps:"M_0 P_0 D_F Q_eo6",viewActions:"D_F ab_C gl_CI H_6TFj M_1NXh2I",btnPrimary:"r_P q_T D_X H_6TFj",btnLink:"b_n r_P t_C D_X q_T A_6EqO C_Z2aVTcY H_6TFj i_6TFj P_1EudUu Q_fq7 C4_Z29WjXl I4_2iedUU"}},_key:"1EItG5"}},function(e,t,s){"use strict";e.exports={className:{default:{step:"r_P e_e5X t_C D_X W_6Fd5 H_6Fd5 A_6DUj i_6Fd5 M_3gIMd C4_52qC q4_Z29fFBt"},active:{step:"C_52qC q_Z29fFBt"}},_key:"2sfkOs"}},function(e,t,s){"use strict";e.exports={className:{default:{image:"W_3n13i H_7aG4",upsellPage:"em_N D_F ab_C ek_BB",header:"P_0 A_6LEV i_6UbO Y_6DEy U_6LEV jb_6Eb4",body:"t_C A_6EqO i_6FIA jb_6MGW",footer:"D_F gl_C C_Z1TsNWR",userName:"cZ1RN91d_GG",description:"M_0 C_Z1TsNWR",providersOption:"Y_6Fd5",switchAccount:"C_Z2aVTcY",accountList:"M_0 P_0 em_N D_F hd_n",listItem:"em_N D_F ab_C ek_BB gl_C",label:"C_Z281SGl u_dPo A_6EWk i_6LEV M_27msYt",accountItem:"W_3n13i H_73rW",supportedProviderCaption:"t_C A_6EqO C_Z1Xxgu0 M_6DEy"}},_key:"vFo4A"}},function(e,t,s){"use strict";e.exports={className:{default:{leftRailItemsContainer:"D_F ek_BB je_6Fd5 W_3rehn",link:"C_52qC O_cMq en_0 D_F b_n ir_n r_P cn_dBP u_e69 e_dRA ab_C A_6EqO S_n k_w gl_C l_T H_6VdP M_1Eu7sD I_Z2aVTcY",moreIcon:"D_F q_8ahxV ab_C gl_C H_eo6 M_1Eu7sD",iconContainer:"Y_eo6",accountslist:"en_0 D_F ek_BB",list:"Y_0 Q_0 E_0 U_0 en_0 D_F hd_n ek_BB P_2d6pmo",folderList:"Y_6Nds Q_0 E_0 U_0 en_0 D_F hd_n ek_BB P_2d6pmo",header:"O_cMo D_F gl_FM M_BOLti",accountsListItem:"u_eBE A_6EWk C_Z2aVTcY P_2d6pmo M_1WjkSr",listItem:"O_cMo D_F ab_C Y_6EWk",folderName:"M_eo6 H_fq7 e_6LEV I_Z1YRXYn"}},_key:"Z1aGhS9"}},function(e,t,s){"use strict";e.exports={className:{default:{addConfirmWrapper:"em_N iz_A",addConfirmSection:"W_3vPwA",titleLabel:"A_6EWk M_27msYt D_F u_dPo ab_C i_6LEV",titleTextWrapper:"Q_fq7",hint:"C_Z29dUYT A_6DUj U_72FG i_6Fd5",label:"u_b A_6EqO M_Ic9xa",textInput:"A_6EqO M_27msYt",confirmButton:"r_P D_X H_6TFj Y_6LEV q_Z2aVTcY e_dRA k_w en_0 V_M s_7yHc cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl"},isSyncing:{addConfirmWrapper:"P_0",hint:"O_cMq",label:"O_cMq",confirmButton:"O_cMq r_A"}},_key:"IBUSd"}},function(e,t,s){"use strict";e.exports={className:{default:{inputContainer:"D_F F_cV1 ek_BB p_R W_6D6F",hint:"D_B Y_fq7 Q_fq7 A_6DUj C_Z1TsNWR",error:"D_B Y_fq7 Q_fq7 A_6DUj C_ZkiIcp",inputField:"z_0 n_0 x_0 q_T m_2w4l8N H_6VdP em_N A_6EqO C_Z281SGl ir3_0 m3_2fAfSG"},"kind-DARK_BORDER_BOTTOM":{inputField:"m_2rYSBF"},"kind-LEFT_ICON":{inputField:"q_ptT19 m_0 b_0 je_0 jb_0 X_6MGW N_6MGW m3_0 ir3_0",inputIcon:"B_0 L_eo6 p_a M_A T_0 D_F ab_C"}},_key:"Z2r7Mfk"}},,,,,,,,,,,,,,,function(e,t,s){e.exports=s(893)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";e.exports={className:{default:{container:"d_6FIA i_6FIA D_F eo_HB",email:"C4_Z2aVTcY",separator:"E_fq7",label:"u_b E_eo6 C_Z1TsNWR",button:"Q_eo6 P_3gIMd e_dRA I4_Z2aVTcY C4_52qC r_P y_Z2uhb3X A_6EqO b_0 I_T"}},_key:"Zu64IQ"}},,,,,,function(e,t,s){s(862)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s.r(t);var n={};s.r(n),s.d(n,"getBlockPayload",function(){return Zt}),s.d(n,"transformResponse",function(){return Kt});var a={};s.r(a),s.d(a,"getBlockPayload",function(){return Yt}),s.d(a,"transformResponse",function(){return Xt});var r=s(346),o=s.n(r),i=s(154),c=s(181),l=s.n(c),d=s(36),u=s.n(d),m=s(44),p=s.n(m),_=s(68),h=s(19),E=s(0),g=s(35),b=s(34),I=s(111),f=s(24),S=s(8),A=s(94),T=s.n(A),C=s(99),O=s.n(C),R=s(21),N=s(128),M=s(45),D=s(42),y=s(73);const L="https://data.mail.yahoo.com/psearch",v="https://data.mail.yahoo.com/digicoupon",P="https://data.mail.yahoo.com/callisto/shoprunner",F="/v3/items",x="/v3/categories/expanded",w={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"};var k=s(148),H=s(494);var U=class{constructor(e){this.loggerParams=e,this.startTime=Date.now(),this.loggers={}}logLatency(e,t=0,s=0){Object.keys(e||{}).forEach(n=>{Object.keys(e[n]||{}).forEach(e=>{const a=n+"__"+e;this.loggers[a]||(k.a.feature("bootcamp_client_stream_call",Object.assign({},this.loggerParams,{contentType:n,filterType:e,bootcampRequestTS:t,bootcampResponseTS:s}),this.startTime).logLatency(),this.loggers[a]=!0)})})}};const j={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"},G="mailsearch",B=1,V={[D.b]:class{constructor({httpRetry:e,appId:t}){this.urlPrefix=(t===E.le?E.Ub:E.V)+"/bootcamp_api",this.httpRetry=e}searchStream(e,t){const s=new R.b("GET",this.urlPrefix+"/search",{timeout:D.f,httpRetry:this.httpRetry});let n=0;s.setHeader("Accept","multipart/form-data"),s.withCredentials=!0;const a=s.createStream(e),r=a.pipe(Object(N.a)({boundary:D.d,useBuffer:!1,consolidate:!0})).pipe(O()(function(e){try{const s=e.slice(n);if(n=e.length,0===s.length)return;const a=Object.keys(E.Fb),r=s.reduce((e,s)=>{const n=JSON.parse(s);return t.logLatency(n),Object.keys(n).forEach(t=>{if(-1===a.indexOf(t))return e;e[t]||(e[t]={}),Object.keys(n[t]).forEach(s=>{e[t][s]=n[t][s]})}),e},{});this.emit("data",r)}catch(e){this.emit("data",{status:500,error:g.a.errorify(e)})}}));return a.on("error",e=>r.emit("error",e)),r}itemsApi(e){const t=new R.b("GET",this.urlPrefix+"/items",{httpRetry:this.httpRetry});return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}gifsApi(e){const t=new R.b("GET",this.urlPrefix+"/gifs",{httpRetry:this.httpRetry});return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}suggestionsApi(e){const t=new R.b("GET",this.urlPrefix+"/suggestions",{httpRetry:this.httpRetry});return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}searchSuggestionsStream(e){const t=new R.b("GET",this.urlPrefix+"/suggestions",{httpRetry:this.httpRetry});let s=0;t.setHeader("Accept","multipart/form-data"),t.withCredentials=!0;const n=t.createStream(Object.assign({multipart:!0},e)),a=n.pipe(Object(N.a)({boundary:D.d,useBuffer:!1,consolidate:!0})).pipe(O()(function(e){let t;try{const n=e.slice(s);if(s=e.length,0===n.length)return;t=n.reduce((e,t)=>e.concat(JSON.parse(t)),[])}catch(e){this.emit("data",{status:500,error:g.a.errorify(e)})}this.emit("data",t)}));return n.on("error",e=>a.emit("error",e)),a}recentSearchesApi(e){const t=new R.b("GET",this.urlPrefix+"/recentSearches",{httpRetry:this.httpRetry});return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}localStoresApi(e){const t=new R.b("GET",this.urlPrefix+"/locals",{httpRetry:this.httpRetry});return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}linkContentProviderApi(e){const{redirectUrl:t,errorUrl:s,q:n}=e,a=`${this.urlPrefix}/contentProviders/${e.provider}${e.unlink?"/remove":""}?${Object(m.stringify)(n)}`,r=new R.b("POST",a,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({redirectUrl:t,errorUrl:s}).then(e=>JSON.parse(e.text))}deletePensieveApi(e){const{itemIds:t}=e,s=this.urlPrefix+"/items/hide?"+Object(m.stringify)(Object.assign({},e,{useTripod:"true"})),n=new R.b("POST",s,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({itemIds:t}).then(e=>JSON.parse(e.text))}},[D.e]:H.a,[D.a]:class{constructor({httpRetry:e}){this.httpRetry=e}gifsApi(e){const{ymreqid:t,timezone:s}=e,n=e.nextItemsUrl?function(e,{anonid:t,wssid:s}){const n=Object.assign({wssid:s},t?{anonid:t}:{},-1===e.indexOf(`appid=${E.ge}`)?{appid:E.ge}:{});return e+"&"+Object(m.stringify)(n)}(e.nextItemsUrl,e):function({anonid:e,query:t,mailboxId:s,wssid:n,offset:a}){const r=Object.assign({appid:E.ge,cursor:a,limit:D.c,mailboxId:s,mimeTypes:"image/gif",order:"desc",query:t,source:E.x.TENOR,vertical:"WEB",wssid:n},e?{anonid:e}:{});return L+F+"?"+Object(m.stringify)(r)}(e),a=new R.b("GET",n,{httpRetry:this.httpRetry});return a.setHeader("Accept","application/json"),a.withCredentials=!0,a.send({ymreqid:t}).then(e=>Object(y.i)(JSON.parse(e.text),{listContentType:E.Fb.GIFS},{timezone:s}))}gifCategoriesApi(e){const{ymreqid:t,timezone:s}=e,n=function({wssid:e,locale:t}){const s={wssid:e,appid:E.ge,limit:D.c,locale:t};return L+x+"?"+Object(m.stringify)(s)}(e),a=new R.b("GET",n,{httpRetry:this.httpRetry});return a.setHeader("Accept","application/json"),a.withCredentials=!0,a.send({ymreqid:t}).then(e=>Object(y.d)(JSON.parse(e.text),{listContentType:E.Fb.GIFS},{timezone:s}))}plaAdsByKeywordApi(e,t=!1){const s=new R.b("GET",L+"/v3/srp?",{timeout:D.f,httpRetry:this.httpRetry}),{wssid:n,ymreqid:a,appid:r,sourceTag:o,bucketid:i}=e;let{keyword:c}=e;t||(c+=" buy"),s.setHeader("Accept","application/json"),s.withCredentials=!0;const l={wssid:n,ymreqid:a,appid:r,query:c,ac:2,expand:"AL",bucketid:i,limit:10,sourceTag:o};return new Promise((n,a)=>{s.createStream(Object.assign({multipart:!0},l)).on("error",a).pipe(Object(N.a)({boundary:D.d,useBuffer:!1})).on("data",s=>{let r;try{r=Object(y.k)(JSON.parse(s),{timezone:e.timezone})}catch(e){return a(e)}t||0!==r.length||n(this.plaAdsByKeywordApi(e,!0)),n({plaAds:r,retry:t})})})}getCouponsApi({ymreqid:e,decoId:t,accountIds:s,wssid:n,cursor:a=0,mailboxId:r,limit:o,start:i,end:c,vertical:l,order:d,appid:u,from:m,query:p}){const _=`mailboxId=${r}&limit=${o}&start=${i}&end=${c}&vertical=${l}&order=${d}&appid=${u}${p?`&query=${encodeURIComponent(p)}`:""}${m?`&from=${m}`:""}`,h=`${L}/v3/items?cursor=${a||0}&decoId=(${t.join(" ")})&accountIds=${s.join(",")}&${_}&wssid=${n}`,E=new R.b("GET",h,{httpRetry:this.httpRetry});return E.setHeader("Accept","application/json"),E.withCredentials=!0,E.send({ymreqid:e}).then(e=>Object(y.h)(JSON.parse(e.text)))}localStoresApi({wssid:e,senderEmail:t="",latlong:s="",ymreqid:n}){const a=`${L}/v3/items?appid=${E.ge}&lcount=1&source=locals&wssid=${e}&sendersmtp=${encodeURIComponent(t)}`+(s?`&latlong=${s}`:""),r=new R.b("GET",a,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({ymreqid:n}).then(e=>Object(y.j)(JSON.parse(e.text)))}retailersApi({wssid:e,ymreqid:t,quotientDebugFlag:s}){const n=new R.b("GET",`${v}/retailers?includeAll=${s}&appid=${E.ge}&wssid=${e}`,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:t}).then(e=>e.body)}shopRunnerRetailersApi({wssid:e,ymreqid:t}){const s=new R.b("GET",`${P}/retailers?appid=${E.ge}&wssid=${e}`,{httpRetry:this.httpRetry});return s.setHeader("Accept","application/json"),s.withCredentials=!0,s.send({ymreqid:t}).then(e=>e.body)}linkRetailerApi({wssid:e,retailerId:t,loyaltyId:s}){const n={loyalty_id:s,retailer_id:t},a=new R.b("POST",`${v}/retailer/link?appid=${E.ge}&wssid=${e}`,{httpRetry:this.httpRetry});return a.setHeader("Accept","application/json"),a.withCredentials=!0,a.send(n).then(e=>e.body)}unlinkRetailerApi({wssid:e,ymreqid:t,retailerId:s}){const n=new R.b("DELETE",`${v}/retailer/${s}?appid=${E.ge}&wssid=${e}`,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:t}).then(e=>e.body)}activateOfferApi({wssid:e,retailerId:t,offerId:s}){const n={offers:[s]},a=new R.b("POST",`${v}/offers/activate?appid=${E.ge}&wssid=${e}&retailerId=${t}`,{httpRetry:this.httpRetry});return a.setHeader("Accept","application/json"),a.withCredentials=!0,a.send(n).then(e=>e.body)}retailerOffersApi({wssid:e,ymreqid:t,retailerId:s,limit:n,offset:a,offerType:r=""}){const o=new R.b("POST",`${v}/offers?appid=${E.ge}&wssid=${e}&retailerId=${s}&limit=${n}&offset=${a}&offerType=${r}`,{httpRetry:this.httpRetry});return o.setHeader("Accept","application/json"),o.withCredentials=!0,o.send({ymreqid:t}).then(e=>Object(y.n)(e.body))}retailerActivatedOffersApi({wssid:e,ymreqid:t,retailerId:s,limit:n,offset:a}){const r=new R.b("POST",`${v}/offers/activated?appid=${E.ge}&wssid=${e}&retailerId=${s}&limit=${n}&offset=${a}`,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({ymreqid:t}).then(e=>Object(y.m)(e.body))}retailerSavingsApi({wssid:e,ymreqid:t,retailerId:s="",startDate:n=-1,endDate:a=Object(M.n)(new Date)}){const r=new R.b("POST",`${v}/retailer/savings?appid=${E.ge}&wssid=${e}&retailerId=${s}&startDate=${n}&endDate=${a}`,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({ymreqid:t}).then(e=>e.body)}couponRecommendations(e){const{ymreqid:t,wssid:s,limit:n=5,cursor:a=0,mid:r,mailboxemail:o=""}=e,i={appid:E.ge,wssid:s,vertical:"CARDS",decoId:E.dc.CPN,cursor:a,limit:n,context:r?`mid:${r}`:"view:recommended",mailboxemail:o},c=L+"/v3/items?"+Object(m.stringify)(i),l=new R.b("GET",c,{httpRetry:this.httpRetry});return l.setHeader("Accept","application/json"),l.withCredentials=!0,l.send({ymreqid:t}).then(e=>Object(y.f)(JSON.parse(e.text)))}couponSearchApi(e){const{ymreqid:t,wssid:s,limit:n,query:a,start:r,end:o}=e,i={appid:E.ge,wssid:s,vertical:"CARDS",decoId:E.dc.CPN,limit:n,query:a,start:r,end:o},c=L+"/v3/items?"+Object(m.stringify)(i),l=new R.b("GET",c,{httpRetry:this.httpRetry});return l.setHeader("Accept","application/json"),l.withCredentials=!0,l.send({ymreqid:t}).then(e=>Object(y.g)(JSON.parse(e.text)))}contentProvidersApi(e){const{appid:t,wssid:s}=e,n=new R.b("GET",L+"/v3/contentProviders?allsources=1",{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({appid:t,wssid:s}).then(e=>Object(y.e)(JSON.parse(e.text)))}itemsApi(e){const t=e.wssid,s=e.url.replace("https://prod1psearch.mail.yahoo.com",L)+"&wssid="+t,n=new R.b("GET",s,{httpRetry:this.httpRetry}),{ymreqid:a,listContentType:r,timezone:o}=e;return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:a}).then(e=>Object(y.i)(JSON.parse(e.text),{listContentType:r},{timezone:o}))}suggestionsApi(e){const t=new R.b("GET",L+"/v3/suggestions?",{httpRetry:this.httpRetry});return t.setHeader("Accept","multipart/form-data"),t.withCredentials=!0,new Promise((s,n)=>{t.createStream(Object.assign({multipart:!0},e)).on("error",n).pipe(Object(N.a)({boundary:D.d,useBuffer:!1})).once("data",t=>{let a;try{a=Object(y.o)(JSON.parse(t),{timezone:e.timezone})}catch(e){return n(e)}s(a)})})}recentSearchesApi(e){const t=L+"/v3/recentSearches?",{ymreqid:s,wssid:n}=e,a=new R.b("GET",t,{httpRetry:this.httpRetry});return a.setHeader("Accept","application/json"),a.withCredentials=!0,a.send({ymreqid:s,wssid:n}).then(e=>Object(y.l)(JSON.parse(e.text)))}topRetailersApi(e){const{ymreqid:t,wssid:s,appid:n,mailboxid:a}=e,r=new R.b("POST",L+`/v3/summaries?ymreqid=${t}&wssid=${s}&appid=${n}&mailboxid=${a}`,{httpRetry:this.httpRetry}),o={vertical:"CARDS",decoIds:["CPN"],endTime:Date.now()+5184e6,pivotList:[{pivotType:"SENDER",sortOrderList:[{sortType:"TOPCOUNT",order:"DESC"}],pivotList:[{pivotType:"CONTENTITEM",limit:1}]}]};return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send(o).then(e=>Object(y.q)(JSON.parse(e.text)))}topDealCategoriesApi(e){const{ymreqid:t,wssid:s,appid:n,mailboxid:a}=e,r=new R.b("POST",L+`/v3/summaries?ymreqid=${t}&wssid=${s}&appid=${n}&mailboxid=${a}`,{httpRetry:this.httpRetry}),o={vertical:"CARDS",decoIds:["CPN"],endTime:Date.now()+5184e6,pivotList:[{pivotType:"CATEGORY",sortOrderList:[{sortType:"TOPCOUNT",order:"DESC"}],pivotList:[{pivotType:"CONTENTITEM",limit:0}]}]};return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send(o).then(e=>Object(y.p)(JSON.parse(e.text)))}deleteRecentSearchApi(e){const{wssid:t,ymreqid:s,appid:n}=e,a=babelHelpers.objectWithoutProperties(e,["wssid","ymreqid","appid"]),r=new R.b("POST",`${L}/v3/clearSearchHistoryQuery?wssid=${t}&ymreqid=${s}&appid=${n}`);return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send(a).catch(()=>{throw new g.a("BootcampApiClient.deleteRecentSearch")})}searchStream(e,t){const s=new R.b("GET",L+"/v3/srp?",{timeout:D.f,httpRetry:this.httpRetry}),n=u()(e,["keyword"]);s.setHeader("Accept","multipart/form-data"),s.withCredentials=!0,n.query=e.keyword;const{sortOrder:a=E.Cd.DATE_DESC}=e;n.order=w[a];let r=0;const o=s.createStream(n),i=o.pipe(Object(N.a)({boundary:D.d,useBuffer:!1,consolidate:!0})).pipe(O()(function(s){try{const n=s.slice(r),a=Object.keys(E.Fb);if(r=s.length,0===n.length)return;const o=n.reduce((s,n)=>{const{status:r,response:o}=JSON.parse(n);if(401===r)throw new g.a(b.b,{statusCode:r,errorCode:"AUTH",refresh:!0});if(!o||200!==r)throw new g.a("BootcampApiClient.SearchError");let i;if(o.verticals)i=Object(y.a)(o.verticals,{timezone:e.timezone,formatDateUsingUTC:"false"!==e.formatDateUsingUTC}),t.logLatency(i,o.requestTS,o.responseTS);else if(o.ads){const e=function(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(o.ads);try{const s=(new DOMParser).parseFromString(e,"text/xml");i=Object(y.c)(s),t.logLatency(i,o.requestTS,o.responseTS)}catch(e){throw new g.a("BootcampApiClient.SearchAdsError")}}return Object(S.b)(i)||Object.keys(i).forEach(e=>{if(-1===a.indexOf(e))return s;s[e]||(s[e]={}),Object.keys(i[e]).forEach(t=>{s[e][t]=i[e][t]})}),s},{});this.emit("data",o)}catch(e){this.emit("data",{status:500,error:g.a.errorify(e)})}}));return o.on("error",e=>i.emit("error",e)),i}searchSuggestionsStream(e){const t=new R.b("GET",L+"/v3/suggestions?",{httpRetry:this.httpRetry});t.setHeader("Accept","multipart/form-data"),t.withCredentials=!0;const s=t.createStream(Object.assign({multipart:!0},e)),n=s.pipe(Object(N.a)({boundary:D.d,useBuffer:!1})).pipe(O()(function(t){let s;try{s=Object(y.o)(JSON.parse(t),{timezone:e.timezone})}catch(e){this.emit("data",{status:500,error:g.a.errorify(e)})}this.emit("data",s)}));return s.on("error",e=>n.emit("error",e)),n}deletePensieveApi(e){const t={itemIds:[e.itemIds]},s=L+"/v3/items/hide?"+Object(m.stringify)(e),n=new R.b("POST",s,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send(t).then(e=>JSON.parse(e.text))}}},W=20,q=Object(S.c)(["us","uk","de","fr","it","es","ch","at","nl","no","dk","se","fi","au","br","hk","tw","ca","mx","ar","in","sg","ie","co","cl","ve","pe"]);var z=class extends _.a{constructor({appId:e=E.ge,strategy:t=D.b,bootcampHost:s,executeRequestsSequentially:n=Object(f.b)(),loginHash:a,locale:r,cookie:o,crumb:i,wssid:c,loggerParams:l,region:d,httpRetry:u,requestQueue:m,isOnline:p,headers:_,parseXML:g,buckets:b,timezone:I={},config:S={}}){const A=S.bootcampProxy;super({loggerName:E.p.BootcampClient,loggerParams:Object(f.b)()?{}:l,crumb:i,wssid:c,isOnline:p}),Object(h.a)(t===D.b||t===D.e,`Invalid strategy ${t}`),this.strategy=Object(f.b)()&&A?D.a:t,this._getRequest=function(t=this.strategy){return new V[t]({appId:e,headers:_,bootcampHost:s,cookie:o,httpRetry:u})},this.appId=e,this.cookie=o,this.headers=_,this.httpRetry=u,this.bootcampHost=s,this.timezone=I.name,this.executeRequestsSequentially=n,this.requestQueue=m,this.region=d,this.parseXML=g,this.locale=r,this.buckets=b,a&&(this.ymreqidGenerator=new T.a(a,E.fe,E.Wc))}getDefaultUrlParams(){const e=this.strategy===D.a||this.strategy===D.b?this.getMailboxParams():null,t=Object.assign({appid:this.appId,wssid:this.wssid,clientId:G,timezone:this.timezone,allowGoogleDocs:1,ymreqid:this.ymreqidGenerator.generate()},e);return this.strategy===D.b&&(t.crumb=this.crumb),t}getOffsetFromUrl(e){if(e){const t=Object(m.parse)(e);return t&&t.cursor}return"0"}isRetryableError(e,t){return t<B&&e.name===b.e}searchStream(e,t,s){const n=this.getDefaultUrlParams(),a=this.isOnline(),{ymreqid:r}=n,o=Object.assign({},this.loggerParams,{apiName:"mailSearch",ymreqid:r,isOnline:a}),i=k.a.feature(E.p.BootcampClient,o),{expand:c}=t;Object(h.a)(c,"Bootcamp SRP expand parameter is required"),t=Object.assign({},n,t),l()(s)&&s(o);let d=Object.assign({multipart:!0},t);t.emailAddresses&&t.emailAddresses.length>0&&(d.filters=t.listFilter),this.strategy!==D.e&&this.strategy!==D.a||(Object.assign(d,{sourceTag:t.sourceTag,market:q[this.region]||"us"}),this.strategy===D.e&&(d.parseXML=this.parseXML,d.buckets=this.buckets));let{folders:m=[],accountIds:p=[],emailAddresses:_=[],contactIds:g=[]}=t;m=[].concat(m),p=[].concat(p),_=[].concat(_),g=[].concat(g),m.length?d.folders=m.join(","):p.length&&(d.accountIds=p.join(","));const b=_.length;b>0&&(d.contentId=b>W&&g.length?`x:${g[0]}`:_.slice(0,W).map(e=>"smtp:"+e).join(",")),d=u()(d,["referrer","name","listContentType","listFilter","emailAddresses","contactIds"]);const f=new U(o);let S;return(S=this.executeRequestsSequentially?this.requestQueue.addStream(()=>this._getRequest().searchStream(d,f),"mailSearch"):this._getRequest().searchStream(d,f)).on("end",i.logSuccessAndLatency),S.on("error",e=>{e=this.handleCommonError(e,"mailSearch"),Object(I.a)(k.a,E.p.BootcampClient,o,e)}),S}searchItems(e,t,s=0){const n=this.getDefaultUrlParams(),{ymreqid:a}=n,r={apiName:e,ymreqid:a,retryCount:s};let o;return this.strategy===D.e&&(t.buckets=this.buckets),o=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest().itemsApi(babelHelpers.extends({},n,t)),e):this._getRequest().itemsApi(Object.assign({},n,t)),this.logRequest(o,r),o.catch(n=>{if(n=this.handleCommonError(n,e),this.isRetryableError(n,s))return this.searchItems(e,t,++s);throw n})}searchMessages(e,t){this.strategy=D.e;const s=this.getDefaultUrlParams(),n=Object.assign({},s,t),{appid:a,mailboxid:r,keyword:o,accountIds:i,sortOrder:c=E.Cd.DATE_DESC,cursor:l,limit:d}=n,u=j[c],m=`${this.bootcampHost}/v3/items?vertical=MESSAGES&threads=false&mailboxid=${r}&appid=${a}&accountIds=${i[0]}&query=${encodeURIComponent(o)}&order=${u}&limit=${d}&cursor=${l}`;return this.searchItems("searchItem",babelHelpers.extends({},t,{url:m}))}searchGifs(e,t,s=0){const n=D.a,a=this.getDefaultUrlParams(),{ymreqid:r}=a,o={apiName:e,ymreqid:r,retryCount:s};let i;return t.offset=this.getOffsetFromUrl(t.nextItemsUrl),i=this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest(n).gifsApi(babelHelpers.extends({},a,t)),e):this._getRequest(n).gifsApi(Object.assign({},a,t)),this.logRequest(i,o,null,s),i.catch(n=>{if(n=this.handleCommonError(n,e),this.isRetryableError(n,s))return this.searchGifs(e,t,++s);throw n})}getGifCategories(e,t){const s=D.a,n=this.getDefaultUrlParams(),{ymreqid:a}=n,r={apiName:e,ymreqid:a},o=this._getRequest(s).gifCategoriesApi(Object.assign({locale:this.locale},n,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}getPlaAdsByKeyword(e,t){const s=this.getDefaultUrlParams(),{ymreqid:n}=s,a={apiName:e,ymreqid:n,crumb:this.crumb},r=this._getRequest(D.a).plaAdsByKeywordApi(Object.assign({locale:this.locale},s,t));return this.logRequest(r,a),r.catch(t=>{throw t=this.handleCommonError(t,e)})}getAllCouponsForSmartView(...e){return this.getCouponsForSmartView(...e)}getSavedCouponsForSmartView(...e){return this.getCouponsForSmartView(...e)}getAllCouponsForSmartViewSearch(...e){return this.getCouponsForSmartView(...e)}getSavedCouponsForSmartViewSearch(...e){return this.getCouponsForSmartView(...e)}getRelatedCoupons(...e){return this.getCouponsForSmartView(...e)}getCouponsForSmartView(e,{mailboxId:t="",limit:s=0,decoId:n=[],offset:a=0,nextItemsUrl:r="",start:o,end:i,accountIds:c=[],vertical:l="CARDS",order:d="time",query:u,from:m}={}){const p=D.a,_=this.getDefaultUrlParams(),{ymreqid:h}=_,E={apiName:e,ymreqid:h},g=babelHelpers.extends({mailboxId:t,limit:s,cursor:a,extendUrl:r,start:o,end:i,decoId:n,accountIds:c,vertical:l,order:d,query:u,from:m},_),b=this._getRequest(p).getCouponsApi(g);return this.logRequest(b,E),b.catch(t=>{throw t=this.handleCommonError(t,e)})}getLocalStores(e,t){const s=D.a,n=this.getDefaultUrlParams(),{ymreqid:a}=n,r={apiName:e,ymreqid:a},o=this._getRequest(s).localStoresApi(Object.assign(n,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}getRetailers(e,t){const s=D.a,n=this.getDefaultUrlParams(),{ymreqid:a}=n,r={apiName:e,ymreqid:a},o=this._getRequest(s).retailersApi(Object.assign(n,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}getSRRetailers(e,t){const s=D.a,n=this.getDefaultUrlParams(),{ymreqid:a}=n,r={apiName:e,ymreqid:a},o=this._getRequest(s).shopRunnerRetailersApi(Object.assign(n,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}linkRetailer(e,t){const s=D.a,n=this.getDefaultUrlParams(),{ymreqid:a}=n,r={apiName:e,ymreqid:a},o=this._getRequest(s).linkRetailerApi(Object.assign(n,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}unlinkRetailer(e,t){const s=D.a,n=this.getDefaultUrlParams(),{ymreqid:a}=n,r={apiName:e,ymreqid:a},o=this._getRequest(s).unlinkRetailerApi(Object.assign(n,t));return this.logRequest(o,r),o.catch(e=>{throw e=this.handleCommonError(e)})}activateOffer(e,t){const s=D.a,n=this.getDefaultUrlParams(),{ymreqid:a}=n,r={apiName:e,ymreqid:a},o=this._getRequest(s).activateOfferApi(Object.assign(n,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}getOffers(e,t){const s=D.a,n=this.getDefaultUrlParams(),{ymreqid:a}=n,r={apiName:e,ymreqid:a},o=this._getRequest(s).retailerOffersApi(Object.assign(n,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}getActivatedOffers(e,t){const s=D.a,n=this.getDefaultUrlParams(),{ymreqid:a}=n,r={apiName:e,ymreqid:a},o=this._getRequest(s).retailerActivatedOffersApi(Object.assign(n,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}getSavings(e,t){const s=D.a,n=this.getDefaultUrlParams(),{ymreqid:a}=n,r={apiName:e,ymreqid:a},o=this._getRequest(s).retailerSavingsApi(Object.assign(n,t));return this.logRequest(o,r),o.catch(t=>{throw this.handleCommonError(t,e)})}getCouponRecommendations(e,t){const s=D.a,n=this.getDefaultUrlParams(),{ymreqid:a}=n,r={apiName:e,ymreqid:a},o=this._getRequest(s).couponRecommendations(Object.assign(n,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}searchCoupons(e,t){const s=D.a,n=this.getDefaultUrlParams(),{ymreqid:a}=n,r={apiName:e,ymreqid:a},o=this._getRequest(s).couponSearchApi(Object.assign(n,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}searchSuggestions(e,t){const s=this.getDefaultUrlParams(),{ymreqid:n}=s,a={apiName:e,ymreqid:n};let r;return r=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest().suggestionsApi(babelHelpers.extends({},s,t)),e):this._getRequest().suggestionsApi(Object.assign({},s,t)),this.logRequest(r,a),r.catch(t=>{throw t=this.handleCommonError(t,e)})}searchSuggestionsStream(e,t){const s=this.getDefaultUrlParams(),{ymreqid:n}=s,a={apiName:e,ymreqid:n,crumb:this.crumb},r=k.a.feature(E.p.BootcampClient,a);let o;return t=Object.assign({},s,t),(o=this.executeRequestsSequentially?this.requestQueue.addStream(()=>this._getRequest().searchSuggestionsStream(t),e):this._getRequest().searchSuggestionsStream(t)).on("end",r.logSuccessAndLatency),o.on("error",t=>{t=this.handleCommonError(t,e),Object(I.a)(k.a,E.p.BootcampClient,a,t)}),o}recentSearches(e,t){const s=this.getDefaultUrlParams(),{ymreqid:n}=s,a={apiName:e,ymreqid:n,crumb:this.crumb};let r;return r=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest().recentSearchesApi(babelHelpers.extends({},s,t)),e):this._getRequest().recentSearchesApi(Object.assign({},s,t)),this.logRequest(r,a),r}getTopRetailers(e){const t=D.a,s=this.getDefaultUrlParams(),{ymreqid:n}=s,a={apiName:e,ymreqid:n},r=this._getRequest(t).topRetailersApi(s);return this.logRequest(r,a),r.catch(t=>{throw this.handleCommonError(t,e)})}getTopDealCategories(e){const t=D.a,s=this.getDefaultUrlParams(),{ymreqid:n}=s,a={apiName:e,ymreqid:n},r=this._getRequest(t).topDealCategoriesApi(s);return this.logRequest(r,a),r.catch(t=>{throw this.handleCommonError(t,e)})}deleteRecentSearch(e,t){const s=this.getDefaultUrlParams(),{wssid:n,ymreqid:a,appid:r}=s,o=Object.assign({},this.loggerParams,{apiName:e,ymreqid:a}),i=this._getRequest(D.a).deleteRecentSearchApi(babelHelpers.extends({},t,{wssid:n,ymreqid:a,appid:r}));return this.logRequest(i,o),i}getContentProviders(e,t){const s=D.a,n=this.getDefaultUrlParams(),{ymreqid:a}=n,r={apiName:e,ymreqid:a},o=this._getRequest(s).contentProvidersApi(Object.assign(n,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}linkContentProvider(e,t){const s=this.getDefaultUrlParams(),{ymreqid:n}=s,a={apiName:e,ymreqid:n,crumb:this.crumb};let r;return t.q=Object.assign({},s,t.q),t.unlink=t.unlink||!1,r=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest().linkContentProviderApi(t),e):this._getRequest().linkContentProviderApi(t),this.logRequest(r,a),r}deletePensieveImages(e,t){const s=this.getDefaultUrlParams(),{ymreqid:n}=s,a={apiName:e,ymreqid:n,crumb:this.crumb};let r;return t.offset=this.getOffsetFromUrl(t.nextItemsUrl),r=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest().deletePensieveApi(babelHelpers.extends({},s,t)),e):this._getRequest().deletePensieveApi(Object.assign({},s,t)),this.logRequest(r,a),r}createStream(e,t,s=(()=>{})){return this[e](e,t,s)}request(e,t){return this[e](e,t)}handleAuthError(e,t){const{statusCode:s}=e;return 401!==s||"mailSearch"!==t&&"searchItems"!==t?null:new g.a(b.b,{statusCode:s,errorCode:"AUTH",body:e.getDataByName("body",""),refresh:!0})}handleWssidReissueError(e){const{statusCode:t}=e;if(403===t){const s=Object(S.a)(e,"data.body.code","");if("Client.ClientRedirect.SessionIdReissue"===s){const n=Object(S.a)(e,"data.body.wssid","");if(n)return this.wssid=n,new g.a(b.e,{statusCode:t,errorCode:s,wssid:n})}}return null}handleCommonError(e,t=""){let s=null;return e=g.a.errorify(e),s||(s=this.handleAuthError(e,t)),s||(s=this.handleYdodError(e)),s||(s=this.handleWssidReissueError(e)),s||e}};const Z=E.ee+"/udb",K=3e4,Y="udb.write",X="udb.read";class $ extends _.a{constructor({loggerParams:e,crumb:t,isOnline:s,loginHash:n,httpRetry:a,requestQueue:r}){super({loggerName:E.p.UDBClient,loggerParams:e,crumb:t,isOnline:s}),this.httpRetry=a,this.requestQueue=r,n&&(this.ymreqidGenerator=new T.a(n,E.fe,E.Wc))}_sendRequest(e,t){Object(h.a)("read"===e||"write"===e);const s=this.crumb,n=this.ymreqidGenerator.generate(),a=`${Z}?crumb=${s}&ymreqid=${n}`;let r=R.a.GET,o="";"write"===e&&(r=R.a.POST,o=Object.keys(t).join(","));const i={apiName:e,key:o,crumb:s,ymreqid:n},c=new R.b(r,a,{timeout:K,httpRetry:this.httpRetry,apiName:e}).send(t);return this.logRequest(c,i),c.catch(e=>{throw e=this.handleCommonError(e)})}read(){return this.requestQueue.add(this._sendRequest.bind(this,"read"),X)}write(e){return this.requestQueue.add(this._sendRequest.bind(this,"write",e),Y)}}$.prototype.handleAuthError=function(e){const{statusCode:t}=e;return 401===t?new g.a("UDBClient.InvalidYca",{errorCode:"INVALID_YCA",statusCode:t}):403===t?new g.a("UDBClient.Forbidden",{errorCode:"FORBIDDEN",statusCode:t}):null};var Q=s(495);const J=33e3;class ee{constructor({appId:e}){this.proxyURL=`${e===E.le?E.Ub:E.V}/gemini_api/`}request(e){const t=new R.b(R.a.GET,this.proxyURL,{timeout:J});return t.setHeader("Accept","application/json"),t.send(e).then(e=>e.body)}}const te=Object(S.c)(["NODE_TO_GEMINI","BROWSER_TO_NODE"]),se=1e3;var ne=class extends _.a{constructor({appId:e=E.ge,loggerParams:t,wssid:s,isOnline:n,loginHash:a,cookie:r,crumb:o,userAgent:i,remoteAddress:c,environment:l,region:d,locale:u,buckets:m,referer:p},_){super({loggerName:E.p.GeminiAPIClient,loggerParams:t,crumb:o,wssid:s,isOnline:n}),this.strategy=_||this.getDefaultStrategy(),this.browserProxy=new ee({appId:e}),this.REQUESTS={Gemini:Q.a.request,BrowserProxy:this.browserProxy.request},this.validateStrategy(this.strategy),this.appId=e,this.cookie=r,this.environment=l,this.buckets=m,this.locale=u,this.region=d,this.remoteAddress=c,this.userAgent=i,this.referer=p,a&&(this.ymreqidGenerator=new T.a(a,E.fe,E.Wc))}getDefaultStrategy(){return Object(f.b)()?te.BROWSER_TO_NODE:te.NODE_TO_GEMINI}validateStrategy(e){if("string"!=typeof e||!te[e])throw new Error("strategy has to be one of "+JSON.stringify(Object.keys(te)));if(Object(f.b)()&&e===te.NODE_TO_GEMINI)throw new Error(te.NODE_TO_GEMINI+" strategy can not be used in the browser");if(!Object(f.b)()&&e===te.BROWSER_TO_NODE)throw new Error(te.BROWSER_TO_NODE+" strategies can not be used on the server")}request(e){let t;if(!this.ymreqidGenerator)throw new Error("`ymreqid` cannot be generated. making a request or initialize GeminiAPIClient with `loginHash`, so that it can generate a new one");const s=this.ymreqidGenerator.generate(),n=this.crumb,a=Object.assign({},e,{ymreqid:s,appId:this.appId,crumb:n});switch(this.strategy){case te.NODE_TO_GEMINI:Object.assign(a,{userAgent:this.userAgent,remoteAddress:this.remoteAddress,buckets:this.buckets,cookie:this.cookie,environment:this.environment,region:this.region,locale:this.locale,referer:this.referer,logRequest:this.logRequest.bind(this)}),t=this.REQUESTS.Gemini;break;case te.BROWSER_TO_NODE:t=this.REQUESTS.BrowserProxy.bind(this.browserProxy)}const r=t(a);return this.strategy===te.BROWSER_TO_NODE&&this.logRequest(r,{ymreqid:s,crumb:n,intl:this.region,apiName:"geminiAd.get",sectionIds:e.sectionId,rotationActionType:e.rotationActionType}),r}getSponsoredAsset(e){const t=new R.b(R.a.GET,e.url,{timeout:se}),s={intl:this.region,apiName:"geminiSponsoredAsset.get",url:e.url};t.setHeader("Accept","text/html");const n=t.send();return this.logRequest(n,s),n}},ae=s(100);var re=class extends _.a{constructor({appId:e=E.ge,host:t=E.ce,loginHash:s,wssid:n,httpRetry:a,isOnline:r}){super({loggerName:E.p.XobniClient,wssid:n,isOnline:r});const o={loginHash:s,httpRetry:a,isOnline:r,wssid:n,host:t};if(!o.loginHash)throw new Error("Xobni `loginHash` is a required option");this.ymreqidGenerator=new T.a(o.loginHash,E.fe,E.Wc),this.appId=e,this.httpRetry=o.httpRetry,this.instanceOptions=o}transport(e,t=R.a.GET){const s=new R.b(t,e,{httpRetry:this.httpRetry});return t===R.a.GET?s.setHeader("Accept","application/json"):s.setHeader("x-yahoowssid-authorization",this.wssid),s.withCredentials=!0,s}getRequestId(){return this.ymreqidGenerator.generate()}getSearchQueries(e){return{q:(e=Object.assign({query:"",includeLists:!0,includeTypes:"smtp",contextFrom:"",recipientList:[],identifier:"",limit:6},e)).query,i_l:e.includeLists,i_t:e.includeTypes,c_t:e.recipientList.join(","),c_f:e.contextFrom,k:e.identifier,l:e.limit,ymreqid:this.getRequestId()}}getOptions(e){return{host:Object.assign({},this.instanceOptions,e).host}}isUserXobnified(e){return e=this.getOptions(e),this.transport(e.host+"/pachinko/v2/xobnified").send({ymreqid:this.getRequestId(),appId:this.appId}).then(Boolean.bind(null,!0),Boolean.bind(null,!1))}normalizeResponse(e){const t={};for(const s in e)e.hasOwnProperty(s)&&void 0!==e[s]&&(t[s]=e[s]);return t}normalizeImportantContactsResponse(e){return(e.endpoint_info_list||[]).map(e=>{const t=(e.endpoint?[e.endpoint]:[]).filter(e=>/^smtp:(\S+)/.test(e)).map(e=>e.match(/^smtp:(\S+)/)[1]);return{emails:t,name:e.c_name,xobniId:e.c_id,id:t[0]}})}request(e,t,s,n={}){const{mailboxParams:a}=n;return t=a?t:Object.assign(t,this.getMailboxParams()),this.transport(e,s).send(t).then(e=>e.body)}triggerProfileImport({provider:e}){Object(h.a)(e,"`provider` is a required option"),e=e.toLowerCase();const t=this.getRequestId(),s={apiName:"triggerProfileImport",provider:e,ymreqid:t},n=this.transport(`${this.instanceOptions.host}/credentials/workflow?${`source=${e}&ymreqid=${t}&appId=${this.appId}`}`,R.a.POST).setHeader("Content-Type","text/plain").setHeader("Accept","application/json").send();return this.logRequest(n,s),n}blackList({contactInfo:e={}}={}){const{email:t}=e;t||Object(h.a)(t,"`email` is a required option to blacklist the email");const s=this.getRequestId(),n={apiName:"blacklistEndpoint",ymreqid:s,blacklistedEmail:t},a=this.request(`${this.instanceOptions.host}/v4/endpoints/${t}/blacklist?${`ymreqid=${s}&appId=${this.appId}`}`,{},R.a.POST);return this.logRequest(a,n),a}search(e){const t=this.getSearchQueries(e),s=babelHelpers.extends({apiName:"searchSimpleEndpoint"},t);t.appId=this.appId;const n=this.request(this.instanceOptions.host+"/v4/endpoints/s",t).then(e=>this.normalizeResponse({identifier:e.k,contacts:e.r.map(function(e){return"LIST"===e.i?{id:e.n+e.ct,email:e.n+e.ct,name:e.n,list:e.es.map(e=>({id:e.e,email:e.e,name:e.n}))}:{id:e.c,email:e.e,name:e.n||e.nd||"",filteredResults:{fullName:e.f&&(e.f.FN||e.f.ND)||[],email:e.f&&e.f.E||[]}}})}));return this.logRequest(n,s),n}simpleSearch(e){const t=this.getSearchQueries(e),s=babelHelpers.extends({apiName:"searchSimpleContact"},t);t.appId=this.appId;const n=this.request(this.instanceOptions.host+"/v4/contacts/s",t).then(e=>Object(ae.g)(e.r));return this.logRequest(n,s),n}deleteContacts({editTokenList:e=[]}){e.length||Object(h.a)(e.length,"`editToken` is a required option to delete the contact");const t={sources:e,appId:this.appId,ymreqid:this.getRequestId()},s={apiName:"deleteContacts",ymreqid:t.ymreqid,editTokenList:JSON.stringify(e)},n=this.request(`${this.instanceOptions.host}/v4/contacts/delete`,t,R.a.POST).then(({deleted_contacts:e=[]})=>e.map(e=>Object(ae.a)(e)));return this.logRequest(n,s),n}importantContacts(e){e||Object(h.a)(e,"`email` is a required option to blacklist the email");const t={include_types:"smtp",context_from:e,max_count:100,ymreqid:this.getRequestId(),appId:this.appId},s={apiName:"importantEndpoints",context_from:e,ymreqid:t.ymreqid},n=this.request(this.instanceOptions.host+"/v4/endpoints/important",t).then(e=>this.normalizeImportantContactsResponse(e));return this.logRequest(n,s),n}topContacts({email:e,maxCount:t=20}){e||Object(h.a)(e,"`email` is a required option to specify the context");const s={exclude_known_entities:!0,context_from:e,max_count:t,no_me_contact:!0,include_favorite:!0,ymreqid:this.getRequestId(),appId:this.appId},n={apiName:"importantContacts",ymreqid:s.ymreqid,context_from:e,max_count:t},a=this.request(this.instanceOptions.host+"/v4/contacts/important",s).then(ae.h);return this.logRequest(a,n),a}alphabeticalContacts({count:e,characters:t=[],type:s=0}){const n={count:e,type:s,ymreqid:this.getRequestId()};t.length>0&&(n.categories=t.join(","));const a=babelHelpers.extends({apiName:"alphabeticalContacts"},n);n.appId=this.appId;const r=this.request(this.instanceOptions.host+"/v4/contacts/alpha",n).then(e=>Object(ae.c)({response:e,type:s}));return this.logRequest(r,a),r}contactDetailsEdit({originalContact:e,newContact:t}){const s=babelHelpers.extends({},Object(ae.e)(e,t),{appId:this.appId,ymreqid:this.getRequestId()});if(!Object.keys(s.changes).length)return Promise.reject({error:"no changes"});if(!s.source)return Promise.reject({error:"no editToken"});const n=s.changes,{removed_endpoints:a,added_endpoints:r}=n,o=babelHelpers.objectWithoutProperties(n,["removed_endpoints","added_endpoints"]),i=babelHelpers.extends({apiName:"contactDetailsEdit",ymreqid:s.ymreqid,editToken:s.editToken},o,{removed_endpoints:JSON.stringify(a),added_endpoints:JSON.stringify(r)}),c=this.request(`${this.instanceOptions.host}/v4/contacts/liteEdit`,s,R.a.POST,{mailboxParams:!0}).then(e=>Object(ae.a)(e.resulting_contacts&&e.resulting_contacts[0]));return this.logRequest(c,i),c}createContact({newContact:e,image:t}){if(!e)return;const s={apiName:"createContact",newContact:JSON.stringify(e),image:t,ymreqid:this.getRequestId()},n=Object.assign({ymreqid:this.getRequestId(),appId:this.appId},Object(ae.d)({contact:e,image:t}));if(!Object.keys(n.source_contacts).length)return Promise.reject({error:"no changes"});const a=this.request(`${this.instanceOptions.host}/v4/contacts/create`,n,R.a.POST,{mailboxParams:!0}).then(e=>Object(ae.a)(e.resulting_contacts&&e.resulting_contacts[0]));return this.logRequest(a,s),a}contactUploadPhoto({image:e,editToken:t}){const s=this.getRequestId(),n={apiName:"contactUploadPhoto",image:e,editToken:t,ymreqid:s};if(!t)return Promise.reject({error:"no editToken"});const a=this.request(`${this.instanceOptions.host}/v4/contacts/uploadPhoto`,{image:e,source:t,appId:this.appId,ymreqid:s},R.a.POST,{mailboxParams:!0}).then(e=>Object(ae.a)(e.resulting_contacts&&e.resulting_contacts[0]));return this.logRequest(a,n),a}contactDetails({email:e,isCompose:t}){e||Object(h.a)(e,"`email` is a required option");const s=this.getRequestId(),n={apiName:"contactDetailsByEndpoint",email:e,isCompose:t,ymreqid:s},a=`smtp:${e}`,r=this.request(`${this.instanceOptions.host}/v4/contacts/by/ep`,{ep:a,is_composing:t,enable_tmp:!0,appId:this.appId,ymreqid:s}).then(e=>Object(ae.b)(Object.assign({ep:a},e)));return this.logRequest(r,n),r}formatted(e,t){const s={ymreqid:this.getRequestId(),appId:this.appId},n={apiName:"socialAccountStatus",ymreqid:s.ymreqid},a=this.request(`${this.instanceOptions.host}/v4/util/credentials/formatted`,s).then(e=>Object(ae.i)(e,t));return this.logRequest(a,n),a}contactsWithGroupName(){const e={format:"json",view:"compact",count:7e3,ymreqid:this.getRequestId(),appId:this.appId,wssid:this.wssid},t={apiName:"addressBookContacts",ymreqid:e.ymreqid},s=this.request("https://data.mail.yahoo.com/classicab/v2/contacts",e).then(e=>Object(ae.f)(e.contacts));return this.logRequest(s,t),s}};const oe=R.a.GET,ie=["version","launchtime","ymreqid","crumb"],ce={Transport:R.b,request:e=>ce._sendRequest(e),_sendRequest:e=>{const t=new ce.Transport(oe,E.wb,3e3),s=ie.reduce((t,s)=>(t[s]=e[s],t),{});return t.setHeader("Accept","application/json"),t.send(s)}};var le=ce;var de=class extends _.a{constructor({heartBeatCheckInterval:e=36e5,buildNumber:t,launchTime:s,loginHash:n,loggerParams:a,crumb:r,isOnline:o}){super({loggerName:E.p.HeartbeatAPIClient,loggerParams:a,crumb:r,isOnline:o}),this.emergencyRefresh=!1,n&&(this.ymreqidGenerator=new T.a(n,E.fe,E.Wc)),Object(f.b)()&&setInterval(()=>{this.request({version:t,launchtime:s}).then(e=>{this.emergencyRefresh=e},()=>{this.emergencyRefresh=!1})},e)}request(e){const t={apiName:"heartbeat",crumb:this.crumb,ymreqid:this.ymreqidGenerator.generate()},s=Object.assign({},e,t),n=le.request(s);return this.logRequest(n,t),n.then(e=>!!e.body.emergencyRefresh).catch(()=>!1)}};const ue=E.ee+"/yql";var me=s(59),pe=s.n(me),_e=pe.a.create("norrin/yql_client");const he=E.ee+"/linkEnhancer",Ee=3500;const ge=E.ee+"/payment_api";var be=class extends _.a{constructor({region:e,locale:t,loggerParams:s,crumb:n,isOnline:a}){super({loggerName:E.p.PaymentClient,loggerParams:s,crumb:n,isOnline:a}),this.region=e,this.locale=t}request(e){const t=ge+"/"+e+"?crumb="+this.crumb,s={crumb:this.crumb,apiName:e,reqUrl:t,region:this.region,locale:this.locale},n=new R.b(R.a.GET,t).send();return this.logRequest(n,s),n}},Ie=s(498),fe=s.n(Ie),Se=s(118),Ae=s.n(Se),Te=s(499),Ce=s.n(Te),Oe=s(500),Re=s.n(Oe),Ne=s(501),Me=s.n(Ne),De=s(502),ye=s.n(De),Le=(s(503),s(137)),ve=s.n(Le);function Pe(e){const{event:t,state:s,email:n}=e;return t.startTime&&(t.startTime=Fe(t.startTime)),t.endTime?t.endTime=Fe(t.endTime):t.duration&&t.startTime?t.endTime=function(e,t){let s=1,n=e;return[{unit:"D",addFunction:Ce.a},{unit:"T",addFunction:e=>e},{unit:"H",addFunction:Re.a},{unit:"M",addFunction:Me.a},{unit:"S",addFunction:ye.a}].forEach(({unit:e,addFunction:a})=>{const r=t.indexOf(e,s);if(r>-1){const e=parseInt(t.substring(s,r),10)||0;n=a(n,e),s=r+1}}),n}(t.startTime,t.duration):t.startTime&&(t.endTime=t.startTime),t.email=n||"",t.state=s||"",t.response=t.partStat||"",t.startTime&&t.endTime&&(t.isSameDay=fe()(t.startTime,t.endTime)),t.firstAttendeeStatus=function(e){if(!e||!e.attendee||!e.attendee[0])return[];return e.attendee[0].partStat}(t.attendees),t.location=t.location||null,t.videoLink=function(e){const t=/https:\/\/plus.google.com\/hangouts\/_\/.*\/.*/.exec(e);return t&&t[0]||null}(t.description),t.attendees=function(e){if(!e||!e.attendee||!e.attendee[0])return[];return e.attendee.map(e=>e.email)}(t.attendees),t.firstAttendeeEmail=t.attendees[0]||"",t.organizerEmail=t.organizer&&t.organizer.email||"",t}function Fe(e){const t=Ae()(e);return ve()("Invalid Date"!==t.toString(),"Invalid Date"),t}var xe=pe.a.create("norrin/calendar");const we="/cal/ws",ke=1;var He=s(1),Ue=s.n(He),je=s(27),Ge=s.n(je),Be=s(6),Ve=s.n(Be),We=s(119),qe=s.n(We);var ze=class extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.handleEvent=(e=>{switch(e.type){case"message":this.handlePostMessage(e);break;case"load":this.handleCaptchaLoaded(e)}}),this.handlePostMessage=(e=>{var t=this._callbacks[e.data.type];t&&t.length&&t.forEach(function(t){t(e.data.payload)})}),this.handleCaptchaLoaded=(()=>{const e=Ge.a.findDOMNode(this);window.addEventListener("message",this,!1),e.contentWindow.postMessage("register",window.location.href)}),this.on=((e,t)=>{this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t)}),this.off=((e,t)=>{Object(h.a)(Array.isArray(this._callbacks[e]),"Invalid eventName. Perhaps you should call on before off");const s=this._callbacks[e].indexOf(t);s>-1&&this._callbacks[e].splice(s,1)}),this.wrapContent=((e,t)=>{const{cspToken:s}=this.props;return`<html>\n                 <head>\n                     <script nonce="${s}">\n                        function listener(event) {\n                            if (event.data !== "register") { return; }\n                            YAHOO.CAPTCHA.hook.complete = function(answer) {\n                                event.source.postMessage({\n                                    type: "complete",\n                                    payload: answer\n                                }, event.origin);\n                            }\n                            YAHOO.CAPTCHA.hook();\n                        };\n                        window.addEventListener("message", listener);\n                        ${e}\n                     <\/script>\n                 </head>\n                 <body>\n                    ${t=t.replace("<script ",`<script nonce="${s}" `)}\n                 </body>\n             </html>\n        `}),this.sanitize=(e=>e?qe()(e).replace(/http:\/\/l.yimg.com\//g,"https://s.yimg.com/"):""),t}componentDidMount(){this._callbacks=Object.create(null),Ge.a.findDOMNode(this).addEventListener("load",this,!1),this.on("complete",this.props.onComplete)}componentWillUnmount(){this.off("complete",this.props.onComplete),window.removeEventListener("message",this,!1),Ge.a.findDOMNode(this).removeEventListener("load",this,!1)}render(){const e=this.wrapContent(this.sanitize(this.props.script),this.sanitize(this.props.markup));return Ue.a.createElement("iframe",{srcDoc:e,style:{display:"none"}})}};var Ze=s(213),Ke=s(370);var Ye=class extends _.a{constructor({appId:e=E.ge,loggerParams:t,crumb:s,isOnline:n,httpRetry:a,locale:r,environment:o,region:i}){super({loggerName:E.p.LocationAutoSuggestClient,loggerParams:t,crumb:s,isOnline:n}),this.httpRetry=a,this.appid=e,this.locale=r,this.region=i,this.environment=o}getLocationSuggestion(e,t){let s,n;t===Ke.h.HIPMUNK?(s=Ze.b,n={q:e.keyword,product:e.product?e.product:"flights"}):(s=Ze.c,n={text:e.keyword,language:"en-us"});const a=babelHelpers.extends({locale:this.locale,appid:this.appid,region:this.region,environment:this.environment},n),r=new R.b(R.a.GET,s,{timeout:Ze.d,httpRetry:this.httpRetry});r.setHeader("Accept","application/json");const o=r.send(n);return this.logRequest(o,a),o.then(e=>({suggestions:e.body.result||e.body.results}))}};const Xe=E.ee+"/subscription_api";const $e="https://s.yimg.com/yo/m2s/EXP/test.json";const Qe=E.ee+"/athena_api";const Je=1250,et="BROWSER_TO_NODE_STRATEGY",tt="NODE_TO_ATHENA_STRATEGY",st=["WEB_DESKTOP","WEB_MOBILE","MOBILE_IOS","MOBILE_ANDROID"];const nt="unsubscribemail",at={[et]:class{unSubscribeApi(e){const{crumb:t}=e,s=new R.b("POST",Qe+"/unsubscribe?crumb="+t);return s.setHeader("Accept","application/json"),s.withCredentials=!0,s.send(e).then(e=>JSON.parse(e.text))}},[tt]:class{constructor({athenaHost:e,cookie:t,headers:s}){this.cookie=t,this.athenaHost=e,this.headers=s}_setCustomHeaders(e,t={}){t&&Object.keys(t).forEach(s=>{e.setHeader(s,t[s])})}unSubscribeApi(e){const{senders:t,wssid:s}=e,n=new R.b("POST",this.athenaHost+"/v1/commsdata/getunsubsuggestions?crumb="+s);return n.setHeader("Accept","application/json"),n.setCookieHeader(this.cookie),this._setCustomHeaders(n,this.headers),n.withCredentials=!0,n.send({senders:t}).then(e=>JSON.stringify(function(e){const t=e&&Object(S.a)(e,"commsDataUnsubscribe.result.0.unsubscribe.unsubscribeList");if(t&&Array.isArray(t))return t;throw new g.a("AthenaApiClient.DataError",e)}(JSON.parse(e.text))))}userSegmentApi(e){const t=new R.b("GET",this.athenaHost+"/v1/commsdata/userprofile?",{timeout:Je});return t.setHeader("Accept","application/json"),t.setCookieHeader(this.cookie),this._setCustomHeaders(t,this.headers),t.withCredentials=!0,t.send(e).then(e=>(function(e){return e&&Array.isArray(Object(S.a)(e,"commsDataUserProfile.result.0.userProfile.attributesList"))?Object(S.a)(e,"commsDataUserProfile.result.0.userProfile.attributesList").filter(e=>!(!e||!e.platform)&&-1!==st.indexOf(e.platform)).reduce((e,t)=>babelHelpers.extends({},e,{[t.platform]:t}),{}):{}})(JSON.parse(e.text)))}}};var rt=class extends _.a{constructor({appId:e=E.ge,strategy:t=et,loginHash:s,wssid:n,crumb:a,isOnline:r,cookie:o,athenaHost:i,headers:c,timezone:l,loggerParams:d}){super({loggerName:E.p.AthenaClient,loggerParams:d,crumb:a,wssid:n,isOnline:r}),Object(h.a)(t===et||t===tt,`Invalid strategy ${t}`),this.appId=e,this.cookie=o,this.athenaHost=i,this.timezone=l,this.strategy=t,this._request=new at[t]({headers:c,athenaHost:i,cookie:o}),s&&(this.ymreqidGenerator=new T.a(s,E.fe,E.Wc))}getDefaultUrlParams(){return{appid:this.appId,crumb:this.crumb,wssid:this.wssid,clientId:nt,timezone:this.timezone,ymreqid:this.ymreqidGenerator.generate()}}request(e,t){return this[e](e,t)}unSubscribeItems(e,t){const s=this.getDefaultUrlParams(),{wssid:n,crumb:a}=s,r={apiName:e,wssid:n,crumb:a};let o,i;if(this.strategy===et){const{originalSendersInfo:e}=t;o=e.filter(e=>e.name&&e.email).map(e=>({email:e.email,from:e.name})),i=this._request.unSubscribeApi(Object.assign({},s,{senders:o}))}else i=this._request.unSubscribeApi(Object.assign({},s,t));return this.logRequest(i,r),i}getUserSegmentData(e,t){const s={apiName:e},n=this._request.userSegmentApi(Object.assign({appId:this.appId},t));return this.logRequest(n,s),n}},ot=pe.a.create("norrin/video_client");const it=E.ee+"/video_api";const ct=E.ee+"/taiwan_api";var lt=s(182);const dt="mail-shoplift",ut=["shoplift_recommendations"],mt={requestType:"Tripod"},pt={clientId:"0ec39512204fd80cfcc6c1621dffdf3cbdbb8270ea8bbfc6f6e4963d1c711ed2",grantType:"ytcookies"},_t="https://s.yimg.com/ec/3.0.101.js",ht=(e,t)=>{const s=Object(S.a)(e,"data.mediaEnrichment.shoplift_recommendations.data",null);if(!s)return null;const n=[];return s.forEach(e=>{const{objectDetectionScore:s,product_images:a,product_titles:r,product_webpages:o,product_similarities:i}=e;s<.9||a.forEach((e,a)=>{const c=i[a];c<.8||n.push({originalImageUrl:t,productImageUrl:e,landingUrl:o[a],title:r[a],retailer:"Wayfair",productSimilarityScore:c,objectDetectionScore:s})})}),n},Et=e=>{const t=e.filter(e=>e&&e.length),s=[],n=Math.max.apply(null,t.map(e=>e.length));let a=-1;for(;s.length<6&&++a<n;)t.forEach(e=>{e[a]&&s.push(e[a])});return{items:s.slice(0,6)}};let gt;var bt=s(33);const It={getBlockPayload:(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders`,method:"GET",payloadType:"embedded"}),transformResponse:e=>{const t=function(e){return e.filter(e=>"DELETE_IN_PROGRESS"!==e.status).map(e=>{let t=!0,s=e.name;return-1!==e.types.indexOf(E.ub.USER)&&(t=!1),"@B@Bulk"===s&&(s="Spam"),{unread:e.unread,total:e.total,types:e.types,name:s,path:s,id:e.id,isSystem:t,accountId:e.acctId,highestModSeq:e.highestModSeq,uidNext:e.uidNext}})}(e.response.result.folders);return t.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0),function(e){const t=[],s={};return e.forEach(e=>{s[e.accountId]||(s[e.accountId]={}),s[e.accountId][e.name]=e}),e.forEach(e=>{const n=s[e.accountId],a=Object(bt.i)(e,n);Object(bt.p)(t,e,a,0)}),t}(t)}};const ft="GetFolders";var St={getBatchPayload:({mailboxId:e})=>{return{requests:[It.getBlockPayload(ft,{mailboxId:e})]}},transformResponses:({successMap:e})=>({folders:It.transformResponse(e[ft])})},At=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders/@.id==${t.folderId}`,method:"DELETE"});const Tt="DeleteFolders";var Ct={getBatchPayload:({mailboxId:e,folderId:t})=>{return{requests:[At(Tt,{mailboxId:e,folderId:t})]}},transformResponses:()=>1},Ot=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders`,method:"PUT",payloadType:"embedded",payload:{folder:{types:[E.ub.USER],acctId:t.accountId,name:t.folderName}}}),Rt=e=>{const t=e.response.result;return{id:t.id,unread:t.unread,total:t.total,types:t.types,name:t.name,isSystem:!1,accountId:t.acctId,highestModSeq:t.highestModSeq,uidNext:t.uidNext}};const Nt="CreateFolders";var Mt={getBatchPayload:({mailboxId:e,accountId:t,folderName:s})=>{return{requests:[Ot(Nt,{mailboxId:e,accountId:t,folderName:s})]}},transformResponses:({successMap:e})=>({folder:Rt(e[Nt])})},Dt={getBlockPayload:(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders/${t.folderId}`,method:"POST",payloadType:"embedded",payload:{folder:{name:t.folderName}}}),transformResponse(e){const t=e.response.result;return{id:t.id,unread:t.unread,total:t.total,types:t.types,name:t.name,isSystem:!1,accountId:t.acctId}}},yt={getBlockPayload:(e,t)=>{const{mailboxId:s,value:n}=t,a=`/ws/v3/mailboxes/@.id==${s}/attributes/@.id==${e}`;return{id:e,method:"POST",uri:a,payload:{id:e,link:{type:"RELATIVE",href:a},value:n}}},get getChainedBlockPayload(){return(e,{mailboxId:t,value:s})=>{const{getSaveBlockPayload:n}=this;let a;return e===E.Yb.DELIVERY_BLOCKED_SENDERS?n(e,{mailboxId:t,value:s}):{id:"GetMailboxAttribute_"+e,uri:`/ws/v3/mailboxes/@.id==${t}/attributes/@.id==${e}`,method:"GET",filters:a={select:{testAndSet:"$..value.testAndSet"}},requests:[n(e,{mailboxId:t,value:s})]}}},getSaveBlockPayload:(e,{mailboxId:t,value:s})=>{const n=`/ws/v3/mailboxes/@.id==${t}/attributes/@.id==${e}`;let a;return-1===[E.Yb.DELIVERY_BLOCKED_SENDERS,E.pd.VACATION_PREFERENCES].indexOf(e)&&(s.testAndSet="$(testAndSet)"),-1===[E.Yb.DELIVERY_BLOCKED_SENDERS,E.pd.VACATION_PREFERENCES].indexOf(e)&&(a={select:{testAndSet:"$..value.testAndSet"}}),{id:"SetMailboxAttribute_"+e,method:"POST",uri:n,payload:{id:e,link:{type:"RELATIVE",href:n},value:s},filters:a}},get getMultiAttributeChain(){return({mailboxId:e,attributes:t})=>{const{getChainedBlockPayload:s,getSaveBlockPayload:n}=this,a=t.map(({id:t,value:a},r)=>0===r?s(t,{mailboxId:e,value:a}):n(t,{mailboxId:e,value:a})),r=a[0];let o;return a.forEach(e=>{o?o.requests?(o.requests[0].requests=[e],o=e):(o.requests=[e],o=e):o=e}),{requests:[r]}}},transformResponse:()=>1};const Lt="RenameFolders",vt="messageFilters";var Pt={getBatchPayload({mailboxId:e,folderId:t,folderName:s,filters:n,subfolders:a=[]}){const r=Dt.getBlockPayload(Lt+t,{mailboxId:e,folderId:t,folderName:s}),o=a.map(({folderId:t,folderName:s})=>Dt.getBlockPayload(Lt+t,{mailboxId:e,folderId:t,folderName:s}));return 0===n.length?{requests:[r,...o]}:{requests:[babelHelpers.extends({},r,{requests:[yt.getBlockPayload(vt,{mailboxId:e,value:{filters:n}})]}),...o]}},transformResponses:(e,t)=>({folder:Dt.transformResponse(e.successMap[Lt+t.folderId]),subfolders:Object.keys(e.successMap).filter(e=>e!==Lt+t.folderId).map(t=>Dt.transformResponse(e.successMap[t]))})},Ft=s(40),xt={getBlockPayload:(e,{mailboxId:t,messageIds:s,query:n,isAsync:a,deleteDuplicates:r})=>{if(!s&&!n)throw new Error("POST Delete Message requires either a list of ids or a query string.");const o=[];s&&o.push(`id:(${s.join(" ")})`),n&&o.push(n);const i=encodeURIComponent(o.join(" AND ")),c=r?function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"GET",filters:{iterator:"$..messages[*]",select:{dedupId:"$.dedupId",conversationId:"$.conversationId"}},requests:[{id:`${e}_$(dedupId)`,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=dedupId:($(dedupId))%20AND%20conversationId:($(conversationId))`,method:"DELETE"}]}}(e,t,i):function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"DELETE"}}(e,t,i);return a&&(c.uri+="&async=true"),c},getBatchError:({failureMap:e})=>{return"EC-4007"===Object(S.a)(e,"DeleteMessages.response.error.code")?null:Object.keys(e).length>0?new Ft.a(b.j,e):null},transformResponse:()=>1};var wt={getBlockPayload:(e,{mailboxId:t,taskId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/tasks/@.id==${s}`,method:"GET"}),transformResponse(e){const t=e.response.result;if(!t)return{};const s=t.task;return s?{id:s.id,link:s.link.href,status:s.status,progress:s.progress,expires:s.expiryTime}:{}}};const kt="DeleteList";var Ht={getBatchPayload:e=>{return{requests:e.map(({mailboxId:e,query:t,isAsync:s=!0})=>(Object(h.a)(e,"`mailboxId` missing."),Object(h.a)(t,"`query` missing."),xt.getBlockPayload(kt,{mailboxId:e,query:t,isAsync:s})))}},transformResponses({successMap:e}){const t=e[kt];return t.response?{task:wt.transformResponse(t)}:xt.transformResponse(t)}},Ut={getBatchPayload(e){const t=e.map(({mailboxId:e,query:t,isAsync:s})=>(Object(h.a)(e,"`mailboxId` missing."),Object(h.a)(t,"`query` missing."),{mailboxId:e,query:t,isAsync:s}));return Ht.getBatchPayload(t)},transformResponses:({successMap:e})=>Ht.transformResponses({successMap:e})},jt={getBlockPayload:(e,{mailboxId:t,messageIds:s,query:n,destinationFolderId:a,flags:r,cardConversationId:o,isAsync:i,payload:c,deleteDuplicates:l})=>{if(!s&&!n)throw new Error("POST Update Message requires either a list of ids or a query string.");const d=[];s&&d.push(`id:(${s.join(" ")})`),n&&d.push(n);const u=encodeURIComponent(d.join(" AND ")),m=l?function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"GET",filters:{iterator:"$..messages[*]",select:{dedupId:"$.dedupId",conversationId:"$.conversationId"}},requests:[{id:`${e}_$(dedupId)`,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=dedupId:($(dedupId))%20AND%20conversationId:($(conversationId))`,method:"POST",payloadType:"embedded",payload:{message:{}}}]}}(e,t,u):function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"POST",payloadType:"embedded",payload:{message:{}}}}(e,t,u),p=l?m.requests[0]:m;if(i&&(m.uri+="&async=true"),!(a||r||o||c))throw new Error("POST Update Message requires either a folder id, flags, cardConversationId or payload");return c?p.payload=c:(a&&(p.payload.message.folder={},p.payload.message.folder.id=a),r&&(p.payload.message.flags=r),o&&(p.payload.message.cardConversationId=o)),m},transformResponse:()=>1};const Gt="UpdateList";var Bt={getBatchPayload:e=>({requests:e.map(({mailboxId:e,query:t,destinationFolderId:s,flags:n,isAsync:a=!0})=>(Object(h.a)(e,"`mailboxId` missing."),Object(h.a)(t,"`query` missing."),Object(h.a)(s||n,"`destinationFolderId` or `flags` required."),jt.getBlockPayload(Gt,{mailboxId:e,query:t,destinationFolderId:s,flags:n,isAsync:a})))}),transformResponses({successMap:e}){const t=e[Gt];return t.response?{task:wt.transformResponse(t)}:jt.transformResponse(t)}},Vt={getBatchPayload(e){const t=e.map(({mailboxId:e,query:t,destinationFolderId:s,flags:n,isAsync:a})=>(Object(h.a)(e,"`mailboxId` missing."),Object(h.a)(t,"`query` missing."),Object(h.a)(s||n,"`destinationFolderId` or `flags` required."),{mailboxId:e,query:t,destinationFolderId:s,flags:n,isAsync:a}));return Bt.getBatchPayload(t)},transformResponses:({successMap:e})=>Bt.transformResponses({successMap:e})},Wt=s(28),qt=s(47);function zt(e){const t={id:e.immutableid||e.id,conversationId:e.conversationId,snippet:e.snippet||"",flags:Object.assign(e.flags,{flagged:!!e.flags.flagged}),folder:{id:e.folder.id},headers:{replyTo:e.headers.replyTo||"",subject:e.headers.subject||"",from:e.headers.from||[],to:e.headers.to||[],cc:e.headers.cc||[],bcc:e.headers.bcc||[],date:Number(e.headers.internalDate),messageIdRfc822:e.headers.messageIdRfc822},attachments:[],attachmentCount:0,classification:e.classification&&e.classification.category,verifiedDomains:e.verifiedDomains||[]};e.spame&&(t.spame=e.spame),e.captcha&&(t.captcha=e.captcha),e.csid&&(t.csid=e.csid),e.attachments&&(e.attachments=t.attachments=function(e,t,s,n){return e.map(e=>({id:Object(qt.e)(e,s,!1),virus:e.virus||"N",filename:e.filename,size:e.size,partId:e.partId,type:e.type,subtype:e.subtype,disposition:e.disposition,downloadUrl:e.downloadUrl,thumbnailUrl:e.thumbnailUrl,isExternal:!1,creationDate:1e3*t,textExtractionUrl:e.textExtractionUrl,contentId:e.contentId,dataIds:e.dataIds,documentId:e.documentId,csid:n}))}(e.attachments,t.headers.date,t.id,e.csid)),void 0!==e.attachmentCount&&(t.attachmentCount=e.attachmentCount),e.headers.inReplyTo&&(t.headers.inReplyTo=e.headers.inReplyTo),e.inReplyTo&&(t.inReplyTo=babelHelpers.extends({},e.inReplyTo,{messageIdRfc822:e.headers.messageIdRfc822,id:e.immutableid||e.id})),e.downloadAllUrl&&(t.downloadAllUrl=e.downloadAllUrl),e.schemaOrg&&Object(qt.i)(e)&&(t.schemaCards=Object(qt.p)(e)),e.schemaOrg&&Object(qt.n)(e)&&(t.unsubOption=Object(qt.h)(e)),e.cardConversationId&&(t.cardConversationId=e.cardConversationId),e.decos&&(t.decos=e.decos);const{filterResult:s}=e;return s&&s.folderOfDelivery&&(t.folderOfDelivery=s.folderOfDelivery),t}function Zt(e,{mailboxId:t,offset:s,count:n,folderId:a,sortOrder:r,filter:o,excludeFolderTypes:i=[],ids:c,cidFilter:l,cardConversationIds:d,startCardDate:u,endCardDate:m,accountId:p,encodeCardConversationId:_=!0,query:g={},cursorOffsetId:b}){let I="";switch(Object(h.a)(t,"mailboxId is a required field"),I+=a?"folderId"+Wt.c+a:"",I+=o?Object(Wt.h)(o):"",I+=i.length?Wt.e+encodeURIComponent(i.map(e=>`-folderType:(${e})`).join("")):"",I+=b?Wt.e+"cursorOffsetId"+Wt.c+b:"",I+=Wt.e+"count"+Wt.c+n,I+=Wt.e+"offset"+Wt.c+s,I+=c?encodeURIComponent(` id:(${c.join(" ")})`):"",d&&(I+=_?encodeURIComponent(` cardConversationId:(${d.join(" ")})`):`%20cardConversationId%3A(${d.join("%20")})`),I+=l?`%20conversationId%3A(${l})`:"",I+=r===E.Xc&&u&&m?`${Wt.e}cardDate${Wt.c}${Wt.d}${u}${Wt.e}TO${Wt.e}${m}${Wt.b}`:"",I+=p&&!a?"%20acctId"+Wt.c+p:"",I+=encodeURIComponent(Object.keys(g).reduce((e,t)=>Array.isArray(g[t])?e+g[t].map(e=>" "+t+":"+e):e+" "+t+":"+g[t],"")),r){case E.Cd.DATE_ASC:I+=Wt.e+"sort"+Wt.c+"date";break;case E.Cd.DATE_DESC:I+=Wt.e+"-sort"+Wt.c+"date";break;case E.Cd.CARD_DATE_DESC:I+=Wt.e+"-sort"+Wt.c+"cardDate";break;case E.Cd.SENDER:case E.Cd.RECIPIENT:case E.Cd.SUBJECT:case E.Cd.UNREAD:case E.Cd.STARRED:case E.Cd.ATTACHMENT:case E.Xc:I+=Wt.e+"sort"+Wt.c+r}return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${I}`,method:"GET",payloadType:"embedded"}}function Kt(e,t){const s=e.response.result.messages,n={messageGroups:s.map(e=>({id:e.id,messages:[zt(e)]}))};if(!isNaN(t)){let e=!1;s.length&&(e=s[0].folder.total>t),n.hasMore=e}return n}function Yt(e,{mailboxId:t,offset:s,count:n,folderId:a,sortOrder:r,filter:o,excludeFolderTypes:i=[],ids:c,cidFilter:l,startCardDate:d,endCardDate:u,accountId:m,groupBy:p="conversationId"}){let _="";switch(Object(h.a)(t,"mailboxId is a required field"),_+=a?"folderId"+Wt.c+a:"",_+=m?Wt.e+"acctId"+Wt.c+m:"",_+=o?Object(Wt.h)(o):"",_+=`${Wt.e}groupBy${Wt.c}${p}`,_+=Wt.e+"count"+Wt.c+n,_+=Wt.e+"offset"+Wt.c+s,_+=c?encodeURIComponent(` conversationId:(${c.join(" ")})`):"",_+=l?`%20conversationId%3A(${l})`:"",_+=d&&u?`${Wt.e}cardDate${Wt.c}${Wt.d}${d}${Wt.e}TO${Wt.e}${u}${Wt.b}`:"",_+=i.length?Wt.e+encodeURIComponent(i.map(e=>`-folderType:(${e})`).join("")):"",_+=o===E.Gb.PEOPLE?Wt.e+encodeURIComponent([E.ub.USER,E.ub.INBOX].map(e=>`+folderType:(${e})`).join("")):"",r){case E.Cd.DATE_ASC:_+=Wt.e+"sort"+Wt.c+"date";break;case E.Cd.DATE_DESC:_+=Wt.e+"-sort"+Wt.c+"date";break;case E.Cd.CARD_DATE_ASC:_+=Wt.e+"sort"+Wt.c+"cardDate";break;case E.Cd.CARD_DATE_DESC:_+=Wt.e+"-sort"+Wt.c+"cardDate";break;case E.Cd.SENDER:case E.Cd.SUBJECT:case E.Cd.UNREAD:case E.Cd.STARRED:case E.Xc:_+=Wt.e+"sort"+Wt.c+r}return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${_}`,method:"GET",payloadType:"embedded"}}function Xt(e){const{conversations:t,messages:s,query:n}=e.response.result,a=new Map;s.forEach(e=>a.set(e.id,e));const r={messageGroups:t.filter(({messageIds:e})=>e.some(e=>!!a.get(e))).map(({id:e,messageIds:t})=>({id:e,messages:t.filter(e=>a.get(e)).map(e=>zt(a.get(e))).reverse()}))};if(r.hasMore=0!==t.length,n&&n.options){const e=Object(Wt.j)(n);r.hasMore=t.length>=e}return r}var $t=s(89),Qt=(e,t)=>{const{accountId:s,mailboxId:n}=t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${n}/decos/@.id==FTI`,method:"POST",payload:{id:"FTI",counts:[{accountId:s,unseen:0}]}}},Jt=e=>{if(e){const{id:t,httpCode:s,response:n}=e;$t.a.feature(E.p.MailAPIClient,{data:{apiName:t,errorCode:n&&n.error&&n.error.code,httpCode:s}}).logFailure()}return null},es=s(294),ts=s.n(es),ss=s(268),ns=s.n(ss),as=s(185),rs=s.n(as);function os(e){const t=e.every(e=>e.headers&&e.headers.date);return Object(h.a)(t,"date is missing in the headers"),e.sort((e,t)=>t.headers.date-e.headers.date).slice(1)}function is(e=[]){const[t=[],s=[]]=rs()(e,({csid:e,folder:t})=>e&&-1!==t.types.indexOf("DRAFT")),n=rs()(t,e=>!e.inReplyTo),a=ts()(n[0],"csid"),r=ts()(n[1],"conversationId"),o=Object.keys(a).filter(e=>a[e].length>1).map(e=>os(a[e]));let i=Object.keys(r).map(e=>ts()(r[e],"csid")).reduce((e,t)=>{const s=Object.keys(t).filter(e=>t[e].length>1).map(e=>os(t[e]));return s.length&&e.push(...ns()(s)),e},[...ns()(o)]);if(t.length&&s.length){const e=t.filter(e=>s.some(({csid:t,folder:s})=>t===e.csid&&-1!==s.types.indexOf("SENT")));i=i.concat(e)}return i.length?e.filter(({id:e})=>!i.find(({id:t})=>e===t)):e}var cs=s(63),ls=s.n(cs);const ds="GetMessageGroupList";var us={getBatchPayload({mailboxId:e,folderId:t,count:s,offset:r,sortOrder:o,filter:i,conversationsMode:c,excludeFolderTypes:l=[],ids:d,cardConversationIds:u,query:m}){const p=c&&!u?a:n;return l=ls()([...l,...Wt.f]),{requests:[p.getBlockPayload(ds,{mailboxId:e,folderId:t,count:s,offset:r,filter:i,sortOrder:o,excludeFolderTypes:l,ids:d,cardConversationIds:u,query:m})]}},transformResponses({successMap:e},t){const{conversationsMode:s,offset:r,count:o,cardConversationIds:i}=t,c=r+o,l=s&&!i?a:n,{response:{result:d}}=e[ds],{messages:u}=d,{messageGroups:m,hasMore:p}=l.transformResponse({response:{result:babelHelpers.extends({},d,{messages:is(u)})}},c,t.folder);return{messageGroupList:m,hasMoreItems:p}}};const ms="GetMessageGroupList",ps="UnseenCountReset";var _s={getBatchPayload({accountId:e,mailboxId:t,folderId:s,count:r,offset:o,sortOrder:i,filter:c,conversationsMode:l,excludeFolderTypes:d=[]}){const u=l?a:n;return d=ls()([...d,...Wt.f]),{requests:[u.getBlockPayload(ms,{accountId:e,mailboxId:t,folderId:s,count:r,offset:o,sortOrder:i,filter:c,excludeFolderTypes:d}),Qt(ps,{mailboxId:t,accountId:e})]}},transformResponses:(e,t)=>us.transformResponses(e,t),getBatchError:({failureMap:e})=>{const t=Object.keys(e).length,s=e[ps];return s&&1===t?Jt(s):t?new Ft.a(b.g,e):null}},hs={getNakedRequestUrl:(e="")=>`http://${E.Ab}/ws/v3/mailboxes/`+(e?`?wssid=${e}`:""),getBlockPayload:e=>({id:e,uri:"/ws/v3/mailboxes",method:"GET",payloadType:"embedded"}),getMailboxFilters:e=>({iterator:Object(Wt.i)(e).jsonPath,select:{mailboxId:"$..id"}}),transformResponse:e=>e.response.result.mailboxes.map(Es)};function Es(e){return{id:e.id,email:e.email,isPrimary:e.isPrimary,isSelected:e.isSelected,type:e.type,state:e.state}}const gs={getBlockPayload:(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts`,method:"GET"}),transformResponse:e=>e.response.result.accounts};var bs=s(71),Is=s(25);const fs=Object(S.c)(Object(S.e)(E.Yb));var Ss=(e,t)=>(Object(h.a)(fs.hasOwnProperty(t.attributeId),`Unknown mailbox attribute: ${t.attributeId}`),{id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/attributes/@.id==${t.attributeId}`,method:"GET"}),As=e=>{const{id:t,value:s}=e.response.result,n={};if(n[t]=Object.keys(E.bc).some(e=>E.Yb[e]===t)?{value:s[t],testAndSet:s.testAndSet}:s,t===E.Yb.LEGAL_JURISDICTION&&(n[t].value=n[t].tags?n[t].tags:[]),t===E.Yb.CONSENT_EVENTS){const e=[];Object.keys(n[t]).forEach(s=>{"optedIn"===Object(S.a)(n[t],`${s}.status`,"")&&e.push(s)}),n[t]={value:e}}return t===E.Yb.COMPOSE_FONT_SIZE&&"16"===n[t].value&&(n[t].value=bs.b[16]),t===E.Yb.COMPOSE_FONT_FAMILY&&"Helvetica Neue"===n[t].value&&(n[t].value=E.ab.FAMILY),t===E.Yb.THEME&&"purple"===n[t].value&&(n[t].value=Is.g.DEFAULT),t===E.Yb.THEME_MODE&&"light"===n[t].value&&(n[t].value=Is.f.LIGHT),n};var Ts={getBatchPayload:({mailboxId:e,attributes:t=E.pc})=>({requests:Object.keys(t).map(s=>{const n=t[s];return Ss("GetMailboxAttribute_"+n,{mailboxId:e,attributeId:n})})}),updateFailureMap:e=>{const t=Object.keys(e).filter(e=>0===e.indexOf("GetMailboxAttribute_"));if(t.length>0){const s=t.map(t=>e[t]),n=t.map(e=>e.replace("GetMailboxAttribute_",""));return Object(I.b)({logger:$t.a,apiName:s[0].id,statusCode:s[0].httpCode,errorCode:Object(S.a)(s[0],"response.error.code",""),ymreqid:Object(S.a)(s[0],"response.error.requestId",""),extraStatusCode:s.map(e=>Object(S.a)(e,"httpCode","")).join(","),extraErrorCode:s.map(e=>Object(S.a)(e,"response.error.code","")).join(","),message:`failed to load attribute values ${n.join(",")}.`}),u()(e,t)}return e},transformResponses:({successMap:e},{attributes:t=E.pc})=>{let s=t;Array.isArray(t)||(s=Object.keys(t).map(e=>t[e]));const n=s.length,a={};let r=!0;for(let t=0;t<n;t++){const n=e["GetMailboxAttribute_"+s[t]];if(n){const e=As(n);Object.assign(a,e)}else r=!1}return{responses:a,success:r}}};const Cs="GetMailboxes",Os="GetFolders",Rs="GetAccounts";var Ns={getBatchPayload:(e,{appId:t})=>{const s=Object.assign({},E.Db,E.K);return{requests:[Object.assign({},hs.getBlockPayload(Cs),{filters:hs.getMailboxFilters(e.bizMboxId),requests:[It.getBlockPayload(Os,{mailboxId:"$(mailboxId)"}),gs.getBlockPayload(Rs,{mailboxId:"$(mailboxId)"})].concat(Ts.getBatchPayload({mailboxId:"$(mailboxId)",attributes:t===E.le?E.ic:s}).requests)})]}},getBatchError:({failureMap:e})=>{const t=Ts.updateFailureMap(e);return Object.keys(t)>0?new Ft.a(b.j,t):null},transformResponses:({successMap:e},{appId:t})=>{const s=Object.assign({},E.Db,E.K),n=Ts.transformResponses({successMap:e},{attributes:t===E.le?E.ic:s});return{mailboxes:hs.transformResponse(e[Cs]),folders:It.transformResponse(e[Os]),accounts:gs.transformResponse(e[Rs]),mailboxAttributes:n}}};const Ms="GetMailboxes",Ds="GetFolders",ys="GetMessageGroupList",Ls="GetAccounts";var vs={getBatchPayload:({folderId:e="null",count:t,offset:s,sortOrder:r,filter:o,conversationsMode:i,excludeFolderTypes:c=[],bizMboxId:l},{appId:d})=>{const u=i?a:n;return c=ls()([...c,...Wt.f]),{requests:[Object.assign({},hs.getBlockPayload(Ms),{filters:hs.getMailboxFilters(l),requests:[babelHelpers.extends({},gs.getBlockPayload(Ls,{mailboxId:"$(mailboxId)"}),{filters:{select:{accountId:"$..accounts[?(((@.isSelected == true) || (true nin $.result.accounts[*].isSelected) && @.isPrimary == true))].id"}},requests:[babelHelpers.extends({},It.getBlockPayload(Ds,{mailboxId:"$(mailboxId)"}),{filters:{iterator:`$..folders[?((@.id=='${e}' && '${e}' in $.result.folders[*].id) || ('INBOX' in @.types && @.acctId=='$(accountId)' && '${e}' nin $.result.folders[*].id))]`,select:{folderId:"@.id"}},requests:[u.getBlockPayload(ys,{mailboxId:"$(mailboxId)",folderId:"$(folderId)",sortOrder:r,filter:o,count:t,offset:s,excludeFolderTypes:c})]})]})].concat(Ts.getBatchPayload({mailboxId:"$(mailboxId)",attributes:d===E.le?E.ic:E.Db}).requests)})]}},transformResponses({successMap:e},t){const{offset:s,count:r,conversationsMode:o,ymreqid:i,folderId:c}=t,l=hs.transformResponse(e[Ms]),d=It.transformResponse(e[Ds]),u=gs.transformResponse(e[Ls]),m=s+r,p=o?a:n,_=Ts.transformResponses({successMap:e},{attributes:t.appId===E.le?E.ic:E.Db}),{response:{result:{query:h}}}=e[ys],g=Object(Wt.g)(h),f=p.transformResponse(e[ys],m,g),{messageGroups:S,hasMore:A}=f,T={mailboxes:l,accounts:u,folders:d,messageGroups:S,hasMoreItems:A,mailboxAttributes:_,folderId:g};if(c&&g!==c){const t=l.filter(e=>e.isSelected)[0].id,s=[...e[ys].headers];s[2]={key:"Status-Code",value:500};const n={[ys]:{headers:s,httpCode:500,id:ys,response:{error:{code:"ET-5006",requestId:i,resource:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q`}}}};return Object(I.b)({logger:$t.a,apiName:ys,statusCode:0,errorCode:"",message:"failed to load provided folder id"}),babelHelpers.extends({},T,{error:new Ft.a(b.j,n)})}return T},getBatchError:({failureMap:e})=>{const t=Ts.updateFailureMap(e);return Object.keys(t).length?new Ft.a(b.g,t):null}},Ps=s(14),Fs={getBlockPayload:function(e,{mailboxId:t,messageId:s,secure:n=!1,full:a=!0}){let r=`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}/content/simplebody`;return a&&(r+="/full"),n&&(r+="/secure"),{id:e,uri:r,method:"GET",payloadType:"embedded"}},transformResponse:function(e,t){const{message:s,simpleBody:n}=e.response.result,{attachments:a,headers:r,csid:o,id:i,inReplyTo:c,downloadAllUrl:l,unsubOption:d}=zt(s);return s.headers=r,s.inReplyTo=c,s.id=i,s.attachments=a,s.csid=s.csid,s.downloadAllUrl=l,{id:i,body:Object(Ps.o)(n),message:s,metadata:{attachments:a,headers:r,csid:o,inReplyTo:c,downloadAllUrl:l,unsubOption:d}}}},xs={getBlockPayload:(e,{mailboxId:t,messageId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}`,method:"GET"}),transformResponse:(e,t)=>zt(e.response.result.message)};const ws="GetMailboxes",ks="GetFolders",Hs="GetAccounts",Us="GetSimpleBody",js="GetMessage";var Gs={getBatchPayload:({messageId:e,bizMboxId:t},{appId:s})=>({requests:[Object.assign({},hs.getBlockPayload(ws),{filters:hs.getMailboxFilters(t),requests:[xs.getBlockPayload(js,{mailboxId:"$(mailboxId)",messageId:e}),Fs.getBlockPayload(Us,{mailboxId:"$(mailboxId)",messageId:e,full:!0}),It.getBlockPayload(ks,{mailboxId:"$(mailboxId)"}),gs.getBlockPayload(Hs,{mailboxId:"$(mailboxId)"})].concat(Ts.getBatchPayload({mailboxId:"$(mailboxId)",attributes:s===E.le?E.ic:E.Db}).requests)})]}),transformResponses:({successMap:e},{appId:t})=>{const{id:s,body:n,metadata:a}=Fs.transformResponse(e[Us]),r=Ts.transformResponses({successMap:e},{attributes:t===E.le?E.ic:E.Db}),o=Object.assign(xs.transformResponse(e[js]),{attachments:a.attachments});return{mailboxes:hs.transformResponse(e[ws]),folders:It.transformResponse(e[ks]),accounts:gs.transformResponse(e[Hs]),message:o,messageBodiesMap:{[s]:n},messageMetadataMap:{[s]:a},mailboxAttributes:r}}};function Bs(e,{mailboxId:t,csid:s}){let n=encodeURIComponent(`csid:${s} folderType:DRAFT`);return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${n+=`${Wt.e}-sort${Wt.c}date`}`,method:"GET"}}const Vs={GetMailboxes:"GetMailboxes",GetFolders:"GetFolders",GetAccounts:"GetAccounts",GetSimpleBody:"GetSimpleBody",GetMessageByCsid:"GetMessageByCsid"};var Ws={getBatchPayload:function({csid:e,bizMboxId:t},{appId:s}){const n=Object.assign({},E.Db,E.K);return{requests:[Object.assign({},hs.getBlockPayload(Vs.GetMailboxes),{filters:hs.getMailboxFilters(t),requests:[Object.assign({},Bs(Vs.GetMessageByCsid,{mailboxId:"$(mailboxId)",csid:e}),{filters:{select:{messageId:"$..messages[0].id"}},requests:[Fs.getBlockPayload(Vs.GetSimpleBody,{mailboxId:"$(mailboxId)",messageId:"$(messageId)",full:!0,secure:!1})]}),It.getBlockPayload(Vs.GetFolders,{mailboxId:"$(mailboxId)"}),gs.getBlockPayload(Vs.GetAccounts,{mailboxId:"$(mailboxId)"})].concat(Ts.getBatchPayload({mailboxId:"$(mailboxId)",attributes:s===E.le?E.ic:n}).requests)})]}},transformResponses:function({successMap:e},{appId:t}){const s=Object.assign({},E.Db,E.K),n={mailboxAttributes:Ts.transformResponses({successMap:e},{attributes:t===E.le?E.ic:s}),folders:It.transformResponse(e[Vs.GetFolders]),accounts:gs.transformResponse(e[Vs.GetAccounts]),mailboxes:hs.transformResponse(e[Vs.GetMailboxes])};if(e[Vs.GetSimpleBody]){const{id:t,body:s,message:a,metadata:r}=Fs.transformResponse(e[Vs.GetSimpleBody]);Object.assign(n,{message:a,messageBodiesMap:{[t]:s},messageMetadataMap:{[t]:r}})}return n},getBatchError:function({successMap:e,failureMap:t}){const s=Ts.updateFailureMap(t),n=new Ft.a("MailApiClient.LaunchCompose",s);if(s[Vs.GetMessageByCsid])return n;let a=0;const r=e[Vs.GetMessageByCsid];r&&(a=r.response.result.messages.length);if(s[Vs.GetSimpleBody]&&a>0)return n;if(s[Vs.GetFolders]||s[Vs.GetAccounts]||s[Vs.GetMailboxes])return n;return null}};var qs={getBlockPayload(e,{mailboxId:t,messageGroupId:s,isConversation:n,excludeFolderTypes:a=[]}){Object(h.a)(t,"mailboxId is a required field"),Object(h.a)(s,"messageGroupId is required");const r=encodeURIComponent(s);let o=n?`conversationId:(${r})`:`id:(${r})`;return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${o+=a.length?Wt.e+encodeURIComponent(a.map(e=>`-folderType:(${e})`).join("")):""}`,method:"GET",payloadType:"embedded"}},transformResponse(e,t){const s=e.response.result.messages,{isConversation:n}=t,a=s.map(e=>zt(e)).reverse();return{messageGroup:{id:n?a[0].conversationId:a[0].id,messages:a}}}};const zs="GetMailboxes",Zs="GetFolders",Ks="GetConversationMessageGroup",Ys="GetAccounts",Xs="GetSimpleBody",$s="GetMessage",Qs="GetMessageGroupList",Js="OnEmpty",en="OnEmpty",tn="OnFailure";var sn={getBatchPayload:({isConversation:e,messageGroupId:t,folderId:s,count:r,offset:o,sortOrder:i,filter:c,excludeFolderTypes:l=[],secure:d=!1,bizMboxId:u},{appId:m})=>{const p=[],_=((e,t,s,r)=>o=>babelHelpers.extends({},hs.getBlockPayload(zs),{id:zs+o,filters:hs.getMailboxFilters(r),suppressResponse:!1,requests:[babelHelpers.extends({},gs.getBlockPayload(Ys,{mailboxId:"$(mailboxId)"}),{id:Ys+o,filters:{select:{accountId:"$..accounts[?(((@.isSelected == true) || (true nin $.result.accounts[*].isSelected) && @.isPrimary == true))].id"}},requests:[babelHelpers.extends({},It.getBlockPayload(Zs,{mailboxId:"$(mailboxId)"}),{filters:{iterator:`$..folders[?((@.id==${e} && ${e} in $.result.folders[*].id) || ('INBOX' in @.types && @.acctId=='$(accountId)' && ${e} nin $.result.folders[*].id))]`,select:{folderId:"@.id"}},id:Zs+o,requests:[babelHelpers.extends({},(t?a:n).getBlockPayload(Qs,babelHelpers.extends({mailboxId:"$(mailboxId)",folderId:"$(folderId)"},s)),{id:Qs+o})]})]})]}))(s,e,{sortOrder:i,filter:c,count:r,offset:o,excludeFolderTypes:l=ls()([...l,...Wt.f])},u);return e?p.push(Object.assign({},qs.getBlockPayload(Ks,{mailboxId:"$(mailboxId)",messageGroupId:t,isConversation:e,excludeFolderTypes:l}),{filters:{iterator:"$..messages[*]",select:{id:"$.id"},exportResponse:!0},suppressResponse:!1,requests:[Fs.getBlockPayload(Xs+"_$(id)",{mailboxId:"$(mailboxId)",messageId:"$(id)",full:!0,secure:d})]},{onEmpty:{id:Js,suppressResponse:!1,applyFilterOn:`$(${Ks})`,requests:[_(en)]},onFailure:_(tn)})):(p.push(Object.assign({},xs.getBlockPayload($s,{mailboxId:"$(mailboxId)",messageId:t}),{onFailure:_(tn)})),p.push(Object.assign({},Fs.getBlockPayload(Xs+"_"+t,{mailboxId:"$(mailboxId)",messageId:t,full:!0,secure:d})))),{requests:[Object.assign({},hs.getBlockPayload(zs),{filters:hs.getMailboxFilters(u),requests:[...p,It.getBlockPayload(Zs,{mailboxId:"$(mailboxId)"}),gs.getBlockPayload(Ys,{mailboxId:"$(mailboxId)"})].concat(Ts.getBatchPayload({mailboxId:"$(mailboxId)",attributes:m===E.le?E.ic:E.Db}).requests)})]}},transformResponses:({successMap:e,failureMap:t},s)=>{const{isConversation:r,messageGroupId:o,offset:i,count:c}=s,l=Ts.transformResponses({successMap:e},{attributes:s.appId===E.le?E.ic:E.Db}),d={mailboxes:hs.transformResponse(e[zs]),folders:It.transformResponse(e[Zs]),accounts:gs.transformResponse(e[Ys]),mailboxAttributes:l},u=r?a:n,m=e[Qs+en]||e[Qs+tn];if(m){const e=i+c,{response:{result:{query:s}}}=m,n=Object(Wt.g)(s),a=u.transformResponse(m,e,n),{messageGroups:r,hasMore:o}=a;return babelHelpers.extends({},d,{messageGroupList:r,hasMoreItems:o,folderId:n,error:new Ft.a(b.j,t)})}const p=r?(e=>qs.transformResponse(e[Ks],{isConversation:!0}).messageGroup)(e):((e,t)=>({id:t,messages:[xs.transformResponse(e[$s])]}))(e,o),_={},h={};return p.messages.forEach(t=>{const s=Fs.transformResponse(e[Xs+"_"+t.id]);_[t.id]=s.body,h[t.id]=s.metadata}),babelHelpers.extends({},d,{messageGroups:[p],messageBodiesMap:_,messageMetadataMap:h})},getBatchError:({failureMap:e},{isConversation:t})=>{const s=Ts.updateFailureMap(e);if(0===Object.keys(s).length)return null;const n=t?s[Ks]:s[$s];if(n&&n.response&&n.response.error){const{response:{error:{code:e}}}=n;if(["EC-4001","ET-5005","ET-5006"].indexOf(e)>=0)return Object(I.b)({logger:$t.a,apiName:n.id,statusCode:n.httpCode,errorCode:e,message:"failed to load provided message/conversation id"}),null}return new Ft.a(b.j,s)}},nn=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/alerts`,method:"GET"}),an=e=>{if(!e)return[];const t=e.response.result.alerts;let s=[];return Array.isArray(t)&&(s=t.map(e=>({id:e.id,accountId:e.accountId,type:e.type,state:e.state,data:e.data}))),s},rn=e=>{if(e){const{id:t,httpCode:s,response:n}=e;$t.a.feature(E.p.MailAPIClient,{data:{apiName:t,errorCode:n&&n.error&&n.error.code,httpCode:s}}).logFailure()}return null};const on="UnseenCountReset",cn="GetAccountAlerts";var ln={getBatchPayload:({accountId:e,mailboxId:t})=>({requests:[Qt(on,{mailboxId:t,accountId:e}),nn(cn,{mailboxId:t})]}),transformResponses:({successMap:e})=>({accountAlerts:an(e[cn])}),getBatchError:({failureMap:e})=>{const t=e[on],s=e[cn];return t&&Jt(t),s&&rn(s),null}};const dn="GetConversationMessageGroup",un="GetSimpleBody",mn="GetMessagesByGroup";var pn={getBatchPayload:({messageGroupId:e,mailboxId:t,isConversation:s,secure:n,full:a,cardConversationIds:r})=>{const o=[];return o.push(Object.assign({},qs.getBlockPayload(dn,{mailboxId:t,messageGroupId:e,isConversation:s}),{filters:{iterator:"$..messages[*]",select:{id:"$.id"}},requests:[Fs.getBlockPayload(un+"_$(id)",{mailboxId:t,messageId:"$(id)",full:a,secure:n})]})),r&&r.length>0&&o.push(Object.assign({},Zt(mn,{mailboxId:t,offset:0,count:50,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:r}))),{requests:o}},transformResponses:({successMap:e},{isConversation:t})=>{const s={};let n;const a=qs.transformResponse(e[dn],{isConversation:t}).messageGroup;return a.messages.forEach(t=>{const n=Fs.transformResponse(e[un+"_"+t.id]);s[t.id]=n.body,Object.assign(t.headers,n.metadata.headers),t.attachments=n.message.attachments||[]}),Object.keys(e).forEach(t=>{if(-1!==t.indexOf(mn)){const s=Kt(e[t]).messageGroups.filter(e=>{const[t={decos:[]}]=e.messages,s=t.decos.map(e=>e.id).filter(e=>"CPN"===e||"CRD"===e);return t&&s.length>=2}).map(e=>babelHelpers.extends({},e,{id:e.messages[0].cardConversationId}));n={[E.Fb.COUPON_CARDS]:{[E.Gb.ALL_COUPON_CARDS]:{items:s}}}}}),{messageGroup:a,messageBodiesMap:s,response:n}}};const _n="GetMessageCardsList";var hn={getBatchPayload:({mailboxId:e,filter:t,count:s,offset:n,sortOrder:r,startCardDate:o,endCardDate:i,accountId:c,excludeFolderTypes:l})=>({requests:[a.getBlockPayload(_n,{mailboxId:e,count:s,offset:n,filter:t,sortOrder:r,startCardDate:o,endCardDate:i,accountId:c,excludeFolderTypes:l,groupBy:"cardConversationId"})]}),transformResponses({successMap:e},t){const{offset:s,count:n}=t,a=Xt(e[_n]),{messageGroups:r,hasMore:o}=a;return{cardGroupList:r.filter(({messages:e})=>e.some(({decos:e=[]})=>e.some(({id:e})=>"EML"===e))),hasMoreItems:o}}};var En={getBatchPayload:({mailboxId:e,cardConversationId:t=""})=>{let s;return""!==t&&(s=Zt("GetParentMessageByGroup",{mailboxId:e,offset:0,count:1,cardConversationIds:[t]})),{requests:[s]}},transformResponses:e=>{const{successMap:t}=e;return t.GetParentMessageByGroup?t.GetParentMessageByGroup.response.result.messages.filter(({decos:e=[]}={})=>e.some(({id:e=""})=>e===E.dc.EML)).map(e=>{let{id:t}=e,s=babelHelpers.objectWithoutProperties(e,["id"]);return{id:t,messages:[babelHelpers.extends({id:t},s)]}}):[]}};const gn="GetConsolidatedCouponsList";var bn={getBatchPayload:({mailboxId:e,filter:t=[],count:s,offset:n=[],sortOrder:a=E.Xc,startCardDate:r,endCardDate:o,accountId:i})=>{return{requests:t.map((t,c)=>Zt(`${gn}_${t}`,{mailboxId:e,count:s,offset:n[c],filter:t,sortOrder:a,startCardDate:r,endCardDate:o,accountId:i}))}},transformResponses:({successMap:e},t)=>{const{offset:s,count:n,filter:a}=t,r=[];return Object.keys(e).forEach(t=>{if(-1!==t.indexOf(gn)){const o=Kt(e[t]),{messageGroups:i}=o,c=t.replace(`${gn}_`,""),l=a.indexOf(c),d=s[l],u=i.length===n,m=i.length<n?d+i.length:d+n,p=i.filter(({messages:[{headers:{subject:e="",from:[{email:t,name:s}={}]=[]}={}}={}]=[]}={})=>e&&t&&s);r.push({cardGroupList:p,hasMoreItems:u,filter:c,offset:u?m:""})}}),{messageGroupsResponses:r}}};const In="GetReceiptsList";var fn={getBatchPayload:({mailboxId:e,filter:t,count:s,offset:n,sortOrder:a=E.Cd.CARD_DATE_DESC,accountId:r})=>{return{requests:Zt(In,{mailboxId:e,count:s,offset:n,filter:t,sortOrder:a,accountId:r})}},transformResponses:({successMap:e},t)=>{const{count:s,offset:n}=t,a=Kt(e[In]),r=a.messageGroups.length<s?n+a.messageGroups.length:n+s,{messageGroups:o}=a,i=a.messageGroups.filter(({messages:[{headers:{from:[{email:e,name:t}={}]=[]}={}}={}]=[]}={})=>e&&t),c=o.length===s;return{cardGroupList:i,hasMoreItems:c,offset:c?r:""}}};const Sn="GetMailboxes";var An={getBatchPayload:()=>{return{requests:[hs.getBlockPayload(Sn)]}},transformResponses:({successMap:e})=>{return hs.transformResponse(e[Sn])}};const Tn="GetFolders";var Cn={getBatchPayload:({mailboxId:e})=>{return{requests:It.getBlockPayload(Tn,{mailboxId:e})}},transformResponses:({successMap:e})=>({folders:It.transformResponse(e[Tn])})};const On="GetMailboxes",Rn="GetAccounts";var Nn={getBatchPayload:()=>({requests:[Object.assign({},hs.getBlockPayload(On),{filters:hs.getMailboxFilters(),requests:[babelHelpers.extends({},gs.getBlockPayload(Rn,{mailboxId:"$(mailboxId)"}))]})]}),transformResponses:({successMap:e})=>{return{accounts:gs.transformResponse(e[Rn])}}};const Mn="GetMailboxes",Dn="GetMessage";var yn={getBatchPayload:({messageId:e})=>({requests:[Object.assign({},hs.getBlockPayload(Mn),{filters:hs.getMailboxFilters(),requests:[xs.getBlockPayload(Dn,{mailboxId:"$(mailboxId)",messageId:e})]})]}),transformResponses:({successMap:e})=>{return{message:xs.transformResponse(e[Dn])}}};const Ln="GetMessagesByGroup";var vn={getBatchPayload:({mailboxId:e,cardConversationIds:t=[],offset:s=0,count:n=200})=>{let a;if(t.length>0){a=Zt(Ln+"_0",{mailboxId:e,offset:s,count:n,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:t})}return{requests:[a]}},transformResponses:e=>{const{successMap:t}=e;let s=[];return Object.keys(t).forEach(e=>{-1!==e.indexOf("GetMessagesByGroup")&&(s=t[e].response.result.messages)}),{result:{extractedMessagesList:s}}}};const Pn="GetSimpleBody",Fn="GetMessageByCsid";var xn={getBatchPayload:({mailboxId:e,messageIds:t=[],draftMessageIds:s=[],draftMessageCsids:n=[],full:a,secure:r})=>{const o=t.map((t,s)=>{return Fs.getBlockPayload(Pn+"_"+s,{mailboxId:e,messageId:t,full:a,secure:r})}),i=s.map((s,n)=>{return Fs.getBlockPayload(Pn+"_"+(n+t.length),{mailboxId:e,messageId:s,full:!0,secure:!1})}),c=n.map((n,a)=>{const r=Pn+"_"+(a+t.length+s.length);return Object.assign({},Bs(Fn+"_"+(a+t.length+s.length),{mailboxId:e,csid:n}),{filters:{select:{messageId:"$..messages[0].id"}},requests:[Fs.getBlockPayload(r,{mailboxId:e,messageId:"$(messageId)",full:!0,secure:!1})]})});return{requests:o.concat(i,c)}},transformResponses:(e,{messageIds:t=[],draftMessageIds:s=[],draftMessageCsids:n=[]})=>{const{successMap:a}=e,r={},o={},i=[],c=t.concat(s,n),l={},d=[];return c.forEach(e=>{l[e]=!1}),Object.keys(a).forEach(e=>{if(0===e.indexOf(Pn)){const t=Fs.transformResponse(a[e]);r[t.id]=t.body,o[t.id]=t.metadata,l[t.id]=!0,i.push({id:t.id,messages:[t.message]}),t.metadata.csid&&(l[t.metadata.csid]=!0)}}),c.forEach(e=>{l[e]||d.push(e)}),{result:{messageBodiesMap:r,messageMetadataMap:o,messageGroups:i},error:{messageIds:d}}},getBatchError:({failureMap:e},{messageIds:t=[],draftMessageIds:s=[],draftMessageCsids:n=[]})=>Object.keys(e).length!==t.concat(s,n).length?null:new Ft.a("All requests in method `getBodies` failed",e)},wn={getBatchPayload:({mailboxId:e,csid:t,full:s,secure:n})=>xn.getBatchPayload({mailboxId:e,draftMessageCsids:[t],full:s,secure:n}),transformResponses:(e,{csid:t})=>{const{result:{messageBodiesMap:s,messageMetadataMap:n,messageGroups:a}}=xn.transformResponses(e,{draftMessageCsids:[t]});return{messageBodiesMap:s,messageMetadataMap:n,messageGroup:a[0]}},getBatchError:(e,{csid:t})=>{const{error:s}=xn.transformResponses(e,{draftMessageCsids:[t]});return s.messageIds.length?new Ft.a("Request for csid failed",e.failureMap):null}};const kn="GetSimpleBody",Hn="GetMessagesByGroup";var Un={getBatchPayload:({mailboxId:e,messageIds:t=[],draftMessageIds:s=[],cardConversationIds:n=[],full:a,secure:r})=>{const o=t.map((t,s)=>{return Fs.getBlockPayload(kn+"_"+s,{mailboxId:e,messageId:t,full:a,secure:r})}),i=s.map((s,n)=>{return Fs.getBlockPayload(kn+"_"+(n+t.length),{mailboxId:e,messageId:s,full:!0,secure:!1})}),c=[];if(n.length>0){const t=Zt(Hn+"_0",{mailboxId:e,offset:0,count:50,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:n});c.push(t)}return{requests:o.concat(i).concat(c)}},transformResponses:(e,{messageIds:t=[],draftMessageIds:s=[]})=>{const{successMap:n}=e,a={},r={},o=t.concat(s);let i=[];const c={},l=[];o.forEach(e=>{c[e]=!1}),Object.keys(n).forEach(e=>{if(-1!==e.indexOf("GetSimpleBody")){const t=Fs.transformResponse(n[e]);a[t.id]=t.body,r[t.id]=t.metadata,c[t.id]=!0}else if(-1!==e.indexOf("GetMessagesByGroup")){const t=Kt(n[e]);i=t.messageGroups}});const d=i.filter(e=>{const[t={decos:[]}]=e.messages,s=t.decos.map(e=>e.id).filter(e=>"CPN"===e||"CRD"===e);return t&&s.length>=2}).map(e=>babelHelpers.extends({},e,{id:e.messages[0].cardConversationId}));o.forEach(e=>{c[e]||l.push(e)});const u=i.filter(e=>{const[t={decos:[]}]=e.messages,s=t.decos.filter(({id:e=""})=>"POE"===e||"ORD"===e||"CRD"===e);return t&&s.length>=3}).map(e=>babelHelpers.extends({},e,{id:e.messages[0].cardConversationId})),m=i.filter(e=>{const[t={decos:[]}]=e.messages,s=t.decos.filter(({id:e=""})=>"ORD"===e||"CRD"===e);return t&&s.length>=2}).map(e=>babelHelpers.extends({},e,{id:e.messages[0].cardConversationId})),p=i.filter(e=>{const[t={schemaCards:[]}]=e.messages,s=t.schemaCards&&t.schemaCards.filter(({type:e=""})=>"Recommendation"===e)||[];return t&&s.length}).map(e=>babelHelpers.extends({},e,{id:e.messages[0].cardConversationId}));return{result:{messageBodiesMap:a,messageMetadataMap:r,response:{[E.Fb.COUPON_CARDS]:{[E.Gb.ALL_COUPON_CARDS]:{items:d}},[E.Fb.REFUND_CARDS]:{[E.Gb.ALL_REFUND_CARDS]:{items:u}},[E.Fb.RECEIPT_CARDS]:{[E.Gb.ALL_RECEIPT_CARDS]:{items:m}},[E.Fb.RECOMMENDED_ITEMS]:{[E.Gb.RECOMMENDED_ITEMS]:{items:p}}}},error:{messageIds:l}}},getBatchError:({failureMap:e},{messageIds:t=[],draftMessageIds:s=[],cardConversationIds:n=[]})=>Object.keys(e).length!==t.concat(s).concat(n).length?null:new Ft.a("All requests in method `getExtractedBodies` failed",e)},jn=s(65),Gn=s(43);const Bn={spam:"false",read:"true"};var Vn={getBlockPayload:(e,{mailboxId:t,csid:s,inReplyTo:n,subject:a,to:r,cc:o,bcc:i,from:c,replyTo:l,html:d,text:u,attachments:m=[],files:p=[],folderId:_})=>{const h={partName:"jsonString",contentType:"application/json",payload:{actions:{responseMessage:!0},message:{csid:s,newMessage:!n,headers:{subject:a,from:c,replyTo:l||c,to:zn(r),cc:zn(o),bcc:zn(i)},folder:{id:_},flags:Bn,inReplyTo:n},simpleBody:{attachments:qn(m.filter(({disposition:e,type:t,contentId:s})=>!(!s&&e===E.u.Dispositions.INLINE&&t===E.u.Types.TEXT)))}}};return d?h.payload.simpleBody.html=d:h.payload.simpleBody.text=u,h.inReplyTo||delete h.inReplyTo,{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages?uploadCount=${p.length}&totalAttachments=${m.length}`,method:"POST",payloadType:"multipart",payloadParts:[h].concat(Wn(p))}},transformResponse({response:e}){const t=Object(Ps.o)(e.result.simpleBody),s=zt(e.result.message);return s.attachments=Object(Gn.o)(s,s.attachments,!1),{message:s,simpleBody:u()(t,"attachments")}}};function Wn(e){return e.map(({mimeType:e,name:t})=>({contentType:e,partName:encodeURIComponent(t),payloadReference:`multipart://${encodeURIComponent(t)}`}))}function qn(e){return e.map(({contentId:e,filename:t,disposition:s,messageReference:n})=>{const a={disposition:s,contentId:e};return n?a.messageReference=n:a.multipartName=`multipart://${encodeURIComponent(t)}`,a})}function zn(e){return(e=Object(jn.makeArray)(e)).map(function(e){return"string"==typeof e.email&&(e.email=e.email.trim()),e}).filter(function(e){return Object(Ps.m)(e.email)})}const Zn="SaveMessage";var Kn={getBatchPayload:e=>({requests:[Object.assign(Vn.getBlockPayload(Zn,e),{filters:{select:{cid:"$..message.conversationId"}}})]}),transformResponses:({successMap:e},t)=>{const s=e[Zn],{message:n,simpleBody:a}=Vn.transformResponse(s,t);return{message:n,simpleBody:a}},getBatchError({successMap:e,failureMap:t}){const s=e[Zn];if(s){if("ES-2001"===Object(S.a)(s,"response.error.code",null))return new Ft.a("MailApiClient.Save",Object.keys(e).reduce((t,s)=>{const{httpCode:n,response:a}=e[s],{error:r={}}=a;return babelHelpers.extends({},t,{[s]:{httpCode:n,response:{error:r}}})},{}),!1)}return Object.keys(t).length>0?new Ft.a("MailApiClient.Save",t):null}},Yn=(e,{mailboxId:t,messageId:s,csid:n,captchaAnswer:a,folderId:r})=>{const o={id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}/send`,method:"POST",payloadType:"embedded",payload:{csid:n,destinationFolder:{id:r}}};return a&&(o.payload.captcha=a),o},Xn=({response:e})=>e.result.message;const $n="SaveMessage",Qn="SendMessage",Jn="GetSimpleBody",ea="UpdateMessages";var ta={getBatchPayload:e=>{const{mailboxId:t,sentFolderId:s,secure:n,inReplyTo:a={},messageId:r,captchaAnswer:o,csid:i}=e,{messageReference:{id:c}={},replied:l,forwarded:d}=a,u=r&&i,m=Yn(Qn,u?{mailboxId:t,messageId:r,csid:i,captchaAnswer:o,folderId:s}:{mailboxId:t,folderId:s,messageId:"$(messageId)",csid:"$(csid)"});return m.requests=[],(l||d)&&m.requests.push(jt.getBlockPayload(ea,{mailboxId:t,messageIds:[c],flags:{answered:!!l,forwarded:!!d},isAsync:!0})),u?{requests:[m]}:{requests:[Object.assign(Vn.getBlockPayload($n,e),{filters:{select:{messageId:"$..message.immutableid",csid:"$..message.csid",cid:"$..message.conversationId"}},requests:[Fs.getBlockPayload(Jn,{mailboxId:t,messageId:"$(messageId)",secure:n,full:!0}),m]})]}},transformResponses:({successMap:e},t={})=>{const s=e[Jn];if(!s)return{message:Xn(e[Qn])};const{body:n,message:a}=Fs.transformResponse(s),r=e[$n],o=r?Vn.transformResponse(r,t).message:a;if(e[Qn]){const s=Xn(e[Qn],t);o.id=s.id}return{message:o,simpleBody:n}},getBatchError:({failureMap:e,successMap:t})=>{const s=t[$n];if(!Object.keys(e).length&&Object.keys(t).length){if(s){if("ES-2001"===Object(S.a)(s,"response.error.code",null))return new Ft.a("MailApiClient.SaveAndSend",Object.keys(t).reduce((e,s)=>{const{httpCode:n,response:a={}}=t[s],{error:r={}}=a;return babelHelpers.extends({},e,{[s]:{httpCode:n,response:{error:r}}})},{}),!1)}return null}if(s){const e=Object(S.a)(s,"response.result.message",null);if(e&&"C"===e.spame)return null}return new Ft.a("MailApiClient.SaveAndSend",e)}},sa=(e,t)=>{const{messageId:s,mailboxId:n,decos:a}=t;if(Object(S.b)(a)||!s)throw new Error("POST Update Message decos requires a list of non empty messageId and deco attributes.");return{id:e,uri:`/ws/v3/mailboxes/@.id==${n}/messages/@.id==${s}`,method:"POST",payload:{message:{decos:a}}}};const na="UpdateMessageDecos";const aa=["sendercompromised","answered","forwarded","notmymail","phished","spam","flagged","read"];class ra{constructor(){this.payload={message:{}}}flag(e,t){Object(h.a)(aa.indexOf(e)>=0,"name must be a valid flag"),this.payload.message.flags||(this.payload.message.flags={}),this.payload.message.flags[e]=t}folder(e){this.payload.message.folder||(this.payload.message.folder={}),this.payload.message.folder.id=e}}const oa={UnifiedUpdateMessage:"UnifiedUpdateMessage",UnifiedDeleteMessage:"UnifiedDeleteMessage"};const ia=({successMap:e,failureMap:t})=>{let s=!0;const n=Object.keys(e).length,a=Object(S.e)(t).reduce((e,t)=>t.id.indexOf(oa.UnifiedDeleteMessage)>=0?xt.getBatchError({failureMap:{DeleteMessages:t}})?e+1:e:e+1,0),r=Object(S.e)(e).reduce((e,t)=>{const s=Object(S.a)(t,"response.result.task");return s&&e.push(s),e},[]);return r.length>0?s=E.gc.ASYNC:n<=0?s=E.gc.FAIL:n>0&&a>0?s=E.gc.PARTIAL:n>0&&0===a&&(s=E.gc.SUCCESS),{successType:s,tasks:r}};const ca={read:!1,spam:!1,ham:!0};var la=(e,t,{mailboxId:s,folderId:n})=>{const a="mimeMsg"+t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${s}/messages`,method:"POST",payloadType:"multipart",payloadParts:[{partName:"jsonString",contentType:"application/json",payload:{actions:{responseMessage:!0},message:{newMessage:!0,folder:{id:n},flags:ca,headers:null},mimeBody:"multipart://"+a}}].concat({contentType:"application/octet-stream",partName:a,disposition:"form-data",payloadReference:"multipart://"+a})}};const da="SaveRawMessage";const ua="GetFolders",ma="GetMessageGroupList";const pa={PAGE_SUCCESS:700,PAGE_CONVERTING:701,PAGE_INVALID:702,PAGE_FAILED:704,PAGE_READ_ERROR:705},_a={0:"ON_DEMAND",1:"PRE_CONVERTED"},ha={802:{message:"Missing App Id"},803:{message:"Missing Document Id"},804:{message:"Missing Document URL"},805:{message:"Missing Fetch Options"},806:{message:"Malformed Download URL"},807:{message:"Inaccessible Download URL"},808:{message:"Invalid Fetch Options"},809:{message:"Document Read Error"},810:{message:"Error Inserting In Queue"},811:{message:"Error Reading Info"},812:{message:"Error Processing Document"},813:{message:"Unsupported File Type"},814:{message:"Document still queued"},816:{message:"Document Password Protected Unviewable"},817:{message:"Missing Request for 1st Page"}},Ea={602:{message:"Document failed due to unknown reasons"},605:{message:"Conversion First page being Processed"},606:{message:"The document url is not accessible"},610:{message:"The document failed to be converted to HTML"},611:{message:"The document failed to convert to PDF"},612:{message:"All Resources are busy"},621:{message:"Conversion Queued"},625:{message:"Zipped file found"},640:{message:"PDF file is malformed"}};var ga=e=>({"docs-document-id":e}),ba=(e,t,s,n)=>({id:e,uri:"/ws/docpreview/v2/fetch",method:"POST",payload:{start_page:t,end_page:s,retryCount:n},payloadType:"embedded"}),Ia=({response:e})=>{const{info:t,pages:s,code:n}=e;return 815===n?{data:{info:{documentError:{code:n,isRetryable:!1}}}}:t?{statusCode:e.statuscode,code:n,pages:Sa(s),numPages:t.num_pages,height:t.dimension.h,width:t.dimension.w,exceptions:t.exceptions,sheets:t.sheetInfo||{}}:{statusCode:e.statuscode,code:n,pages:Sa(s)}},fa=(e,t,s)=>{const n=Object.keys(e).length?e:t,{response:a={},httpCode:r}=n[s],{code:o=0,statuscode:i=0,handler:c=0,pages:l}=a;if(ha.hasOwnProperty(o)||Ea.hasOwnProperty(i)){const e=function(e,t){switch(e){case 807:case 810:case 811:return!0;case 812:return 606===t||612===t;case 814:return 605===t||621===t;default:return!1}}(o,i),{message:t}=ha[o]||{},{message:a}=Ea[i]||{},r=(t?`[Fetch Error] ${t}`:"")+(a?` [Conversion Error] ${a}`:"");return Object.assign(n[s],{info:{fetchCode:o,conversionCode:i,isRetryable:e,handler:_a[c]}}),new Ft.a(r,n,e)}return 600===i&&Object.keys(l).some(e=>l[e].statuscode===pa.PAGE_CONVERTING)?(Object.assign(n[s],{info:{fetchCode:pa.PAGE_CONVERTING,conversionCode:i,isRetryable:!1}}),new Ft.a("Page has not converted even though the document is said to be successfully converted",n,!1)):t&&r>=400?(Object.assign(n[s],{info:{isRetryable:!1}}),new Ft.a("Returned with not-ok status code",t,!1)):null};function Sa(e){const t={};return Object.keys(e).forEach(s=>{const n=Number(s.slice(4)),a=e[s].statuscode;a!==pa.PAGE_INVALID&&(t[n]=a===pa.PAGE_SUCCESS?{content:e[s],state:E.Rc.LOADED}:{content:null,state:E.Rc.ERROR})}),t}const Aa="FetchDocument";const Ta="TaskStatus";var Ca={getBlockPayload:(e,{mailboxId:t,taskId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/tasks/@.id==${s}`,method:"DELETE"}),transformResponse:()=>1};const Oa="TaskAbort";var Ra={getBatchPayload:({mailboxId:e,primaryAccountDisabled:t=!1},{appId:s})=>{let n=s===E.le?E.nc:E.pd;return t&&(n=E.oc),{requests:Ts.getBatchPayload({mailboxId:e,attributes:n}).requests}},transformResponses:({successMap:e,primaryAccountDisabled:t=!1},{appId:s})=>{let n=s===E.le?E.nc:E.pd;return t&&(n=E.oc),{mailboxAttributes:Ts.transformResponses({successMap:e},{attributes:n}).responses}}};const Na="vacationPreferences";const Ma="messageFilters";const Da="deliveryBlockedSenders";const ya="GetMailboxes";var La={getBatchPayload:e=>{const{mailboxId:t,attributes:s}=e,n=yt.getMultiAttributeChain({mailboxId:t||"$(mailboxId)",attributes:s.map(({id:e,value:t})=>{let s=`${e}`;return e===E.Yb.DELIVERY_BLOCKED_SENDERS&&(s="senders"),{id:e,value:e===E.Yb.DEA_BASE_NAME?t:{[s]:t}}})});return t?n:{requests:[Object.assign({},hs.getBlockPayload(ya),{filters:hs.getMailboxFilters(),requests:n.requests})]}},transformResponses:()=>1};const va="GetMailboxes";var Pa={getBatchPayload:({mailboxId:e=null,attributes:t=E.lb,bizMboxId:s})=>{let n;return{requests:n=e?Ts.getBatchPayload({mailboxId:e,attributes:t}).requests:[Object.assign({},hs.getBlockPayload(va),{filters:hs.getMailboxFilters(s),requests:Ts.getBatchPayload({mailboxId:"$(mailboxId)",attributes:t}).requests})]}},getBatchError:()=>null,transformResponses:({successMap:e},{attributes:t=E.lb})=>{const s=Ts.transformResponses({successMap:e},{attributes:t}).responses;if(va in e){return{mailboxes:hs.transformResponse(e[va]),mailboxAttributes:s}}return{mailboxAttributes:s}}},Fa={getBlockPayload(e,t){const{account:s,mailboxId:n}=t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${n}/accounts`,method:"POST",payload:{account:s}}},transformResponse:e=>e.response.result};const xa="AddAccount",wa="GetAccounts";var ka=(e,t)=>{const{account:s,data:n}=t,a={type:s.type};return Object.assign(a,n),{id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts/@.id==${s.id}`,method:"POST",payload:{account:a}}};const Ha="GetAccount",Ua="UpdateAccount";var ja=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts/@.id==${t.accountId}`,method:"DELETE"});const Ga="deleteAccount";const Ba="SetDeaPrefix",Va="GetDeaSuggestion",Wa="disposableAddressesPrefix";const qa="SetDeaPrefix",za="GetDeaSuggestion",Za="disposableAddressesPrefix";var Ka={getBlockPayload(e,t){const{account:s}=t;return{id:e,uri:s.link.href,method:"POST",payload:{account:{type:s.type,resendVerification:!0}}}},transformResponse:e=>e.response.result};const Ya="ResendConfirmEmail";const Xa="AddAccount",$a="IdSuggestions";const Qa="UnseenCountReset";const Ja="GetAccountAlerts";var er=(e,t)=>{return{id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/alerts/@.id==${t.alertId}`,method:"POST",payload:{alert:{state:5e3}}}};const tr="GetAccountAlerts",sr="UpdateAccountAlerts";const nr=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/savedsearches`,method:"GET",payloadType:"embedded"}),ar=e=>e.response.result.savedSearches,rr="GetSavedSearches";var or=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/savedsearches/@.id==${t.savedSearchId}`,method:"DELETE"});const ir="DeleteSavedSearches";var cr=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/savedsearches`,method:"PUT",payloadType:"embedded",payload:{savedSearch:{types:[E.cd.USER],name:t.name,decorations:t.decorations,priority:t.priority,query:t.query}}}),lr=e=>e.response.result;const dr="CreateSavedSearches";var ur=(e,{mailboxId:t,destinationFolderId:s,flags:n,headers:a,decos:r,schemaOrg:o,simpleBody:i,actions:c})=>{const l={id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages`,method:"POST",payloadType:"embedded",payload:{message:{}}};return l.payload.message.newMessage=!0,s&&(l.payload.message.folder={},l.payload.message.folder.id=s),n&&(l.payload.message.flags=n),a&&(l.payload.message.headers=a),r&&(l.payload.message.decos=r),o&&(l.payload.message.schemaOrg=o),i&&(l.payload.simpleBody=i),c&&(l.payload.actions=c),l};const mr="CreateMessage",pr="UpdateMessages",_r="GetMessagesByGroup";var hr={apiClientConstructors:{mailAPIClient:i.a,athenaClient:rt,bootcampClient:z,udbClient:$,geminiAPIClient:ne,autoSuggestClient:re,credstoreClient:class extends _.a{constructor({appId:e=E.ge,host:t=E.G,guid:s,crumb:n,wssid:a,loginHash:r}={}){super({loggerName:E.p.CredstoreClient,crumb:n,wssid:a}),this.guid=s,this.appId=e,this.credstoreHost=t,this.ymreqidGenerator=new T.a(r,E.fe,E.Wc)}getRequestId(){return this.ymreqidGenerator.generate()}_isEmptySuccessResponse(e){if(e&&e.data){const{statusCode:t}=e.data;return 200===t}return!1}transport(e,t){t||(t=R.a.GET);const s=new R.b(t,e);return s.withCredentials=!0,s}unlink({spid:e,provider:t}={}){Object(h.a)(e,"`spid` is a required option");const s=this.getRequestId(),n={apiName:"unlinkSocialAccount",provider:t,ymreqid:s},a=this.transport(`${this.credstoreHost}/progrss/v1/credstore/user/${this.guid}/credential/${e}?ymreqid=${s}&appId=${this.appId}`,R.a.DELETE).send().catch(e=>{if(this._isEmptySuccessResponse(e))return e.data.responseText;throw e});return this.logRequest(a,n),a}removeOAuthToken({domain:e,email:t}={}){Object(h.a)(e,"`domain` is a required option"),Object(h.a)(t,"`email` is a required option");const s=this.getRequestId(),n=p.a.stringify({property:"comms",domain:e,email:t,ymreqid:s,appId:this.appId}),a={apiName:"removeOAuthToken",domain:e,email:t,ymreqid:s},r=this.transport(`${this.credstoreHost}/progrss/v1/credstore/user/${this.guid}/credential/spid?${n}`,R.a.DELETE).send().catch(e=>{if(this._isEmptySuccessResponse(e))return e.data.responseText;throw e});return this.logRequest(r,a),r}contextualizeRedirectUrl(e,t){return`${e}?${p.a.stringify({isCorp:t?"1":null,crumb:this.crumb})}`}getAuthorizationURL({provider:e,email:t,redirectUrl:s,isCorpUser:n=!1}={}){Object(h.a)(e,"`provider` is a required option"),Object(h.a)(t,"`email` is a required option"),Object(h.a)(s,"`redirectUrl` is a required option");const a=this.getRequestId(),{oauthDomain:r,scope:o}=E.xb[e],i=p.a.stringify({property:"comms",appId:this.appId,wssid:this.wssid,domain:r,email:t,ymreqid:a}),c={apiName:"getAuthorizationURL",domain:r,email:t,scope:o,provider:e,ymreqid:a},l=this.contextualizeRedirectUrl(s,n),d=`.done=${encodeURIComponent(l)}`+(o?`&${o}`:""),u=this.transport(`${this.credstoreHost}/progrss/v1/credstore/user/${this.guid}/service/spid/init?${i}`,R.a.POST).setHeader("Content-Type","text/plain").setHeader("Accept","application/json").send(d).then(e=>e.body.results);return this.logRequest(u,c),u}link({spid:e,provider:t,redirectUrl:s,isCorpUser:n=!1,scope:a}={}){Object(h.a)(e,"`spid` is a required option"),Object(h.a)(s,"`redirectUrl` is a required option");const r=this.getRequestId(),o={apiName:"linkSocialAccount",provider:t,scope:a,ymreqid:r},i=this.contextualizeRedirectUrl(s,n),c=`.done=${encodeURIComponent(i)}`+(a?`&scope=${encodeURIComponent(a)}`:"")+`&ymreqid=${r}`+`&appId=${this.appId}`,l=this.transport(`${this.credstoreHost}/progrss/v1/credstore/user/me/service/${e}/init`,R.a.POST).setHeader("Content-Type","text/plain").setHeader("Accept","application/json").send(c).then(e=>e.body.results);return this.logRequest(l,o),l}},heartbeatAPIClient:de,yqlClient:class{constructor({locale:e="en-US"}={}){this.locale=e}request(e,t){Object(h.a)("cities"===e,`Unknown apiName ${e}`);const s=`${ue}/${e}`,n=_e.feature("yql_client_call",{apiName:e}),a=new R.b("GET",s).send(t);return a.then(n.logSuccessAndLatency,n.logFailure),a.then(e=>JSON.parse(e.text))}},linkEnhancerClient:class extends _.a{constructor({crumb:e}){super({loggerName:E.p.LinkEnhancerClient,crumb:e})}get(e){const t={apiName:"lucy",crumb:this.crumb},s=`${he}?crumb=${this.crumb}&url=${encodeURIComponent(e)}`,n=new R.b(R.a.GET,s,{timeout:Ee});n.setHeader("Accept","application/json");const a=n.send();return this.logRequest(a,t),a}},paymentClient:be,calendarClient:class{constructor(e){this.mailWssid=e.wssid,this.calendarWssid=e.calendarWssid,this.isYCorp="ycorp"===e.partner}getInviteInfo(e,t=0){const{downloadUrl:s,folderName:n,currentOffset:a}=e,r=`${we}?inviteUp&crumb=${encodeURIComponent(this.mailWssid)}&url=${encodeURIComponent(s)}&folderName=${encodeURIComponent(n)}&offset=${a}&fullAttendeeList=true`+(this.isYCorp?"&parseIcsOnly=true&supportPublish=true":""),o=new R.b(R.a.GET,r),i=xe.feature("calendar_get_invite_call",{crumb:this.mailWssid,params:e});o.setHeader("Content-Type","application/json");const c=o.send();return c.then(i.logSuccessAndLatency,i.logFailure),c.then(this._handleInviteResponse(e,t+1))}_handleInviteResponse(e,t){return s=>{const n=s.body;if(!n)return Promise.reject({error:"Empty response"});if("Invalid Crumb"===n.error){if(t<=ke){this.mailWssid=n.crumb;try{return this.getInviteInfo(e,t)}catch(e){return Promise.reject({error:"Bad response",data:e})}}return Promise.reject(n)}return!n.event||null!==n.event.startTime&&null!==n.event.endTime?(n.wssid&&(this.calendarWssid=n.wssid),Pe(n)):Promise.reject(new Error("Invalid data"))}}sendReply(e,t){const s=Date.now(),n=`${we}/v3/users/calendar/rsvp/${encodeURIComponent(e)}/?format=json&notify=true&wssid=${this.calendarWssid}&rand=${s}&prog=aeon`,a=new R.b(R.a.POST,n),r=xe.feature("calendar_invite_reply_call",{wssid:this.calendarWssid,uid:e,data:t});a.setHeader("Content-Type","application/json");const o=a.send({rsvp:t});return o.then(r.logSuccessAndLatency,r.logFailure),o.then(e=>e.body).catch(e=>201===e.statusCode?e.data.body:Promise.reject(e))}},captchaClient:class{constructor(e){this.cspToken=e.cspToken,this.rootNode=e.rootNode,this.Captcha=e.CaptchaComponent||ze}processCaptcha(e={}){return Object(f.b)()&&e.Javascript?new Promise((t,s)=>{try{let n=document.getElementById("mail-captcha");this.rootNode||(this.rootNode=document.getElementById("app")),n||(n=document.createElement("div"),this.rootNode.appendChild(n)),Ge.a.unmountComponentAtNode(n),Ge.a.render(Ue.a.createElement(this.Captcha,{cspToken:this.cspToken,onComplete:t,script:e.Javascript.CONTENT,markup:e.Turnkey}),n)}catch(e){s(e)}}):Promise.resolve()}},locationAutoSuggestClient:Ye,subscriptionAPIClient:class extends _.a{constructor({loggerParams:e,crumb:t,isOnline:s}){super({loggerName:E.p.SubscriptionAPIClient,loggerParams:e,crumb:t,isOnline:s})}subscribe(e,t){const s=this.crumb;return new R.b("GET",Xe+"/subscribe").send({provider:e,options:t,crumb:s})}},relatedSearchesAPIClient:class extends _.a{constructor({appId:e=E.ge,loggerParams:t,crumb:s,isOnline:n,locale:a,environment:r,region:o}){super({loggerName:E.p.RelatedSearchesAPIClient,loggerParams:t,crumb:s,isOnline:n}),this.appid=e,this.locale=a,this.region=o,this.environment=r}request(){const e={apiName:"relatedSearches",appId:this.appId,locale:this.locale,region:this.region,environment:this.environment},t=new R.b(R.a.GET,$e);t.setHeader("Accept","application/json");const s=t.send();return this.logRequest(s,e),s}},videoAPIClient:class{constructor(e){this.lang=e.locale,this.region=e.region}request(e){const t={region:this.region,lang:this.lang,dev_type:"desktop",site:"mail",sort_by:"recent",channels:e.channel_alias,type:e.type,image_sizes:"175x219"},s=new R.b(R.a.GET,it+"/getVideos");s.setHeader("Accept","application/json");const n=ot.feature("video_api_client"),a=s.send(t);return a.then(n.logSuccessAndLatency,n.logFailure),a}},taiwanCommerceClient:class extends _.a{constructor({loggerParams:e,crumb:t,loginHash:s,isOnline:n}){super({loggerName:E.p.TaiwanCommerceClient,loggerParams:e,crumb:t,isOnline:n}),s&&(this.ymreqidGenerator=new T.a(s,E.fe,E.Wc))}getAllCategories(){const e=this.crumb,t=this.ymreqidGenerator.generate(),s=new R.b("GET",ct+"/getAllCategories").send({crumb:e,ymreqid:t});return this.logRequest(s,{ymreqid:t,apiName:"taiwan.allCategories"}),s}},tripodAPIClient:class extends _.a{constructor({loggerParams:e,isOnline:t}){super({loggerName:E.p.TripodAPIClient,loggerParams:e,isOnline:t}),this._loadScript=(()=>lt.a.loadScript(_t).then(()=>{if(!window.Tripod||!window.Tripod.EnrichmentServiceApi)throw new Error("Tripod SDK is not loaded.");gt=new window.Tripod.EnrichmentServiceApi})),this._getRequestQueue=(e=>e.map(e=>gt.image(dt,{imageUrl:e,modules:ut},mt,pt).catch(e=>e.message).then(t=>ht(t,e))))}request({images:e}){let t;return t=gt?Promise.all(this._getRequestQueue(e)).then(Et):this._loadScript().then(()=>Promise.all(this._getRequestQueue(e))).then(Et),this.logRequest(t,{apiName:"getShoplift",appId:this.appId,locale:this.locale,region:this.region,environment:this.environment}),t}}},batchMethods:{"folders.get":St,"folders.delete":Ct,"folders.create":Mt,"folders.rename":Pt,"folderList.delete":Ut,"folderList.update":Vt,"folderChange.getList":_s,"launch.skeleton":Ns,"launch.folder":vs,"launch.message":Gs,"launch.compose":Ws,"launch.messageGroup":sn,"mailbox.getAttributes":Ts,"postLaunch.getComposeAttributes":Ts,"postLaunch.postSync":ln,"messageGroups.get":pn,"messageGroups.getFallback":pn,"messageGroups.getList":us,"messageCards.getList":hn,"couponCards.getParentMessage":En,"consolidatedCoupons.getList":bn,"refundCards.getList":fn,"mailbox.get":An,"mailbox.sync":Cn,"accounts.get":Nn,"mrdMessages.get":yn,"messages.getExtractions":vn,"messages.getCompose":wn,"messages.getBodies":xn,"messages.getBodiesFull":xn,"messages.getExtractedBodies":Un,"messages.getExtractedBodiesFull":Un,"messages.prefetchGetBodies":xn,"messages.prefetchGetBodiesFull":xn,"messages.prefetchGetExtractedBodies":Un,"messages.prefetchGetExtractedBodiesFull":Un,"messages.getBodiesFallback":xn,"messages.getBodiesFullFallback":xn,"messages.getExtractedBodiesFallback":Un,"messages.getExtractedBodiesFullFallback":Un,"messages.prefetchGetBodiesFallback":xn,"messages.prefetchGetBodiesFullFallback":xn,"messages.prefetchGetExtractedBodieFallback":Un,"messages.prefetchGetExtractedBodiesFullFallback":Un,"messages.saveV3":Kn,"messages.autoSaveV3":Kn,"sponsoredMessages.save":Kn,"messages.saveAndSend":ta,"messages.saveWithAttachment":Kn,"messages.saveAndSendWithAttachment":ta,"messages.send":ta,"messages.updateDecos":{getBatchPayload:({mailboxId:e,messageDecosPayloads:t=[]})=>({requests:t.map((t,s)=>{const n=na+"_"+s,{messageId:a,decos:r}=t;return sa(n,{mailboxId:e,messageId:a,decos:r})})}),getBatchError:({successMap:e,failureMap:t})=>Object.keys(e).length?null:new Ft.a("All requests in method `messages.updateDecos` failed.",t),transformResponses:()=>1},"messages.UnifiedUpdate":{REQUEST_IDS:oa,getBatchPayload:e=>{const{mailboxId:t,messageItemsToSync:s,isAsync:n}=e,a={};for(const e of s){const{messageId:t,folder:s,accountId:n,flags:r,permanentDelete:o,updateTypes:i,messageQuery:c,deleteDuplicates:l}=e,d=o?{permanentDelete:!0}:new ra;if(o)Object(h.a)(i.indexOf(E.hc.DELETE)>=0||i.indexOf(E.hc.MOVE)>=0,"updateTypes DELETE or MOVE is required for permanentDelete");else for(const e of i)switch(e){case E.hc.READ:Object(h.a)(void 0!==r.read,`flags.read is required for operation ${e}`),d.flag("read",r.read);break;case E.hc.STAR:Object(h.a)(void 0!==r.flagged,`flags.flagged is required for operation ${e}`),d.flag("flagged",r.flagged);break;case E.hc.ANSWER:Object(h.a)(void 0!==r.answered,`flags.answered is required for operation ${e}`),d.flag("answered",r.answered);break;case E.hc.FORWARD:Object(h.a)(void 0!==r.forwarded,`flags.forwarded is required for operation ${e}`),d.flag("forwarded",r.forwarded);break;case E.hc.SPAM:case E.hc.HAM:Object(h.a)(s.id,`folder.id is required for operation ${e}`),d.flag("spam",!!r.spam),d.folder(s.id);break;case E.hc.MOVE:case E.hc.DELETE:Object(h.a)(s.id,`folder.id is required for operation ${e}`),d.folder(s.id)}const u=Object(Ps.h)(d,n,c,l);a[u]?a[u].messages.push(t):a[u]={payload:o?void 0:d.payload,messages:[t],messageQuery:c,batchId:o?oa.UnifiedDeleteMessage:oa.UnifiedUpdateMessage,getBlockPayload:o?xt.getBlockPayload:jt.getBlockPayload,deleteDuplicates:l}}return{requests:function(e,t,s){return Object.keys(s).reduce((n,a,r)=>{const o=s[a];return[babelHelpers.extends({},o.getBlockPayload(`${o.batchId}_${r}`,{mailboxId:e,messageIds:o.messageQuery?void 0:o.messages,query:o.messageQuery,payload:o.payload,isAsync:t,deleteDuplicates:o.deleteDuplicates}),n.length&&{requests:n})]},[])}(t,n,a)}},transformResponses:({successMap:e,failureMap:t})=>ia({successMap:e,failureMap:t}),getBatchError:({successMap:e,failureMap:t})=>{return ia({successMap:e,failureMap:t}).successType===E.gc.FAIL?new Ft.a("All requests in method `messages.update` failed.",t):null}},"messages.saveRawMessage":{getBatchPayload:e=>{return{requests:e.map((e,t)=>la(da+"_"+t,t,e))}},transformResponses:({successMap:e,failureMap:t})=>({result:{successMap:e},error:{failureMap:t}})},"undo.list":{getBatchPayload({mailboxId:e,folderId:t,sortOrder:s,filter:r,count:o,conversationsMode:i}){const c=i?a:n,l={};return l.requests=[It.getBlockPayload(ua,{mailboxId:e}),c.getBlockPayload(ma,{mailboxId:e,folderId:t,sortOrder:s,filter:r,count:o,offset:0,excludeFolderTypes:Wt.f})],l},transformResponses({successMap:e},{folderId:t,conversationsMode:s,count:r}){const o=s?a:n,i=It.transformResponse(e[ua]),{messageGroups:c}=o.transformResponse(e[ma],r,t);return{folders:i,messageGroupList:c}},getBatchError:({failureMap:e})=>Object.keys(e).length?new Ft.a("`undo.list` failed.",e):null},"document.fetch":{getHeaders:({documentId:e})=>ga(e),getBatchPayload:({startPage:e,endPage:t,retryCount:s})=>({requests:[ba(Aa,e,t,s)]}),transformResponses:({successMap:e})=>Ia(e[Aa]),getBatchError:({successMap:e,failureMap:t})=>{const s=fa(e,t,Aa);if(s){const{isRetryable:e,failureMap:t,message:n}=s,{response:a,info:r,info:{fetchCode:o="",conversionCode:i=""}}=t[Aa],c={};if(r&&(Object.assign(c,{documentError:r}),a&&(o||i))){Object.assign(a,{error:{code:`DOC-${o}`+(i?`_${i}`:"")}})}return new Ft.a(n,t,e,c)}return null}},"task.status":{getBatchPayload:({mailboxId:e,taskId:t})=>({requests:[wt.getBlockPayload(Ta,{mailboxId:e,taskId:t})]}),transformResponses:({successMap:e})=>({task:wt.transformResponse(e[Ta])})},"task.abort":{getBatchPayload:({mailboxId:e,taskId:t})=>({requests:[Ca.getBlockPayload(Oa,{mailboxId:e,taskId:t})]}),getBatchError:({failureMap:e})=>e[Oa]?new Ft.a(b.g,e):null,transformResponses:()=>{return{result:Ca.transformResponse()}}},"settings.get":Ra,"settings.saveVacationPreferences":{getBatchPayload:e=>{const{mailboxId:t,payload:s}=e,{enabled:n,startDate:a,endDate:r,messageBody:o,domainSpecificResponse:{domains:i},domainSpecificResponse:{domainMessageBody:c}}=s;return{requests:[yt.getBlockPayload(Na,{mailboxId:t,value:{enabled:n,startDate:a,endDate:r,messageBody:o,domainSpecificResponse:{domains:i,domainMessageBody:c}}})]}},transformResponses:()=>1},"settings.saveMessageFilters":{getBatchPayload:e=>{const{mailboxId:t,payload:s}=e;return{requests:[yt.getBlockPayload(Ma,{mailboxId:t,value:{filters:s}})]}},transformResponses:()=>1},"settings.saveBlockedSenders":{getBatchPayload(e){const{mailboxId:t,senders:s}=e;return{requests:[yt.getBlockPayload(Da,{mailboxId:t,value:{senders:s}})]}},transformResponses:()=>1},"settings.saveMailClientVersionAttributes":La,"settings.saveWebMailboxAttributes":La,"settings.importExistingSettings":La,"settings.migrateUDBSettings":La,"settings.setUDBMigrationComplete":La,"landshark.updateInterstitialFreq":{getBatchPayload:()=>{const e={[E.lb.INTERSTITIAL_FREQUENCY]:Date.now()};return{requests:[Object.assign({},hs.getBlockPayload("GetMailboxes"),{filters:hs.getMailboxFilters(),requests:[yt.getChainedBlockPayload(E.lb.INTERSTITIAL_FREQUENCY,{mailboxId:"$(mailboxId)",value:e})]})]}},transformResponses:()=>1},"settings.getFeatureAttributes":Pa,"settings.addAccount":{getBatchPayload:e=>{const{mailboxId:t,account:s}=e;return{requests:[Object.assign({},Fa.getBlockPayload(xa,{account:s,mailboxId:t}),{requests:[gs.getBlockPayload(wa,e)]})]}},transformResponses:({successMap:e})=>gs.transformResponse(e[wa]),getBatchError:({failureMap:e})=>{const t=e[xa];return t&&409!==t.httpCode||e[wa]?new Ft.a(b.g,e):null}},"settings.updateAccount":{getBatchPayload:e=>{const{mailboxId:t,account:s,data:n}=e;return{requests:[babelHelpers.extends({},ka(Ua,{account:s,mailboxId:t,data:n}),{requests:[{id:Ha,uri:`/ws/v3/mailboxes/@.id==${t}/accounts/@.id==${s.id}`,method:"GET"}]})]}},transformResponses:({successMap:e})=>e[Ha].response.result},"settings.deleteAccount":{getBatchPayload(e){const{mailboxId:t,accountId:s}=e;return{requests:[ja(Ga,{accountId:s,mailboxId:t})]}},transformResponses:()=>1},"settings.setBaseName":{getBatchPayload({mailboxId:e,baseName:t,domain:s}){const n=`/ws/v3/mailboxes/@.id==${e}/attributes/@.id==${Wa}`;return{requests:[{id:Ba,uri:n,method:"POST",payload:{id:Wa,link:{type:"RELATIVE",href:n},value:{deaPrefix:t,deaDomain:s}},onFailure:{id:Va,uri:"/ws/comms/deasuggestion/mail_cascade_yahoo/xml/v1",method:"POST",payload:{value:{ValidateFieldsRequest:{RequestVersion:"$(RequestVersion)",RequestTimestamp:"$(RequestTimestamp)",RequestSignature:"$(RequestSignature)",RequestID:"$(RequestID)",AccountID:t,RemoteIPAddress:"$(RemoteIPAddress)",PartnerName:"$(PartnerName)"}}},suppressResponse:!1},suppressResponse:!1}]}},getBatchError({successMap:e,failureMap:t}){const s=e[Va];return!(!t[Ba]||!t[Va]&&Object(S.a)(s,"response.result.ValidateFieldsResponse.SuggestedIDList.SuggestedID",!1))&&new Ft.a("All batch requests failed",t)},transformResponses({successMap:e}){const t=e[Va];return t?{suggestions:Object(S.a)(t,"response.result.ValidateFieldsResponse.SuggestedIDList.SuggestedID",[])}:[]}},"settings.setBaseNameJWS":{getBatchPayload({mailboxId:e,baseName:t,domain:s}){const n=`/ws/v3/mailboxes/@.id==${e}/attributes/@.id==${Za}`;return{requests:[{id:qa,uri:n,method:"POST",payload:{id:Za,link:{type:"RELATIVE",href:n},value:{deaPrefix:t,deaDomain:s}},onFailure:{id:za,uri:"/ws/comms/deasuggestion/api/v1/users/services/idSuggestions?yid="+encodeURIComponent(t),method:"GET",suppressResponse:!1},suppressResponse:!1}]}},getBatchError({successMap:e,failureMap:t}){const s=e[za];return!(!t[qa]||!t[za]&&Object(S.a)(s,"response.response.idSuggestionsList",!1))&&new Ft.a("All batch requests failed",t)},transformResponses({successMap:e}){const t=e[za];return t?{suggestions:Object(S.a)(t,"response.response.idSuggestionsList",[])}:[]}},"settings.resendConfirmEmail":{getBatchPayload:e=>{const{account:t}=e;return{requests:[Ka.getBlockPayload(Ya,{account:t})]}},transformResponses:({successMap:e})=>e[Ya].response.result},"settings.createAlias":{getBatchPayload({mailboxId:e,email:t}){const s=`/ws/v3/mailboxes/@.id==${e}/accounts/`,n=-1===t.indexOf("@")?t+"@yahoo.com":t;return{requests:[{id:Xa,uri:s,method:"POST",payload:{account:{email:n,type:"ALIAS",description:"Extra email addresss account"}},onFailure:{id:$a,uri:"/ws/comms/deasuggestion/api/v1/users/services/idSuggestions?yid="+encodeURIComponent(t),method:"GET",suppressResponse:!1},suppressResponse:!1}]}},getBatchError:({failureMap:e})=>{return e[Xa]&&e[$a]?new Ft.a("All batch requests failed",e):null},transformResponses({successMap:e}){const t=e[Xa],s=e[$a];let n,a;return!t&&s&&s.response&&s.response.response?n=s.response.response.idSuggestionsList:t&&t.response&&t.response.result&&(a=t.response.result),{suggestions:n,newAccount:a}}},"unseenCount.reset":{getBatchPayload:({mailboxId:e,accountId:t})=>({requests:[Qt(Qa,{mailboxId:e,accountId:t})]}),getBatchError:({failureMap:e})=>{const t=e[Qa];return t?Jt(t):null},transformResponses:()=>1},"account.getAlerts":{getBatchPayload:({mailboxId:e})=>({requests:[nn(Ja,{mailboxId:e})]}),transformResponses:({successMap:e})=>{let t=[];return e[Ja]&&(t=an(e[Ja])),t},getBatchError:({failureMap:e})=>{const t=e[Ja];return t?rn(t):null}},"account.updateAlerts":{getBatchPayload:({mailboxId:e,alertId:t})=>({requests:[Object.assign({},er(sr,{mailboxId:e,alertId:t}),{requests:[nn(tr,{mailboxId:e})]})]}),transformResponses:({successMap:e})=>e[tr]?{accountAlerts:an(e[tr])}:{accountAlerts:[]}},"savedSearches.get":{getBatchPayload:({mailboxId:e})=>{return{requests:[nr(rr,{mailboxId:e})]}},transformResponses:({successMap:e})=>({savedSearches:ar(e[rr])})},"savedSearches.delete":{getBatchPayload:({mailboxId:e,savedSearchId:t})=>{return{requests:[or(ir,{mailboxId:e,savedSearchId:t})]}},transformResponses:()=>1},"savedSearches.create":{getBatchPayload:({mailboxId:e,name:t,decorations:s,priority:n,query:a})=>{return{requests:[cr(dr,{mailboxId:e,name:t,decorations:s,priority:n,query:a})]}},transformResponses:({successMap:e})=>({savedSearches:lr(e[dr])})},"cards.create":{getBatchPayload:({mailboxId:e,messageId:t,destinationFolderId:s,headers:n=[],decos:a=[],schemaOrg:r={}})=>{return a.some(e=>e&&e.id===E.dc.CRD)||a.push({id:E.dc.CRD,type:E.Z.NORMAL}),{requests:[babelHelpers.extends({},ur(mr,{mailboxId:e,destinationFolderId:s,flags:{read:!0,spam:!1},headers:n,decos:a,schemaOrg:r,simpleBody:{text:""},actions:{responseMessage:!0,responseMessageV2:!1,applyAntispam:!1,generateCardConversationId:!0}}),{filters:{iterator:"$..result",select:{cardConversationId:"$..message.cardConversationId"}},suppressResponse:!0,requests:[babelHelpers.extends({},jt.getBlockPayload(pr,{mailboxId:e,messageIds:[t],cardConversationId:"$(cardConversationId)"}),{suppressResponse:!0,requests:[Zt(_r,{mailboxId:e,offset:0,count:50,cardConversationIds:["$(cardConversationId)"],encodeCardConversationId:!1})]})]})]}},transformResponses:({successMap:e})=>{const t=Kt(e[_r]).messageGroups;return{cardGroupList:t.filter(e=>e.messages.some(e=>e.decos&&e.decos.some(e=>e&&e.id===E.dc.CRD))).map(e=>babelHelpers.extends({},e,{id:e.messages[0].cardConversationId})),parentMessagesMap:t.filter(e=>e.messages.some(e=>e.decos&&e.decos.some(e=>e&&e.id===E.dc.EML))).reduce((e,t)=>babelHelpers.extends({},e,{[t.messages[0].id]:babelHelpers.extends({},t.messages[0])}),{})}}}}};const Er=[];[{app:E.r.MAIL_APP,name:E.r.MAIL_APP,ssrUnsupportedRoutes:[E.Uc.SEARCH,E.Uc.SPONSORED_MESSAGE,E.Uc.SETTINGS,E.Uc.LIST],paths:{[E.Uc.BASE]:"/",[E.Uc.LIST]:"/list/:serializedListId",[E.Uc.FOLDER]:"/folders/:fid",[E.Uc.MESSAGE_FROM_LIST]:"/list/:serializedListId/messages/:groupId",[E.Uc.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId/:attachmentId?",[E.Uc.PHOTO]:"/search/:query/photo/:attachmentId?",[E.Uc.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId/:attachmentId?",[E.Uc.NEW_DRAFT]:"/compose/:csid?",[E.Uc.EDIT_DRAFT]:"/:serializedListId/edit/:csid",[E.Uc.SEARCH]:"/search/:query",[E.Uc.SETTINGS]:"/settings/:settingsGroupId/:accountId?/:openReauth?",[E.Uc.SPONSORED_MESSAGE]:"/folders/:fid/sponsored/:creativeId",[E.Uc.TUTORIAL]:"/tutorial"},actionCreators:{},cssBundles:["mail_app"],jsBundles:["mail_app_vendor","mail_app","mail_app_es6_vendor","mail_app_es6"],ssrBundles:["mail_app"],container:{id:"mail-app-container"}},{app:E.r.MOBILE_APP,name:E.r.MOBILE_APP,appRootPath:"/m",ssrUnsupportedRoutes:[E.Uc.SEARCH,E.Uc.SPONSORED_MESSAGE],paths:{[E.Uc.BASE]:"/",[E.Uc.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId",[E.Uc.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId",[E.Uc.FOLDER]:"/folders/:fid",[E.Uc.EDIT_FOLDER]:"/folders/:fid/edit",[E.Uc.NEW_DRAFT]:"/compose/:csid?",[E.Uc.EDIT_DRAFT]:"/:serializedListId/edit/:csid",[E.Uc.SETTINGS]:"/settings",[E.Uc.CONTACTS]:"/contacts",[E.Uc.CONTACT_DETAILS]:"/contacts/:email",[E.Uc.CONTACT_DETAILS_FROM_SEARCH]:"/search/:query/contacts/:email",[E.Uc.EDIT_CONTACT]:"/contacts/:email/edit",[E.Uc.EDIT_CONTACT_FROM_SEARCH]:"/search/:query/contacts/:email/edit",[E.Uc.CREATE_CONTACT]:"/contacts/create",[E.Uc.THEME_CHOOSER]:"/settings/theme",[E.Uc.SEARCH]:"/search/:query",[E.Uc.SPONSORED_MESSAGE]:"/folders/:fid/sponsored/:creativeId",[E.Uc.SIGNATURES_FROM_SETTINGS]:"/settings/signatures",[E.Uc.ACCOUNT_LIST_FROM_SETTINGS]:"/settings/accounts",[E.Uc.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST]:"/settings/accounts/add",[E.Uc.ADD_ACCOUNT_PROVIDER]:"/settings/accounts/add/:provider",[E.Uc.BLOCKED_SENDERS]:"/settings/blocked_senders"},cssBundles:["mobile_app"],jsBundles:["mobile_app_vendor","mobile_app"],container:{id:"mobile-app-container"}},{app:E.r.BASIC_MAIL_APP,name:E.r.BASIC_MAIL_APP,appRootPath:"/b",ssrUnsupportedRoutes:[],paths:{[E.Uc.BASE]:"/",[E.Uc.FOLDER]:"/folders/:fid",[E.Uc.SEARCH]:"/search/:query",[E.Uc.MESSAGE]:"/folders/:fid/messages/:mid",[E.Uc.NEW_DRAFT]:"/compose",[E.Uc.EDIT_DRAFT]:"/compose/:csid",[E.Uc.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId/:attachmentId?",[E.Uc.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId/:attachmentId?",[E.Uc.LIST_FOLDERS]:"/listfolders/:serializedListId",[E.Uc.CONTACTS]:"/contacts",[E.Uc.SETTINGS]:"/settings/:settingsGroup",[E.Uc.LOAD_CONTACT]:"/loadcontact"},cssBundles:["basic_mail_app"],jsBundles:[],container:{id:"basic-mail-app-container"}},{app:E.r.BASIC_MOBILE_APP,name:E.r.BASIC_MOBILE_APP,appRootPath:"/bm",ssrUnsupportedRoutes:[],paths:{[E.Uc.BASE]:"/",[E.Uc.FOLDER]:"/folders/:fid",[E.Uc.MESSAGE]:"/folders/:fid/messages/:mid",[E.Uc.LIST_FOLDERS]:"/listfolders/:serializedListId?"},cssBundles:["basic_mobile_app"],jsBundles:[],container:{id:"basic-mobile-app-container"}}].forEach(e=>{Er.push(e);const t=Object.assign({},e,{app:`${e.app}_TEST`,paths:{}});Object.keys(e.paths).forEach(s=>{t.paths[s]=`/test${e.paths[s]}`}),t.jsBundles=e.jsBundles.map(e=>e.indexOf("_app")>-1?e.replace("_app","_app_test"):e),Er.push(t)});const gr={},br={};Er.forEach(e=>{gr[e.app]=e.paths,br[e.app]=e});var Ir=s(13),fr=s(26),Sr=s(4),Ar=s(22),Tr=s(15),Cr=s(3);const Or=Object(S.c)(["BAR","MENU"]),Rr=2;var Nr=s(507),Mr=s.n(Nr),Dr=s(48);const yr=Object(Sr.h)({noSubject:{id:"tab.title.no_subject",defaultMessage:"No Subject"},loading:{id:"tab.title.loading",defaultMessage:"Loading"},error:{id:"tab.title.error",defaultMessage:"Error"},newDraft:{id:"tab.title.new_draft",defaultMessage:"New Subject"},closeTab:{id:"tab.label.close",defaultMessage:"Close tab"},checkmail:{id:"tab.label.checkmail",defaultMessage:"Check new messages"},searchDefault:{id:"tab.title.search_default",defaultMessage:"All"},settings:{id:"tab.title.settings",defaultMessage:"Settings"},sponsoredAd:{id:"tab.title.sponsored_ad",defaultMessage:"Sponsored"}});class Lr extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={hover:!1},this.handleClose=(e=>{e.stopPropagation(),this.props.onClose(e)}),this.checkmail=(e=>{this.props.isActive&&e.stopPropagation(),e.preventDefault(),this.props.checkmail()}),this.handleHoverChange=(e=>{this.setState({hover:e})}),this.onCheckmailIconHover=(e=>{this.setState({checkMailHover:e})}),this._getCheckmailIconColor=(()=>this.context.getThemeMode()===Is.f.DARK?this.state.checkMailHover?Cr.a.INVERTED:Cr.a.INVERTED_LESS_DIM:this.state.checkMailHover?this.props.isActive?Cr.a.BLACK:Cr.a.INVERTED:this.props.isActive?Cr.a.FIRST_LEVEL_GRAY:Cr.a.INVERTED_LESS_DIM),t}render(){const{formatMessage:e}=this.context.intl,{isActive:t,isCloseable:s,onClick:n,url:a,titleType:r,decorator:o,kind:i,title:c,widthOverride:l,animate:d,showCheckMailIcon:u}=this.props,m=o!==E.Rd.NONE,p=i===Or.BAR&&t,_=this.context.getThemeMode()===Is.f.DARK,h=Object(Is.m)(this.context.getTheme())&&_,g=this.context.getCss(Mr.a,{kind:i,activeBar:p,decoratedMenu:m&&i===Or.MENU,decoratedBar:m&&i===Or.BAR,decoratedSettings:o===E.Rd.SETTINGS,activeHover:t&&this.state.hover,activeMenu:i===Or.MENU&&t,inactiveHover:!t&&this.state.hover,animate:d,["darkModePhotoTheme_"+this.context.getTheme()+"_bar"]:h&&i===Or.BAR,["darkModePhotoTheme_"+this.context.getTheme()+"_activeBar"]:h&&p,extraIconPadding:[E.Rd.SMARTVIEW_PEOPLE,E.Rd.SMARTVIEW_SHOPPING].indexOf(o)>-1});let b,I=c,f=Cr.a.DARK,S=Cr.d.XS;switch(o){case E.Rd.SEARCH:b=Cr.b.SEARCH_MINI;break;case E.Rd.SETTINGS:b=Cr.b.SETTINGS,S=Cr.d.XXXS;break;case E.Rd.COMPOSE:b=Cr.b.COMPOSE;break;case E.Rd.SMARTVIEW_PEOPLE:b=Cr.b.PEOPLE;break;case E.Rd.SMARTVIEW_SHOPPING:b=Cr.b.SHOPPING;break;case E.Rd.SMARTVIEW_PHOTOS:b=Cr.b.TAB_IMAGES;break;case E.Rd.SMARTVIEW_DOCUMENTS:b=Cr.b.DOCUMENTS_S;break;case E.Rd.SMARTVIEW_COUPONS:b=Cr.b.SCISSORS;break;case E.Rd.SMARTVIEW_GROCERIES:b=Cr.b.BASKET;break;case E.Rd.SMARTVIEW_RECEIPTS:b=Cr.b.DRAFTS;break;case E.Rd.SMARTVIEW_TRAVEL:b=Cr.b.TRAVEL;break;case E.Rd.SMARTVIEW_TUTORIAL:b=Cr.b.CAL_MAYBE;break;case E.Rd.EXCLAMATION_ALT:b=Cr.b.EXCLAMATION_ALT,S=Cr.d.XXS}switch(r){case E.Sd.NO_SUBJECT:I=e(yr.noSubject);break;case E.Sd.LOADING:I=e(yr.loading);break;case E.Sd.ERROR:I=e(yr.error);break;case E.Sd.NEW_DRAFT:I=e(yr.newDraft);break;case E.Sd.SEARCH_DEFAULT:I=e(yr.searchDefault);break;case E.Sd.SETTINGS:I=e(yr.settings);break;case E.Sd.SPONSORED_AD:I=e(yr.sponsoredAd)}i===Or.BAR&&(f=t&&!_?Cr.a.INHERITED:Cr.a.INVERTED),r===E.Sd.SMART_VIEW&&t&&Cr.a[o]&&(f=Cr.a[o]);return Ue.a.createElement("a",{"data-test-id":"tab-item","data-test-active":t,href:a,style:{width:l},className:_&&i===Or.BAR?g["darkMode_photoTheme"+h]:g.tab,onClick:n,onMouseOver:this.handleHoverChange.bind(this,!0),onMouseLeave:this.handleHoverChange.bind(this,!1),title:I,rel:"noopener"},o!==E.Rd.NONE?Ue.a.createElement("span",{className:g.decorator},Ue.a.createElement(Tr.b,{kind:b,size:S,colorState:(e=>e===E.Rd.EXCLAMATION_ALT?Cr.a.WARNING:f)(o)})):null,Ue.a.createElement("span",_?{className:p?g.darkThemeModeActiveBarText:g.text}:{className:p?g.activeBarText:g.text},I),s&&this.state.hover?Ue.a.createElement(Ar.a,{onClick:this.handleClose,className:g.close,kind:Cr.b.CLOSE_MINI,size:Cr.d.XS,colorState:f,"aria-label":e(yr.closeTab),title:e(yr.closeTab),"data-test-id":"tab-close-button"}):null,u&&this.state.hover&&Ue.a.createElement(Ar.a,{onClick:this.checkmail,className:g.checkmailIcon,kind:Cr.b.REFRESH,size:Cr.d.XXS,colorState:this._getCheckmailIconColor(),"aria-label":e(yr.checkmail),title:e(yr.checkmail),onMouseOver:this.onCheckmailIconHover.bind(this,!0),onMouseLeave:this.onCheckmailIconHover.bind(this,!1),isOnDarkBackground:_,"data-test-id":"tab-checkmail-button"}))}}Lr.defaultProps={animate:!1,isCloseable:!0,showCheckMailIcon:!1,checkmail:()=>{}},Lr.contextTypes={intl:Sr.i,getCss:Ve.a.func,getThemeMode:Ve.a.func,getTheme:Ve.a.func};var vr=Object(Ir.b)(void 0,e=>({checkmail:()=>{e(Object(Dr.l)({forceSync:!0}))}}))(Lr),Pr=s(10),Fr=s(39),xr=s(62),wr=s(58),kr=s(12),Hr=s(17),Ur=s(30),jr=s(61),Gr=s(513),Br=s.n(Gr),Vr=s(11),Wr=s.n(Vr),qr=s(375),zr=s(5);const Zr=Wr()(Br.a);Ve.a.shape({title:Ve.a.string,titleType:Ve.a.oneOf(Object(S.e)(E.Sd)).isRequired,url:Ve.a.string.isRequired});class Kr extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.renderTabButtons=((e,t)=>{const{onSelection:s,onClose:n,smartViews:a}=this.props,r=a&&a.length?`${Pr.TAB_MENU_WIDTH_WITH_CATEGORIES}px`:null;return e.map(e=>{const{title:a,titleType:o,url:i,decorator:c,active:l}=e;return Ue.a.createElement("li",{className:Zr.tabItem,key:i},Ue.a.createElement(vr,{onClick:s.bind(null,t?Or.BAR:Or.MENU,e),isCloseable:!0,isActive:l,onClose:n.bind(null,e),title:a,titleType:o,decorator:c,kind:Or.MENU,url:i,widthOverride:r}))})}),this.handleAnchorClick=(e=>{const{barTabs:t=[],smartViews:s=[],onAnchorClick:n}=this.props;n({mKey:zr.e.TABS_MENU_OPEN,sec:zr.g.TABS_MENU,interactionType:zr.d.click,actionData:{smartView:!!s.length,addIcon:0===t.length&&s.length>0}},e)}),t}render(){const{remainingTabs:e,barTabs:t=[],onCloseAll:s,smartViews:n=[],smartViewCategoriesEnabled:a}=this.props,r=a&&n.length,o=t.length>1,i=n.every(e=>e.status),c=a&&0===t.length&&!i?Cr.b.ADD:Cr.b.CHEVRON_UP,l=Object(Sr.h)({tabsMenu:{id:"tabs_menu.menu_button",defaultMessage:"Tabs menu"}});return Ue.a.createElement(xr.a,{className:Zr.menuContainer},Ue.a.createElement(wr.a,null,Ue.a.createElement("span",{className:Zr.menuButtonContainer},Ue.a.createElement(Hr.a,{"data-test-id":"tabs-menu-button",tabIndex:-1,kind:Ur.a.CHROMELESS,className:Zr.menuButton,"aria-label":this.context.intl.formatMessage(l.tabsMenu),onClick:this.handleAnchorClick},Ue.a.createElement("span",{className:Zr.menuSpan},Ue.a.createElement("span",{className:Zr.chevron},Ue.a.createElement(Tr.b,{kind:c,size:Cr.d.XS,rotate:Cr.c.D180,colorState:Cr.a.INVERTED})))))),Ue.a.createElement(Fr.b,{triggerOn:kr.h.CLICK,offset:3*Pr.GRID_UNIT,align:kr.a.END,permittedArrowDirections:[kr.g.UP],zAltitude:Pr.ZIndices.POPOVER.HIGH,animate:!0},Ue.a.createElement("div",{className:Zr.menuContentContainer},t.length?Ue.a.createElement(jr.a,{"data-test-id":"tabs-menu",className:Zr.tabList,focusOnMount:!0},this.renderTabButtons(e,!1),this.renderTabButtons(t,!0),!r&&o&&Ue.a.createElement("li",{className:Zr.rule}),o&&Ue.a.createElement("li",null,Ue.a.createElement(Hr.a,{"data-test-id":"tabs-close-all",onClick:s,className:Zr.closeAllButton,tabIndex:0},Ue.a.createElement("span",{className:Zr.closeAllText},Ue.a.createElement(Sr.c,{id:"tabs.menu_close_all",defaultMessage:"Close all tabs"})))),r&&Ue.a.createElement("li",{className:Zr.rule})):null,r?Ue.a.createElement(qr.a,{isMenuMode:!0,showToggleState:!0,showHint:!0}):null)))}}Kr.contextTypes={intl:Ve.a.object};var Yr=Kr,Xr=s(517),$r=s.n(Xr),Qr=s(20),Jr=s(109),eo=s(105),to=s(110),so=s(116),no=s(49),ao=s(16),ro=s(9),oo=s(72),io=s(7);function co(e){const{name:t}=e;return-1!==[E.Uc.MESSAGE_FROM_FOLDER_LIST,E.Uc.MESSAGE_FROM_SEARCH_LIST,E.Uc.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST,E.Uc.MESSAGE_FROM_LIST].indexOf(t)}var lo=s(95);Object(to.b)({group:so.c,keys:{naviToLeftTab:{key:"BracketLeft",description:Ue.a.createElement(Sr.c,{id:"shortcut.navi_tabs_left",defaultMessage:"Navigate to the left tab"})},naviToRightTab:{key:"BracketRight",description:Ue.a.createElement(Sr.c,{id:"shortcut.navi_tabs_right",defaultMessage:"Navigate to the right tab"})}}});const uo=["[","]"],mo=Pr.TAB_MIN_WIDTH+Rr,po=Pr.TAB_MAX_WIDTH+Rr,_o=400,ho=Wr()($r.a);class Eo extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={boundingWidth:null},this.getBoundingWidth=(()=>{this._isMounted&&this.setState({boundingWidth:Object(je.findDOMNode)(this).getBoundingClientRect().width})}),this.closeCue=(e=>{this.props.featureCueClosed({name:e})}),this.handleSelection=((e,t,s)=>{s.preventDefault(),this.props.showPeopleSmartViewCue&&Object(io.B)(t.route)===E.Gb.PEOPLE&&this.closeCue(E.mb.PEOPLE_SMARTVIEW_CUE);const n=babelHelpers.extends({route:t.route},t.fetchFullBody?{full:!0}:{},{tabRecencyRank:this.getTabRecencyRank(t)});t.active||this.context.navigateTo(e===Or.MENU?Object.assign(n,{reorderPage:!0}):n)}),this.handleTabClose=(({route:e},t)=>{t.preventDefault(),this.props.closePage({route:e,i13nModel:{mKey:zr.e.TABS_MENU_CLOSE,sec:zr.g.TABS_MENU}})}),this.handleTabCloseAll=(e=>{e.preventDefault(),this.props.closeAllPages()}),this.handleMenuAnchorClick=((e,t)=>{this._categoriesCue&&this.props.showAllTabsPlusCue?(t.stopPropagation(),this.closeCue(E.mb.ALL_TABS_PLUS_CUE)):(this._peopleViewCue&&this.props.showPeopleSmartViewCue&&this.closeCue(E.mb.PEOPLE_SMARTVIEW_CUE),e&&e.actionData&&(e.actionData.multiTaskModeSetting=this.props.multiTaskModeSetting),this.context.executeAction(eo.g,{i13nModel:e}))}),this.handleShortCut=(e=>{const{charCode:t}=e;switch(t){case no.a.BRACKETLEFT:this.tabNaviLeft(e);break;case no.a.BRACKETRIGHT:this.tabNaviRight(e)}}),t}componentDidMount(){this._isMounted=!0,this.getBoundingWidth(),window.addEventListener("resize",this.getBoundingWidth),this.context.bindShortcut(uo,this.handleShortCut)}componentWillUnmount(){this._isMounted=!1,window.removeEventListener("resize",this.getBoundingWidth),this.context.unbindShortcut(uo)}componentWillUpdate(e){const t=e.smartViews.find(e=>this.props.smartViews.find(t=>t.status!==e.status&&t.name===e.name));t&&(this.changedSmartView=t.name===E.zd.COUPONS?E.Rd.SMARTVIEW_SHOPPING:E.Rd[`SMARTVIEW_${t.name}`],setTimeout(()=>{this.props.route.name!==E.Uc.SETTINGS&&this.props.onSmartViewChange(t.status?Object(ao.v)(t.name,{accountIds:this.props.selectedAccountId,excludefolders:this.props.conversationsEnabled?[E.ub.TRASH,E.ub.BULK]:[E.ub.TRASH,E.ub.BULK,E.ub.DRAFT,E.ub.SENT]}):this.props.isCategorySmartViewActive?this.props.selectedFolderRoute:this.props.route)},_o))}renderToFit(){const{smartViewCategoriesEnabled:e}=this.props,t=[];let s,n=[];const{changedSmartView:a}=this;if(this.state.boundingWidth){let e=Math.floor((this.state.boundingWidth-Pr.TAB_MENU_WIDTH)/po);if(this.tabContent.length>e){e=Math.floor((this.state.boundingWidth-Pr.TAB_MENU_WIDTH)/mo);const t=Math.min(e,this.tabContent.length),n=Math.floor((this.state.boundingWidth-Pr.TAB_MENU_WIDTH)/t);s=`${n-Rr}px`}this.tabContent.forEach(s=>{!s.active&&t.length<this.tabContent.length-e&&s.isCloseable?t.push(s):n.push(s)})}else n=this.tabContent.slice(0,4);const r=n.filter(({isCloseable:e})=>e),o=r.length||t.length||e,i=n.map(e=>{const{title:t,titleType:n,url:r,active:o,decorator:i,isCloseable:c,showCheckMailIcon:l,key:d}=e,u={className:ho.item};return i===E.Rd.SMARTVIEW_PEOPLE&&(u.ref=(e=>{this._peopleSmartViewTab=e})),Ue.a.createElement("li",babelHelpers.extends({key:d||r},u),Ue.a.createElement(vr,{onClick:t=>this.handleSelection(Or.BAR,e,t),isCloseable:c,showCheckMailIcon:l,onClose:t=>this.handleTabClose(e,t),title:t,titleType:n,decorator:i,url:r,kind:Or.BAR,isActive:o,widthOverride:s,animate:a===i}))});return o&&i.push(Ue.a.createElement("li",{key:"tabMenu",className:ho.moreMenu,ref:"moreMenu"},Ue.a.createElement(Yr,{barTabs:r,remainingTabs:t,onSelection:this.handleSelection,onClose:this.handleTabClose,onCloseAll:this.handleTabCloseAll,onAnchorClick:this.handleMenuAnchorClick,smartViewCategoriesEnabled:e,smartViews:this.props.smartViews}))),i}_allCategorizationsEnabled(){return this.props.smartViews.every(({status:e})=>!!e)}renderCategoriesCue(){return this.props.showAllTabsPlusCue&&this.refs.moreMenu&&!this._allCategorizationsEnabled()?Ue.a.createElement(Fr.b,{popoverAnchor:this.refs.moreMenu,align:kr.a.START,triggerOn:kr.h.MOUNT,permittedArrowDirections:[kr.g.UP],onHide:()=>this.closeCue(E.mb.ALL_TABS_PLUS_CUE),offset:16,zAltitude:Pr.ZIndices.POPOVER.HIGH,ref:e=>this._categoriesCue=e,hideOnContentClick:!1},Ue.a.createElement(Qr.a,{import:"../../molecules/categorization/all_tabs_plus_cue",cueName:E.mb.ALL_TABS_PLUS_CUE,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,899))},_moduleResolver:function(){return 899}})):(this._categoriesCue=null,null)}_isInsidePeopleView(){const e=this.tabContent.find(({active:e})=>e);return e&&e.decorator===E.Rd.SMARTVIEW_PEOPLE}renderPeopleSmartViewCue(){return this.props.showPeopleSmartViewCue&&this._peopleSmartViewTab&&!this._isInsidePeopleView()?Ue.a.createElement(Fr.b,{popoverAnchor:this._peopleSmartViewTab,align:kr.a.START,triggerOn:kr.h.MOUNT,permittedArrowDirections:[kr.g.UP],onHide:()=>this.closeCue(E.mb.PEOPLE_SMARTVIEW_CUE),offset:16,zAltitude:Pr.ZIndices.POPOVER.HIGH,ref:e=>this._peopleViewCue=e,highlight:!0,hideOnContentClick:!1},Ue.a.createElement(Qr.a,{import:"../../molecules/categorization/people_smartview_cue",cueName:E.mb.PEOPLE_SMARTVIEW_CUE,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,900))},_moduleResolver:function(){return 900}})):(this._peopleViewCue=null,null)}navigateToLeftRail(){const{selectedFolderRoute:e}=this.props;this.context.navigateTo({route:e})}getActiveTabIndex(e){return e.findIndex(e=>!0===e.active)}getTabRecencyRank(e){return this.props.limitedMessageTabs.findIndex(t=>Object(ao.D)(t,e.route))}tabNaviLeft(e){if(0===this.tabContent.length)return;const t=this.getActiveTabIndex(this.tabContent);-1===t?this.handleSelection(Or.BAR,this.tabContent[this.tabContent.length-1],e):0===t?this.navigateToLeftRail():this.handleSelection(Or.BAR,this.tabContent[t-1],e)}tabNaviRight(e){if(0===this.tabContent.length)return;const t=this.getActiveTabIndex(this.tabContent);-1===t?this.handleSelection(Or.BAR,this.tabContent[0],e):t===this.tabContent.length-1?this.navigateToLeftRail():this.handleSelection(Or.BAR,this.tabContent[t+1],e)}render(){return this.tabContent=this.props.getTabContent(this.context),Ue.a.createElement("ul",{className:ho.container,"data-test-id":"tab-list","data-test-count":this.tabContent.length},this.renderPeopleSmartViewCue(),this.renderCategoriesCue(),this.renderToFit())}}function go(e,t,s){const{getRoute:n,isFeatureEnabled:a,getSmartViewTypeFromRoute:r,getSmartViewPosition:o,getSmartViewTypeFromListId:i}=s,c=n(),l=a(E.nd.MAIL_TABS),d=r(t),{formatMessage:u}=e.intl,m=o(d),p=m===E.yd.TAB_BAR&&d===E.zd.COUPONS?E.Rd.SMARTVIEW_SHOPPING:E.Rd[`SMARTVIEW_${d}`];return{route:t,url:e.getUrlFromRoute(t),active:l||d===E.zd.TUTORIAL?Object(ao.D)(c,t):i(Object(io.t)(c))===d,title:u(m===E.yd.TAB_BAR&&d===E.zd.COUPONS?lo.a.smart_view_SHOPPING:lo.a[`smart_view_${d}`]),titleType:E.Sd.SMART_VIEW,decorator:p,showCheckMailIcon:m===E.yd.TAB_BAR&&Object(io.I)(c),isCloseable:m!==E.yd.TAB_BAR,key:p,fetchFullBody:!1}}Eo.contextTypes={intl:Sr.i.isRequired,getUrlFromRoute:Ve.a.func,executeAction:Ve.a.func,navigateTo:Ve.a.func,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func},Eo.defaultProps={showAllTabsPlusCue:!1,showPeopleSmartViewCue:!1,smartViews:[],onSmartViewChange:()=>{}};const bo=e=>t=>{const s=Object(ro.b)(e),{getTabPages:n,getRoute:a,getFolderName:r,getFolderDisplayTypeByFolderId:o,isFeatureEnabled:i,doesMessageGroupIdExist:c,isMessageGroupLoading:l,doesComposeSessionExist:d,getDraftMessageId:u,getReplyingToMessageId:m,doesMessageFullBodyExist:p,doesMessageBodyHasError:_,getMessageSubject:g,getRelevantMessageIdFromMessageGroupId:b,doesRouteContainFailure:I,getSmartViewTypeFromRoute:f}=s,S=a(),{formatMessage:A}=t.intl,T={[E.hb.YAHOO]:A(oo.a.yahoo_account_description),[E.hb.YAHOO_SB]:A(oo.a.yahoo_account_description),[E.hb.OUTLOOK]:A(oo.a.outlook_account_description),[E.hb.AOL]:A(oo.a.aol_account_description),[E.hb.GOOGLE]:A(oo.a.gmail_account_description),[E.hb.GOOGLE_APP]:A(oo.a.gmail_account_description)},C=n(),O=i(E.nd.MAIL_TABS),R=i(E.mb.SMARTVIEW_CATEGORIES_ENABLED),N=[];return C.forEach(e=>{const{params:n,name:a,query:i}=e,C={route:e,url:t.getUrlFromRoute(e),active:Object(ao.D)(S,e),title:"",titleType:E.Sd.TEXT,decorator:E.Rd.NONE,showCheckMailIcon:!1,isCloseable:!0,fetchFullBody:!1};switch(a){case E.Uc.LIST:if(!R)return;return void((Object(io.I)(e)?f(e):null)&&N.push(go(t,e,s)));case E.Uc.TUTORIAL:return void(R&&N.push(go(t,e,s)));case E.Uc.BASE:return;case E.Uc.FOLDER:if(R){let t;const s=Object(io.t)(e),n=Object(io.m)(s);if(n){const e=o(n);t=Object(bt.m)(A,e)||r(n)}N.push(Object.assign({},C,{titleType:E.Sd.TEXT,title:t,decorator:E.Rd.NONE,isCloseable:!1,showCheckMailIcon:S.name===E.Uc.FOLDER,active:O?C.active:n===Object(io.m)(Object(io.t)(S))}))}return;case E.Uc.SETTINGS:C.titleType=E.Sd.SETTINGS,C.decorator=E.Rd.SETTINGS;break;case E.Uc.SEARCH:{const n=Object(io.t)(e);if(Object(io.E)(n)){if(!R)return;const a=Object(io.L)(e),r=Object(io.K)(n);if(!a&&!r)return;if(!a){return void((Object(io.I)(e)?f(e):null)&&N.push(go(t,e,s)))}{const e=Object(io.C)(n);C.title=A(lo.a[`smart_view_${e}`]),C.titleType=E.Sd.SMARTVIEW,C.active=O?C.active:e===Object(io.C)(Object(io.t)(S))}}else C.title=function(e,t,s){const{getFolderName:n,getSelectedAccountIdByRoute:a,getProviderFromAccount:r,getAccountDescriptionByAccountId:o,hasMultipleRootAccounts:i}=e,c=i(),l=Object(io.t)(t),d=Object(io.m)(l),{name:u,keyword:m}=Object(io.h)(l),p=Object(io.g)(l),_=a(t),h=r(_),E=o(_);let g;if(d){const e=n(d);g=c?(E||s[h])+"/"+e:e}else 1===p.length&&(g=c?E||s[h]:g);const b=Object(io.G)(l)?u:m;return g?b?g+" "+b:g:b}(s,e,T),C.titleType=C.title?E.Sd.SEARCH_KEYWORD:E.Sd.SEARCH_DEFAULT,C.decorator=E.Rd.SEARCH;break}case E.Uc.MESSAGE_FROM_LIST:case E.Uc.MESSAGE_FROM_SEARCH_LIST:case E.Uc.MESSAGE_FROM_FOLDER_LIST:{if(n.attachmentId&&"1"===i.fullscreen)break;if(!c(n.groupId)||l(n.groupId)){C.titleType=E.Sd.LOADING;break}const t=Object(io.t)(e),s=b(n.groupId,t);C.title=g(s,t),C.title||(C.titleType=E.Sd.NO_SUBJECT),I(e)&&(C.decorator=E.Rd.EXCLAMATION_ALT);break}case E.Uc.NEW_DRAFT:case E.Uc.EDIT_DRAFT:{const t=decodeURIComponent(n.csid);C.decorator=E.Rd.COMPOSE,t&&d(t)||(C.titleType=E.Sd.LOADING);const s=u(t)||m(t);if(s)if(p(s))if(_(s))C.titleType=E.Sd.ERROR;else{const t=Object(io.t)(e);C.title=g(s,t)}else C.titleType=E.Sd.LOADING;else C.titleType=E.Sd.NEW_DRAFT;C.title||(C.titleType=E.Sd.NEW_DRAFT),I(e)&&(C.decorator=E.Rd.EXCLAMATION_ALT);break}case E.Uc.SPONSORED_MESSAGE:C.titleType=E.Sd.SPONSORED_AD;break;default:Object(h.a)(!1,`We do not know how to get title of the tab for this route: ${a}`)}N.push(C)}),N.filter(Boolean)};var Io=Object(fr.d)(Object(Ir.b)(e=>{const{getFeaturesSelectors:t,getSetting:s,getTabPages:n,getRoute:a,getSelectedAccountId:r,getSmartViewTypeFromRoute:o,getSmartViewPosition:i}=Object(ro.b)(e),c=t(),l=c.isEnabled(E.mb.SMARTVIEW_CATEGORIES_ENABLED),d=c.isEnabled(E.mb.ALL_TABS_PLUS_CUE),u=c.isEnabled(E.mb.PEOPLE_SMARTVIEW_CUE),m=s(E.nd.SYSTEM_TABS),p=c.isEnabled(E.nd.MAIL_TABS),_=a(),h=n().find(e=>e.name===E.Uc.FOLDER||Object(io.L)(e)),g=c.isEnabled(E.mb.CONVERSATIONS),b=Object(io.I)(_)?o(_):null,I=Object(io.I)(_)&&i(b)===E.yd.TAB_BAR,f=function(e){const t=Object(ro.b)(e),{getTabPages:s,isDraftGroup:n}=t;return s().filter(e=>co(e)&&!n(e.params.groupId)).sort((e,t)=>(t.timestamp||0)-(e.timestamp||0))}(e);return{getTabContent:bo(e),selectedFolderRoute:h,route:_,selectedAccountId:r(),smartViews:m,multiTaskModeSetting:p,smartViewCategoriesEnabled:l,showAllTabsPlusCue:d,showPeopleSmartViewCue:u,isCategorySmartViewActive:I,conversationsEnabled:g,limitedMessageTabs:f}}),Object(Ir.b)(void 0,e=>({featureCueClosed:t=>e(Object(Jr.a)(t)),closePage:({route:t,i13nModel:s={}})=>e(Object(Dr.c)({route:t,i13nModel:s})),closeAllPages:t=>e(Object(Dr.b)(t)),onSmartViewChange:t=>e(Object(Dr.i)({route:t}))})))(Eo),fo=s(432);class So extends He.Component{constructor(e){super(e)}componentDidMount(){const{toast:e}=this.props;e&&this.context.toast(e)}componentDidUpdate(e){const{toast:t}=this.props;t&&t!==e.toast&&this.context.toast(t)}render(){return null}}So.contextTypes={toast:Ve.a.func};var Ao=Object(Ir.b)((e,{toastMap:t})=>{const{getAction:s}=Object(ro.b)(e),n=s();let a=t[n.type];return"function"==typeof a&&(a=a(n,e)),a?{toast:babelHelpers.extends({},a,{data:n})}:{}})(So),To=s(2),Co=s(257),Oo=s(518),Ro=s.n(Oo);const No=Wr()(Ro.a);class Mo extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.handleChangeAccept=(()=>{this.context.navigateTo({route:Object(ao.u)({settingsGroupId:E.qd.VIEWING_EMAIL,accountId:this.props.accountId})})}),this.handleChangeReject=(()=>{this.context.executeAction(Co.b)}),t}render(){return Ue.a.createElement("span",{className:No.container},Ue.a.createElement(Sr.c,{id:"timezone.change_msg",defaultMessage:"New time zone detected."})," ",Ue.a.createElement("a",{"data-test-id":"primary-button",className:No.primaryButton,onClick:e=>{e.preventDefault(),this.handleChangeAccept()}},Ue.a.createElement(Sr.c,{id:"timezone.change_accept",defaultMessage:"Update my location"})))}}Mo.contextTypes={executeAction:Ve.a.func,navigateTo:Ve.a.func};var Do=Mo,yo=s(222),Lo=s(52),vo=s(519),Po=s.n(vo),Fo=s(37);const xo=Wr()(Po.a);function wo({sendFailureRoute:e},{navigateTo:t,getUrlFromRoute:s}){const n=s(e);return Ue.a.createElement(Sr.c,{id:"compose.send_failure_notification",defaultMessage:"An error occurred while sending the {message}.",values:{message:n?Ue.a.createElement("a",{href:n,className:xo.link,"data-test-id":"navigate-button",onClick:s=>{s.preventDefault(),t({route:e})}},Ue.a.createElement(Sr.c,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})):Ue.a.createElement(Sr.c,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})}})}function ko({route:e,sentFolderId:t,groupId:s},{navigateTo:n,getUrlFromRoute:a}){const r={name:E.Uc.MESSAGE_FROM_FOLDER_LIST,params:{fid:t,groupId:s},query:e.query||{}},o=a(r);return Ue.a.createElement(Sr.c,{id:"compose.send_success_notification_with_link",defaultMessage:"Your {message} has been sent.",values:{message:o?Ue.a.createElement("a",{href:o,className:xo.link,"data-test-id":"navigate-button",onClick:e=>{e.preventDefault(),n({route:r})}},Ue.a.createElement(Sr.c,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})):Ue.a.createElement(Sr.c,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})}})}wo.contextTypes={navigateTo:Ve.a.func,getUrlFromRoute:Ve.a.func},ko.contextTypes={navigateTo:Ve.a.func,getUrlFromRoute:Ve.a.func};const Ho=Object(Ir.b)((e,t)=>{const{conversationsMode:s,message:n}=t;return{groupId:s?n.conversationId:n.id}})(ko);function Uo(){return Ue.a.createElement(Sr.c,{id:"compose.already_sent_message",defaultMessage:"The message you are trying to save has already been sent using another session. Please check your sent folder."})}function jo({messageGroupId:e,message:t,composeMode:s},{executeAction:n}){const a=Ue.a.createElement("span",{onClick:()=>{n(Lo.w,{messageGroupId:e,message:t,composeMode:s})},className:xo.link,"data-test-id":"notification-retry-compose-action"},Ue.a.createElement(Sr.c,{id:"notification.compose_draft_failed_retry_link",defaultMessage:"Retry"}));return Ue.a.createElement(Sr.c,s===E.J.Modes.FORWARD?{id:"notification.draft_forward_failed",defaultMessage:"We encountered some issues while forwarding this message. {link}",values:{link:a}}:{id:"notification.draft_reply_or_reply_all_failed",defaultMessage:"We encountered some issues while replying to this message. {link}",values:{link:a}})}jo.contextTypes={executeAction:Ve.a.func};var Go=s(520),Bo=s.n(Go);const Vo=Wr()(Bo.a);var Wo=class extends Ue.a.Component{render(){const{value:e}=this.props,t=`${e}%`,s={width:t};return Ue.a.createElement("div",{className:Vo.progress},Ue.a.createElement("div",{className:Vo.placeholder}),Ue.a.createElement("div",{className:Vo.value,style:s,"data-test-id":"progress-bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e},Ue.a.createElement("span",{className:Vo.label,"data-test-id":"progress-value",role:"presentation"},t)))}},qo=s(521),zo=s.n(qo);const Zo=Wr()(zo.a);class Ko extends Ue.a.Component{render(){const{message:e,subtitle:t,progress:s,onCancel:n,isCancelable:a}=this.props;return Ue.a.createElement("div",{className:Zo.container,"data-test-id":"progress-dialog"},Ue.a.createElement("div",{className:Zo.messageContainer},Ue.a.createElement("span",{className:Zo.message,"data-test-id":"progress-dialog-message"},e),a&&Ue.a.createElement(Hr.a,{onClick:n,className:Zo.cancel,"data-test-id":"progress-dialog-cancel"},Ue.a.createElement(Sr.c,{id:"confirm.cancel",defaultMessage:"Cancel"}))),Ue.a.createElement("div",{className:Zo.subtitle},t),Ue.a.createElement("div",{className:Zo.bar},Ue.a.createElement(Wo,{value:s})))}}Ko.defaultProps={isCancelable:!1,onClose:()=>{}};var Yo=Ko,Xo=s(75),$o=s(173);var Qo=Object(Ir.b)(e=>{const{isAsyncTaskPending:t,getAsyncTask:s,getFeaturesSelectors:n}=Object(ro.b)(e),a=n().getSetting(E.nd.ASYNC_TASK_POLL_INTERVAL);if(!t())return{asyncTaskPollInterval:a};const{taskId:r,status:o,progress:i,pollCount:c}=s();return{taskId:r,status:o,progress:i,pollCount:c,asyncTaskPollInterval:a}},e=>({bulkTaskCancelRequest:t=>e(Object($o.b)({taskId:t})),forceSync:()=>e(Object(Dr.l)({forceSync:!0,i13nModel:{}}))}))(class extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.handleCancel=(()=>{const{taskId:e}=this.props;this.props.bulkTaskCancelRequest({taskId:e})}),this.isTaskCancelable=(()=>{const{taskId:e,status:t}=this.props;return e&&t===E.z.PENDING}),this.renderMessage=(()=>{const{triageActionType:e,folderId:t,count:s,conversations:n}=this.props;switch(e){case E.Vd.READ_CHANGE_FOLDER_ITEMS:return Ue.a.createElement(Sr.c,{id:"progress.mark_read",defaultMessage:"Marking {emailsNum, plural,\n                        =1 {message}\n                        other {# messages}\n                        } in {folderName} as read...\n                    ",values:{emailsNum:s,folderName:Ue.a.createElement(Xo.a,{folderId:t})}});case E.Vd.DELETE_FOLDER_ITEMS:return Ue.a.createElement(Sr.c,{id:"progress.delete",defaultMessage:"Deleting {emailsNum, plural,\n                        =1 {message}\n                        other {# messages}\n                    } in {folderName}...\n                    ",values:{emailsNum:s,folderName:Ue.a.createElement(Xo.a,{folderId:t})}});case E.Vd.ARCHIVE_FOLDER_ITEMS:return Ue.a.createElement(Sr.c,{id:"progress.archive",defaultMessage:"Archiving {count, plural,\n                        =1 {message}\n                        other {# messages}\n                    } in {folderName}...\n                    ",values:{count:s,folderName:Ue.a.createElement(Xo.a,{folderId:t})}});case E.Vd.DELETE_SELECTED_ITEMS:return Ue.a.createElement(Sr.c,{id:"progress.messages_delete",defaultMessage:"Deleting {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:n,count:s}});case E.Vd.DELETE_ALL_FROM_SENDERS:return Ue.a.createElement(Sr.c,{id:"progress.messages_delete_from_senders",defaultMessage:"Deleting {conversations, select, true {conversations} false {messages}}",values:{conversations:n}});case E.Vd.MOVE_SELECTED_ITEMS:return Ue.a.createElement(Sr.c,{id:"progress.messages_move",defaultMessage:"Moving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:n,count:s}});case E.Vd.DELETE_ALL_ITEMS:case E.Vd.MOVE_ALL_ITEMS:case E.Vd.UNDO_MOVE:return Ue.a.createElement(Sr.c,{id:"progress.move_query",defaultMessage:"Moving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:n,count:s}});case E.Vd.READ_CHANGE_ALL_ITEMS:case E.Vd.READ_CHANGE_SELECTED_ITEMS:case E.Vd.STAR_CHANGE_ALL_ITEMS:case E.Vd.STAR_CHANGE_SELECTED_ITEMS:return Ue.a.createElement(Sr.c,{id:"progress.mark_query",defaultMessage:"Updating {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:n,count:s}});case E.Vd.ARCHIVE_ALL_ITEMS:case E.Vd.ARCHIVE_SELECTED_ITEMS:return Ue.a.createElement(Sr.c,{id:"progress.messages_archive",defaultMessage:"Archiving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:n,count:s}});case E.Vd.RESTORE_ALL_ITEMS:case E.Vd.RESTORE_SELECTED_ITEMS:case E.Vd.NOT_SPAM_ALL_ITEMS:case E.Vd.NOT_SPAM_SELECTED_ITEMS:return Ue.a.createElement(Sr.c,{id:"progress.messages_restore",defaultMessage:"Restoring {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    } to Inbox",values:{conversations:n,count:s}});case E.Vd.SPAM_ALL_ITEMS:case E.Vd.SPAM_SELECTED_ITEMS:return Ue.a.createElement(Sr.c,{id:"progress.messages_mark_spam",defaultMessage:"Marking {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    } as Spam",values:{conversations:n,count:s}})}return null}),this.renderStatus=(()=>{switch(this.props.status){case E.z.ABORTING:return Ue.a.createElement(Sr.c,{id:"progress.aborting",defaultMessage:"Cancelling"});case E.z.ABORT_FAILED:return Ue.a.createElement(Sr.c,{id:"progress.abort_failed",defaultMessage:"Failed to cancel. Please Retry"});default:return null}}),t}componentDidUpdate(){clearTimeout(this.handleProgressTimeout),this.handleProgressTimeout=setTimeout(()=>{this.props.forceSync()},this.props.asyncTaskPollInterval)}componentWillUnmount(){clearTimeout(this.handleProgressTimeout)}render(){const{progress:e=0}=this.props;return Ue.a.createElement(Yo,{isCancelable:this.isTaskCancelable(),onCancel:this.handleCancel,progress:e,message:this.renderMessage(),subtitle:this.renderStatus()})}});var Jo=s(523),ei=s.n(Jo),ti=s(228);const si=Wr()(ei.a);function ni(){return Ue.a.createElement(Sr.c,{id:"compose.send_email_address_missing_notification",defaultMessage:"Please add at least one email address before sending."})}function ai(e,{intl:{locale:t}}){const s=Object(ti.h)("SLN3353")(t);return Ue.a.createElement("div",null,Ue.a.createElement("div",{className:si.notificationTitle},Ue.a.createElement(Sr.c,{id:"compose.send_recipients_exceeded_notification_title",defaultMessage:"Send Error: Too many recipients for this email"})),Ue.a.createElement("div",{className:si.notificationSubText},Ue.a.createElement(Sr.c,{id:"compose.send_recipients_exceeded_notification_subtext",defaultMessage:"Please reduce the number of recipients and try to send again."}),Ue.a.createElement("br",null),Ue.a.createElement(Hr.a,{kind:Ur.a.CHROMELESS,"data-test-id":"compose_learn_more_btn",onClick:()=>window.open(s,"_blank")},Ue.a.createElement("span",{className:si.button},Ue.a.createElement(Sr.c,{id:"compose.learn_more_url",defaultMessage:"Learn more"})))))}function ri({invalidAddresses:e=[]}){const t=[];return e.forEach((e,s,n)=>{const a="_"+s;t.push(Ue.a.createElement("span",{key:a},e)),s<n.length-1&&t.push(Ue.a.createElement(Sr.c,{key:a+"-delim",id:"email_separator",defaultMessage:"\n                        {isLast, select,\n                            false {,\\u0020}\n                            true {, and\\u0020}}\n                    ",values:{isLast:s===n.length-2}}))}),Ue.a.createElement(Sr.c,{id:"compose.send_email_address_correction_notification",defaultMessage:"Please correct these email addresses before sending: {emailList}",values:{emailList:Ue.a.createElement("span",null,t)}})}ai.contextTypes={intl:Sr.i.isRequired};const oi=Object(Ir.b)((e,{csid:t})=>{const{isAttachmentUploadPendingForComposeSession:s}=Object(ro.b)(e);return{isUploading:s(t)}})(function({isUploading:e}){return Ue.a.createElement(Sr.c,e?{id:"compose.uploading_attachment_email_status",defaultMessage:"Adding attachments..."}:{id:"compose.sending_email_status",defaultMessage:"Sending..."})});function ii(){return Ue.a.createElement(Sr.c,{id:"notification.draft_save_failed",defaultMessage:"Message cannot be saved as draft."})}function ci({messageIds:e}){return Ue.a.createElement(Sr.c,{id:"notification.delete_draft_success",defaultMessage:"{count, plural, one {Draft} other {Drafts}} permanently deleted.",values:{count:e&&e.length||1}})}function li({messageIds:e}){return Ue.a.createElement(Sr.c,{id:"notification.delete_draft_failure",defaultMessage:"Unable to delete the {count, plural, one {draft} other {drafts}}.",values:{count:e&&e.length||1}})}function di(){return Ue.a.createElement(Sr.c,{id:"compose.draft_unavailable_notification",defaultMessage:"The message you are trying to open is no longer available."})}const ui="EC-4001";var mi=s(524),pi=s.n(mi),_i=s(80);const hi=Wr()(pi.a);const Ei=Object(Ir.b)(null,e=>({featureCueNotificationClosed:t=>e(Object(Jr.d)(t)),toggleAutoOpenSettingsPopover:t=>e(Object(_i.y)(t))}))(class extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(e=>{e.preventDefault(),this.props.onClose(),this.props.toggleAutoOpenSettingsPopover({status:!0})}),t}render(){const e=Ue.a.createElement("span",{onClick:this.handleClick,className:hi.settings,"data-test-id":"settings-link"},Ue.a.createElement(Sr.c,{id:"notification.themes_cue_v3_closed_settings",defaultMessage:"Settings"}));return Ue.a.createElement(Sr.c,{id:"notification.themes_cue_v3_closed",defaultMessage:"Theme saved. For more ways to personalize, go to {Settings}.",values:{Settings:e}})}componentWillUnmount(){this.props.featureCueNotificationClosed({name:E.mb.THEMES_CUE_V3})}});function gi({folderId:e,progress:t}){const s=Ue.a.createElement("strong",null,Ue.a.createElement(Xo.a,{folderId:e}));if(t<100){const e=Ue.a.createElement("strong",null,t,"%");return Ue.a.createElement(Sr.c,{id:"folder.markasread_partial_success",defaultMessage:"{progress} of messages in {folderName} marked as read",values:{folderName:s,progress:e}})}return Ue.a.createElement(Sr.c,{id:"folder.mark_read_success",defaultMessage:"Folder {folderName} was marked as read",values:{folderName:s}})}function bi({folderId:e}){return Ue.a.createElement(Sr.c,{id:"folder.mark_read_failure",defaultMessage:"Failed marking folder {folderName} as read",values:{folderName:Ue.a.createElement("strong",null,Ue.a.createElement(Xo.a,{folderId:e}))}})}function Ii({folderId:e,progress:t}){const s=Ue.a.createElement("strong",null,Ue.a.createElement(Xo.a,{folderId:e}));if(t<100){const e=Ue.a.createElement("strong",null,t,"%");return Ue.a.createElement(Sr.c,{id:"folder.archive_partial_success",defaultMessage:"{progress} of messages in {folderName} archived",values:{folderName:s,progress:e}})}return Ue.a.createElement(Sr.c,{id:"folder.archive_success",defaultMessage:"Messages in folder {folderName} were moved to archive",values:{folderName:s}})}function fi({folderId:e}){return Ue.a.createElement(Sr.c,{id:"folder.archive_failure",defaultMessage:"Failed moving folder {folderName} messages to archive",values:{folderName:Ue.a.createElement("strong",null,Ue.a.createElement(Xo.a,{folderId:e}))}})}function Si({folderId:e,progress:t}){const s=Ue.a.createElement("strong",null,Ue.a.createElement(Xo.a,{folderId:e}));if(t<100){const e=Ue.a.createElement("strong",null,t,"%");return Ue.a.createElement(Sr.c,{id:"folder.delete_partial_success",defaultMessage:"{progress} of messages in {folderName} deleted",values:{folderName:s,progress:e}})}return Ue.a.createElement(Sr.c,{id:"folder.clear_success",defaultMessage:"Folder {folderName} was cleared",values:{folderName:s}})}function Ai({folderId:e}){return Ue.a.createElement(Sr.c,{id:"folder.clear_failure",defaultMessage:"Failed clearing folder {folderName}",values:{folderName:Ue.a.createElement("strong",null,Ue.a.createElement(Xo.a,{folderId:e}))}})}function Ti(){return Ue.a.createElement(Sr.c,{id:"folder.access_failure",defaultMessage:"The folder you're trying to access is no longer valid"})}const Ci=({openTutorial:e},{mailBrandNameString:t})=>{return Ue.a.createElement(Sr.c,{id:"autoupgrade.notification.success",defaultMessage:"You've been upgraded to the new {mailBrandNameString}! {see_whats_new}",values:{see_whats_new:Ue.a.createElement("a",{style:{color:Pr.BASE_LINK_COLOR},href:E.lc,onClick:e,rel:"noopener"},Ue.a.createElement(Sr.c,{id:"autoupgrade.notification.tutorial.link",defaultMessage:"See what's new"})),mailBrandNameString:t}})};Ci.contextTypes={mailBrandNameString:Ve.a.string};const Oi=Object(Ir.b)(void 0,e=>({openTutorial:()=>e(Object(Dr.i)({route:Object(ao.v)(E.zd.TUTORIAL)}))}))(Ci);const Ri=Object(Ir.b)((e,t)=>{const{isOnline:s}=Object(ro.b)(e);return s()&&t.onClose(),{}})(class extends Ue.a.Component{render(){return Ue.a.createElement(Sr.c,{id:"notification.no_internet",defaultMessage:"No internet connection."})}});var Ni=s(275),Mi=s.n(Ni);const Di=Wr()(Mi.a);class yi extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(e=>{const t={mKey:zr.e.FIX_IMAP_ACCOUNT,sec:zr.g.NOTIFICATION_ACTION,interactionType:Object(Ps.i)(e)},{accountId:s,provider:n,autoOpenReauth:a}=this.props;a&&(window.oAuthWindow=window.open("","authorizeWindow",`width=800, height=600, top=${screen.height-300}, left=${screen.width-400}`)),this.props.onClose(),this.context.navigateTo({route:Object(ao.u)({settingsGroupId:E.qd.ACCOUNTS,accountId:s,provider:n,openReauth:a}),i13nModel:t})}),t}render(){const{autoOpenReauth:e,provider:t}=this.props;let s;return s=Ue.a.createElement(Sr.c,e&&t===E.hb.GOOGLE?{id:"notifications.signintogoogle",defaultMessage:"Sign in to Google"}:{id:"notifications.gotosettings",defaultMessage:"Go to Settings"}),Ue.a.createElement("div",null,Ue.a.createElement(Sr.c,{id:"mailbox.not_sycning",defaultMessage:"This mailbox is not syncing and needs permission to resume."})," ",Ue.a.createElement(Hr.a,{"aria-hidden":!0,kind:Ur.a.CHROMELESS,onClick:this.handleClick},Ue.a.createElement("span",{className:Di.actionLink},s)))}}yi.contextTypes={navigateTo:Ve.a.func};const Li=Object(Ir.b)()(yi),vi=({conversations:e,count:t})=>Ue.a.createElement(Sr.c,{id:"notification.move_message_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} other {conversations} }} false {{count, plural, =1 {message} other {messages} }} } to the selected folder.",values:{conversations:e,count:t}}),Pi=({conversations:e,count:t})=>Ue.a.createElement(Sr.c,{id:"notification.markSpam_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation is} other {Conversations are} }} false {{count, plural, =1 {Message is} other {Messages are} }} } successfully marked as Spam",values:{conversations:e,count:t}}),Fi=({conversations:e,count:t})=>Ue.a.createElement(Sr.c,{id:"notification.markSpam_failure",defaultMessage:"Unable to mark the {conversations, select, true {{count, plural, =1 {conversation} other {conversations} }} false {{count, plural, =1 {message} other {messages} }} } as Spam.",values:{conversations:e,count:t}}),xi=({conversations:e,count:t})=>Ue.a.createElement(Sr.c,{id:"notification.notSpam_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation is} other {Conversations are} }} false {{count, plural, =1 {Message is} other {Messages are} }} } moved to Inbox",values:{conversations:e,count:t}}),wi=({conversations:e,count:t})=>Ue.a.createElement(Sr.c,{id:"notification.notSpam_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} other {conversations} }} false {{count, plural, =1 {message} other {messages} }} } to Inbox",values:{conversations:e,count:t}}),ki=({conversations:e,count:t})=>Ue.a.createElement(Sr.c,{id:"notification.archive_failure",defaultMessage:"Unable to Archive the {conversations, select, true {{count, plural, =1 {conversation} other {# conversations} }} false {{count, plural, =1 {message} other {messages} }} }.",values:{conversations:e,count:t}}),Hi=({conversations:e,count:t})=>Ue.a.createElement(Sr.c,{id:"notification.restore_inbox_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation} other {# conversations} }} false {{count, plural, =1 {Message} other {# messages} }} } moved to Inbox",values:{conversations:e,count:t}}),Ui=({conversations:e,count:t})=>Ue.a.createElement(Sr.c,{id:"notification.restore_inbox_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} other {# conversations} }} false {{count, plural, =1 {message} other {messages} }} } to Inbox",values:{conversations:e,count:t}}),ji=({conversations:e,count:t})=>Ue.a.createElement(Sr.c,{id:"notification.delete_failure",defaultMessage:"Unable to delete the {conversations, select, true {{count, plural, =1 {conversation} other {# conversations} }} false {{count, plural, =1 {message} other {# messages} }} }.",values:{conversations:e,count:t}}),Gi=()=>Ue.a.createElement(Sr.c,{id:"notification.undo_success",defaultMessage:"Undo succeeded"}),Bi=()=>Ue.a.createElement(Sr.c,{id:"notification.undo_failed",defaultMessage:"Undo failed"}),Vi=()=>Ue.a.createElement(Sr.c,{id:"notification.message_access_failure",defaultMessage:"The message you're trying to access is no longer valid"}),Wi=({conversations:e})=>Ue.a.createElement(Sr.c,{id:"notification.delete_from_senders_success",defaultMessage:"{conversations, select, true {Conversations} false {Messages} } deleted from selected senders.",values:{conversations:e}}),qi=({conversations:e})=>Ue.a.createElement(Sr.c,{id:"notification.delete_from_senders_failure",defaultMessage:"Failed to delete {conversations, select, true {conversations} false {messages} } from selected senders.",values:{conversations:e}}),zi=({conversations:e,count:t})=>Ue.a.createElement(Sr.c,{id:"notification.update_items_success",defaultMessage:"Updated {conversations, select,\n            true {{count, plural,\n                one {conversation}\n                other {# conversations}\n            }}\n            false {{count, plural,\n                one {message}\n                other {# messages}\n            }}\n        } successfully",values:{conversations:e,count:t}}),Zi=({conversations:e,count:t})=>Ue.a.createElement(Sr.c,{id:"notification.update_items_failure",defaultMessage:"Failed to update {conversations, select,\n            true {{count, plural,\n                one {conversation}\n                other {# conversations}\n            }}\n            false {{count, plural,\n                one {message}\n                other {# messages}\n            }}\n        }",values:{conversations:e,count:t}});class Ki extends Ue.a.Component{render(){const{folderId:e,conversations:t}=this.props;return Ue.a.createElement("div",null,Ue.a.createElement(Sr.c,{id:"folder.move_query_success",defaultMessage:"All {conversations, select, true {conversations} false {messages} } moved to {destinationFolderName}.",values:{destinationFolderName:Ue.a.createElement("strong",null,Ue.a.createElement(Xo.a,{folderId:e})),conversations:t}}))}}function Yi(){return Ue.a.createElement(Sr.c,{id:"folder.move_query_failure",defaultMessage:"Failed moving all items "})}function Xi(){return Ue.a.createElement(Sr.c,{id:"folder.mark_query_success",defaultMessage:"Items were updated"})}function $i(){return Ue.a.createElement(Sr.c,{id:"folder.mark_query_failure",defaultMessage:"Failed updating all items "})}var Qi=s(525),Ji=s.n(Qi),ec=s(46);const tc=Wr()(Ji.a);function sc(){return Ue.a.createElement(Sr.c,{id:"notification.settings_filter_saved",defaultMessage:"Message filter has been saved successfully"})}function nc(){return Ue.a.createElement(Sr.c,{id:"notification.settings_filter_failed_to_save",defaultMessage:"Message filter has failed to save"})}function ac(){return Ue.a.createElement(Sr.c,{id:"notification.user_preference_failed_to_load",defaultMessage:"Your preferences failed to load at this time due to a temporary error."})}function rc({delta:e}){return Ue.a.createElement(Sr.c,{id:"notification.settings_blocked_senders_added",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} added",values:{count:e}})}function oc({delta:e}){return Ue.a.createElement(Sr.c,{id:"notification.settings_blocked_senders_deleted",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} deleted",values:{count:-e}})}function ic({delta:e}){return Ue.a.createElement(Sr.c,{id:"notification.settings_blocked_senders_failed_to_add",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} failed to add",values:{count:e}})}function cc({delta:e}){return Ue.a.createElement(Sr.c,{id:"notification.settings_blocked_senders_failed_to_delete",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} failed to delete",values:{count:-e}})}function lc(){return Ue.a.createElement(Sr.c,{id:"notification.settings_vacation_response_saved",defaultMessage:"Vacation response has been saved."})}function dc(){return Ue.a.createElement(Sr.c,{id:"notification.settings_vacation_response_deleted",defaultMessage:"Vacation response has been removed."})}function uc({error:e,provider:t,email:s},{yahooBrandNameString:n}){switch(e){case 412:return Ue.a.createElement(Sr.c,{id:"notification.settings_cancel_permission",defaultMessage:"Account connection cancelled."});case 403:return Ue.a.createElement("div",{className:tc.errorWrapper},Ue.a.createElement("div",{className:tc.errorHeader},Ue.a.createElement(Sr.c,{id:"notification.settings_different_id_header",defaultMessage:"{email} could not be added",values:{email:s}})),Ue.a.createElement("div",{className:tc.errorBody},Ue.a.createElement(Sr.c,{id:"notification.settings_different_id",defaultMessage:"You are currently signed into a different {provider}\n                        account.{nextLine}Please {sign_out} of that account and retry.",values:{provider:Object(ec.h)(t),nextLine:Ue.a.createElement("br",null),sign_out:Ue.a.createElement("a",{className:tc.link,target:"_blank",href:E.xb[t].providerUrl,rel:"noopener"},Ue.a.createElement(Sr.c,{id:"notification.settings_sign_out",defaultMessage:"sign out"}))}})));case 503:return Ue.a.createElement(Sr.c,{id:"notification.provider_not_available",defaultMessage:"{yahooBrandNameString} cannot connect to {provider} at this time. Please try to connect your account later.",values:{yahooBrandNameString:n,provider:Object(ec.h)(t)}});case 409:return Ue.a.createElement(Sr.c,{id:"notification.account_conflict",defaultMessage:"This account is already connected"});default:return Ue.a.createElement(Sr.c,{id:"notification.account_general_error",defaultMessage:"Unable to add mailbox. Please try again later."})}}function mc(){return Ue.a.createElement(Sr.c,{id:"notification.unsub_lists_cleaned",defaultMessage:"Enjoy your cleaner Inbox! Glad that was useful. New recommendations tomorrow!"})}function pc(){return Ue.a.createElement(Sr.c,{id:"notification.unsub_list_cleaned",defaultMessage:"Enjoy your cleaner Inbox! We'll have new recommendations tomorrow."})}function _c(){return Ue.a.createElement(Sr.c,{id:"notification.unsub_dialog_closed",defaultMessage:"Great! Glad you still like those emails. We'll have new recommendations tomorrow."})}function hc({route:e,sentFolderId:t},{navigateTo:s,getUrlFromRoute:n}){const a={name:E.Uc.FOLDER,params:{fid:t},query:e.query||{}},r=n(a);return Ue.a.createElement(Sr.c,{id:"notification.unsub_request_sent",defaultMessage:"Unsubscribe request {sent}.",values:{sent:r?Ue.a.createElement("a",{href:r,style:{color:Pr.BASE_LINK_COLOR,cursor:"pointer"},"data-test-id":"navigate-button",onClick:e=>{e.preventDefault(),s({route:a})}},Ue.a.createElement(Sr.c,{id:"notification.unsub_request_sent_link",defaultMessage:"sent"})):Ue.a.createElement(Sr.c,{id:"notification.unsub_request_sent_link",defaultMessage:"sent"})}})}function Ec(){return Ue.a.createElement(Sr.c,{id:"notification.unsub_request_failed",defaultMessage:"Unsubscribe failed."})}uc.contextTypes={yahooBrandNameString:Ve.a.string},hc.contextTypes={navigateTo:Ve.a.func,getUrlFromRoute:Ve.a.func};var gc=s(526),bc=s.n(gc);const Ic=Wr()(bc.a);var fc=s(276);class Sc extends Ue.a.Component{render(){const{conversations:e,count:t,undoAction:s,permanent:n,onClose:a}=this.props;return Ue.a.createElement("div",null,Ue.a.createElement(Sr.c,{id:"notification.delete_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} other {# conversations} }} false {{count, plural, one {Message} other {# messages} }} } deleted.",values:{conversations:e,count:t}})," ",!n&&s&&Ue.a.createElement(fc.a,{undoAction:s,onClose:a}))}}class Ac extends Ue.a.Component{render(){const{conversations:e,count:t,undoAction:s,onClose:n}=this.props;return Ue.a.createElement("div",null,Ue.a.createElement(Sr.c,{id:"notification.archive_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} other {# conversations} }} false {{count, plural, one {Message} other {# messages} }} } moved to Archive.",values:{conversations:e,count:t}})," ",Ue.a.createElement(fc.a,{undoAction:s,onClose:n}))}}class Tc extends Ue.a.Component{render(){const{folderId:e,count:t,conversations:s,undoAction:n,onClose:a}=this.props;return Ue.a.createElement("div",null,Ue.a.createElement(Sr.c,{id:"notification.move_message_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} other {# conversations} }} false {{count, plural, one {Message} other {# messages} }} } moved to {destinationFolderName}.",values:{destinationFolderName:Ue.a.createElement("strong",null,Ue.a.createElement(Xo.a,{folderId:e})),conversations:s,count:t}})," ",Ue.a.createElement(fc.a,{undoAction:n,onClose:a}))}}var Cc={[To.yi]:{message:function({provider:e}){return Ue.a.createElement(Sr.c,{id:"social_account_notifications.auth_failed",defaultMessage:"Unable to connect to {provider}",values:{provider:e}})},type:E.tc.WARNING},[To.zi]:{message:function({provider:e}){return Ue.a.createElement(Sr.c,{id:"social_account_notifications.auth_successful",defaultMessage:"Successfully connected to {provider}",values:{provider:e}})},type:E.tc.NORMAL},[To.wi]:{message:function({provider:e}){return Ue.a.createElement(Sr.c,{id:"social_account_notifications.auth_url_fetch_failed",defaultMessage:"Unable to redirect to {provider}",values:{provider:e}})},type:E.tc.WARNING},[To.uh]:{message:function({newFolderName:e,originalFolderName:t}){return Ue.a.createElement(Sr.c,{id:"folder.rename_success",defaultMessage:"Folder {originalFolderName} renamed to {newFolderName}",values:{newFolderName:Ue.a.createElement("strong",null,e),originalFolderName:Ue.a.createElement("strong",null,t)}})},type:E.tc.NORMAL},[To.sh]:{message:function({newFolderName:e,originalFolderName:t}){return Ue.a.createElement(Sr.c,{id:"folder.rename_failure",defaultMessage:"Failed renaming folder {originalFolderName} to {newFolderName}",values:{newFolderName:Ue.a.createElement("strong",null,e),originalFolderName:Ue.a.createElement("strong",null,t)}})},type:E.tc.WARNING},[To.Lc]:{message:function({folder:e}){return Ue.a.createElement(Sr.c,{id:"folder.create_success",defaultMessage:"{folderName} folder created",values:{folderName:Ue.a.createElement("strong",null,e.name)}})},type:E.tc.NORMAL},[To.Tc]:{message:()=>Ue.a.createElement(Sr.c,{id:"notification.contact_delete_in_progress",defaultMessage:"Deleting contact"}),type:E.tc.PENDING},[To.Sc]:{message:()=>Ue.a.createElement(Sr.c,{id:"notification.contact_delete_failed",defaultMessage:"Unable to delete contact"}),type:E.tc.WARNING},[To.Uc]:{message:()=>Ue.a.createElement(Sr.c,{id:"notification.contact_delete_succeeded",defaultMessage:"Contact deleted"}),type:E.tc.NORMAL},[To.fc]:{message:()=>Ue.a.createElement(Sr.c,{id:"notification.contact_save_success",defaultMessage:"Contact updated"}),type:E.tc.NORMAL},[To.dc]:{message:()=>Ue.a.createElement(Sr.c,{id:"notification.contact_save_failure",defaultMessage:"Unable to save"}),type:E.tc.WARNING},[To.Ic]:{message:()=>Ue.a.createElement(Sr.c,{id:"notification.contact_create_success",defaultMessage:"Contact created"}),type:E.tc.NORMAL},[To.Hc]:{message:()=>Ue.a.createElement(Sr.c,{id:"notification.contact_create_failure",defaultMessage:"Unable to create contact"}),type:E.tc.WARNING},[To.cc]:{message:()=>Ue.a.createElement(Sr.c,{id:"notification.contact_upload_photo_success",defaultMessage:"Contact photo uploaded"}),type:E.tc.NORMAL},[To.bc]:{message:()=>Ue.a.createElement(Sr.c,{id:"notification.contact_upload_photo_failure",defaultMessage:"Unable to upload photo"}),type:E.tc.WARNING},[To.Jc]:{message:function({folderName:e}){return Ue.a.createElement(Sr.c,{id:"folder.create_failure",defaultMessage:"Failed creating {folderName} folder",values:{folderName:Ue.a.createElement("strong",null,e)}})},type:E.tc.WARNING},[To.cd]:{message:function({folderName:e}){return Ue.a.createElement(Sr.c,{id:"folder.delete_success",defaultMessage:"{folderName} folder deleted",values:{folderName:Ue.a.createElement("strong",null,e)}})},type:E.tc.NORMAL},[To.ad]:{message:function({folderName:e}){return Ue.a.createElement(Sr.c,{id:"folder.delete_failure",defaultMessage:"Failed deleting {folderName} folder",values:{folderName:Ue.a.createElement("strong",null,e)}})},type:E.tc.WARNING},[To.gd]:{message:function({folderId:e}){return Ue.a.createElement(Sr.c,{id:"folder.delete_nonempty",defaultMessage:"Only empty folders can be deleted. Please delete all contents of the {folderName} folder first.",values:{folderName:Ue.a.createElement("strong",null,Ue.a.createElement(Xo.a,{folderId:e}))}})},type:E.tc.WARNING},[To.Sf]:{message:jo,type:E.tc.WARNING,requireInteraction:!0},[To.Bb]:{message:ni,type:E.tc.WARNING},[To.Cb]:{message:ai,type:E.tc.WARNING},[To.yb]:{message:ri,type:E.tc.WARNING},[To.Vh]:{message:oi,type:E.tc.NORMAL,requireInteraction:!0},[To.ak]:{message:oi,type:E.tc.PENDING,sticky:!0,requireInteraction:!0},[To.Wh]:{message:wo,type:E.tc.WARNING},[To.Zj]:({unsubFromMessage:e})=>void 0!==e?{message:Ec,type:E.tc.WARNING}:{message:wo,type:E.tc.WARNING},[To.Tf]:({error:e})=>e&&"ES-2001"===e.errorCode?{message:Uo,type:E.tc.WARNING}:{message:ii,type:E.tc.WARNING,priority:E.rc.MEDIUM},[To.Wj]:({error:e,showNotification:t=!0})=>e&&"ES-2001"===e.errorCode?{message:Uo,type:E.tc.WARNING}:t?{message:ii,type:E.tc.WARNING,priority:E.rc.MEDIUM}:null,[To.wf]:({error:e})=>e&&"ES-2001"===e.errorCode?{message:Uo,type:E.tc.WARNING}:null,[To.Li]:{message:function(){return Ue.a.createElement(Sr.c,{id:"notification.saved_to_inbox",defaultMessage:"Message saved to inbox."})},type:E.tc.NORMAL},[To.Ji]:{message:function(){return Ue.a.createElement(Sr.c,{id:"notification.save_to_inbox_failed",defaultMessage:"Message cannot be saved to inbox."})},type:E.tc.WARNING},[To.Zc]:{message:ci,type:E.tc.NORMAL},[To.Yc]:{message:li,type:E.tc.WARNING},[To.Cj]:{message:Gi,type:E.tc.NORMAL},[To.Aj]:{message:Bi,type:E.tc.WARNING},[To.qe]:{message:()=>Ue.a.createElement(Sr.c,{id:"notification.geminiSponsoredAssetFailed",defaultMessage:"Ad asset load failed"}),type:E.tc.WARNING},[To.Hb]:{message:function(){return Ue.a.createElement(Sr.c,{id:"notification.settings_resend_confirm_succeed",defaultMessage:"Confirmation email sent."})},type:E.tc.NORMAL},[To.Fb]:{message:function(){return Ue.a.createElement(Sr.c,{id:"notification.settings_resend_confirm_failed",defaultMessage:"Confirmation email sent failed."})},type:E.tc.WARNING},[To.v]:{message:function(){return Ue.a.createElement(Sr.c,{id:"notification.settings_account_reauth_succeed",defaultMessage:"Mailbox reauthorized. Sync will begin soon."})},type:E.tc.NORMAL},[To.t]:{message:uc,type:E.tc.WARNING},[To.di]:({name:e,delta:t})=>{switch(e){case E.nd.MESSAGE_FILTERS:return{message:sc,type:E.tc.NORMAL};case E.nd.DELIVERY_BLOCKED_SENDERS:return t<0?{message:oc,type:E.tc.NORMAL}:{message:rc,type:E.tc.NORMAL}}return null},[To.bi]:({name:e,delta:t})=>{switch(e){case E.nd.MESSAGE_FILTERS:return{message:nc,type:E.tc.WARNING};case E.nd.DELIVERY_BLOCKED_SENDERS:return t<0?{message:cc,type:E.tc.WARNING}:{message:ic,type:E.tc.WARNING}}return null},[To.Hd]:{message:class extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.handleSplunkSearch=(()=>{window.open(this.props.splunkUrl,"_blank")}),t}render(){return Ue.a.createElement("div",null,Ue.a.createElement(Sr.c,{id:"notification.exception_occurred",defaultMessage:"Javascript exception occurred."})," ",Ue.a.createElement(Hr.a,{kind:Ur.a.CHROMELESS,"data-test-id":"search-btn",onClick:this.handleSplunkSearch},Ue.a.createElement("span",{className:Ic.button},Ue.a.createElement(Sr.c,{id:"notification.exception_run_diagnostics",defaultMessage:"Run diagnostics"}))))}},type:E.tc.WARNING,modal:!0},[To.xd]:{message:function(e){const{fileCount:t=1,filename:s,error:n={}}=e,{code:a="",validationErrors:r=[]}=n,o=a===ui&&r.join("").indexOf("virus")>-1;return Ue.a.createElement(Sr.c,o?{id:"notification.download_virus_error",defaultMessage:"Virus scan failed. Unable to download {fileCount, plural, one {{filename}} other {{fileCount} files} }.",values:{fileCount:t,filename:s}}:{id:"notification.download_error",defaultMessage:"Failed to download {fileCount, plural, one {{filename}} other {{fileCount} files} }.",values:{fileCount:t,filename:s}})},type:E.tc.WARNING},[To.Re]:(e,t)=>{const{getLaunchError:s}=Object(ro.b)(t);switch(s()){case E.Cb.FOLDER_ACCESS_FAILED:return{message:Ti,type:E.tc.ADVISORY,icon:Cr.b.ATTENTION};case E.Cb.MESSAGE_ACCESS_FAILED:return{message:Vi,type:E.tc.ADVISORY,icon:Cr.b.ATTENTION};case E.Cb.COMPOSE_ACCESS_FAILED:return{message:di,type:E.tc.ADVISORY,icon:Cr.b.ATTENTION};case E.Cb.SETTINGS_FAILED_TO_LOAD:return{message:ac,type:E.tc.ADVISORY,icon:Cr.b.ATTENTION}}return Object(f.b)()&&window.AppBootstrapData&&window.AppBootstrapData.config&&window.AppBootstrapData.config.autoUpgradedNow?{message:Oi,type:E.tc.NORMAL,priority:E.rc.HIGH,requireInteraction:!0}:null},[To.Ug]:(e,t)=>{const{getRoute:s,getMailboxesSelectors:n,doesFolderIdExist:a,getAccountIdByFolderId:r}=Object(ro.b)(t),o=s(),i=Object(io.t)(o),c=Object(io.m)(i);if(c&&a(c)){const e=n(),t=r(c);if(e.isAccountExpired(t))return{message:Li,type:E.tc.WARNING}}return null},[To.sf]:{message:yi,type:E.tc.WARNING},[To.Kj]:{message:mc,type:E.tc.NORMAL,priority:E.rc.MEDIUM},[To.Lj]:{message:pc,type:E.tc.NORMAL,priority:E.rc.MEDIUM},[To.Hj]:{message:_c,type:E.tc.NORMAL,priority:E.rc.MEDIUM},[To.qj]:{message:Do,type:E.tc.ADVISORY,icon:Cr.b.CLOCK,sticky:!1,requireInteraction:!0},[To.Xh]:{message:Ho,type:E.tc.NORMAL},[To.bk]:{message:Ho,type:E.tc.NORMAL},[To.Vj]:({unsubFromMessage:e})=>void 0!==e?{message:hc,type:E.tc.NORMAL}:{message:Ho,type:E.tc.NORMAL},[To.Bg]:({online:e})=>e?null:{message:Ri,type:E.tc.WARNING,requireInteraction:!0,icon:Cr.b.NO_INTERNET,sticky:!0,priority:E.rc.HIGH},[To.Sd]:({name:e})=>e===E.mb.THEMES_CUE_V3?{message:Ei,type:E.tc.NORMAL}:null,[To.gh]:({isAsync:e})=>e?{message:Qo,type:E.tc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[To.Ti]:({isAsync:e})=>e?{message:Qo,type:E.tc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[To.ed]:({isAsync:e})=>e?{message:Qo,type:E.tc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[To.ab]:({isAsync:e})=>e?{message:Qo,type:E.tc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[To.qg]:({isAsync:e})=>e?{message:Qo,type:E.tc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[To.fb]:{message:Qo,type:E.tc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0},[To.db]:{message:Qo,type:E.tc.ADVISORY,requireInteraction:!1,sticky:!1,modal:!0},[To.ni]:{message:sc,type:E.tc.NORMAL},[To.qi]:({actionType:e})=>{switch(e){case yo.a.SAVE:return{message:lc,type:E.tc.NORMAL};case yo.a.DELETE:return{message:dc,type:E.tc.NORMAL};case yo.a.SWITCH_ON:case yo.a.SWITCH_OFF:default:return null}},[To.U]:{message:function({downloadUrl:e}){return Ue.a.createElement(Sr.c,{id:"attachment_tray.unsupported_files",defaultMessage:"Please {download} to view this file",values:{download:Ue.a.createElement("a",{style:{color:Pr.BASE_LINK_COLOR},href:e,rel:"noopener"},Ue.a.createElement(Sr.c,{id:"attachment_tray.unsupported_file_download_link",defaultMessage:"download"}))}})},type:E.tc.WARNING},[To.Qg]:{message:function(){return Ue.a.createElement(Sr.c,{id:"folder.pensieve_delete_success",defaultMessage:"Photo removed from Mail"})},type:E.tc.NORMAL},[To.Og]:{message:function(){return Ue.a.createElement(Sr.c,{id:"folder.pensieve_delete_failed",defaultMessage:"Photo could not be removed from Mail"})},type:E.tc.WARNING},[To.fd]:{message:Sc,type:E.tc.NORMAL},[To.dd]:{message:ji,type:E.tc.WARNING},[To.Qj]:e=>{const{messageItemsToSync:t=[],triageActionType:s,isAsync:n=!1}=e,a=t.length>0?t[t.length-1]:{},{updateTypes:r=[]}=a,o=r.length>0?r[r.length-1]:"";switch(s){case E.Vd.ARCHIVE_FOLDER_ITEMS:return{message:Ii,type:E.tc.NORMAL};case E.Vd.ARCHIVE_ALL_ITEMS:case E.Vd.RESTORE_ALL_ITEMS:case E.Vd.SPAM_ALL_ITEMS:case E.Vd.NOT_SPAM_ALL_ITEMS:case E.Vd.MOVE_ALL_ITEMS:return{message:Ki,type:E.tc.NORMAL};case E.Vd.DELETE_FOLDER_ITEMS:case E.Vd.DELETE_ALL_ITEMS:return{message:Si,type:E.tc.NORMAL};case E.Vd.READ_CHANGE_FOLDER_ITEMS:case E.Vd.READ_CHANGE_ALL_ITEMS:return{message:gi,type:E.tc.NORMAL};case E.Vd.STAR_CHANGE_ALL_ITEMS:return{message:Xi,type:E.tc.NORMAL};case E.Vd.ARCHIVE_SELECTED_ITEMS:return{message:Ac,type:E.tc.NORMAL};case E.Vd.RESTORE_SELECTED_ITEMS:return{message:Hi,type:E.tc.NORMAL};case E.Vd.SPAM_SELECTED_ITEMS:return{message:Pi,type:E.tc.NORMAL};case E.Vd.NOT_SPAM_SELECTED_ITEMS:return{message:xi,type:E.tc.NORMAL};case E.Vd.MOVE_SELECTED_ITEMS:return{message:Tc,type:E.tc.NORMAL};case E.Vd.DELETE_SELECTED_ITEMS:return{message:Sc,type:E.tc.NORMAL};case E.Vd.DELETE_ALL_FROM_SENDERS:return{message:Wi,type:E.tc.NORMAL};case E.Vd.UNDO_MOVE:return{message:Gi,type:E.tc.NORMAL};case E.Vd.DELETE_DRAFT:return{message:ci,type:E.tc.NORMAL}}switch(o){case E.hc.READ:case E.hc.STAR:case E.hc.SPAM:case E.hc.HAM:case E.hc.ANSWER:case E.hc.FORWARD:case E.hc.DECO:return n?{message:zi,type:E.tc.NORMAL}:null}},[To.Pj]:e=>{const{messageItemsToSync:t=[],triageActionType:s,isAsync:n=!1}=e,a=t.length>0?t[t.length-1]:{},{updateTypes:r=[]}=a,o=r.length>0?r[r.length-1]:"";switch(s){case E.Vd.ARCHIVE_FOLDER_ITEMS:return{message:fi,type:E.tc.WARNING};case E.Vd.ARCHIVE_ALL_ITEMS:case E.Vd.RESTORE_ALL_ITEMS:case E.Vd.SPAM_ALL_ITEMS:case E.Vd.NOT_SPAM_ALL_ITEMS:case E.Vd.MOVE_ALL_ITEMS:return{message:Yi,type:E.tc.WARNING};case E.Vd.DELETE_FOLDER_ITEMS:case E.Vd.DELETE_ALL_ITEMS:return{message:Ai,type:E.tc.WARNING};case E.Vd.READ_CHANGE_FOLDER_ITEMS:case E.Vd.READ_CHANGE_ALL_ITEMS:return{message:bi,type:E.tc.WARNING};case E.Vd.STAR_CHANGE_ALL_ITEMS:return{message:$i,type:E.tc.WARNING};case E.Vd.ARCHIVE_SELECTED_ITEMS:return{message:ki,type:E.tc.WARNING};case E.Vd.RESTORE_SELECTED_ITEMS:return{message:Ui,type:E.tc.WARNING};case E.Vd.SPAM_SELECTED_ITEMS:return{message:Fi,type:E.tc.WARNING};case E.Vd.NOT_SPAM_SELECTED_ITEMS:return{message:wi,type:E.tc.WARNING};case E.Vd.MOVE_SELECTED_ITEMS:return{message:vi,type:E.tc.WARNING};case E.Vd.DELETE_SELECTED_ITEMS:return{message:ji,type:E.tc.WARNING};case E.Vd.DELETE_ALL_FROM_SENDERS:return{message:qi,type:E.tc.WARNING};case E.Vd.UNDO_MOVE:return{message:Bi,type:E.tc.WARNING};case E.Vd.DELETE_DRAFT:return{message:li,type:E.tc.WARNING}}switch(o){case E.hc.READ:case E.hc.STAR:case E.hc.SPAM:case E.hc.HAM:case E.hc.ANSWER:case E.hc.FORWARD:case E.hc.DECO:return n?{message:Zi,type:E.tc.WARNING}:null}},[To.z]:{message:()=>Ue.a.createElement(Sr.c,{id:"notification.activate_offer_failure",defaultMessage:"Unable to add now. Try again later."}),type:E.tc.WARNING},[To.kf]:{message:()=>Ue.a.createElement(Sr.c,{id:"notification.link_retailer_success",defaultMessage:"Linked retailer successfully."}),type:E.tc.NORMAL},[To.Fj]:{message:()=>Ue.a.createElement(Sr.c,{id:"notification.unlink_retailer_success",defaultMessage:"Loyalty card has been sucessfully unlinked"}),type:E.tc.NORMAL},[To.Dj]:{message:()=>Ue.a.createElement(Sr.c,{id:"notification.unlink_retailer_failure",defaultMessage:"Unable to unlink the card now. Try again later."}),type:E.tc.WARNING},[To.p]:{message:uc,type:E.tc.WARNING}},Oc=s(277),Rc=s.n(Oc),Nc=s(56);const Mc=Object(Sr.h)({close:{id:"notification.close",defaultMessage:"Close notification"}});class Dc extends Ue.a.Component{render(){const{type:e,icon:t,sticky:s}=this.props,n=Wr()(Mi.a,{type:e}),a=this.context.intl.formatMessage(Mc.close),r=!t&&e===E.tc.PENDING;let o=t;if(!o&&e!==E.tc.ADVISORY)switch(e){case E.tc.FOWARDING_WARNING:case E.tc.WARNING:o=Cr.b.EXCLAMATION_ALT;break;case E.tc.PENDING:o=Cr.b.REFRESH;break;default:o=Cr.b.CHECKMARK}return Ue.a.createElement("div",{className:n.container},Ue.a.createElement("div",{className:n.innerContainer},o?Ue.a.createElement("div",{className:n.icon,role:"presentation"},r?Ue.a.createElement(Nc.b,{size:Cr.d.S,inverted:!0}):Ue.a.createElement(Tr.b,{kind:o,size:Cr.d.S,colorState:Cr.a.INVERTED})):null,Ue.a.createElement("div",{className:n.content},this.props.children),s?null:Ue.a.createElement("div",{className:n.close},Ue.a.createElement(Ar.a,{kind:Cr.b.CLOSE_MINI,size:Cr.d.XS,colorState:Cr.a.NORMAL,title:a,role:"presentation",onClick:this.props.onClose}))))}}Dc.contextTypes={intl:Sr.i.isRequired},Dc.defaultProps={sticky:!1,requireInteraction:!1,type:E.tc.NORMAL};var yc=Dc;function Lc(e,{i13nModel:t}){e.dispatch(To.wg,{i13nModel:t})}class vc extends He.Component{constructor(e){super(e),this.onCloseWrapper=this.onCloseWrapper.bind(this),this.toastContainerNodes={}}onCloseWrapper(){const{toast:e,onClose:t}=this.props;e.message!==_c&&e.message!==pc&&e.message!==mc||this.context.executeAction(Lc,{i13nModel:{mKey:zr.e.UNSUB_ALL_DONE,sec:zr.g.UNSUB_PANE}}),e.message===Do&&this.context.executeAction(Co.b),t()}componentDidMount(){const e=document.getElementById("app");Object.keys(E.sc).forEach(t=>{const s=E.sc[t],n=document.createElement("div");n.setAttribute("role",s),e.appendChild(n),this.toastContainerNodes[s]=n})}componentDidUpdate({toast:e,role:t}){const{toast:s,role:n}=this.props;if(!s)return Ge.a.unmountComponentAtNode(this.toastContainerNodes[n]);e&&t!==n&&Ge.a.unmountComponentAtNode(this.toastContainerNodes[t]),this.renderToast()}renderToast(){const{toast:e,role:t,onPause:s,onResume:n,multiTask:a,conversations:r}=this.props,{message:o,data:i,type:c=E.tc.WARNING,sticky:l=!1,modal:d=!1,icon:u,bottomAlert:m=!1}=e,p=this.context.getCss(Rc.a,{bottomAlert:m,multiTask:a});let _=Ue.a.createElement("div",{className:p.alert,onMouseOver:s,onMouseLeave:n,"data-test-id":"notifications"},Ue.a.createElement(yc,{icon:u,sticky:l,type:c,onClose:this.onCloseWrapper},Ue.a.createElement(o,babelHelpers.extends({conversations:r},i,{onClose:this.onCloseWrapper}))));d&&(_=Ue.a.createElement("div",{className:p.modal,"data-test-id":"modal",role:"presentation"},_)),Ge.a.unstable_renderSubtreeIntoContainer(this,_,this.toastContainerNodes[t])}render(){return null}}vc.contextTypes={getCss:Ve.a.func.isRequired,executeAction:Ve.a.func.isRequired};var Pc=Object(Ir.b)(e=>{const{isEnabled:t}=Object(ro.b)(e).getFeaturesSelectors();return{multiTask:t(E.nd.MAIL_TABS),conversations:t(E.mb.CONVERSATIONS)}})(vc),Fc=s(143);const xc=Object(Sr.h)({htmlTitle:{id:"html_title",defaultMessage:"\n            {numUnread, plural,\n                =0 {}\n                one {(# unread) - }\n                other {(# unread) - }\n            }{emailAddress} - {yahooBrand}\n        "},htmlTitleNewMessages:{id:"html_title_new_messages",defaultMessage:"{newItemCount, plural,\n            =1 {# New Message}\n            other {# New Messages}\n        }"}});class wc extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.updateTitle=(()=>{const{defaultFolderUnreadCount:e,activeEmailAddress:t,newItemCount:s}=this.props,n=this.getStandardTitle(e,t);if(s){const e=this.getNotificationTitle(s);this.flashTitle(e,n,4)}else document.title=n}),this.getStandardTitle=((e,t)=>{const{formatMessage:s}=this.context.intl,n=this.context.mailBrandNameString||s(Fc.a.mailBrandName);return s(xc.htmlTitle,{numUnread:e,emailAddress:t,yahooBrand:n})}),this.getNotificationTitle=(e=>{const{formatMessage:t}=this.context.intl;return t(xc.htmlTitleNewMessages,{newItemCount:e})}),this.flashTitle=((e,t,s)=>{if(0===s)return;const{documentTitleNotificationDuration:n,documentTitleStandardDuration:a}=this.props,r=s%2==0;document.title=r?e:t,this.flashTitleTimeout=setTimeout(()=>{this.flashTitle(e,t,s-1)},r?n:a)}),t}componentDidMount(){this.updateTitle()}componentWillUnmount(){clearTimeout(this.flashTitleTimeout)}componentDidUpdate(){clearTimeout(this.flashTitleTimeout),this.updateTitle()}render(){return null}}wc.contextTypes={config:Ve.a.object,intl:Sr.i,mailBrandNameString:Ve.a.string};var kc=Object(Ir.b)(e=>{const{getFeaturesSelectors:t}=Object(ro.b)(e),s=t();return{documentTitleNotificationDuration:s.getSetting("documentTitleNotificationDuration"),documentTitleStandardDuration:s.getSetting("documentTitleStandardDuration")}})(wc);var Hc=class extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.updateFavicon=(()=>{const{newItemCount:e}=this.props;this.favicon.href=0===e?this.faviconDefaultImage:this.faviconAlertImage,document.head.removeChild(this.favicon),document.head.appendChild(this.favicon)}),this.generateFaviconAlert=((e,t)=>{const s=document.createElement("canvas"),n=new Image;s.height=s.width=32,n.crossOrigin="anonymous",n.onload=function(){const e=s.getContext("2d");e.beginPath(),e.drawImage(this,0,0),e.fillStyle="red",e.arc(28,6,4,0,2*Math.PI),e.fill(),t(s.toDataURL("image/x-icon"))},n.src=e+"?alert=1"}),t}componentDidMount(){this.favicon=document.getElementById("favicon"),this.faviconDefaultImage=this.favicon.href,this.faviconAlertImage=this.favicon.href,this.generateFaviconAlert(this.favicon.href,e=>{this.faviconAlertImage=e})}shouldComponentUpdate(e){return!(0===e.newItemCount&&this.favicon.href===this.faviconDefaultImage||e.newItemCount>0&&this.favicon.href===this.faviconAlertImage)}componentDidUpdate(){this.updateFavicon()}render(){return null}};var Uc=Object(Ir.b)(e=>{const{isAppVisible:t,getActionTimeStamp:s,getCurrentListId:n,getFoldersSelectors:a,getDefaultFolderIdForSelectedAccount:r,getEmailOfSelectedAccount:o,getApplicationLastVisibleTimeStamp:i,getMessageListItemsSinceTimestamp:c,doesListExist:l}=Object(ro.b)(e),{getFolderUnreadCount:d}=a(),u=d(r()),m=o(),p=n(),_=t()?s():i();return{defaultFolderUnreadCount:u,activeEmailAddress:m,newItemCount:(l(p)?c(p,_):[]).length}})(class extends Ue.a.Component{shouldComponentUpdate({defaultFolderUnreadCount:e,activeEmailAddress:t,newItemCount:s}){const{defaultFolderUnreadCount:n,activeEmailAddress:a,newItemCount:r}=this.props;return e!==n||t!==a||s!==r}render(){return Ue.a.createElement("div",null,Ue.a.createElement(kc,this.props),Ue.a.createElement(Hc,this.props))}});var jc=s(209),Gc=s(140),Bc=s(528),Vc=s.n(Bc);const Wc=["meta+shift+/","ctrl+shift+/","meta+shift+,","ctrl+shift+,"];class qc extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={shown:!1},this.handleShortcuts=(e=>{e.preventDefault(),e.stopPropagation(),!e.shiftKey||!e.ctrlKey&&!e.metaKey||"Comma"!==e.code&&"Slash"!==e.code||this.show(e)}),this.show=(e=>{e.preventDefault(),e.stopPropagation(),this.state.shown||this.setState({shown:!0})}),this.handleDismiss=(()=>{this.setState({shown:!1})}),this.handleKeyDown=(e=>{"Enter"!==e.key&&"Escape"!==e.key||(e.preventDefault(),e.stopPropagation(),this.handleDismiss())}),t}componentDidMount(){this.context.bindShortcut(Wc,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(Wc)}render(){const{shown:e}=this.state,t=Wr()(Vc.a),{spaceId:s,positions:n=[]}=this.props.darlaAdCallResult,a=n.map(e=>Ue.a.createElement("div",{key:e.position,className:t.positionRow},Ue.a.createElement("span",{className:t.positionCol},"Position:",e.position),Ue.a.createElement("span",{className:t.positionCol},"Booking Id:",e.bookId)));return e?Ue.a.createElement(Gc.a,{onClose:this.handleDismiss,onKeyDown:this.handleKeyDown},Ue.a.createElement("div",{className:t.container},Ue.a.createElement("div",{className:t.header},"Ad Information"),Ue.a.createElement("div",{className:t.spaceid},"Space Id:",s),a,this.props.darlaErrorMessage?Ue.a.createElement("div",{className:t.spaceid},"Err:",this.props.darlaErrorMessage):null,Ue.a.createElement(Hr.a,{onClick:this.handleDismiss,className:t.button},"OK"))):null}}qc.contextTypes={bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func};var zc=Object(Ir.b)(e=>{const{getAdsSelectors:t}=Object(ro.b)(e),s=t().getDarlaAdData();return{darlaAdCallResult:s.ads,darlaErrorMessage:s.errorMessage}})(qc),Zc=s(60),Kc=s(117),Yc=s(125),Xc=s(113),$c=s(31),Qc=s(90),Jc=s(534),el=s.n(Jc);const tl="https://login.yahoo.com/config/login?logout=1&.direct=2&.done="+encodeURIComponent("https://www.yahoo.com"),sl=Object(Sr.h)({logout:{id:"logout",defaultMessage:"Sign out"}});function nl(e,{intl:t}){const s=Wr()(el.a),{primaryAccountAddress:n,onLogout:a,onAccountMenuShow:r}=e;return Ue.a.createElement(Yc.a,{className:s.account,onMenuShow:r},Ue.a.createElement(Xc.a,{hasText:!0,tabIndex:Pr.TabIndices.APP_HEADER_ACCOUNT_MENU,"data-test-id":"account-menu",className:s.menuButton},Ue.a.createElement("span",{className:s.button},Ue.a.createElement("span",{className:s.accountText,"data-test-id":"account-first-name"},e.name.first),Ue.a.createElement(Tr.b,{kind:Cr.b.CHEVRON_UP,size:Cr.d.XS,rotate:Cr.c.D180,colorState:Cr.a.INVERTED}))),Ue.a.createElement(Kc.a,null,Ue.a.createElement($c.a,{kind:Qc.a.WRAP_CONTENT,key:n,name:n,ariaLabel:n},Ue.a.createElement("div",{className:s.menuContainer},Ue.a.createElement("span",{className:s.menuName,"data-test-id":"account-full-name"},e.name.first+" "+e.name.last),Ue.a.createElement("span",{className:s.menuAddress,"data-test-id":"account-address"},n))),Ue.a.createElement($c.a,{name:"logout",key:"logout",ariaLabel:t.formatMessage(sl.logout),kind:Qc.a.WRAP_CONTENT},Ue.a.createElement("a",{onClick:a,href:tl,className:s.logoutLink,"data-test-id":"logout-link"},t.formatMessage(sl.logout)))))}nl.contextTypes={intl:Sr.i};var al=s(74),rl=s(81),ol=s(88),il=s(355),cl=s.n(il);const ll=Object(Sr.h)({mini_apps:{id:"appheader.mini_apps",defaultMessage:"Apps"},mail_icon:{id:"appheader.mail_icon",defaultMessage:"Mail"},contacts_icon:{id:"appheader.contacts_icon",defaultMessage:"Contacts"},calendar_icon:{id:"appheader.calendar_icon",defaultMessage:"Calendar"},notepad_icon:{id:"appheader.notepad_icon",defaultMessage:"Notepad"},messenger_icon:{id:"appheader.messenger_icon_branding",defaultMessage:"Messenger"},news_feed_icon:{id:"appheader.news_feed_icon",defaultMessage:"News Feed"}});class dl extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this._getAltText=((e,t)=>""===t?e:t+" | "+e),this.onAccountMenuShow=(()=>{this.context.executeAction(eo.a,{i13nModel:{mKey:zr.e.ACCOUNT_SETTINGS,sec:zr.g.HEADER_SETTINGS}})}),this.onLogout=(e=>{this.context.executeAction(eo.c,{i13nModel:{mKey:zr.e.SIGNOUT,sec:zr.g.HEADER_SETTINGS,interactionType:Object(Ps.i)(e)}})}),this.onLogoClick=(e=>{this.context.executeAction(eo.b,{i13nModel:{mKey:zr.e.YMAIL_LOGO,sec:zr.g.HEADER,interactionType:Object(Ps.i)(e)}}),"function"==typeof this.props.onNavClick&&this.props.onNavClick(e)}),this.handleAppLinkItemClick=((e,t,s)=>{this.context.executeAction(eo.b,{i13nModel:{mKey:t,sec:zr.g.HEADER_NAV,interactionType:Object(Ps.i)(e)}}),"function"==typeof s&&s(e)}),this._renderAppLinkItem=(({href:e,kind:t,text:s,callback:n,isActive:a,mKey:r},o,i)=>{const{formatMessage:c}=this.context.intl;let l;return l=a?o?Cr.a.NORMAL:Cr.a.INVERTED:o?Cr.a.DISABLED:Cr.a.INVERTED_DIM,Ue.a.createElement("li",{key:e,className:o?null:i.iconWrapper},Ue.a.createElement("a",{onClick:e=>this.handleAppLinkItemClick(e,r,n),href:e,className:o?i.mailAppsPopoverLink:i.iconNavLink,"aria-label":c(s),title:c(s),target:t,"data-iskeynav":!0,tabIndex:-1},Ue.a.createElement(Tr.b,{colorState:l,kind:t,size:Cr.d.XS}),o?Ue.a.createElement("span",{className:i.mailAppsPopoverItemLabel},a?Ue.a.createElement("strong",null,c(s)):c(s)):null))}),this._renderAppLinkItems=(e=>{const t=Wr()(cl.a,{tabsVisible:this.props.tabsVisible});return[{href:this.props.defaultRouteURL,kind:Cr.b.INBOX,text:ll.mail_icon,callback:this.props.onNavClick,isActive:!0,mKey:zr.e.MAIL_ICON},{href:"https://mail.yahoo.com/neo/launch?action=contacts",kind:Cr.b.CONTACTS,text:ll.contacts_icon,mKey:zr.e.CONTACTS_ICON},{href:this.props.calendarURL,kind:Cr.b.CALENDAR,text:ll.calendar_icon,mKey:zr.e.CALENDAR_ICON},{href:"https://calendar.yahoo.com/?view=notepad",kind:Cr.b.NOTEPAD,text:ll.notepad_icon,mKey:zr.e.NOTEPAD_ICON},{href:"https://messenger.yahoo.com/",kind:Cr.b.MESSENGER,text:ll.messenger_icon,mKey:zr.e.MESSENGER_ICON}].map(s=>this._renderAppLinkItem(s,e,t))}),t}shouldComponentUpdate(e){return this.props.primaryAccountAddress!==e.primaryAccountAddress||this.props.name.first!==e.name.first||this.props.name.last!==e.name.last||this.props.partnerBrand!==e.partnerBrand||this.props.defaultRouteURL!==e.defaultRouteURL||this.props.tabsVisible!==e.tabsVisible||this.props.onNavClick!==e.onNavClick}render(){const{primaryAccountAddress:e,name:t,tabsVisible:s}=this.props,{formatMessage:n}=this.context.intl,a=this.context.mailBrandNameString||n(Fc.a.mailBrandName),r=Wr()(cl.a,{tabsVisible:s});return Ue.a.createElement("header",{className:r.header},Ue.a.createElement("div",{className:r.brandSideContainer},Ue.a.createElement("div",{className:r.logo},Ue.a.createElement("a",{href:this.props.defaultRouteURL,onClick:this.onLogoClick,"aria-label":this._getAltText(a,this.props.partnerBrand),tabIndex:-1},Ue.a.createElement("img",{className:r.logoImage,alt:this._getAltText(a,this.props.partnerBrand),src:Object(Zc.a)("/img/logo_yahoo.png")}))),Ue.a.createElement("div",{className:r.mailAppsCompact},Ue.a.createElement(xr.a,null,Ue.a.createElement(wr.a,null,Ue.a.createElement(Ar.a,{kind:Cr.b.APP_HIDDEN,title:n(ll.mini_apps),colorState:Cr.a.INVERTED,tabIndex:Pr.TabIndices.APP_HEADER_MAIL_APPS})),Ue.a.createElement(Fr.b,{triggerOn:kr.h.CLICK,permittedArrowDirections:[kr.g.UP],align:kr.a.START,offset:4*Pr.GRID_UNIT,zAltitude:Pr.ZIndices.POPOVER.HIGH,"data-test-id":"mail-apps-popover"},Ue.a.createElement("div",{className:r.popoverListWrapper},Ue.a.createElement(jr.a,{kind:ol.a.MENU,focusOnMount:!0},this._renderAppLinkItems(!0)))))),Ue.a.createElement(rl.a,{axis:rl.b.HORIZONTAL,"data-test-id":"app-header",groupTabIndex:Pr.TabIndices.APP_HEADER_MAIL_APPS},Ue.a.createElement("ul",{className:r.mailApps},this._renderAppLinkItems(!1)))),Ue.a.createElement("div",{className:r.searchCenterContainer},Ue.a.createElement("div",{className:r.searchContainer},this.props.searchComponent)),Ue.a.createElement("div",{className:r.accountToolsSideContainer},Ue.a.createElement("div",{className:r.avatar},Ue.a.createElement(al.c,{contact:{email:e},size:al.b.M}),Ue.a.createElement(nl,{primaryAccountAddress:e,name:t,onAccountMenuShow:this.onAccountMenuShow,onLogout:this.onLogout})),Ue.a.createElement("div",{className:r.settingsLink},this.props.settings?this.props.settingsMenuComponent:null)))}}dl.contextTypes={config:Ve.a.object,executeAction:Ve.a.func,intl:Sr.i.isRequired,mailBrandNameString:Ve.a.string};var ul=dl,ml=s(436),pl=s.n(ml),_l=s(166);const hl=Object(Sr.h)({settingsMenu:{id:"settings_menu_aria_label",defaultMessage:"Settings Menu"}});class El extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.handleGearIconClick=(()=>{this.props.showSettingsCue&&this.props.featureCueClosed({name:E.mb.SETTINGS_CUE}),this.props.showSettings({i13nModel:{mKey:zr.e.SETTINGS_GEAR_ICON,sec:zr.g.HEADER_NAV}})}),this.handleSettingsLabelClick=(()=>{this.props.showSettings({i13nModel:{mKey:zr.e.SETTINGS_LABEL,sec:zr.g.HEADER_NAV}})}),this.cueTryNowHandler=(()=>{this._container.hide(kr.h.MOUNT),this._container.show(kr.h.CLICK)}),this.updateContent=(()=>{this.popoverContent&&this.popoverContent.updatePosition()}),this.renderCue=(()=>this.props.showSettingsCue?Ue.a.createElement(Fr.a,{triggerOn:kr.h.MOUNT,onClose:this.cueClosed,zAltitude:Pr.ZIndices.POPOVER.HIGH,isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},persistent:!0,permittedArrowDirections:[kr.g.END]},Ue.a.createElement(Qr.a,{import:"../../atoms/settings_personalize_cue",cueName:E.mb.SETTINGS_CUE,onTryNow:this.cueTryNowHandler,onShow:this.updateContent,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,901))},_moduleResolver:function(){return 901}})):null),this.getFujiIcon=(()=>{const{formatMessage:e}=this.context.intl,t=this.context.getThemeMode()!==Is.f.LIGHT;return Ue.a.createElement(Ar.a,{onClick:this.handleGearIconClick,"data-iskeynav":!0,paddingLess:!0,size:Cr.d.XS,kind:Cr.b.SETTINGS,title:e(hl.settingsMenu),"aria-label":e(hl.settingsMenu),colorState:Cr.a.INHERITED,isOnDarkBackground:t})}),t}componentDidMount(){window.showSettingsPopover&&(this._container.show(kr.h.CLICK),window.showSettingsPopover=void 0),this.props.autoOpenSettingsPopover&&!window.autoOpenSettingsPopover&&(this._container.show(kr.h.CLICK),window.autoOpenSettingsPopover=!0)}componentWillReceiveProps(e){!this.props.autoOpenSettingsPopover&&e.autoOpenSettingsPopover&&(this._container.show(kr.h.CLICK),this.props.toggleAutoOpenSettingsPopover({status:!1}))}render(){const{verticalLayout:e,previewPaneSetting:t,hasContactCard:n,windowDimensions:a,commsPropertiesSection:r,isRTL:o}=this.props,i=e?kr.a.START:kr.a.END,c=e?kr.g.END:kr.g.UP,l=(a?a.contentAndRightRailHeight:0)-(e?_l.g:r?r.clientHeight:_l.a)-_l.f,d=this.context.getCss(pl.a,{verticalLayout:e,verticalPreviewPane:t===E.Gc.RIGHT,hasContactCard:n});return Ue.a.createElement("div",{className:d.settingsLabelIconContainer},Ue.a.createElement(xr.a,{ref:e=>this._container=e},Ue.a.createElement(wr.a,null,Ue.a.createElement("div",{className:d.settingsGearIcon},e?null:Ue.a.createElement("span",{className:d.label,onClick:this.handleSettingsLabelClick,"data-test-id":"settings-link-label"},Ue.a.createElement(Sr.c,{id:"settings_link_label",defaultMessage:"Settings"})),this.getFujiIcon())),Ue.a.createElement(Fr.a,{offset:8,align:i,arrowSize:kr.b.M,triggerOn:kr.h.CLICK,overflowScroll:!1,permittedArrowDirections:[c],bg:kr.d.LIGHTGRAY,isRTL:o},Ue.a.createElement(Qr.a,{import:"./settings_menu",onOptOutFeedback:this.props.onOptOutFeedback,availableHeightBelowCommsProps:l,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,966))},_moduleResolver:function(){return 966}},Ue.a.createElement(Qr.b,{loading:!0},Ue.a.createElement("div",{className:d.menuContainerLazy},Ue.a.createElement(Nc.b,null))))),this.renderCue()))}}El.contextTypes={intl:Sr.i.isRequired,executeAction:Ve.a.func,getCss:Ve.a.func,getThemeMode:Ve.a.func};var gl=Object(Ir.b)(e=>{const{getEnvironmentSelectors:t}=Object(ro.b)(e);return{isRTL:"rtl"===t().getPageDirection()}},e=>({featureCueClosed:t=>e(Object(Jr.a)(t)),showSettings:t=>e(Object(_i.x)(t)),toggleAutoOpenSettingsPopover:t=>e(Object(_i.y)(t))}))(El),bl=s(101),Il=s.n(bl),fl=s(215),Sl=s.n(fl),Al=s(170),Tl=s.n(Al),Cl=s(147),Ol=s(382),Rl=s(381),Nl=s(537),Ml=s.n(Nl),Dl=s(87);const yl=Wr()(Ml.a),Ll=Object(Sr.h)({chevron_title:{id:"advanced_search.chevron_title",defaultMessage:"Toggle advanced search pane"}});class vl extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.handleOnClick=(e=>{const t={mKey:zr.e.ADVANCED_SEARCH,interactionType:Object(Ps.i)(e)};this.props.onClick({i13nModel:t})}),t}render(){const{formatMessage:e}=this.context.intl,{chevronDown:t,tabIndex:s}=this.props;return Ue.a.createElement("div",{className:yl.buttonContainer,"data-test-id":"advanced-search-button"},Ue.a.createElement(Dl.a,{tabIndex:s,kind:Cr.b.CHEVRON_UP,colorStates:{normal:Cr.a.DISABLED,hovered:Cr.a.SELECTED},size:Cr.d.S,rotate:t?Cr.c.D180:null,title:e(Ll.chevron_title),"aria-label":e(Ll.chevron_title),onClick:this.handleOnClick,paddingLess:!0}))}}vl.contextTypes={intl:Sr.i.isRequired},vl.defaultProps={chevronDown:!0};var Pl=vl,Fl=s(79),xl=s(77),wl=s(152),kl=s(183),Hl=s(134);const Ul=Wr()(Tl.a),jl=2e3,Gl=Object(Sr.h)({search_button_title:{id:"search.search_button_title",defaultMessage:"Search"},search_placeholder:{id:"search.search_box_placeholder",defaultMessage:"Find messages, documents, photos or people"},search_coupons_placeholder:{id:"search.search_coupons_placeholder",defaultMessage:"Search deals in your inbox"},search_offers_placeholder:{id:"search.search_offers_placeholder",defaultMessage:"Search for coupons"},search_aria_label:{id:"search.search_aria_label",defaultMessage:"Search box. Find messages, documents, photos or people"},search_keyword_placeholder:{id:"search.keyword_placeholder",defaultMessage:"Add keywords"},suggestions_available:{id:"search.suggestions_available",defaultMessage:"{suggestionsNum, plural,\n                            =0 {No suggestions are available.}\n                            one {# suggestion is available.}\n                            other {# suggestions are available. Use up and down arrows to select.}\n                        }"}}),Bl={[E.zd.COUPONS]:Gl.search_coupons_placeholder,[E.zd.GROCERIES]:Gl.search_offers_placeholder},Vl=zr.g.HEADER_SEARCH,Wl={[E.Hd.PERSON]:"P",[E.Hd.KEYWORD]:"K",[E.Hd.WEB_SEARCH]:"W",[E.Hd.HEADER]:"H",[E.Hd.RECENT]:"R",[E.Hd.EMAIL]:"E"},ql=Object(S.c)(["CONTACT","FOLDER","COUPON_INDICATOR"]);class zl extends Ue.a.Component{constructor(e){super(e),Zl.call(this);const{keyword:t="",name:s="",emailAddresses:n=[],accountIds:a=[],folders:r=[]}=e.searchQuery,{smartViewSearch:o,originalSearchQuery:i}=e,c=[E.zd.GROCERIES].includes(o)&&""===t&&i.search?i.search:t,l=a&&1===a.length&&a[0]||"",[d=""]=r;this.state={inputValue:c,pillContact:{name:s,emailAddresses:n,type:ql.CONTACT},pillCoupon:e.smartViewSearch,activeSuggestion:null,showInputHint:!1,showAdvancedSearchPane:!1,searchBoxDimensions:null,pillFolder:{accountId:l,folderId:d,type:ql.FOLDER}}}componentDidMount(){const{searchField:e}=this.refs;if(this.props.setRef&&this.props.setRef(this.refs.input),!e)return;const t=Ge.a.findDOMNode(e).getBoundingClientRect();this.setState({searchBoxDimensions:t})}componentWillReceiveProps({searchQuery:e,originalSearchQuery:t,isWindowResizingDone:s,smartViewSearch:n}){const{searchQuery:a,originalSearchQuery:r,smartViewSearch:o}=this.props,{pillCoupon:i}=this.state,c=Object(io.d)(a),l=Object(io.d)(e),d=e.accountIds,u=d&&1===d.length,m=[E.zd.GROCERIES].includes(o)&&i,p=c!==l||(r&&m?r.listFilter:"")!==(t&&m?t.listFilter:"");if(o!==n&&this.setState({pillCoupon:n}),p&&this.setState({inputValue:e.keyword,pillContact:{name:e.name,emailAddresses:e.emailAddresses,type:ql.CONTACT},pillFolder:{accountId:u&&d[0]||"",folderId:e.folders&&e.folders[0]||"",type:ql.FOLDER}}),s){const e=Ge.a.findDOMNode(this.refs.searchField).getBoundingClientRect();this.setState({showAdvancedSearchPane:!1,searchBoxDimensions:e})}}autoFillSearchbox(e,t,s){const n=e.findIndex(e=>e.type!==E.Hd.HEADER);if(-1!==n){const{name:a}=this.suggestionValue(e[n]);s(n),"Tab"===t&&e[n].type===E.Hd.PERSON||this.setState({inputValue:a||this.state.inputValue,activeSuggestion:null})}}renderCouponIndicator(){const e=Wr()(Sl.a),{formatMessage:t}=this.context.intl;return Ue.a.createElement("div",{className:e.couponIndicator},Ue.a.createElement(Tr.b,{kind:Cr.b.SCISSORS,size:Cr.d.XS,colorState:Cr.a.SELECTED}),t(lo.a.smart_view_COUPONS),Ue.a.createElement(Dl.a,{kind:Cr.b.CLOSE_MINI,size:Cr.d.XXS,colorStates:{normal:Cr.a.DISABLED,hovered:Cr.a.SELECTED},onClick:()=>this.setState({pillCoupon:!1}),style:{padding:0}}))}renderOffersIndicator(){const{retailerName:e}=this.props,t=Wr()(Sl.a);return Ue.a.createElement("div",{className:t.couponIndicator},Ue.a.createElement(Tr.b,{kind:Cr.b.BASKET,size:Cr.d.XS,colorState:Cr.a.SELECTED})," ",e,Ue.a.createElement(Dl.a,{kind:Cr.b.CLOSE_MINI,size:Cr.d.XXS,colorStates:{normal:Cr.a.DISABLED,hovered:Cr.a.SELECTED},onClick:()=>this.setState({pillCoupon:!1}),style:{padding:0}}))}render(){const{smartViewSearch:e,hasCoupons:t}=this.props,{formatMessage:s}=this.context.intl,{inputValue:n,pillCoupon:a}=this.state,r=a?Bl[e]:null,o=this.hasPillContact()?Gl.search_keyword_placeholder:Gl.search_placeholder,i=s(a?r:o),c=Wr()(Sl.a,{hasPill:this.hasPillContact()||this.hasPillFolder()||a,hasContactPill:this.hasPillContact()}),l=this.getSuggestions(),d=this.context.intl.formatMessage(Gl.suggestions_available,{suggestionsNum:l.length}),u=[E.zd.GROCERIES].includes(e)&&a,m=!this.hasPillContact()&&!u,p=n&&!u,_=(!e||!a||t)&&!u;return Ue.a.createElement("div",{className:c.container,"data-test-id":"search-box"},Ue.a.createElement("div",{className:c.searchInputContainer,ref:"searchField"},Ue.a.createElement(wl.Pills,{ref:"input","data-test-id":"search-box-input",multiple:!1,initialActiveIndex:-1,className:Il()(Ul.pills,c.pills),containerClassName:Il()(Ul.pillsContainer,c.pillsContainer),containerChildClassName:Ul.pillsContainerChild,pillClassName:Ul.pillOuter,ariaLabel:s(Gl.search_aria_label),placeholder:i,typeaheadInputClassName:c.searchInput,typeaheadInputContainerClassName:c.typeaheadInputContainer,typeaheadInputHintClassName:c.searchHint,typeaheadDropDownClassName:c.suggestionDropdown,inputValue:this.getTypeaheadDisplayText(),onFocus:this.handleSearchFocus,onInputKeyDown:this.handleKeydown,onInputChange:this.handleSearchChange,selected:this.getPills(),onSelect:this.handleSearchSuggestionSelect,inputTabIndex:Pr.TabIndices.APP_HEADER_SEARCHBOX,hintValue:this.getInputHint(),onActiveIndexChange:this.updatedSelectedSuggestion,renderPill:this.renderPill,messageForIncomingOptions:d,typeaheadAriaStatusClassName:c.typeaheadAriaStatus,inputMaxLength:jl},m?l.map(this.renderSuggestion):null,p?this.renderWebSearchSuggestion():null),_?this.renderAdvancedSearch():null),Ue.a.createElement(Ar.a,{className:c.searchButton,"data-test-id":"search-basic-btn",tabIndex:Pr.TabIndices.APP_HEADER_SEARCHBOX,title:s(Gl.search_button_title),"aria-label":s(Gl.search_button_title),kind:Cr.b.SEARCH,size:Cr.d.S,onClick:this.handleBasicSearchSubmit,colorState:Cr.a.INVERTED,"data-iskeynav":!0,paddingLess:!0}))}}zl.contextTypes={navigateTo:Ve.a.func.isRequired,config:Ve.a.object,intl:Sr.i.isRequired},zl.defaultProps={importantContacts:[],suggestionsQuery:"",searchQuery:{},onSearchChange:()=>{},dragDropPill:!0};var Zl=function(){this.handleSearchFocus=(e=>{const{hasCoupons:t,smartViewSearch:s}=this.props,{showAdvancedSearchPane:n,pillCoupon:a}=this.state;this.props.onFocus&&this.props.onFocus({i13nModel:{mKey:zr.e.SEARCH_BAR,sec:Vl,interactionType:Object(Ps.i)(e)}}),s&&![E.zd.GROCERIES].includes(s)&&t&&!n&&a&&this.setState({showAdvancedSearchPane:!0})}),this.handleBasicSearchSubmit=(e=>{this.handleSearchSubmit({i13nModel:{mKey:zr.e.SEARCH_BUTTON,interactionType:Object(Ps.i)(e)}})}),this.handleAdvancedSearchSubmit=(e=>{this.handleSearchSubmit({i13nModel:{mKey:zr.e.ADVANCED_SEARCH_BUTTON,interactionType:Object(Ps.i)(e)}})}),this.handleSearchSubmit=(e=>{const t="string"==typeof this.state.inputValue?this.state.inputValue.trim():"",{smartViewSearch:s}=this.props,{pillCoupon:n,pillContact:a,pillFolder:r}=this.state,o=[E.zd.GROCERIES].includes(s)&&n,i=babelHelpers.extends({smartViewSearch:n,emailAddresses:a.emailAddresses,name:o?this.props.name:a.name,keyword:t},e.query);r.accountId&&Object.assign(i,{accountIds:[r.accountId]}),r.folderId&&Object.assign(i,{folders:[r.folderId]}),this.setState({inputValue:t,showInputHint:!1,showAdvancedSearchPane:!1},()=>{this.props.onSearchSubmit({query:i,i13nModel:Object.assign({sec:Vl,mKeyGroup:zr.f.search},e.i13nModel)})}),document.activeElement&&document.activeElement.blur()}),this.handleSearchChange=((e,{suggestionsKeyword:t="",folders:s,accountIds:n}={})=>{const{onSearchChange:a,smartViewSearch:r}=this.props,{showAdvancedSearchPane:o,pillCoupon:i}=this.state,c={inputValue:e,showInputHint:!0,showAdvancedSearchPane:(!r||!i)&&o};s&&Object.assign(c,{pillFolder:{accountId:"",folderId:s[0]||"",type:ql.FOLDER}}),n&&Object.assign(c,{pillFolder:{accountId:n[0]||"",folderId:"",type:ql.FOLDER}}),this.setState(c,()=>{a(e,{suggestionsKeyword:t})})}),this.handleWebSearch=(()=>{this.props.onWebSearchSubmit(this.state.inputValue)}),this.handleSearchSuggestionSelect=(e=>{const t=this.getSuggestions(),{pillCoupon:s,pillFolder:n,inputValue:a}=this.state;if(e===E.Hd.WEB_SEARCH)return void this.handleWebSearch();const r=t[e-1],o=t.map(e=>Wl[e.type]),i=t.map(e=>{switch(e.type){case E.Hd.PERSON:{const{name:t}=this.suggestionValue(e);return t}case E.Hd.HEADER:return"HEADER";case E.Hd.KEYWORD:case E.Hd.RECENT:case E.Hd.EMAIL:return e.name;default:Object(h.a)(!1,"All suggestion type must be handled here.")}});let c;const l=""===a;switch(r.type){case E.Hd.PERSON:c=l?zr.e.SEARCH_EMPTY_PEOPLE_SUGGEST:zr.e.SEARCH_PEOPLE_SUGGEST;break;case E.Hd.KEYWORD:c=l?zr.e.SEARCH_EMPTY_KWRD_SUGGEST:zr.e.SEARCH_KWRD_SUGGEST;break;case E.Hd.EMAIL:c=l?zr.e.SEARCH_EMPTY_EMAIL_SUGGEST:zr.e.SEARCH_EMAIL_SUGGEST;break;default:c=l?zr.e.SEARCH_EMPTY_RECENT_SUGGEST:zr.e.SEARCH_RECENT_SUGGEST}const d={mKey:c,sec:Vl,mKeyGroup:zr.f.search,actionData:{suggPos:e,prefix:a,suggType:o,suggVal:i}};let u={};switch(n.accountId&&(u=babelHelpers.extends({},u,{accountIds:[n.accountId]})),n.folderId&&(u=babelHelpers.extends({},u,{folders:[n.folderId]})),r.type){case E.Hd.PERSON:{const{emailAddresses:e,name:t,contactId:n}=this.suggestionValue(r);u=babelHelpers.extends({},u,{emailAddresses:e,name:t,contactIds:[n]}),this.props.onSearchSubmit({query:u,smartViewSearch:s,i13nModel:d}),this.setState({pillContact:{name:t,emailAddresses:e,type:ql.CONTACT},activeSuggestion:null,inputValue:""});break}case E.Hd.RECENT:case E.Hd.KEYWORD:{const e=r.name;u=babelHelpers.extends({},u,{keyword:e}),this.props.onSearchSubmit({query:u,smartViewSearch:s,i13nModel:d}),this.setState({activeSuggestion:null,inputValue:e});break}case E.Hd.HEADER:break;case E.Hd.EMAIL:{const{conversations:e}=this.props,{messageId:t,conversationId:s}=r,n=e?s:t,a=Object(io.d)({keyword:r.name});this.context.navigateTo({route:Object(ao.q)({groupId:n,listId:a}),i13nModel:d});break}default:Object(h.a)(!1,"All suggestion type must be handled here.")}}),this.deleteRecent=(e=>{e&&e.name&&this.props.deleteRecentSearch(e.name)}),this.handleAdvancedSearchKeyDown=(e=>{switch(Object(Hl.getEventKey)(e)){case"Escape":this.setState({showAdvancedSearchPane:!1});break;case"Enter":(this.state.inputValue||this.state.pillFolder.accountId||this.state.pillFolder.folderId)&&this.handleAdvancedSearchSubmit(e);break;case"Tab":e.preventDefault()}}),this.isCursorEndOfInput=(e=>{const t=e.target.selectionEnd,{inputValue:s}=this.state;return t===s.length}),this.handleKeydown=(e=>{let t;const{smartViewSearch:s}=this.props,n=this.getSuggestions(),a=Object(Hl.getEventKey)(e);switch(a){case"Enter":this.handleBasicSearchSubmit(e);break;case"ArrowUp":case"ArrowDown":break;case"ArrowRight":this.isCursorEndOfInput(e)&&n&&this.autoFillSearchbox(n,a,()=>{});break;case"Tab":!this.hasPillContact()&&n&&this.state.inputValue&&(this.autoFillSearchbox(n,a,e=>this.handleSearchSuggestionSelect(e+1)),e.preventDefault());break;case"Escape":this.setState({activeSuggestion:null});break;case"Backspace":{const e=this.getPills();if(t={inputValue:this.getTypeaheadDisplayText(),activeSuggestion:null},""===this.state.inputValue&&e.length){switch(e[e.length-1].type){case ql.COUPON_INDICATOR:[E.zd.GROCERIES].includes(s)||(t.pillCoupon=!1);break;case ql.FOLDER:t.pillFolder={};break;case ql.CONTACT:t.pillContact={};break;default:Object(h.a)(!1,"all pill types should be handled here")}}this.setState(t);break}default:this.setState({inputValue:this.getTypeaheadDisplayText(),activeSuggestion:null})}}),this.renderSuggestionHeader=((e,t)=>{const s=Wr()(Sl.a,{firstEntry:e.firstEntry});let n;switch(e.headerType){case E.Fd.KEYWORD:n=Ue.a.createElement(Sr.c,{id:"search.header_search_suggestion",defaultMessage:"Suggested searches"});break;case E.Fd.RECENT:n=Ue.a.createElement(Sr.c,{id:"search.header_recent_searches",defaultMessage:"Recent searches"});break;case E.Fd.PERSON:n=Ue.a.createElement(Sr.c,{id:"search.header_people_suggestions",defaultMessage:"Top contacts"});break;case E.Fd.EMAIL:n=Ue.a.createElement(Sr.c,{id:"search.header_email_suggestions",defaultMessage:"Suggested messages"})}return Ue.a.createElement(wl.Option,{key:`header-${e.headerType}`,value:t+1,test:1,disabled:!0},Ue.a.createElement("div",{className:s.headerLabel},n))}),this.renderSuggestion=((e,t)=>{const{inputValue:s}=this.state;let n=null;return n=e.type&&e.type===E.Hd.HEADER?this.renderSuggestionHeader(e,t):Ue.a.createElement(wl.Option,{key:t,value:t+1},Ue.a.createElement(Rl.a,{suggestion:e,inputValue:s,deleteRecent:this.deleteRecent}))}),this.getSuggestions=(()=>{const{importantContacts:e,recentSearches:t,showRecentSuggestions:s,suggestionsQuery:n,showEmptySearchSuggestions:a,searchSuggestionsV2Enabled:r}=this.props,{inputValue:o}=this.state,i=this.props.getSearchSuggestions(n),c=Array.isArray(i)?t:[];return(r?Cl.e:Cl.d)(i,e,c,o,s,a)}),this.renderContactPill=((e,t,s,n)=>{const a=e.emailAddresses&&e.emailAddresses[0],r=e.name||a;if(a)return Ue.a.createElement(kl.a,{value:r,title:a?`${r} <${a}>`:r,useEllipsis:!0,maxWidth:Pr.PillMaxWidths.L,contactEmail:a,isLastElement:t===s.length-1,isSelected:n,onPillRemove:this.clearContactPill,dragDropPill:this.props.dragDropPill})}),this.renderPill=((e,t,s,n)=>e.type===ql.COUPON_INDICATOR?this.props.smartViewSearch===E.zd.GROCERIES?this.renderOffersIndicator():this.renderCouponIndicator():e.type===ql.FOLDER?this.renderFolderPill(e,t,s,n):e.type===ql.CONTACT?this.renderContactPill(e,t,s,n):null),this.clearContactPill=(()=>{this.setState({pillContact:{}})}),this.clearFolderPill=(()=>{this.setState({pillFolder:{}})}),this.hasPillContact=(()=>{const{name:e,emailAddresses:t=[]}=this.state.pillContact;return!(!e&&!t[0])}),this.hasPillFolder=(()=>{const{accountList:e}=this.props,{pillFolder:t}=this.state,{accountId:s,folderId:n}=t;return!!(s&&1!==e.length||n)}),this.getAccountDescription=(e=>{const{formatMessage:t}=this.context.intl,{description:s}=e,n=Object(ec.g)(e);if(s)return s;switch(n){case E.hb.YAHOO:case E.hb.YAHOO_SB:return t(oo.a.yahoo_account_description);case E.hb.GOOGLE:case E.hb.GOOGLE_APP:return t(oo.a.gmail_account_description);case E.hb.OUTLOOK:return t(oo.a.outlook_account_description);case E.hb.AOL:return t(oo.a.aol_account_description);default:return t(oo.a.unknown_account_description)}}),this.normalizeFolderPill=(()=>{const{pillFolder:e}=this.state,{accountId:t,folderId:s}=e,{accountList:n}=this.props,{formatMessage:a}=this.context.intl;let r,o;if(t&&(o=n.find(e=>e.id===t),r=this.getAccountDescription(o)),s){const e=this.props.getFolderName(s),t=this.props.getAccountIdByFolderId(s),i=this.props.getFolderDisplayTypeByFolderId(s),c=Object(bt.m)(a,i)||e;o=n.find(e=>e.id===t),r=1===n.length?c:this.getAccountDescription(o)+"/"+c}return{label:r,email:o.email,type:ql.FOLDER}}),this.renderFolderPill=((e,t,s,n)=>{const{label:a,email:r}=e;return Ue.a.createElement(kl.a,{value:a,title:a,useEllipsis:!0,maxWidth:Pr.PillMaxWidths.L,contactEmail:r,isLastElement:t===s.length-1,isSelected:n,onPillRemove:this.clearFolderPill,isFolderPill:!0,pillFujiKind:Cr.b.FOLDER,pillFujiColorState:Cr.a.SECOND_LEVEL_GRAY,pillFujiSize:Cr.d.XXS,dragDropPill:this.props.dragDropPill})}),this.getPills=(()=>{const{pillCoupon:e}=this.state,t=[];return e&&t.push({type:ql.COUPON_INDICATOR}),this.hasPillFolder()&&t.push(this.normalizeFolderPill(this.state.pillFolder)),this.hasPillContact()&&t.push(this.state.pillContact),t}),this.renderWebSearchSuggestion=(()=>{const{inputValue:e}=this.state,t=E.Hd.WEB_SEARCH,s=this.getSuggestions(),n=Wr()(Sl.a,{showPeopleSuggestion:s.length>0&&!this.hasPillContact()});return Ue.a.createElement(wl.Option,{value:t},Ue.a.createElement("div",{className:n.suggestionWebOptionBorder}),Ue.a.createElement("div",{className:n.suggestionWebOption},Ue.a.createElement("span",{className:n.suggestionWebIcon},Ue.a.createElement(Tr.b,{kind:Cr.b.SEARCH_WEB,size:Cr.d.S,colorState:Cr.a.NORMAL_LESS_DIM})),Ue.a.createElement("span",{className:n.suggestionWebLabel},Ue.a.createElement(Sr.c,{id:"search.search_web_query",defaultMessage:"Search the web for {formattedWebSearchQuery}",values:{formattedWebSearchQuery:Ue.a.createElement("span",{className:n.suggestionWebQuery},Ue.a.createElement("b",null,Ue.a.createElement("q",null,e)))}}))))}),this.suggestionValue=(e=>{const{name:t,emailIds:s,serviceId:n}=e;return{name:t,emailAddresses:s,contactId:n}}),this.getInputHint=(()=>{const{inputValue:e,showInputHint:t,activeSuggestion:s,showAdvancedSearchPane:n}=this.state,a=this.getSuggestions().filter(e=>e.type!==E.Hd.HEADER);if(!a||!a[0])return"";const{name:r,emailAddresses:o=[]}=this.suggestionValue(a[0]),i=o[0],c=new RegExp("^"+Object(xl.a)(e),"i");return!e||!t||s||this.hasPillContact()||n?"":r&&c.test(r)?e+r.slice(e.length):i&&c.test(i)?e+i.slice(e.length):""}),this.updatedSelectedSuggestion=(e=>{const t=this.getSuggestions();this.hasPillContact()||this.setState({activeSuggestion:t[e]})}),this.getTypeaheadDisplayText=(()=>{const{activeSuggestion:e,inputValue:t}=this.state;return e&&this.suggestionValue(e).name||t}),this.handleAdvancedSearchButtonClick=(({i13nModel:e})=>{const{showAdvancedSearchPane:t}=this.state;this.setState({showAdvancedSearchPane:!t}),this.props.onSearchBarFocus({i13nModel:e})}),this.handleAdvancedSearchPaneClick=(({overlayClicked:e})=>{e||this.setState({showAdvancedSearchPane:!1})}),this.renderAdvancedSearch=(()=>{const{getSearchSuggestions:e,suggestionsQuery:t,accountList:n,activeAccountId:a,smartViewSearch:r}=this.props,o=[];let i=Object(Cl.b)(e(t));i=Object(Cl.c)(i);const{showAdvancedSearchPane:c,searchBoxDimensions:l,inputValue:d,pillFolder:u,pillCoupon:m}=this.state,{accountId:p,folderId:_}=u;if(o.push(Ue.a.createElement(Pl,{tabIndex:Pr.TabIndices.APP_HEADER_SEARCHBOX,key:"advanced-search-button",onClick:this.handleAdvancedSearchButtonClick,chevronDown:!c})),c){const e={inputValue:d,accountIds:p?[p]:[],folders:_?[_]:[]},t={width:l.width};o.push(Ue.a.createElement(Ol.a,{key:"advanced-search-pane",alignTo:this.refs.searchField,alignmentPoints:[Fl.a.TopLeft,Fl.a.BottomLeft],useShim:!0,onClick:this.handleAdvancedSearchPaneClick,onKeyDown:this.handleAdvancedSearchKeyDown},Ue.a.createElement(Qr.a,m?{import:"../coupons_search_pane/index.jsx",containerStyle:t,smartViewSearch:r,inputValue:d,onSearchSubmit:this.handleSearchSubmit,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,902))},_moduleResolver:function(){return 902}}:{import:"../advanced_search_pane/index.js",style:t,accountList:n,activeAccountId:a,searchInput:e,suggestions:i,onSearchChange:this.handleSearchChange,onSearchSubmit:this.handleAdvancedSearchSubmit,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,943))},_moduleResolver:function(){return 943}})))}return o})};var Kl=Object(Ir.b)(e=>{const{getFoldersSelectors:t,getSearchSuggestions:s,isFeatureEnabled:n}=Object(ro.b)(e),{getAccountIdByFolderId:a,getFolderDisplayTypeByFolderId:r,getFolderName:o}=t();return{getFolderName:o,getAccountIdByFolderId:a,getFolderDisplayTypeByFolderId:r,getSearchSuggestions:s,showRecentSuggestions:n(E.mb.SHOW_RECENT_SUGGESTIONS),showEmptySearchSuggestions:n(E.mb.SHOW_EMPTY_SEARCH_SUGGESTIONS),searchSuggestionsV2Enabled:n(E.mb.SEARCH_SUGGESTIONS_V2),conversations:n(E.mb.CONVERSATIONS)}})(zl),Yl=s(177),Xl=s(226),$l=s(190),Ql=s(70);Object(to.b)({group:so.c,keys:{focusOnSearch:{key:"S,/",description:Ue.a.createElement("strong",null,Ue.a.createElement(Sr.c,{id:"shortcut.focus_search",defaultMessage:"Search"}))}}});const Jl=zr.g.HEADER_SEARCH;class ed extends Ue.a.Component{constructor(e){super(e),td.call(this);const{searchQuery:t}=e,{keyword:s=""}=t;this.state={suggestionsQuery:s}}componentDidMount(){this.context.bindShortcut(["s","/"],this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(["s","/"])}componentWillReceiveProps({searchQuery:e={}}={}){const t=e.keyword||"",{suggestionsQuery:s}=this.state,{searchQuery:n}=this.props;Object(io.d)(n)!==Object(io.d)(e)&&s!==t&&this.setState({suggestionsQuery:t})}render(){return Ue.a.createElement(Kl,babelHelpers.extends({},this.props,{suggestionsQuery:this.state.suggestionsQuery,onSearchSubmit:this.handleSearchSubmit,onSearchChange:this.handleSearchChange,onWebSearchSubmit:this.handleWebSearch,setRef:this.setRef}))}}ed.contextTypes={getStore:Ve.a.func.isRequired,navigateTo:Ve.a.func.isRequired,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func},ed.defaultProps={searchQuery:{}};var td=function(){this.handleShortcuts=(e=>{const t=e.which||e.keyCode,s=String.fromCharCode(t).toLowerCase();e.preventDefault(),e.stopPropagation(),"s"!==s&&t!==no.a.SLASH||this.focusOnSearch(e)}),this.getSmartViewSearchRoute=(e=>{const{smartViewSearch:t,name:s,keyword:n,emailAddresses:a}=e;if(t===E.zd.GROCERIES)return Object(ao.l)(s,n);const r=Object(io.d)(Object(Ql.b)(t,babelHelpers.extends({},e,{accountIds:this.props.activeAccountId}))),o=Object(io.S)(r);return n||s||a&&a.length?{name:E.Uc.SEARCH,params:{query:o}}:Object(ao.v)(E.zd.COUPONS,{accountIds:this.props.activeAccountId})}),this.handleSearchSubmit=(({query:e,i13nModel:t})=>{const{smartViewSearch:s}=e;let n;(n=s?this.getSmartViewSearchRoute(e):Object(ao.t)(e))||(n=Object(ao.t)({accountIds:this.props.accountList.map(e=>e.id)})),this.context.navigateTo({route:n,i13nModel:t})}),this.handleSearchChange=((e,{suggestionsKeyword:t=""}={})=>{this.setState({suggestionsQuery:t||e},()=>{this.props.onSuggestionsRequest({query:this.state.suggestionsQuery})})}),this.handleWebSearch=(e=>{const t=encodeURIComponent(e),s=encodeURIComponent("uh-mail-web"),n=encodeURIComponent("p:ml,m:sb");window.open(`https://search.yahoo.com/search?p=${t}&fr=${s}&fr2=${n}`,"_blank")}),this.focusOnSearch=(e=>{e.preventDefault(),this.searchBoxInputRef&&this.searchBoxInputRef.focus()}),this.setRef=(e=>{this.searchBoxInputRef=e})};var sd=Object(Ir.b)(e=>{const{isFeatureEnabled:t,getRoute:s,getSelectedAccountId:n,isWindowResizingDone:a,getAccountsForSearch:r,getRecentSearchesSelectors:o,getCouponsSelectors:i,getSmartViewTypeFromRoute:c,getRetailersSelectors:l}=Object(ro.b)(e),{getCoupons:d}=i(),{getRetailersFromRetailerIds:u}=l(),m=t("dragDropPill"),p=n(),_=s(),h=_.name===E.Uc.SEARCH,{getRecentSearches:g}=o(),b=g(),I=r(),f=Object(io.t)(_);let A=f;const T=c(_),C=Object(io.p)(A)||"",O=Object(io.v)(A)||"",R=O?u([O]):"",N=Object(S.a)(R,"0.displayName",""),M=t(E.mb.COUPONS_SMART_VIEW_SEARCH)&&[E.zd.COUPONS,E.zd.GROCERIES].includes(T)&&(![E.zd.GROCERIES].includes(T)||O)&&T,D=d();return!Object(io.E)(A)||M&&h||(A=Object(io.d)({})),babelHelpers.extends({},h?{searchQuery:Object(io.h)(A)}:{},{originalSearchQuery:Object(io.h)(f),isWindowResizingDone:a(),accountList:I,activeAccountId:n(),dragDropPill:m,recentSearches:b,accountId:p,smartViewSearch:M,name:O,keyword:C,retailerName:N,hasCoupons:!!Object.keys(D).length})},e=>({onFocus:()=>e(Object(Yl.b)({})),onSearchBarFocus:({i13nModel:t})=>e(Object(Yl.b)({i13nModel:Object.assign({sec:Jl},t)})),onSuggestionsRequest:t=>e(Object(Xl.a)(t)),deleteRecentSearch:t=>e(Object($l.e)(t))}))(ed),nd=s(539),ad=s.n(nd);const rd=Wr()(ad.a);var od=()=>Ue.a.createElement("div",{className:rd.searchBoxContainer},Ue.a.createElement("div",{className:rd.searchBoxInput},Ue.a.createElement(Sr.c,{id:"user_registration_search_box",defaultMessage:"Find messages, documents, photos or people"})),Ue.a.createElement(Ar.a,{disabled:!0,paddingLess:!0,size:Cr.d.S,kind:Cr.b.SEARCH,"data-test-id":"search-basic-btn",className:rd.searchButton,colorState:Cr.a.INVERTED}));var id=Object(Ir.b)(function(e){const{getAccountSelectors:t}=Object(ro.b)(e);return{userHasRegisteredAccount:t().userHasRegisteredAccount()}})(({userHasRegisteredAccount:e})=>Ue.a.createElement(e?sd:od,null));var cd=Object(Ir.b)(function(e){const{getFeaturesSelectors:t,getSelectedAccountId:s,getAccountEmailByAccountId:n}=Object(ro.b)(e),a=t();return{primaryAccountAddress:n(s()),tabsVisible:a.isEnabled(E.nd.MAIL_TABS),defaultRouteURL:a.getSetting(E.nd.MAIL_URL),partnerBrand:a.getSetting("partnerBrand"),calendarURL:a.getSetting(E.nd.CALENDAR_URL),settings:a.isEnabled(E.mb.SETTINGS),settingsMenuComponent:Ue.a.createElement(gl,null),searchComponent:Ue.a.createElement(id,null)}})(ul),ld=s(442),dd=s(540),ud=s.n(dd),md=s(151),pd=s(127);const _d="windowIds";var hd=s(135),Ed=s(541),gd=s.n(Ed);const bd=Wr()(gd.a);var Id=class extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.focus=(()=>{this.refs.input.focus()}),t}render(){return Ue.a.createElement("div",{className:bd.searchContainer},Ue.a.createElement("input",babelHelpers.extends({},this.props,{ref:"input",className:bd.input,type:"text"})),Ue.a.createElement("span",{className:bd.magnifying},Ue.a.createElement(Tr.b,{kind:Cr.b.SEARCH,size:Cr.d.XXS})))}},fd=s(542),Sd=s.n(fd);const Ad=Object(Sr.h)({close:{id:"shortcut.close",defaultMessage:"Close the keyboard shortcut cheatsheet"}});function Td({onClose:e},t){const{formatMessage:s}=t.intl,n=Wr()(Sd.a,{[`${t.getTheme()}`]:!0});return Ue.a.createElement("header",{className:n.header},Ue.a.createElement("div",{className:n.text},Ue.a.createElement("div",{className:n.heading},Ue.a.createElement(Sr.c,{id:"shortcuts.header",defaultMessage:"Keyboard Shortcuts"})),Ue.a.createElement("div",{className:n.subheading},Ue.a.createElement(Sr.c,{id:"shortcuts.open_close",defaultMessage:"Press '?' to open this window"}))),Ue.a.createElement("div",null,Ue.a.createElement("div",null,Ue.a.createElement(Ar.a,{onClick:e,kind:Cr.b.CLOSE,size:Cr.d.XS,colorState:Cr.a.INVERTED,title:s(Ad.close)}))))}Td.contextTypes={intl:Sr.i,getTheme:Ve.a.func};var Cd=s(543),Od=s.n(Cd),Rd=s(544),Nd=s.n(Rd);const Md=Wr()(Nd.a),Dd={"SHIFT+/":"?"},yd={META:"⌘ Command",SHIFT:"⇧ Shift",BACKSPACE:"⌫ Backspace",SPACE:"⎵ Space",DEL:"⌦ Del",ENTER:"⏎ Enter",UP:"↑ Up",DOWN:"↓ Down",LEFT:"← Left",RIGHT:"→ Right",PERIOD:".",COMMA:","},Ld=Object(Sr.h)({or:{id:"shortcut.or",defaultMessage:"or"}});function vd({shortcutString:e},t){const{formatMessage:s}=t.intl,n={},a=t.os;return e.split(hd.b).forEach(e=>{const t=e.trim();if(Dd[t])return void(n[Dd[t]]=[]);if(a===E.wc.MAC&&-1!==t.toLowerCase().indexOf("ctrl")||a!==E.wc.MAC&&-1!==t.toLowerCase().indexOf("meta"))return;const s=t.split(hd.a),r=(1===s.length?s:s.slice(0,-1)).map(e=>yd[e]||e.toLowerCase()).join(` ${hd.a} `);n[r]||(n[r]=[]),s.length>1&&s.slice(-1).forEach(e=>{n[r].push(yd[e]||e.toLowerCase())})}),Ue.a.createElement("span",{className:Md.keyGroups,"data-test-id":"cheat-key"},Object.keys(n).map((e,t)=>{const a=n[e];return Ue.a.createElement("span",{key:t,className:Md.keyGroup},t>0&&Ue.a.createElement("span",{className:Md.delimit},s(Ld.or)),Ue.a.createElement("span",{className:Md.key},e),a.length>0&&Ue.a.createElement("span",{className:Md.delimit},hd.a),a.length>0&&Ue.a.createElement("span",{className:Md.vertical},a.map((e,s)=>{const n=[Md.key,s>0?Md.marginTop:""].join(" ");return Ue.a.createElement("span",{key:`${t}-${s}`,className:n},e)})))}))}vd.contextTypes={intl:Sr.i,os:Ve.a.string.isRequired};var Pd=s(545),Fd=s.n(Pd);const xd=Wr()(Fd.a);function wd({shortcutKey:e,setSearchableText:t},s){const{id:n,description:a,key:r}=e,{formatMessage:o}=s.intl;let i=a;if(a.type===Sr.c)i=Ue.a.cloneElement(a,null,function(){const e=Array.prototype.slice.call(arguments).map(kd.bind(null,o)).join("");return t(e,n),Ue.a.createElement("span",null,...arguments)});else if(Ue.a.isValidElement(a)){const e=kd(o,a);t(e,n)}else{const e=o(a);i=e,t(e,n)}return Ue.a.createElement("li",{className:xd.keyRow},Ue.a.createElement("span",{className:xd.description},i),Ue.a.createElement(vd,{shortcutString:r}))}function kd(e,t){return Ue.a.isValidElement(t)?t.type!==Sr.c?Ue.a.Children.map(t.props.children,t=>kd(e,t)).join(""):(Object(h.a)(0===Object.keys(t.props.values).length,"Cheatsheet translation extraction\n            does not support deeply nested rich text translation.\n            Please make it only two levels deep at maximum."),e(t.props)):"object"==typeof t?e(t):t}function Hd(e,t,s){return 0===s.length?null:Ue.a.createElement("li",{className:e.column,"data-test-id":"shortcut-group-column"},Ue.a.createElement("ul",{className:e.listView},s.map(e=>Ue.a.createElement(wd,{key:e.id,shortcutKey:e,setSearchableText:t}))))}function Ud({keyGroup:{group:e,keys:t},searching:s,setSearchableText:n},a){const r=Wr()(Od.a,{searching:s}),{formatMessage:o}=a.intl,i=Math.ceil(t.length/2);return Ue.a.createElement("div",{key:e.id,className:r.sectionContainer},Ue.a.createElement("div",{className:r.sectionHeading},o(e.description)),Ue.a.createElement("ul",{className:r.twoColumnList},Hd(r,n,t.slice(0,i)),Hd(r,n,t.slice(i))))}wd.contextTypes={intl:Sr.i,os:Ve.a.string.isRequired},Ud.contextTypes={intl:Sr.i,os:Ve.a.string.isRequired};var jd=s(546),Gd=s.n(jd),Bd=s(547),Vd=s.n(Bd);const Wd=["shift+/"],qd=Object(Sr.h)({filterPlaceholder:{id:"shortcut.filter",defaultMessage:"Search shortcuts, e.g. open an email"}});class zd extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={shown:!1,filterQuery:"",coldStart:!0},this.handleShortcuts=(e=>{e.preventDefault(),e.stopPropagation(),"Slash"===e.code&&e.shiftKey&&this.toggleCheatsheet(e)}),this.toggleCheatsheet=(e=>{e.preventDefault(),e.stopPropagation(),this.setState({shown:!this.state.shown,filterQuery:""},()=>{this.state.shown&&this.refs.search.focus()})}),this.handleDismiss=(()=>{this.setState({shown:!1,filterQuery:""})}),this.handleModalKeyDown=(e=>{e.shiftKey&&191===e.which&&this.handleDismiss()}),this.setDictionary=((e,t)=>{this.state.coldStart&&this.descriptionDb.insert(e.toLowerCase(),t)}),this.handleFilterChange=(e=>{const t=e.target.value.trim();t!==this.state.filterQuery&&this.setState({filterQuery:t})}),t}componentWillMount(){this.descriptionDb=new Gd.a}componentDidUpdate(e,t){const{shown:s,coldStart:n}=this.state;t.shown===s||n||this.setState({coldStart:!1})}componentDidMount(){this.context.bindShortcut(Wd,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(Wd)}render(){const{formatMessage:e}=this.context.intl,{allKeys:t}=this.props,{shown:s,filterQuery:n}=this.state,a=Wr()(Vd.a);let r=[];if(n){const e=this.descriptionDb.find(n.toLowerCase());r=Object(S.e)(t).map(({group:t,keys:s})=>({group:t,keys:s.filter(({id:t})=>e.indexOf(t)>=0)})).filter(({keys:e})=>e.length)}else r=Object(S.e)(t);return r=r.sort(({group:e},{group:t})=>e.priority-t.priority),s?Ue.a.createElement(Gc.a,{onClose:this.handleDismiss,onKeyDown:this.handleModalKeyDown},Ue.a.createElement("div",{className:a.container},Ue.a.createElement("div",{className:a.header},Ue.a.createElement(Td,{onClose:this.handleDismiss})),Ue.a.createElement("section",{className:a.cheatContent},Ue.a.createElement("div",{className:a.filterSection},Ue.a.createElement(Id,{ref:"search",onChange:this.handleFilterChange,placeholder:e(qd.filterPlaceholder)})),Ue.a.createElement("div",{className:a.keysetContainer},r.map(e=>Ue.a.createElement(Ud,{key:e.group.id,keyGroup:e,searching:!!n,setSearchableText:this.setDictionary})))))):null}}zd.contextTypes={intl:Sr.i,os:Ve.a.string.isRequired,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func};var Zd=zd;Object(to.b)({group:so.a,keys:Object.assign({unread:{key:"K",description:Ue.a.createElement(Sr.c,{id:"shortcut.unread",defaultMessage:"Mark as {unread}",values:{unread:Ue.a.createElement("strong",null,Ue.a.createElement(Sr.c,{id:"shortcut.unread_strong",defaultMessage:"Unread"}))}})},read:{key:"SHIFT+K",description:Ue.a.createElement(Sr.c,{id:"shortcut.read",defaultMessage:"Mark as {read}",values:{read:Ue.a.createElement("strong",null,Ue.a.createElement(Sr.c,{id:"shortcut.read_strong",defaultMessage:"Read"}))}})},starred:{key:"L",description:Ue.a.createElement("strong",null,Ue.a.createElement(Sr.c,{id:"shortcut.starred",defaultMessage:"Star"}))},unstarred:{key:"SHIFT+L",description:Ue.a.createElement("strong",null,Ue.a.createElement(Sr.c,{id:"shortcut.unstarred",defaultMessage:"Unstar"}))},delete:{key:"BACKSPACE, DEL",description:Ue.a.createElement("strong",null,Ue.a.createElement(Sr.c,{id:"shortcut.message_group_delete",defaultMessage:"Delete"}))},archiveMessageGroup:{key:"E",description:Ue.a.createElement("strong",null,Ue.a.createElement(Sr.c,{id:"shortcut.message_group_archive",defaultMessage:"Archive"}))},restoreMessageGroup:{key:"SHIFT+E",description:Ue.a.createElement("strong",null,Ue.a.createElement(Sr.c,{id:"shortcut.message_group_restore",defaultMessage:"Restore to inbox"}))},openMoveMenu:{key:"D",description:Ue.a.createElement("strong",null,Ue.a.createElement(Sr.c,{id:"shortcut.open_move_menu",defaultMessage:"Open Move Menu"}))},openFilterEnabledMoveMenu:{key:"SHIFT+D",description:Ue.a.createElement("strong",null,Ue.a.createElement(Sr.c,{id:"shortcut.open_move_menu",defaultMessage:"Open Move Menu"}))},previous:{key:"LEFT",description:Ue.a.createElement(Sr.c,{id:"shortcut.previous",defaultMessage:"Go to {previous} message or conversation",values:{previous:Ue.a.createElement("strong",null,Ue.a.createElement(Sr.c,{id:"shortcut.previous_bold",defaultMessage:"previous"}))}})},next:{key:"RIGHT",description:Ue.a.createElement(Sr.c,{id:"shortcut.next",defaultMessage:"Go to {next} message or conversation",values:{next:Ue.a.createElement("strong",null,Ue.a.createElement(Sr.c,{id:"shortcut.next_bold",defaultMessage:"next"}))}})}},hd.c)}),Object(to.b)({group:so.b,keys:{openPreview:{key:"SHIFT+P",description:Ue.a.createElement(Sr.c,{id:"shortcut.previewr_open",defaultMessage:"Open Preview"})}}});var Kd=class extends Ue.a.Component{componentWillMount(){this.allShortcuts=Object(to.a)()}render(){return Ue.a.createElement(Zd,{allKeys:this.allShortcuts})}};const Yd={POINTER:"pointer-mode",KEYBOARD:"keyboard-mode"};var Xd=class extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={inputMode:Yd.POINTER},this.lastMouseCoordinates=[],this.handleKeyUp=(e=>{switch(e.key){case"Tab":case"ArrowLeft":case"ArrowUp":case"ArrowRight":case"ArrowDown":this.handleKeyNav()}switch(e.which){case no.a.PERIOD:case no.a.COMMA:this.handleKeyNav();break;default:return}}),this.handleMouseDown=(()=>{this.setState({inputMode:Yd.POINTER})}),this.handleMouseMove=(e=>{this.lastMouseCoordinates[0]===e.screenX&&this.lastMouseCoordinates[1]===e.screenY||(this.lastMouseCoordinates=[e.screenX,e.screenY],this.setState({inputMode:Yd.POINTER}))}),t}handleKeyNav(){this.setState({inputMode:Yd.KEYBOARD})}render(){return Ue.a.createElement("div",babelHelpers.extends({className:this.state.inputMode+(this.props.className?" "+this.props.className:"")},this.state.inputMode===Yd.KEYBOARD?{onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown}:{onKeyUp:this.handleKeyUp}),this.props.children)}},$d=s(51),Qd=s(279),Jd=s.n(Qd),eu=s(102);class tu extends Ue.a.Component{constructor(e){super(e),this.state={mounted:!1},this.onClick=(e=>{const{closePreviewOpenPane:t,openContactsPane:s,closePreviewRoute:n,showContactsPane:a,isCueEnabled:r,closeFeatureCue:o}=this.props,i={mKey:a?zr.e.CONTACTS_PANE_ICON_OFF:zr.e.CONTACTS_PANE_ICON_ON,sec:zr.g.CONTACTS_PANE,interactionType:Object(Ps.i)(e)},c=r&&!a;n?t({i13nModel:i,uiContext:{mKey:zr.e.CONTACTS_PANE_ICON_ON},route:n}):s({i13nModel:i}),c&&o({userAction:"close",i13nModel:{mKey:`cue_${E.mb.CONTACTS_PANE_CUE}_try_it`,sec:zr.g.FEATURE_CUE,interactionType:Object(Ps.i)(e)}})}),this.updateContent=(()=>{this.popoverRef&&this.popoverRef.current.updatePosition()}),this.iconRef=Ue.a.createRef(),this.popoverRef=Ue.a.createRef()}componentDidMount(){this.state.mounted||this.setState({mounted:!0})}componentWillUnmount(){this.state.mounted&&this.setState({mounted:!1})}render(){const{kind:e,formattedText:t,verticalLayout:n,showContactsPane:a,isCueEnabled:r,openContactsPane:o}=this.props,i=this.context.getCss(Jd.a,{verticalLayout:n});return Ue.a.createElement("button",{onClick:this.onClick,className:a?i.selectedProperty:i.property,"aria-label":t,title:t,"data-iskeynav":!0,tabIndex:"0","data-test-id":"contacts-pane-icon"},Ue.a.createElement(Tr.b,{kind:e,size:Cr.d.XS,colorState:Cr.a.INHERITED,ref:this.iconRef}),r&&!a&&this.state.mounted&&Ue.a.createElement(Fr.a,{triggerOn:kr.h.MOUNT,zAltitude:Pr.ZIndices.POPOVER.HIGH,popoverAnchor:this.iconRef.current,align:kr.a.CENTER,persistent:!0,ref:this.popoverRef,permittedArrowDirections:[kr.g.END]},Ue.a.createElement(Qr.a,{import:"../../contacts_pane_cue",bundleName:"contacts",cueName:E.mb.CONTACTS_PANE_CUE,onShow:this.updateContent,launchContactsPane:o,_moduleLoader:function(){return s.e(1).then(s.bind(null,923))},_moduleResolver:function(){return 923}})))}}tu.contextTypes={intl:Sr.i.isRequired,getCss:Ve.a.func.isRequired};var su=Object(Ir.b)(e=>{const{getFeaturesSelectors:t,getRoute:s,normalizeRoute:n,getActionableRightRailPane:a}=Object(ro.b)(e),{isEnabled:r}=t(),o=s(),i=a()===E.Tc.ContactsPane;let c;o&&o.params&&o.query&&(c=r(E.mb.ATTACHMENT_PREVIEW)&&o.params.attachmentId&&"1"!==o.query.fullscreen?n(Object(ao.o)(Object(io.t)(o),o.params.groupId)):null);return{showContactsPane:i,closePreviewRoute:c,isCueEnabled:r(E.mb.CONTACTS_PANE_CUE)}},e=>({openContactsPane:t=>e(Object(eu.u)(t)),closePreviewOpenPane:t=>e(Object(eu.m)(Object(Dr.i)(t))),closeFeatureCue:t=>e(Object(Jr.a)(t))}))(tu);const nu=Object(Sr.h)({mail_icon:{id:"properties.mail_icon",defaultMessage:"Mail"},contacts_icon:{id:"properties.contacts_icon",defaultMessage:"Contacts"},calendar_icon:{id:"properties.calendar_icon",defaultMessage:"Calendar"},notepad_icon:{id:"properties.notepad_icon",defaultMessage:"Notepad"},subproperties_nav:{id:"landmark.subproperties_nav",defaultMessage:"Navigate to other Yahoo properties like Messenger, Calendar, Contacts and Notepad"}});class au extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.handle=((e,t)=>{const s=Object(Ps.i)(e),n=this.props.onPropertyClick;e.stopPropagation(),n(s,t)}),this.renderProperty=((e,t)=>{const{href:s,kind:n,text:a,propertyClassNames:r="",dataTestId:o}=e,i=this.context.intl.formatMessage(a);return n===Cr.b.CONTACT_CARD&&this.props.contactsPaneEnabled?Ue.a.createElement(su,{kind:n,formattedText:this.context.intl.formatMessage(a),verticalLayout:this.props.verticalLayout,key:a.id}):Ue.a.createElement("a",{key:a.id,onClick:t=>this.handle(t,e),href:s,className:t.property+" "+r,"aria-label":i,title:i,"data-test-id":o,target:n,"data-iskeynav":!0,tabIndex:-1,rel:"noopener"},Ue.a.createElement(Tr.b,{kind:n,size:Cr.d.XS,colorState:Cr.a.INHERITED}))}),t}render(){const{verticalLayout:e,calendarTabEnabled:t,notepadTabEnabled:s,calendarURL:n}=this.props,{formatMessage:a}=this.context.intl,r=this.context.getCss(Jd.a,{verticalLayout:e}),o=[{kind:Cr.b.INBOX,text:nu.mail_icon,mKey:zr.e.MAIL_ICON,hidden:!this.props.showMailIcon,dataTestId:"right-rail-mail-contacts-icon"},{href:"https://mail.yahoo.com/neo/launch?action=contacts",kind:Cr.b.CONTACT_CARD,text:nu.contacts_icon,mKey:zr.e.CONTACTS_ICON,dataTestId:"right-rail-contacts-icon"},{href:n,kind:Cr.b.CALENDAR,text:nu.calendar_icon,mKey:zr.e.CALENDAR_ICON,hidden:!t,dataTestId:"right-rail-calendar-icon"},{href:"https://calendar.yahoo.com/?view=notepad",kind:Cr.b.NOTEPAD,text:nu.notepad_icon,mKey:zr.e.NOTEPAD_ICON,hidden:!s,dataTestId:"right-rail-notepad-icon"}];return Ue.a.createElement("div",{"data-test-id":"comms-properties",role:"navigation","aria-label":a(nu.subproperties_nav),className:r.properties},o.map(e=>!e.hidden&&this.renderProperty(e,r)))}}au.contextTypes={config:Ve.a.object,intl:Sr.i.isRequired,getCss:Ve.a.func};var ru=au,ou=s(548),iu=s.n(ou),cu=s(365),lu=s(297),du=s(296),uu=s.n(du);const mu=Object(Sr.h)({optoutTitle:{id:"optout.title",defaultMessage:"Oh no... We will miss you!"},optoutSubmitTitle:{id:"optout.submit.title",defaultMessage:"Thank you for your feedback."},optoutSubmitMessage:{id:"optout.submit.message",defaultMessage:"Hope you try new Mail again soon!"},optionPlaceHolder:{id:"optout.option.placeholder",defaultMessage:"Tell us why you want to leave"},optionLikeOldMail:{id:"optout.option.oldmail",defaultMessage:"I like the look of classic Mail better"},ghostTextLikeOldMail:{id:"optout.ghost.oldmail",defaultMessage:"What do you like more about classic Mail i.e. inbox spacing, colors, etc.?"},optionConfuse:{id:"optout.option.confuse",defaultMessage:"I don’t understand how to use new Mail"},ghostTextConfuse:{id:"optout.ghost.confuse",defaultMessage:"Tell us more about what is difficult to use in new Mail."},optionLater:{id:"optout.option.later",defaultMessage:"I’m not ready to switch now but might later"},ghostTextLater:{id:"optout.ghost.later",defaultMessage:"Tell us more."},optionTheme:{id:"optout.option.theme",defaultMessage:"I miss having photo themes"},ghostTextTheme:{id:"optout.ghost.theme",defaultMessage:"What kind of photo themes would you like to have?"},optionSlow:{id:"optout.option.slow",defaultMessage:"I experience slowness or freezing in new Mail"},ghostTextSlow:{id:"optout.ghost.slow",defaultMessage:"Tell us what you are doing when you experience this i.e. deleting an email, reading email, etc."},optionFeatures:{id:"optout.option.features",defaultMessage:"I miss features from classic Mail"},ghostTextFeatures:{id:"optout.ghost.features",defaultMessage:"What specific features are you missing?"},optionOther:{id:"optout.option.other",defaultMessage:"Other"},ghostTextOther:{id:"optout.ghost.other",defaultMessage:"Please provide feedback to help us improve new Mail."},textAreaPlaceHolder:{id:"optout.textarea.placeholder",defaultMessage:"Give us some feedback to help us improve"},confirmButtonText:{id:"optout.confirm.text",defaultMessage:"Switch back to classic Mail"},cancelButtonText:{id:"optout.cancel.text",defaultMessage:"Cancel"},closeButton:{id:"optout.close",defaultMessage:"Close"},textCounter:{id:"optout.text.counter",defaultMessage:"{remainingLength, number} {remainingLength, plural,            =0 {character}            =1 {character}            other {characters}        } remaining"}}),pu=1e3,_u=3e3,hu=()=>{};function Eu(e,t){const s={};return t.forEach(t=>{s[t]=mu[e+t]}),s}const gu=["Theme","LikeOldMail","Confuse","Later","Slow","Features","Other"],bu=Eu("option",gu),Iu=Eu("ghostText",gu),fu={margin:`0 0 0 ${3*Pr.GRID_UNIT}px`},Su={marginLeft:`${Pr.GRID_UNIT}px`},Au={opacity:.8};class Tu extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={selectedFeedback:null,feedback:"",isPanelFocus:!1,submit:!1},this.handleDropdownChange=(e=>{this.setState({selectedFeedback:e})}),this.handleConfirmClick=(()=>{const e={},{feedback:t,selectedFeedback:s}=this.state;null!==s&&(e.feedbackOption=gu[s]),t.length>0&&(e.optOutFeedbackText=t),this.props.submitOptOutFeedback({actionData:e}),this.setState({submit:!0}),this.redirectTimeout||(this.redirectTimeout=setTimeout(()=>{const e=E.kc+"?crumb="+window.AppBootstrapData.crumb;this.redirectWindow(e)},_u))}),this.redirectWindow=(e=>{window.location.href=e}),this.handleFeedbackPanelFocus=(()=>{this.setState({isPanelFocus:!0})}),this.handleFeedbackPanelBlur=(()=>{this.setState({isPanelFocus:!1})}),this.handleFeedbackChange=(e=>{const{feedback:t}=this.state,s=e.target.value.substr(0,pu);s!==t&&this.setState({feedback:s})}),this.getHeaderText=(()=>{const{formatMessage:e}=this.context.intl,{submit:t}=this.state;return e(t?mu.optoutSubmitTitle:mu.optoutTitle)}),this.getPanelPlaceholderText=(()=>{const{selectedFeedback:e}=this.state,{formatMessage:t}=this.context.intl;return t(null===e?mu.textAreaPlaceHolder:Iu[gu[e]])}),this.getBodySection=(()=>{const{isPanelFocus:e,selectedFeedback:t,feedback:s,submit:n}=this.state,{formatMessage:a}=this.context.intl,r=e?"":this.getPanelPlaceholderText(),o=pu-s.length,i=Wr()(uu.a,{isPanelFocus:e});return n?Ue.a.createElement("div",{className:i.submitMessage},a(mu.optoutSubmitMessage)):Ue.a.createElement("div",{className:i.bodySection},Ue.a.createElement(cu.a,{onChange:this.handleDropdownChange,placeholder:a(mu.optionPlaceHolder),title:a(mu.optionPlaceHolder),coloredPlaceholder:!0,selected:t,"data-test-id":"opt-out-select"},gu.map((e,t)=>Ue.a.createElement(lu.a,{key:t,value:t,title:a(bu[e])},a(bu[e])))),Ue.a.createElement("textarea",{placeholder:r,className:i.textArea,onFocus:this.handleFeedbackPanelFocus,onBlur:this.handleFeedbackPanelBlur,onChange:this.handleFeedbackChange,value:s,"data-test-id":"opt-out-textarea"}),Ue.a.createElement("div",{className:i.messageCounter,"data-test-id":"opt-out-msg-counter"},e?a(mu.textCounter,{remainingLength:o}):null))}),this.renderButtons=(()=>{const{onCancel:e}=this.props,{submit:t}=this.state,{formatMessage:s}=this.context.intl,n=Wr()(uu.a);return t?null:Ue.a.createElement("div",{className:n.buttonWrapper},Ue.a.createElement(Hr.a,{"data-test-id":"opt-out-confirm",onClick:this.handleConfirmClick,title:s(mu.confirmButtonText),kind:Ur.a.PRIMARY,style:fu},s(mu.confirmButtonText)),Ue.a.createElement(Hr.a,{"data-test-id":"opt-out-cancel",onClick:e,title:s(mu.cancelButtonText),kind:Ur.a.SECONDARY_BORDERLESS,style:Su},s(mu.cancelButtonText)))}),t}componentWillUnmount(){this.redirectTimeout=null}render(){const{submit:e}=this.state,{formatMessage:t}=this.context.intl,{onCancel:s}=this.props,n=Wr()(uu.a,{submit:e});return Ue.a.createElement(Gc.a,{onClose:s,onOuterClick:hu},Ue.a.createElement("div",{className:n.surveyContainer,"data-test-id":"opt-out-container"},Ue.a.createElement("div",{className:n.headerSection},e?null:Ue.a.createElement("div",{className:n.closeButton},Ue.a.createElement(Dl.a,{onClick:s,kind:Cr.b.CLOSE,size:Cr.d.XXS,title:t(mu.closeButton),"aria-label":t(mu.closeButton),"data-test-id":"opt-out-close",style:Au,colorStates:{normal:Cr.a.DARK,hovered:Cr.a.SELECTED}})),Ue.a.createElement("div",{className:n.imageWrapper},Ue.a.createElement("div",{className:n.optOutBackground},Ue.a.createElement("img",{className:n.chick,src:Object(Zc.a)("/img/opt_out_chick.png")}),Ue.a.createElement("img",{className:n.sadFace,src:Object(Zc.a)("/img/opt_out_sad.png")}))),Ue.a.createElement("div",{className:n.titleText},this.getHeaderText())),this.getBodySection(),this.renderButtons()))}}Tu.contextTypes={intl:Sr.i.isRequired,executeAction:Ve.a.func};var Cu=Object(Ir.b)(void 0,e=>({submitOptOutFeedback:t=>e((e=>babelHelpers.extends({},e,{type:To.Hg}))({i13nModel:{mKey:zr.e.OPT_OUT_SUBMIT_FEEDBACK,sec:zr.g.SETTINGS_POPUP,actionData:t.actionData}}))}))(Tu);class Ou extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={showOptOutSurvey:!1},this.onPropertyClick=((e,t)=>{this.props.handleHeaderNavigation({i13nModel:{mKey:t.mKey,sec:zr.g.HEADER_NAV,interactionType:e}})}),this.onOptOut=(e=>{this.props.optOutSurvey&&this.setState({showOptOutSurvey:!0}),this.props.optOut({i13nModel:{mKey:zr.e.SETTINGS_POPUP_SWITCH_TO_CLASSIC,sec:zr.g.SETTINGS_POPUP,interactionType:Object(Ps.i)(e)}})}),this.onOptOutCancel=(()=>{this.setState({showOptOutSurvey:!1}),this.props.optOutCancelFeedback({i13nModel:{mKey:zr.e.OPT_OUT_CANCEL_FEEDBACK,sec:zr.g.SETTINGS_POPUP}})}),t}render(){const{verticalLayout:e}=this.props,t=this.context.getCss(iu.a,{verticalLayout:e}),{showOptOutSurvey:s}=this.state;return Ue.a.createElement("div",{ref:e=>this.commsPropertiesSection=e,className:t.container},Ue.a.createElement(rl.a,{axis:e?rl.b.VERTICAL:rl.b.HORIZONTAL,"data-test-id":"comms-properties-bar",groupTabIndex:Pr.TabIndices.COMMS_PROPERTIES_BAR,className:t.properties},e&&Ue.a.createElement(gl,babelHelpers.extends({},this.props,{onOptOutFeedback:this.onOptOut})),Ue.a.createElement(ru,babelHelpers.extends({},this.props,{onPropertyClick:this.onPropertyClick})),!e&&Ue.a.createElement(gl,babelHelpers.extends({},this.props,{onOptOutFeedback:this.onOptOut,commsPropertiesSection:this.commsPropertiesSection})),s?Ue.a.createElement(Cu,{onCancel:this.onOptOutCancel}):null))}}Ou.contextTypes={executeAction:Ve.a.func,getCss:Ve.a.func,config:Ve.a.object,getTheme:Ve.a.func};const Ru=Ou;var Nu=Object(Ir.b)(e=>{const{getFeaturesSelectors:t,getQueryParams:s}=Object(ro.b)(e),n=t();return{previewPaneSetting:n.getSetting(E.nd.PREVIEW_PANE),autoOpenSettingsPopover:"1"===s().openSettingsPopover||n.isEnabled("autoOpenSettingsPopover"),calendarTabEnabled:n.isEnabled(E.mb.CALENDAR_TAB),notepadTabEnabled:n.isEnabled(E.mb.NOTEPAD_TAB),calendarURL:n.getSetting(E.nd.CALENDAR_URL),showSettingsCue:n.isEnabled(E.mb.SETTINGS_CUE),optOutSurvey:n.isEnabled("optOutSurvey"),contactsPaneEnabled:n.isEnabled(E.mb.CONTACTS_PANE_FEATURE)}},e=>({optOut:t=>e(Object(_i.s)(t)),handleHeaderNavigation:t=>e(Object(Dr.e)(t)),optOutCancelFeedback:t=>e(Object(_i.t)(t))}))(Ru),Mu=s(551),Du=s.n(Mu);const yu={darkTheme:{textColor:"#E0E4E9",hoverColor:"#FFFFFF"},lightTheme:{textColor:"#26282A",hoverColor:"#188FFF"},getCss:(e,t)=>[".ad-tl2b {overflow:hidden; text-align:left; -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility;}","p {margin:0px;}",".y-fp-pg-controls {margin-top:5px; margin-bottom:5px;}",`#tl1_slug {font-family:Helvetica Neue,Helvetica,Segoe UI,Arial,sans-serif; font-size:12px; color: ${e};}`,`a {font-family:Helvetica Neue,Helvetica,Segoe UI,Arial,sans-serif; font-size:11px; color: ${e}; }`,"a:link {text-decoration:none;}",`a:hover {color: ${t};}`].join(" ")},Lu={SKY:{yaftName:"norrin_ad_sky",darla:{pos:"SKY",clean:"boxSKY",dest:"tgtSKY",w:160,h:620,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},TL1:{yaftName:"norrin_ad_tl1",darla:{pos:"TL1",dest:"tgtTL1",clean:"slot_TL1",w:140,h:170,fdb:!0,css:yu.getCss(yu.lightTheme.textColor,yu.lightTheme.hoverColor)}},LREC:{yaftName:"norrin_ad_lrec",darla:{pos:"LREC",dest:"tgtLREC",clean:"slot_LREC",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},LREC4:{yaftName:"norrin_ad_lrec4",darla:{pos:"LREC4",dest:"tgtLREC4",clean:"slot_LREC4",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},MON:{yaftName:"norrin_ad_mon",darla:{pos:"MON",dest:"tgtMON",clean:"slot_MON",w:300,h:600,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},BTN:{yaftName:"norrin_ad_btn",darla:{pos:"BTN",dest:"tgtBTN",clean:"slot_BTN",w:120,h:60,fdb:!0,fr:"no_exp",css:yu.getCss(yu.lightTheme.textColor,yu.lightTheme.hoverColor)}},REC:{yaftName:"norrin_ad_rec",darla:{pos:"REC",dest:"tgtREC",clean:"slot_REC",w:180,h:150,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}}};class vu extends Ue.a.Component{componentDidMount(){this.context.registerAdPosition({darlaPos:this.props.id})}componentWillUnmount(){this.context.removeAdPosition({darlaPos:this.props.id})}shouldComponentUpdate(e){return this.props.className!==e.className}render(){const{yaftName:e,darla:t}=Lu[this.props.id],{clean:s,dest:n}=t;return Ue.a.createElement("div",{id:s,"data-yaft-module":e,className:this.props.className},Ue.a.createElement("div",{id:n}))}}vu.contextTypes={registerAdPosition:Ve.a.func,removeAdPosition:Ve.a.func,executeAction:Ve.a.func};var Pu=vu;class Fu extends Ue.a.Component{render(){return Ue.a.createElement(Pu,{id:"MON"})}}class xu extends Ue.a.Component{render(){return Ue.a.createElement(Pu,{id:"TL1"})}}class wu extends Ue.a.Component{render(){return Ue.a.createElement(Pu,{id:"BTN"})}}class ku extends Ue.a.Component{render(){return Ue.a.createElement(Pu,{id:"REC",className:this.props.recClassName})}}class Hu extends Ue.a.Component{render(){return Ue.a.createElement(Pu,{id:"SKY"})}}class Uu extends Ue.a.Component{render(){return Ue.a.createElement(Pu,{id:"LREC"})}}class ju extends Ue.a.Component{render(){return Ue.a.createElement("div",{"data-test-id":"stackedLRECs"},Ue.a.createElement(Pu,{id:"LREC",className:this.props.lrecClassName}),Ue.a.createElement(Pu,{id:"LREC4"}))}}class Gu extends Ue.a.Component{render(){const{disabledPositions:e={},monAds:t,isCompactSize:s}=this.props,n=Wr()(Du.a,{isCompactSize:s}),a=[];let r=null,o=null;return t&&!e.LREC?(o=Ue.a.createElement(Fu,{key:"mon_ads"}),r=Ue.a.createElement(Uu,{key:"lrec_ad"})):e.LREC4&&!e.LREC?r=Ue.a.createElement(Uu,{key:"lrec_ad"}):e.LREC4||e.LREC||(r=Ue.a.createElement(ju,{key:"stacked_lrec",lrecClassName:n.lrec})),s?a.push(Ue.a.createElement(Hu,{key:"sky_ad"})):(a.push(r),a.push(o)),Ue.a.createElement("div",{"aria-hidden":!0,className:n.mainAd,"data-test-id":"right-rail-ad"},a)}}Gu.contextTypes={config:Ve.a.object,executeAction:Ve.a.func};var Bu=Object(Ir.b)(e=>{const{isFeatureEnabled:t,isNarrowScreen:s}=Object(ro.b)(e),n=t(E.mb.WIDE_RIGHT_RAIL);return{monAds:t(E.mb.MON_ADS),isCompactSize:s()&&!n}})(Gu),Vu=s(552),Wu=s.n(Vu),qu=s(444),zu=s(293);var Zu=Object(Ir.b)(e=>{const{isFeatureEnabled:t,getCurrentListId:s,getParticipantInFocus:n}=Object(ro.b)(e),a=t(E.mb.MESSAGE_READ_CONTACT_CARD),r=a?n():{email:Object(io.k)(s())},{email:o,name:i}=r||{};return{email:o,name:i,showContactSummary:!a}})(class extends Ue.a.Component{render(){const{email:e,name:t,showContactSummary:s}=this.props;return Ue.a.createElement(zu.a,{key:"contactCard"+e,isInRightRail:!0,email:e,name:t,isCompose:!1,showContactSummary:s})}});const Ku=Object(Sr.h)({hide_advertisement:{id:"hide_advertisement",defaultMessage:"Hide Advertisement"}});class Yu extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={chevronHover:!1},this.handleChevronHover=(e=>{this.setState({chevronHover:e})}),this.collapseRightRail=(()=>{this.setState({chevronHover:!1}),this.props.hideAdsTemporarily()}),this.renderPane=(e=>{switch(e){case E.Tc.AttachmentUi:return Ue.a.createElement(Qr.a,{import:"./attachment_ui.jsx",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,942))},_moduleResolver:function(){return 942}});case E.Tc.ContactsPane:return Ue.a.createElement(Qr.a,{import:"../../../molecules/contacts_pane",key:e,bundleName:"contacts",_moduleLoader:function(){return s.e(1).then(s.bind(null,941))},_moduleResolver:function(){return 941}},Ue.a.createElement(Qr.b,{loading:!0},Ue.a.createElement(qu.a,{includeHeaders:!0})));case E.Tc.ContactCard:return Ue.a.createElement(Zu,{key:e});case E.Tc.MessageBrief:return Ue.a.createElement(Qr.a,{import:"../../../molecules/message_list/brief.jsx",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,911))},_moduleResolver:function(){return 911}});case E.Tc.PhotoBrief:return Ue.a.createElement(Qr.a,{import:"./photo_brief.jsx",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,912))},_moduleResolver:function(){return 912}});case E.Tc.DocumentBrief:return Ue.a.createElement(Qr.a,{import:"./document_brief.jsx",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,913))},_moduleResolver:function(){return 913}});case E.Tc.AdBlockCoupons:return Ue.a.createElement(Qr.a,{import:"../../../molecules/adblock_coupons",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,914))},_moduleResolver:function(){return 914}});case E.Tc.SubscriptionAds:return Ue.a.createElement(Qr.a,{import:"../../../molecules/ads/subscription_ad.jsx",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,915))},_moduleResolver:function(){return 915}});case E.Tc.RightRailNativeAd:return Ue.a.createElement(Qr.a,{import:"../../../molecules/ads/right_rail_native_ad.jsx",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,916))},_moduleResolver:function(){return 916}});case E.Tc.RelatedSearchesCard:return Ue.a.createElement(Qr.a,{import:"../../../molecules/related_searches_card",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,917))},_moduleResolver:function(){return 917}});case E.Tc.RelatedCoupons:return Ue.a.createElement(Qr.a,{import:"../../../molecules/related_coupons",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,918))},_moduleResolver:function(){return 918}});case E.Tc.RelatedRetailers:return Ue.a.createElement(Qr.a,{import:"../../../molecules/related_retailers",bundleName:"retailers",key:e,_moduleLoader:function(){return s.e(5).then(s.bind(null,959))},_moduleResolver:function(){return 959}});case E.Tc.SearchRightRailCoupons:return Ue.a.createElement(Qr.a,{import:"../../../molecules/search_right_rail_coupons",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,919))},_moduleResolver:function(){return 919}});case E.Tc.TravelCardsGroup:return Ue.a.createElement(Qr.a,{import:"../../../molecules/right_rail_travel_card/travel_cards_group",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,945))},_moduleResolver:function(){return 945}});case E.Tc.PlaAds:return Ue.a.createElement(Qr.a,{import:"../../../molecules/pla_ads",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,955))},_moduleResolver:function(){return 955}});case E.Tc.RightPaneAds:return Ue.a.createElement(Bu,{key:e,disabledPositions:this.props.disabledAdPositions});case E.Tc.EbayWarrantyUpsell:return Ue.a.createElement(Qr.a,{import:"../../../molecules/ebay_warranty_upsell",position:E.gb.RIGHT,key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,653))},_moduleResolver:function(){return 653}});case E.Tc.ShopliftAd:return Ue.a.createElement(Qr.a,{import:"../../../molecules/shoplift_card",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,920))},_moduleResolver:function(){return 920}});case E.Tc.RetailerFilter:return Ue.a.createElement(Qr.a,{import:"../../../molecules/deals/retailer_filter",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,921))},_moduleResolver:function(){return 921}});case E.Tc.SavedDeals:return Ue.a.createElement(Qr.a,{import:"../../../molecules/right_rail_saved_deals",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,922))},_moduleResolver:function(){return 922}});default:return null}}),t}render(){const{hasAttachmentPreview:e,windowDimensions:t,showCommsProperties:s,panes:n}=this.props,{getCss:a,intl:r}=this.context,o=a(Wu.a,{hasAttachmentPreview:e}),{formatMessage:i}=r,c=n.map(this.renderPane),l=e||!c.length;return Ue.a.createElement("div",{"data-test-id":"mail-right-rail",className:o.rightRailContainer},l?null:Ue.a.createElement("div",{className:this.state.chevronHover?o.activeHideAdsChevronWrapper:o.hideAdsChevronWrapper},Ue.a.createElement("div",{onMouseEnter:()=>this.handleChevronHover(!0),onMouseLeave:()=>this.handleChevronHover(!1),title:i(Ku.hide_advertisement),onClick:this.collapseRightRail,className:o.hideAdsChevron,"data-test-id":"right-rail-hidead-btn"},Ue.a.createElement(Tr.b,{kind:Cr.b.CHEVRON_UP,colorState:Cr.a.INHERITED,size:Cr.d.XS,rotate:Cr.c.D90}))),Ue.a.createElement("div",{className:o.rightRail},s?Ue.a.createElement(Nu,{key:"CommsProperties",verticalLayout:l,windowDimensions:t}):null,c.length?Ue.a.createElement("div",{className:o.panesContainer},c):null))}}Yu.contextTypes={intl:Sr.i.isRequired,getCss:Ve.a.func};var Xu=Object(Ir.b)(e=>{const{getListsSelectors:t,getCouponsSelectors:s,getRightRailPanes:n,isFeatureEnabled:a,getCurrentListId:r}=Object(ro.b)(e),o=a(E.mb.SHOW_COMMS_PROPERTIES),i=a(E.mb.RELATED_COUPONS)&&!!s().getRelatedCoupons().length,c=t().getSearchCoupons(r()),l=a(E.mb.COUPONS_ON_SEARCH_RIGHT_RAIL)&&!!c&&!!c.length;let d=[];return a(E.mb.SEATGEEK_CARD)?d=["LREC4","LREC"]:(a(E.mb.HIPMUNK_CARD)||a(E.mb.BOOKING_CARD)||a(E.mb.RELATED_SEARCHES_CARD)||a(E.mb.RELATED_RETAILERS)||i||l)&&(d=["LREC4"]),{showCommsProperties:o,disabledAdPositions:Object(S.c)(d),panes:n()}},e=>({hideAdsTemporarily:()=>e(Object($d.n)())}))(Yu),$u=s(98),Qu=s.n($u),Ju=s(280),em=s.n(Ju),tm=s(564),sm=s.n(tm),nm=s(165),am=s(565),rm=s.n(am);const om="INDENTATION_NORMAL",im="INDENTATION_NONE",cm="TOPFOLDER_WITH_ICON",lm="TOPFOLDER_WITHOUT_ICON",dm="SUBFOLDER_WITH_ICON",um="SUBFOLDER_WITHOUT_ICON";var mm=s(159);const pm={ESCAPE:27,ENTER:13,TAB:9},_m=Object(S.c)(["InvalidFolderName","DuplicateFolderName"]),hm="/ \\ %",Em=Object(Sr.h)({folder_dismiss_input:{id:"folder_dismiss_input",defaultMessage:"Dismiss input"},folder_submit_input:{id:"folder_submit_input",defaultMessage:"Submit input"},folder_invalid_chars:{id:"folder_invalid_chars",defaultMessage:"Folder names may not contain {invalid_chars}"},duplicate_foldername:{id:"duplicate_foldername",defaultMessage:"A folder named {folder_name} already exists. Please choose a different name."}});class gm extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={folderName:this.props.initialFolderName||"",folderError:null},this.handleKeyDown=(e=>{e.keyCode===pm.ESCAPE&&this.props.onDismiss(),e.keyCode!==pm.ENTER&&e.keyCode!==pm.TAB||this.performFolderOperation(e)}),this.handleChange=(e=>{const t=e.target.value;let s=null;t&&!Object(Ps.n)(t)&&(s=_m.InvalidFolderName),this.setState({folderName:t,folderError:s})}),this.handleBlur=(e=>{if(e.relatedTarget&&e.relatedTarget.parentNode!==this.containerNode)return""===this.state.folderName.trim()?this.props.onDismiss():void this.performFolderOperation(e)}),this.performFolderOperation=(e=>{const{folderLevel:t,initialFolderName:s,isFolderNameExistAtLevel:n}=this.props,a=this.state.folderName.trim();let r=this.state.folderError;if(a!==s&&n(a,t)&&this.setState({folderError:r=_m.DuplicateFolderName}),a&&null===r){const t={interactionType:Object(Ps.i)(e)};this.props.onInputSubmit({folderName:a,i13nModel:t})}}),this.focusInput=(e=>{e&&e.focus()}),this.getFolderError=(()=>{const{folderName:e,folderError:t}=this.state;return null===t?null:t===_m.InvalidFolderName?Ue.a.createElement(Sr.c,babelHelpers.extends({},Em.folder_invalid_chars,{values:{invalid_chars:hm}})):t===_m.DuplicateFolderName?Ue.a.createElement(Sr.c,babelHelpers.extends({},Em.duplicate_foldername,{values:{folder_name:Ue.a.createElement("b",null,e)}})):void 0}),t}render(){const{formatMessage:e}=this.context.intl,t=null===this.state.folderError,s=Wr()(rm.a,{invalidFolderName:!t,validFolderName:t,indentation:this.props.indentation}),{onDismiss:n}=this.props,a=this.context.getThemeMode()===Is.f.LIGHT?Cr.a.NORMAL:Cr.a.INVERTED,r=e(Em.folder_submit_input),o=e(Em.folder_dismiss_input);return Ue.a.createElement("div",{className:s.container,ref:e=>this.containerNode=e},Ue.a.createElement(Ar.a,{onClick:n,kind:Cr.b.CLOSE_MINI,size:Cr.d.XS,colorState:a,"aria-label":o,title:o,"data-test-id":"icon-btn-close",className:s.closeButton,paddingLess:!0}),Ue.a.createElement(xr.a,{className:s.popoverContainer},Ue.a.createElement(wr.a,null,Ue.a.createElement("div",{className:s.inputSubmitContainer},Ue.a.createElement("div",{className:s.inputContainer},Ue.a.createElement(mm.a,{className:s.input,type:"text",ref:this.focusInput,value:this.state.folderName,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,placeholder:this.props.placeholder,"aria-label":this.props.ariaLabel})),Ue.a.createElement(Ar.a,{onClick:this.performFolderOperation,kind:Cr.b.ENTER,colorState:Cr.a.INVERTED,size:Cr.d.XXS,className:s.okIcon,title:r,"aria-label":r}))),!this.state.folderName||this.props.isScrolling||t?null:Ue.a.createElement(Fr.b,{triggerOn:kr.h.MOUNT,permittedArrowDirections:[kr.g.UP,kr.g.DOWN],zAltitude:Pr.ZIndices.POPOVER.HIGH},Ue.a.createElement("div",{className:s.popover},this.getFolderError()))))}}gm.defaultProps={indentation:im,folderLevel:0},gm.contextTypes={intl:Sr.i.isRequired,getThemeMode:Ve.a.func};var bm=Object(Ir.b)(e=>{const{getFoldersSelectors:t,getFolderIdsByNameForSelectAccountId:s}=Object(ro.b)(e),{getFolderLevelByFolderId:n}=t();return{isFolderNameExistAtLevel:(e,t)=>s(e).some(e=>n(e)===t)}})(gm),Im=s(567),fm=s.n(Im);class Sm extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.getClassName=(()=>{const{isActive:e,highlight:t,whiteBackground:s,isAccountSwitcher:n}=this.props,a=this.context.getTheme(),r=this.context.getThemeMode(),o=this.context.getCss(fm.a,{whiteBackground:s&&!t,highlightThemeCombo:`${t}_${a}`,highlightDarkPartnerThemeCombo:`${t&&("MEDIUM"===r||"DARK"===r)}_${a}`,isAccountSwitcher_LIGHT:e&&n&&"LIGHT"===r,isAccountSwitcher_MEDIUM:e&&n&&"MEDIUM"===r,isAccountSwitcher_DARK:e&&n&&"DARK"===r});return e?o.activeContainer:o.container}),t}render(){const{value:e}=this.props;if(!e||e<0)return null;const t=this.getClassName();return Ue.a.createElement("span",{className:t,"data-test-id":"displayed-count"},e>E.Ob?E.Vb:e)}}Sm.contextTypes={getCss:Ve.a.func,getTheme:Ve.a.func,getThemeMode:Ve.a.func},Sm.defaultProps={whiteBackground:!1};var Am=Sm;var Tm=class extends Ue.a.Component{render(){return Ue.a.createElement($c.a,null,Ue.a.createElement(Hr.a,babelHelpers.extends({kind:Ur.a.MENUITEM},this.props),this.props.children))}},Cm=s(568),Om=s.n(Cm);const Rm=Wr()(Om.a),Nm={maxWidth:"230px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},Mm=Object(Sr.h)({mark_folder_read:{id:"mark_folder_read",defaultMessage:"Mark emails as read"},archive_inbox_messages:{id:"archive_inbox_messages",defaultMessage:"Clean your Inbox"},archive_folder_messages:{id:"archive_folder_messages",defaultMessage:"Archive all emails"},empty_folder_messages:{id:"folder_menu.empty_folder_messages",defaultMessage:"Empty {folderName}"},delete_folder_messages:{id:"delete_folder_messages",defaultMessage:"Delete all emails"},rename_folder:{id:"rename_folder",defaultMessage:"Rename folder"},move_folder:{id:"move_folder",defaultMessage:"Move folder"},delete_folder:{id:"delete_folder",defaultMessage:"Delete folder"},create_subfolder:{id:"create_subfolder",defaultMessage:"Create subfolder"}});function Dm(){}class ym extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.handleDeleteClick=(e=>{e.preventDefault();const t={interactionType:Object(Ps.i)(e),actionData:{depth:this.props.depth}};this.props.onDelete({folder:this.props.folder,i13nModel:t,hasSubFolder:this.props.hasChildren})}),this.handleRenameClick=(e=>{e.preventDefault(),this.props.onRename()}),this.handleSubfolderClick=(e=>{e.preventDefault(),this.props.onSubfolderCreate()}),this.handleMarkReadClick=(e=>{e.preventDefault();const t={interactionType:Object(Ps.i)(e),actionData:{numMsg:this.props.folder.unread}};this.props.onMarkRead({folder:this.props.folder,i13nModel:t})}),this.handleArchiveClick=(e=>{e.preventDefault(),this.props.onArchive(this.props.folder)}),this.handleClearClick=(e=>{e.preventDefault(),this.props.onClear(this.props.folder)}),this.getMarkAsReadMenuItem=(e=>{const t=0===this.props.folder.total||0===this.props.folder.unread,{formatMessage:s}=this.context.intl;return Ue.a.createElement(Tm,{key:e,name:"mark_folder_read",disabled:t,onClick:this.handleMarkReadClick},Ue.a.createElement("div",{style:Nm,title:s(Mm.mark_folder_read)},s(Mm.mark_folder_read)))}),this.getArchiveMenuItem=(e=>{const t=this.props.folder.type,s=0===this.props.folder.total,{formatMessage:n}=this.context.intl;return Ue.a.createElement(Tm,{key:e,name:"archive_folder_messages",disabled:s,onClick:this.handleArchiveClick},t===E.ub.INBOX?Ue.a.createElement("div",{style:Nm,title:n(Mm.archive_inbox_messages)},n(Mm.archive_inbox_messages)):Ue.a.createElement("div",{style:Nm,title:n(Mm.archive_folder_messages)},n(Mm.archive_folder_messages)))}),this.getDeleteMenuItem=(e=>{const t=this.props.folder.type,s=0===this.props.folder.total,{formatMessage:n}=this.context.intl;return Ue.a.createElement(Tm,{key:e,name:"delete_folder_messages",disabled:s,onClick:this.handleClearClick},t===E.ub.BULK||t===E.ub.TRASH?Ue.a.createElement("div",{style:Nm,title:n(Mm.empty_folder_messages,{folderName:Ue.a.createElement(Xo.a,{folderId:this.props.folder.id})})},n(Mm.empty_folder_messages,{folderName:Ue.a.createElement(Xo.a,{folderId:this.props.folder.id})})):Ue.a.createElement("div",{style:Nm,title:n(Mm.delete_folder_messages)},n(Mm.delete_folder_messages)))}),this.getRenameFolderMenuItem=(e=>{const t=this.props.hasChildren,{formatMessage:s}=this.context.intl;return Ue.a.createElement(Tm,{key:e,name:"rename_folder",disabled:t,onClick:this.handleRenameClick},Ue.a.createElement("div",{style:Nm,title:s(Mm.rename_folder)},s(Mm.rename_folder)))}),this.getMoveFolderMenuItem=(e=>{const{formatMessage:t}=this.context.intl;return Ue.a.createElement(Tm,{key:e,disabled:!0,onClick:Dm},Ue.a.createElement("div",{style:Nm,title:t(Mm.move_folder)},t(Mm.move_folder)))}),this.getDeleteFolderMenuItem=(e=>{const{formatMessage:t}=this.context.intl;return Ue.a.createElement(Tm,{key:e,name:"delete_folder",onClick:this.handleDeleteClick},Ue.a.createElement("div",{style:Nm,title:t(Mm.delete_folder)},t(Mm.delete_folder)))}),this.getCreateFolderMenuItem=(e=>{const{formatMessage:t}=this.context.intl;return Ue.a.createElement(Tm,{key:e,name:"create_subfolder",onClick:this.handleSubfolderClick,"data-test-id":"create-subfolder"},Ue.a.createElement("div",{style:Nm,title:t(Mm.create_subfolder)},t(Mm.create_subfolder)))}),this.getSeparatorItem=(e=>Ue.a.createElement($c.a,{key:e,className:Rm.separator})),this.renderMenuItems=(()=>{const e=Object(bt.f)(this.props.folder.type),t=[];return e.map((e,s)=>{switch(e){case E.tb.MARK_READ:t.push(this.getMarkAsReadMenuItem(s));break;case E.tb.ARCHIVE:t.push(this.getArchiveMenuItem(s));break;case E.tb.DELETE:t.push(this.getDeleteMenuItem(s));break;case E.tb.RENAME_FOLDER:t.push(this.getRenameFolderMenuItem(s));break;case E.tb.MOVE_FOLDER:t.push(this.getMoveFolderMenuItem(s));break;case E.tb.DELETE_FOLDER:t.push(this.getDeleteFolderMenuItem(s));break;case E.tb.CREATE_FOLDER:t.push(this.getCreateFolderMenuItem(s));break;case E.tb.SEPARATOR:t.push(this.getSeparatorItem(s))}}),t}),t}render(){return Ue.a.createElement("div",{className:Rm.container},Ue.a.createElement(jr.a,{kind:ol.a.MENU,focusOnMount:!0,onShow:this.props.onShow},this.renderMenuItems()))}}ym.contextTypes={intl:Sr.i.isRequired};var Lm=ym,vm=s(64),Pm=s(93);const Fm=Object(S.c)(["MESSAGE_VIEW","LIST","LIST_WITH_PREVIEW_RIGHT","LIST_WITH_PREVIEW_BOTTOM"]),xm=13*Pr.GRID_UNIT,wm={HAS_GROUP_SELECTION:{[Fm.LIST]:!0,[Fm.LIST_WITH_PREVIEW_RIGHT]:!0,[Fm.LIST_WITH_PREVIEW_BOTTOM]:!0},HAS_SORT:{[Fm.LIST]:!0,[Fm.LIST_WITH_PREVIEW_RIGHT]:!0,[Fm.LIST_WITH_PREVIEW_BOTTOM]:!0},HAS_CLOSE:{[Fm.LIST_WITH_PREVIEW_RIGHT]:!0,[Fm.MESSAGE_VIEW]:!0},HAS_SINGLE_GROUP_ACTIONS:{[Fm.LIST_WITH_PREVIEW_RIGHT]:!0,[Fm.LIST_WITH_PREVIEW_BOTTOM]:!0,[Fm.MESSAGE_VIEW]:!0},HAS_EXPAND_COLLAPSE:{[Fm.LIST_WITH_PREVIEW_RIGHT]:!0,[Fm.LIST_WITH_PREVIEW_BOTTOM]:!0,[Fm.MESSAGE_VIEW]:!0},HAS_PREVIOUS_NEXT:{[Fm.MESSAGE_VIEW]:!0}};var km=Fm,Hm=s(66);const Um=e=>{e.dispatch(To.Eb)},jm={archiveMessageGroups:Hm.a,restoreMessageGroups:Hm.u,deleteMessageGroups:Hm.c,moveMessageGroups:Hm.o,markMessageGroupsAsSpam:Hm.k,markMessageGroupsAsNotSpam:Hm.h,markMessageGroupsAsRead:Hm.j,markMessageGroupsAsUnread:Hm.n,markMessageGroupsAsFlagged:Hm.g,markMessageGroupsAsUnflagged:Hm.m,printMessage:Hm.r,toggleSelection:function(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:a,i13nModel:r}){e.dispatch(To.aj,{i13nModel:r,isV2Action:!0,listId:t,streamId:n,streamItem:a,messageGroupIds:s})},toggleMultipleSelection:function(e,{listId:t,multipleStreamItems:s,streamId:n,streamItem:a,i13nModel:r}){e.dispatch(To.Wi,{i13nModel:r,isV2Action:!0,listId:t,streamId:n,streamItem:a,multipleStreamItems:s})},selectAll:function(e,{listId:t,streamId:s,i13nModel:n}){e.dispatch(To.Q,{i13nModel:n,isV2Action:!0,listId:t,streamId:s})},selectRange:function(e,{listId:t,targetGroupId:s,streamId:n,streamItem:a,i13nModel:r}){e.dispatch(To.Xi,{i13nModel:r,isV2Action:!0,listId:t,targetGroupId:s,streamId:n,streamItem:a})},selectNone:function(e,{listId:t,streamId:s,i13nModel:n}){e.dispatch(To.Zi,{i13nModel:n,isV2Action:!0,listId:t,streamId:s})},selectRead:function(e,{listId:t,streamId:s,selectionType:n,i13nModel:a}){e.dispatch(To.Yi,{i13nModel:a,isV2Action:!0,listId:t,streamId:s,selectionType:n})},selectUnread:function(e,{listId:t,streamId:s,selectionType:n,i13nModel:a}){e.dispatch(To.Yi,{i13nModel:a,isV2Action:!0,listId:t,streamId:s,selectionType:n})},selectStarred:function(e,{listId:t,streamId:s,selectionType:n,i13nModel:a}){e.dispatch(To.Yi,{i13nModel:a,isV2Action:!0,listId:t,streamId:s,selectionType:n})},selectUnstarred:function(e,{listId:t,streamId:s,selectionType:n,i13nModel:a}){e.dispatch(To.Yi,{i13nModel:a,isV2Action:!0,listId:t,streamId:s,selectionType:n})},moveCursor:function(e,{listId:t,movement:s,unit:n,i13nModel:a,streamId:r}){const{getFeaturesSelectors:o}=Object(ro.b)(e.store.getState()),i=o().getSetting(E.nd.PREVIEW_PANE);e.dispatch(To.Vi,{isV2Action:!0,listId:t,streamId:r,movement:s,unit:n,i13nModel:a,previewPane:i})},selectMove:function(e,{listId:t,movement:s,streamId:n,i13nModel:a}){e.dispatch(To.bj,{i13nModel:a,isV2Action:!0,listId:t,movement:s,streamId:n})},itemDragStart:function(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:a}){e.dispatch(To.Pe,{streamId:n,streamItem:a,listId:t,messageGroupIds:s})}};var Gm=s(92);const Bm={toolbarMenuShown:(e,{i13nModel:t})=>{e.dispatch(To.Kf,{i13nModel:t})}},Vm={archive:jm.archiveMessageGroups,restore:jm.restoreMessageGroups,delete:jm.deleteMessageGroups,markAsSpam:jm.markMessageGroupsAsSpam,markAsNotSpam:jm.markMessageGroupsAsNotSpam,move:jm.moveMessageGroups,[E.ld.ALL]:jm.selectAll,[E.ld.NONE]:jm.selectNone,[E.ld.READ]:jm.selectRead,[E.ld.UNREAD]:jm.selectUnread,[E.ld.STARRED]:jm.selectStarred,[E.ld.UNSTARRED]:jm.selectUnstarred},Wm={reply:Hm.t,replyAll:Hm.s,forward:Hm.f},qm={[km.LIST]:Object.assign({},Bm,Vm),[km.LIST_WITH_PREVIEW_RIGHT]:Object.assign({},Bm,Wm,Vm),[km.LIST_WITH_PREVIEW_BOTTOM]:Object.assign({},Bm,Wm,Vm),[km.MESSAGE_VIEW]:Object.assign({},Bm,Wm,{archive:Hm.b,restore:Hm.v,delete:Hm.d,markAsSpam:Hm.l,markAsNotSpam:Hm.i,move:Hm.p})},zm={[km.LIST]:babelHelpers.extends({},qm[km.LIST],{delete:Gm.b,move:Gm.i,archive:Gm.a,restore:Gm.j,markAsSpam:Gm.f,markAsNotSpam:Gm.d}),[km.LIST_WITH_PREVIEW_RIGHT]:babelHelpers.extends({},qm[km.LIST_WITH_PREVIEW_RIGHT],{delete:Gm.b,move:Gm.i,archive:Gm.a,restore:Gm.j,markAsSpam:Gm.f,markAsNotSpam:Gm.d}),[km.LIST_WITH_PREVIEW_BOTTOM]:babelHelpers.extends({},qm[km.LIST_WITH_PREVIEW_BOTTOM],{delete:Gm.b,move:Gm.i,archive:Gm.a,restore:Gm.j,markAsSpam:Gm.f,markAsNotSpam:Gm.d}),[km.MESSAGE_VIEW]:qm[km.MESSAGE_VIEW]};var Zm=qm;const Km=()=>{},Ym=Object(Sr.h)({folder_tooltip:{id:"folder_tooltip",defaultMessage:"{folderName}{isSelected} - {totalNum, plural,\n                =0 {{folderType, select,\n                            DRAFT {no drafts}\n                            other {no emails}}}\n                =1 {{folderType, select,\n                            DRAFT {{totalNum, number} draft}\n                            other {{totalNum, number} email}}}\n                =-1 {{folderType, select,\n                            DRAFT {}\n                            other {}}}\n                other {{folderType, select,\n                            DRAFT {{totalNum, number} drafts}\n                            other {{totalNum, number} emails}}}\n            } {unreadTooltip} {folderStateTooltip}"},unread_tooltip:{id:"unread_tooltip",defaultMessage:"{numUnreads, plural,\n                other {(# unread)}\n            }"},folder_is_open:{id:"folder_is_open",defaultMessage:"Folder is expanded. Collapse its contents using left arrow."},selected_folder:{id:"selected_folder",defaultMessage:", selected"},folder_is_closed:{id:"folder_is_closed",defaultMessage:"Folder is collapsed. Expand its contents using right arrow."},show_folders:{id:"show_folders",defaultMessage:"Click to show folders"},hide_folders:{id:"hide_folders",defaultMessage:"Click to hide folders"},rename_folder_input_aria_label:{id:"rename_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to rename folder]"},rename_folder_dismiss_input:{id:"rename_folder_dismiss_input",defaultMessage:"Dismiss input"},show_folder_menu:{id:"show_folder_menu",defaultMessage:"Show folder menu"},empty_trash_tooltip:{id:"empty_trash_tooltip",defaultMessage:"Empty Trash folder"},empty_spam_tooltip:{id:"empty_spam_tooltip",defaultMessage:"Empty Spam folder"}});class Xm extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={dragover:!1,unreadCount:Object(bt.g)(this.props.folder),prevCount:0},this._getChevronTitle=(()=>{const{formatMessage:e}=this.context.intl;switch(this.props.chevron){case E.I.LEFT:return e(Ym.show_folders);case E.I.DOWN:return e(Ym.hide_folders);default:return""}}),this.getTitleText=(()=>{const{folder:e,isActive:t}=this.props,{formatMessage:s}=this.context.intl;let n="",a="";const r=t?s(Ym.selected_folder):null;switch(this.props.chevron){case E.I.LEFT:a=s(Ym.folder_is_closed);break;case E.I.DOWN:a=s(Ym.folder_is_open);break;default:a=""}switch(e.type){case E.ub.DRAFT:case E.ub.SENT:case E.ub.BULK:case E.ub.TRASH:case E.ub.ARCHIVE:break;default:n=s(Ym.unread_tooltip,{numUnreads:Object(bt.g)(e)})}return s(Ym.folder_tooltip,{folderName:Object(bt.m)(s,e.type)||e.name,folderType:e.type,totalNum:e.total,unreadTooltip:n,folderStateTooltip:a,isSelected:r})}),this._getI13nModel=(()=>{const{folder:e}=this.props;return{mKey:zr.e[`${e.type}_FOLDER`],sec:E.Jd[e.type]?zr.g.LEFTRAIL_SYSFOLDER:zr.g.LEFTRAIL_USERFOLDER,actionData:{depth:this.props.depth}}}),this.handleKeyDown=(e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),this.handleNavClick(e);break;case"ArrowLeft":case"ArrowRight":e.stopPropagation(),this.props.onToggleExpansion(e);break;default:return}}),this.handleNavClick=(e=>{if(e.preventDefault(),this.folderMenu&&(e.target===this.folderMenu||this.folderMenu.contains(e.target)))return;const t=this._getI13nModel();t.interactionType=Object(Ps.i)(e),this.props.onClick(e,this.props.folder.id,t)}),this.handleDoubleClick=(e=>{const{folder:t}=this.props;e.stopPropagation(),E.Jd[t.type]||this.props.hasChildren||this.props.onRenameStart()}),this.handleRename=(({folderName:e,i13nModel:t})=>{t=Object.assign({actionData:{depth:this.props.depth}},t),this.props.onRenameSubmit({originalFolderName:this.props.folder.name,newFolderName:e,folderId:this.props.folder.id,i13nModel:t})}),this.renderInput=(()=>{const{formatMessage:e}=this.context.intl;return Ue.a.createElement(bm,{onInputSubmit:this.handleRename,onDismiss:this.props.onRenameCancel,initialFolderName:this.props.folder.name,ariaLabel:e(Ym.rename_folder_input_aria_label),cancelTitle:e(Ym.rename_folder_dismiss_input),activeAccountId:this.props.activeAccountId,folderLevel:this.props.folder.level})}),this.renderLabel=(e=>{const{folder:t,chevron:s}=this.props,n=this.props.chevron!==E.I.NONE;return Ue.a.createElement("span",{className:e.labelContainer,title:this.getTitleText()},n?Ue.a.createElement(Hr.a,{title:this._getChevronTitle(),onClick:this.props.onToggleExpansion,className:e.chevron,"data-test-id":"folder-expand-btn"},Ue.a.createElement(Tr.b,{kind:Cr.b.CHEVRON_UP,colorState:Cr.a.INHERITED,size:Cr.d.XS,rotate:s===E.I.DOWN?Cr.c.D180:Cr.c.D90})):null,Ue.a.createElement("span",{className:e.label},Ue.a.createElement(Xo.a,{folderId:t.id,"data-test-id":"folder-label"})))}),this.shouldHandleDrag=(()=>{const{folder:e}=this.props;return-1===[E.ub.SENT,E.ub.DRAFT].indexOf(e.type)}),this.handleDrop=(e=>{if(e.preventDefault(),!this.shouldHandleDrag())return;const t=e.dataTransfer.getData("text");let s;try{s=JSON.parse(t)}catch(e){return}const{listId:n,allItemsCount:a,doSelectAll:r}=s;n&&(this.props.onFolderDrop((r?zm:Zm)[km.LIST].move,{destinationFolderId:this.props.folder.id,listId:n,allItemsCount:a,i13nModel:{interactionType:Object(Ps.i)(e),mKey:zr.e.DRAG_DROP_MOVE,sec:zr.g.MSG_LIST,mKeyGroup:zr.f.move}}),this.targets=[],this.setState({dragover:!1}))}),this.handleDragEnter=(e=>{e.preventDefault(),this.shouldHandleDrag()&&(this.targets||(this.targets=[]),this.targets.push(e.currentTarget),1===this.targets.length&&this.setState({dragover:!0}))}),this.handleDragLeave=(e=>{e.preventDefault(),this.shouldHandleDrag()&&this.targets&&(this.targets.pop(),0===this.targets.length&&this.setState({dragover:!1}))}),this.handleDragOver=(e=>{e.preventDefault(),this.shouldHandleDrag()&&(this.state.dragover||this.setState({dragover:!0}))}),this.shouldRenderTrashCanIcon=(()=>{const{isHovered:e,showFolderMenu:t,isRefreshing:s,folder:n}=this.props;return!(s||!t||!e||-1===[E.ub.TRASH,E.ub.BULK].indexOf(n.type))}),this.handleEmptyFolder=(e=>{e.preventDefault(),this.props.folder.total>0&&this.props.onClear(this.props.folder)}),this.shouldRenderUnreadCount=(()=>{const{isHovered:e,showFolderMenu:t,isRefreshing:s,folder:n}=this.props;return!(s||-1===[E.ub.DRAFT,E.ub.SENT].indexOf(n.type)&&(e||t))}),this.getUnreadCountClass=(e=>{const{folder:t}=this.props;return this.state.prevCount>=this.state.unreadCount||-1!==[E.ub.DRAFT,E.ub.SENT,E.ub.SPAM,E.ub.TRASH].indexOf(t.type)?e.unreadWrapper:e.unreadFadeIn}),this.renderFolderStateIcon=(e=>{const{isRefreshing:t,folder:s,isActive:n}=this.props,{formatMessage:a}=this.context.intl,r=this.shouldRenderUnreadCount(),o=this.shouldRenderTrashCanIcon();if(t)return Ue.a.createElement("span",{className:e.loader},Ue.a.createElement(Nc.b,{size:Nc.a.S,"data-test-id":"folder-loading-indicator"}));if(r)return Ue.a.createElement("span",{className:e.unreadWrapper},Ue.a.createElement(Am,{value:this.state.unreadCount,isActive:n,highlight:this.props.highlightUnreadCount,whiteBackground:this.context.getThemeMode()!==Is.f.LIGHT}));if(o){const t=a(s.type===E.ub.TRASH?Ym.empty_trash_tooltip:Ym.empty_spam_tooltip);return Ue.a.createElement("span",{className:e.trashIconWrapper,title:t},Ue.a.createElement(Ar.a,{"data-test-id":"trashcan-icon",kind:Cr.b.DELETE,size:Cr.d.XXS,colorState:Cr.a.INHERITED,onClick:this.handleEmptyFolder,title:t,ariaLabel:t}))}return Ue.a.createElement("span",{className:e.folderMenu,ref:e=>this.folderMenu=e},Ue.a.createElement(Pm.c,{permittedArrowDirections:[kr.g.UP,kr.g.DOWN],triggerOn:Pm.b.CLICK,triggerOff:Pm.a.CLICK,arrowSize:kr.b.XS,offset:4*Pr.GRID_UNIT,align:kr.a.CENTER,overflowScroll:!1,onShown:()=>this.props.handleMenuVisibility(!0),onHide:()=>this.props.handleMenuVisibility(!1)},Ue.a.createElement("div",{className:e.folderMenuIcon,"data-test-id":"folder-menu-hook"},Ue.a.createElement(Tr.b,{kind:Cr.b.INPUT_ARROW_DOWN,size:Cr.d.XS,colorState:Cr.a.INHERITED,title:a(Ym.show_folder_menu),ariaLabel:a(Ym.show_folder_menu)})),Ue.a.createElement(Lm,{"data-test-id":"folder-menu",folder:this.props.folder,onDelete:this.props.onDelete,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,onMarkRead:this.props.onMarkRead,onArchive:this.props.onArchive,onClear:this.props.onClear,onShow:this.props.onFolderMenuShow,onRename:this.props.onRenameStart,hasChildren:this.props.hasChildren,depth:this.props.depth})))}),this.getContainerClassName=(e=>{const{isActive:t}=this.props;return this.state.dragover?t?e.activeDragoverContainer:e.dragoverContainer:t?e.activeContainer:e.container}),t}componentWillReceiveProps(e){this.props.folder.unread!==e.folder.unread&&e.folder.unread<0&&vm.a.error("The user received a negative folder count."),this.setState({prevCount:this.state.unreadCount,unreadCount:Object(bt.g)(e.folder)})}componentWillUnmount(){this.targets=null,clearTimeout(this.timerID)}render(){const{folder:e,depth:t,isActive:s,isActualFolder:n,showFolderMenu:a,sortOrder:r}=this.props,o=this.props.chevron!==E.I.NONE;let i;e.isSystem||(i=0===t?o?cm:lm:o?dm:um);const c=this.context.getCss(sm.a,{indentation:i,showFolderMenu:a,isActive:s});return this.props.renamingFolder?this.renderInput():n?Ue.a.createElement("div",{className:this.getContainerClassName(c),"data-test-folder-container":e.name,"data-test-id":"folder-item-container",onMouseEnter:()=>this.props.handleHover(!0),onMouseLeave:()=>this.props.handleHover(!1),onDragOver:this.handleDragOver,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,onClick:this.handleNavClick,"data-iskeynav":!0,tabIndex:-1},Ue.a.createElement("a",{href:this.context.getUrlFromRoute({name:E.Uc.FOLDER,params:{fid:Object(io.R)(Object(io.s)(e.id,r))}}),className:s?c.activeNavContainer:c.navContainer,"data-test-folder-name":e.name,"data-test-id":"folder-list-item",onFocus:this.props.onFocus,onDoubleClick:this.handleDoubleClick,onKeyDown:this.handleKeyDown,"aria-label":this.getTitleText(),"data-test-unread-count":e.unread,"data-test-total-count":e.total,"data-test-is-active":s,tabIndex:-1,rel:"noopener"},this.renderLabel(c),this.renderFolderStateIcon(c))):Ue.a.createElement("div",{className:c.folderLabelContainer},Ue.a.createElement("span",{className:c.label},Ue.a.createElement(nm.a,{name:e.name,"data-test-id":"folder-label"})))}}Xm.contextTypes={intl:Sr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func,getUrlFromRoute:Ve.a.func.isRequired},Xm.defaultProps={onClick:Km,onRenameStart:Km,onRenameSubmit:Km,onRenameCancel:Km,renamingFolder:!1,isActive:!1,isActualFolder:!0,showFolderMenu:!1,depth:0,hasChildren:!1};var $m=Xm,Qm=s(569),Jm=s.n(Qm);class ep extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={playAnimation:!1},this.getTitleText=(()=>{const{formatMessage:e}=this.context.intl,{isActive:t,type:s}=this.props;return e(t?lo.a["smart_view_selected_"+s]:lo.a[s])}),this.getFujiIconKind=(e=>{switch(e){case"DOCUMENTS":return Cr.b.DOCUMENTS_S;case"PHOTOS":return Cr.b.TAB_IMAGES;case"TUTORIAL":return Cr.b.CAL_MAYBE;case"COUPONS":return Cr.b.SCISSORS;case"GROCERIES":return Cr.b.BASKET;case"RECEIPTS":return Cr.b.DRAFTS;case"TRAVEL":return Cr.b.TRAVEL;default:return""}}),this.handleKeyDown=(e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),this.props.onClick(e,this.props.type);break;default:return}}),this.handleNavClick=(e=>{this.props.onClick(e,this.props.type)}),this.handleHover=(e=>{this.props.handleHover(e)}),this.renderGuidedStarAnimation=((e,t)=>{const s=this.context.getThemeMode(),{STARRED:n,STARRED_DARK:a}=Cr.a,{gifUrlLight:r,gifUrlDark:o}=t;return t.name===E.ad.SLIDEUP?Ue.a.createElement("div",{className:e.starAnimation},Ue.a.createElement(Tr.b,{kind:Cr.b.STAR,size:Cr.d.S,colorState:s===E.Nd.LIGHT?n:a})):t.name===E.ad.GUIDEDSTAR?Ue.a.createElement("img",{className:e.sparkleGuidedStarAnimation,src:Object(Zc.a)(s===E.Nd.LIGHT?r:o),"data-test-id":s===E.Nd.LIGHT?"guided-stars-light":"guided-stars-dark"}):null}),this.renderLabel=(e=>{const{type:t}=this.props,s=this.context.intl.formatMessage(lo.a["smart_view_"+t]),n=Ue.a.createElement("span",null,s);return Ue.a.createElement("div",{className:e.labelContainer,title:this.getTitleText()},Ue.a.createElement("span",{className:e.label},n))}),this.getListId=(()=>{const{type:e,activeAccount:t}=this.props,s={accountIds:[t.id]},n=Object(Ql.b)(e,s);return Object(io.S)(Object(io.d)(n))}),this.getIconColor=(()=>{let e;return e="LIGHT"===this.context.getThemeMode()?this.props.isActive?Cr.a.NORMAL:Cr.a.DISABLED:this.props.isActive?Cr.a.INVERTED:Cr.a.SMARTVIEW_DARK}),this.getIcon=((e,t,s,n,a,r)=>t?Ue.a.createElement("span",{className:e.smartViewIcon+" "+e.rtlRawScaleX},Ue.a.createElement(Tr.b,{kind:s,size:n,title:a,colorState:r})):null),t}componentWillReceiveProps(e){"STARRED"===e.type&&e.guidedStarAnimation&&e.hasGuidedStarAnimation&&!this.state.playAnimation&&this.setState({playAnimation:!0},()=>setTimeout(()=>{this.setState({playAnimation:!1})},e.guidedStarAnimation.duration))}render(){const{type:e,isActive:t,guidedStarAnimation:s={}}=this.props,{name:n=""}=s,a=this.getFujiIconKind(e),r=this.getIconColor(),o=!!a,i=this.context.getCss(Jm.a,{isActive:t,isActiveAndNoIcon:!o&&t,hasIcon:o,animation:n}),c=this.getListId();let l,d={query:c};switch(e){case E.zd.TUTORIAL:l=E.Uc.TUTORIAL;break;case E.zd.RECEIPTS:case E.zd.COUPONS:case E.zd.GROCERIES:case E.zd.TRAVEL:l=E.Uc.LIST,d={serializedListId:c};break;default:l=E.Uc.SEARCH}return Ue.a.createElement("a",{href:this.context.getUrlFromRoute({name:l,params:d}),onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),className:t?i.activeContainer:i.container,"data-test-smartview-type":e,"data-test-id":"smartview-list-item",onClick:this.handleNavClick,onKeyDown:this.handleKeyDown,"aria-label":this.getTitleText(),"data-test-is-active":t,"data-iskeynav":!0,tabIndex:-1,rel:"noopener"},this.getIcon(i,o,a,Cr.d.XS,this.getTitleText(),r,e),this.renderLabel(i),this.state.playAnimation?this.renderGuidedStarAnimation(i,s):null)}}ep.contextTypes={intl:Sr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func,getUrlFromRoute:Ve.a.func.isRequired},ep.defaultProps={onClick:()=>{},isActive:!1};var tp=Object(Ir.b)(e=>{const{isFeatureEnabled:t,getSetting:s}=Object(ro.b)(e);return{hasGuidedStarAnimation:t(E.nd.HAS_GUIDED_STAR_ANIMATION),starredMailEnhanced:t(E.mb.STARRED_MAIL_ENHANCED),guidedStarAnimation:s(E.nd.GUIDED_STAR_ANIMATION)}})(ep);var sp=Object(Ir.b)(function(e){const{getSelectedAccountId:t,getAccountById:s}=Object(ro.b)(e);return{activeAccount:s(t())}})(class extends Ue.a.Component{render(){return Ue.a.createElement(tp,this.props)}});const np={},ap=Object(Sr.h)({create_folder_input_aria_label:{id:"create_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to create folder]"}});class rp extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={creatingSubfolder:!1,renamingFolder:!1,isMenuVisible:!1,isHovered:!1},this.handleToggle=(e=>{const t=this.props.folder.id;e.stopPropagation(),e.preventDefault(),e.key?"ArrowRight"!==e.key||this.props.expanded?"ArrowLeft"===e.key&&this.props.expanded&&this.props.toggleExpansion(t,!1):this.props.toggleExpansion(t,!0):this.props.toggleExpansion(t,!this.props.expanded)}),this.handleCreateSubfolderStart=(()=>{this.setState({creatingSubfolder:!0})}),this.handleRenameFolderStart=(()=>{this.setState({renamingFolder:!0})}),this.handleRenameFolderSubmit=(({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:n})=>{e!==t&&this.props.onRename({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:n}),this.setState({renamingFolder:!1})}),this.handleRenameFolderCancel=(()=>{this.setState({renamingFolder:!1})}),this.handleCreateSubfolderDone=(({folderName:e,i13nModel:t})=>{this.setState({creatingSubfolder:!1}),t=Object.assign({actionData:{depth:this.props.depth+1}},t),this.props.onSubfolderCreate({folderId:this.props.folder.id,subfolderName:e,i13nModel:t})}),this.handleCreateSubfolderDismiss=(()=>{this.setState({creatingSubfolder:!1})}),this.handleMenuVisibility=(e=>{this.setState({isMenuVisible:e})}),this.handleHover=(e=>{this.setState({isHovered:e})}),this.handleFolderOpen=((e,t,s)=>{const{folder:n}=this.props;np[n.id]&&(np[n.id]=!1),this.props.onOpen(e,t,s)}),this.getChevronState=(()=>{let e=E.I.NONE;return this.props.hasChildren&&!this.props.folder.isSystem&&(e=this.props.expanded?E.I.DOWN:E.I.LEFT),e}),t}static getDerivedStateFromProps(e,t){return e.isScrolling&&t.isMenuVisible?{isMenuVisible:!1}:null}static shouldHighlightUnreadCount(e,t){const{highlightFolderId:s,unread:n,uidNext:a,highestModSeq:r}=t;return s!==e.folder.id&&n>0&&e.highestModSeq!==r&&e.uidNext!==a}componentDidUpdate(e){rp.shouldHighlightUnreadCount(this.props,e)&&(np[this.props.folder.id]=!0)}render(){const{formatMessage:e}=this.context.intl,{folder:t,unread:s,total:n,hasChildren:a}=this.props;return Ue.a.createElement("li",{style:t.isRTL?{padding:`0 ${8*this.props.depth}px 0 0`}:{padding:`0 0 0 ${8*this.props.depth}px`}},"smartview"===t.kind?Ue.a.createElement(sp,{onClick:this.props.onSmartViewOpen,type:t.type,total:n,isActive:this.props.highlightFolderId===t.id,handleHover:this.handleHover}):Ue.a.createElement($m,{folder:babelHelpers.extends({},t,{unread:s,total:n,hasChildren:a}),sortOrder:this.props.sortOrder,depth:this.props.depth,onClick:this.handleFolderOpen,onRenameStart:this.handleRenameFolderStart,onRenameSubmit:this.handleRenameFolderSubmit,onRenameCancel:this.handleRenameFolderCancel,renamingFolder:this.state.renamingFolder,isActive:this.props.highlightFolderId===t.id,isRefreshing:this.props.highlightFolderId===t.id&&this.props.folderRefreshing,chevron:this.getChevronState(),onToggleExpansion:this.handleToggle,handleMenuVisibility:this.handleMenuVisibility,handleHover:this.handleHover,showFolderMenu:this.state.isHovered||this.state.isMenuVisible,onDelete:this.props.onDelete,onSubfolderCreate:this.handleCreateSubfolderStart,onMarkRead:this.props.onMarkRead,onFolderMenuShow:this.props.onFolderMenuShow,onArchive:this.props.onArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onClear,isHovered:this.state.isHovered,highlightUnreadCount:np[t.id]||!1,activeAccountId:this.props.activeAccountId,hasChildren:a}),this.state.creatingSubfolder?Ue.a.createElement(bm,{onInputSubmit:this.handleCreateSubfolderDone,onDismiss:this.handleCreateSubfolderDismiss,ariaLabel:e(ap.create_folder_input_aria_label),indentation:om,activeAccountId:this.props.activeAccountId,folderLevel:t.level+1}):null)}}rp.contextTypes={intl:Sr.i.isRequired},rp.defaultProps={isScrolling:!1};var op=Object(Ir.b)((e,{folder:t})=>{const s=t.id,{getFolderHighestModSeq:n,getFoldersSelectors:a}=Object(ro.b)(e),{getFolderUidNext:r,getFolderUnreadCount:o,getFolderTotal:i,hasChildren:c}=a();return"folder"===t.kind?{highestModSeq:n(s),uidNext:r(s),unread:o(s),total:i(s),hasChildren:c(s)}:{unread:0,total:0}})(rp),ip=s(104);const cp=5,lp=Object(Sr.h)({click_to_show_more_title:{id:"folder_list.click_to_show_more_title",defaultMessage:"Click here to Show Folders"},click_to_show_less_title:{id:"folder_list.click_to_show_less_title",defaultMessage:"Click here to Hide Folders"},less_label:{id:"folder_list.less_label",defaultMessage:"Less"},more_label:{id:"folder_list.more_label",defaultMessage:"More"}});class dp extends Ue.a.Component{constructor(e){super(e),up.call(this);const t=Object(ip.a)(e.expandedFolders),{showAllSystemFolders:s}=e;this.state={expandedFolders:t,showAllSystemFolders:!!s}}render(){const{indentation:e,folderNodes:t,onOpen:s,onRename:n,onDelete:a,onMarkRead:r,onArchive:o,onFolderDrop:i,onClear:c,highlightFolderId:l,folderRefreshing:d,onFolderMenuShow:u,onSmartViewOpen:m,collapsible:p}=this.props,_=this.context.getCss(em.a,babelHelpers.extends({indentation:e},Object(Is.i)(this.context,!0))),h=this.getFolderTreeNodes({onOpen:s,onRename:n,onDelete:a,onMarkRead:r,onArchive:o,onFolderDrop:i,onClear:c,onSubfolderCreate:this.onSubfolderCreate,highlightFolderId:l,folderRefreshing:d,onFolderMenuShow:u,onSmartViewOpen:m}),{showAllSystemFolders:E}=this.state;let g;return t.length?(g=p?E?h:h.slice(0,cp):h,Ue.a.createElement("ul",{className:_.folderTree},g,this.renderStarredCue(),p&&h.length>cp?Ue.a.createElement("li",{onClick:this.toggleShowAll,className:_.collapseFolders,"data-test-id":E?"folder-list-collapse":"folder-list-expand",title:this.getTitleText(),"aria-label":this.getTitleText(),"data-iskeynav":!0,tabIndex:-1},Ue.a.createElement(Sr.c,E?lp.less_label:lp.more_label)):null)):null}}dp.contextTypes={intl:Sr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func,getTheme:Ve.a.func};var up=function(){this.toggleExpansion=((e,t)=>{const{expandedFolders:s}=this.state;let n;n=t?Object(ip.a)(s,e):Object(ip.e)(s,s.indexOf(e),1),this.setState({expandedFolders:n}),this.props.onFolderExpandToggle(e,t)}),this.toggleShowAll=(()=>{const e=!this.state.showAllSystemFolders;this.setState({showAllSystemFolders:e}),this.props.handleToggleSystemFolders(e)}),this.getFolderTreeNodes=(({onOpen:e,onRename:t,onDelete:s,onMarkRead:n,onArchive:a,onFolderDrop:r,onClear:o,onSubfolderCreate:i,onFolderMenuShow:c,highlightFolderId:l,folderRefreshing:d,onSmartViewOpen:u})=>{return this.filterNonExpandedFoldersChildren(this.props.folderNodes,this.state.expandedFolders).map((m,p)=>Ue.a.createElement(op,{activeAccountId:this.props.activeAccountId,key:m.id,folder:m,onOpen:e,onRename:t,onDelete:s,onMarkRead:n,onArchive:a,onFolderDrop:r,onClear:o,onSubfolderCreate:i,highlightFolderId:l,sortOrder:this.props.sortOrder,folderRefreshing:d,index:p,onSmartViewOpen:u,onFolderMenuShow:c,depth:m.level,toggleExpansion:this.toggleExpansion,expanded:-1!==this.state.expandedFolders.indexOf(m.id),showStarredCue:this.props.showStarredCue,ref:`${m.name.toLowerCase()}Button`,isScrolling:this.props.isScrolling}))}),this.filterNonExpandedFoldersChildren=((e,t)=>{const s=[];let n=0;for(let a=0;a<e.length;a++){const r=e[a];if(r.level<n&&(n=r.level),r.level===n){s.push(r),-1!==t.indexOf(r.id)&&(n=r.level+1)}}return s}),this.onSubfolderCreate=(({folderId:e,subfolderName:t,i13nModel:s})=>{this.toggleExpansion(e,!0),this.props.onSubfolderCreate({folderId:e,subfolderName:t,i13nModel:s})}),this.updateContent=(()=>{this.popoverContent&&this.popoverContent.updatePosition()}),this.renderStarredCue=(()=>this.props.showStarredCue&&this.refs.starredButton?Ue.a.createElement(Fr.a,{popoverAnchor:this.refs.starredButton,triggerOn:kr.h.MOUNT,permittedArrowDirections:[kr.g.START],isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},zAltitude:Pr.ZIndices.POPOVER.HIGH},Ue.a.createElement(Qr.a,{import:"../../starred_cue",cueName:E.mb.STARRED_CUE,onShow:this.updateContent,close:this.refs.starredButton.props.folder.id===this.props.highlightFolderId,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,924))},_moduleResolver:function(){return 924}})):null),this.getTitleText=(()=>{const{formatMessage:e}=this.context.intl;return e(this.state.showAllSystemFolders?lp.click_to_show_less_title:lp.click_to_show_more_title)})};var mp=Object(Ir.b)(e=>{const{getEnvironmentSelectors:t}=Object(ro.b)(e);return{isRTL:"rtl"===t().getPageDirection()}})(dp),pp=s(570),_p=s.n(pp);const hp=Object(Sr.h)({create_new_folder:{id:"create_new_folder",defaultMessage:"Create new folder"},create_folder_label:{id:"create_folder_label",defaultMessage:"New Folder"},create_folder_input_aria_label:{id:"create_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to create folder]"}});class Ep extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={createMode:!1},this.enableCreateMode=(()=>{this.setState({createMode:!0})}),this.disableCreateMode=(()=>{this.setState({createMode:!1})}),this.createFolder=(({folderName:e,i13nModel:t})=>{t=Object.assign({actionData:{depth:0}},t),this.disableCreateMode(),this.props.onCreate({folderName:e,i13nModel:t})}),this.handleKeyDown=(e=>{"Enter"!==e.key||this.state.createMode||(e.stopPropagation(),this.enableCreateMode())}),this.renderNewFolderButton=(e=>{const{formatMessage:t}=this.context.intl,s=this.context.getThemeMode();return Ue.a.createElement("div",{"data-iskeynav":!0,onClick:this.enableCreateMode,className:e.newFolderContainer},Ue.a.createElement(Ar.a,{kind:Cr.b.ADD,size:Cr.d.XS,colorState:s===Is.f.LIGHT?Cr.a.IMPROVED_GRAY_DARK:Cr.a.INHERITED,"aria-label":t(hp.create_new_folder),title:t(hp.create_new_folder),paddingLess:!0}),t(hp.create_folder_label))}),t}render(){const e=this.props.indentation,t=this.context.getCss(_p.a,{indentation:e}),{formatMessage:s}=this.context.intl;return Ue.a.createElement("div",{className:t.container,onKeyDown:this.handleKeyDown,"data-test-id":"create-folder-container"},this.state.createMode?Ue.a.createElement(bm,{onInputSubmit:this.createFolder,onDismiss:this.disableCreateMode,ariaLabel:s(hp.create_folder_input_aria_label),indentation:e,isScrolling:this.props.isScrolling,activeAccountId:this.props.activeAccountId}):this.renderNewFolderButton(t))}}Ep.contextTypes={intl:Sr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func};var gp=Ep;const bp=Object(Sr.h)({folders_label:{id:"folders_label",defaultMessage:"Folders"},click_to_show_folders_title:{id:"folder_list.click_to_show_folders_title",defaultMessage:"Click here to Show the Folders"},click_to_hide_folders_title:{id:"folder_list.click_to_hide_folders_title",defaultMessage:"Click here to Hide the Folders"}});class Ip extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={expanded:this.props.showCustomFolders},this.expand=(()=>{this.state.expanded||this.toggle()}),this.collapse=(()=>{this.state.expanded&&this.toggle()}),this.toggle=(()=>{const e=this.state.expanded;this.props.onToggleCustomFolders(!e),this.setState({expanded:!e})}),this.handleClick=(e=>{e.stopPropagation(),e.preventDefault(),this.toggle()}),this.handleKeyDown=(e=>{switch(e.preventDefault(),e.key){case" ":case"Enter":this.toggle();break;case"ArrowLeft":this.collapse();break;case"ArrowRight":this.expand();break;default:return}}),this.getTitleText=(()=>{const{formatMessage:e}=this.context.intl;return e(this.state.expanded?bp.click_to_hide_folders_title:bp.click_to_show_folders_title)}),t}render(){const{formatMessage:e}=this.context.intl,t=this.context.getCss(em.a,babelHelpers.extends({indentation:im},Object(Is.i)(this.context,!0))),s={id:"-1",type:E.ub.USER,name:e(bp.folders_label),total:-1};return Ue.a.createElement("div",null,Ue.a.createElement("div",{"data-iskeynav":!0,onKeyDown:this.handleKeyDown,className:t.folderContainer},Ue.a.createElement($m,{isActive:!1,folder:s,onToggleExpansion:()=>{},chevron:E.I.NONE,isActualFolder:!1}),Ue.a.createElement("span",{"data-test-id":"toggle-folder-tree",className:t.toggleFolderTree,onClick:this.handleClick,title:this.getTitleText(),"aria-label":this.getTitleText()},Ue.a.createElement(Sr.c,this.state.expanded?{id:"hide_label",defaultMessage:"Hide"}:{id:"show_label",defaultMessage:"Show"}))),this.props.children&&this.state.expanded?Ue.a.createElement("ul",{className:t.folderTree,"data-test-id":"custom-folder-list"},Ue.a.createElement("li",null,this.props.children)):null)}}Ip.contextTypes={intl:Sr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func,getTheme:Ve.a.func};var fp=Ip,Sp=s(571),Ap=s.n(Sp);const Tp=Object(Sr.h)({views_label:{id:"views_label",defaultMessage:"Views"},click_to_hide_views_title:{id:"click_to_hide_views_title",defaultMessage:"Click here to Hide the Views"},click_to_show_views_title:{id:"click_to_show_views_title",defaultMessage:"Click here to Show the Views"}});class Cp extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={expanded:!0,isHovered:!1},this.expand=(()=>{this.state.expanded||this.setState({expanded:!0})}),this.collapse=(()=>{this.state.expanded&&this.setState({expanded:!1})}),this.toggleExpand=(()=>{this.setState({expanded:!this.state.expanded})}),this.handleClick=(e=>{e.stopPropagation(),e.preventDefault(),this.toggleExpand()}),this.handleKeyDown=(e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),e.preventDefault(),this.toggleExpand();break;case"Arrowleft":e.stopPropagation(),e.preventDefault(),this.collapse();break;case"ArrowRight":e.stopPropagation(),e.preventDefault(),this.expand();break;default:return}}),this.handleHover=(e=>{this.setState({isHoverd:e})}),this.getTitleText=(()=>{const{formatMessage:e}=this.context.intl;return e(this.state.expanded?Tp.click_to_hide_views_title:Tp.click_to_show_views_title)}),this.renderLabel=(e=>{const{formatMessage:t}=this.context.intl,s=t(Tp.views_label),n=Ue.a.createElement("span",null,s),{expanded:a}=this.state;return Ue.a.createElement("div",{className:e.labelContainer,title:this.getTitleText()},Ue.a.createElement("span",{className:e.label},n),Ue.a.createElement("span",{"data-test-id":"toggle-smartview-list",className:e.toggleSmartViews,onClick:this.handleClick,title:this.getTitleText(),"aria-label":this.getTitleText()},Ue.a.createElement(Sr.c,a?{id:"hide_views_label",defaultMessage:"Hide"}:{id:"show_views_label",defaultMessage:"Show"})))}),this.renderSmartviews=(()=>{const{smartViews:e,onSmartViewOpen:t,highlightSmartView:s}=this.props;return e.map(e=>{const{folder:n}=e;return Ue.a.createElement("li",{key:n.id},Ue.a.createElement(sp,{onClick:t,type:Object(Ql.c)(n),isActive:s===n.id,handleHover:this.handleHover,total:n.total,ref:`${n.name.toLowerCase()}Button`}),n.name===E.zd.PHOTOS?this.renderPhotosCue():null,n.name===E.zd.COUPONS?this.renderCouponsViewCue():null,n.name===E.zd.RECEIPTS?this.renderPurchasesViewCue():null,n.name===E.zd.GROCERIES?this.renderGroceriesViewCue():null)})}),this.updateContent=(e=>{e&&e.updatePosition()}),this.renderPhotosCue=(()=>this.props.showPhotosCue&&this.refs.photosButton?Ue.a.createElement(Fr.a,{popoverAnchor:this.refs.photosButton,isRTL:this.props.isRTL,triggerOn:kr.h.MOUNT,permittedArrowDirections:[kr.g.START],ref:e=>{this.popoverContent=e},zAltitude:Pr.ZIndices.POPOVER.HIGH},Ue.a.createElement(Qr.a,{import:"../../photos_cue",cueName:E.mb.PHOTOS_CUE,onShow:()=>this.updateContent(this.popoverContent),close:this.refs.photosButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,925))},_moduleResolver:function(){return 925}})):null),this.renderPurchasesViewCue=(()=>this.refs.receiptsButton&&(this.props.showPurchasesViewCue||this.props.showShopRunnerViewCue)?Ue.a.createElement(Fr.a,{popoverAnchor:this.refs.receiptsButton,isRTL:this.props.isRTL,triggerOn:kr.h.MOUNT,permittedArrowDirections:[kr.g.START],ref:e=>{this.popoverContent=e},zAltitude:Pr.ZIndices.POPOVER.HIGH,bg:kr.d.DEFAULT},Ue.a.createElement("div",{style:{display:"block",minHeight:"138px"}},Ue.a.createElement(Qr.a,this.props.showPurchasesViewCue?{import:"../../purchases_view_cue/",cueName:E.mb.PURCHASES_VIEW_CUE,onShow:()=>this.updateContent(this.popoverContent),close:this.refs.receiptsButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,926))},_moduleResolver:function(){return 926}}:{import:"../../shop_runner_cue/shop_runner_view_cue.jsx",cueName:E.mb.SHOPRUNNER_VIEW_CUE,onShow:()=>this.updateContent(this.popoverContent),close:this.refs.receiptsButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,927))},_moduleResolver:function(){return 927}}))):null),this.renderCouponsViewCue=(()=>{const{showCouponsViewCue:e,showDealsViewCue:t,isRTL:n}=this.props;return(e||t)&&this.refs.couponsButton?Ue.a.createElement(Fr.a,{popoverAnchor:this.refs.couponsButton,isRTL:n,triggerOn:kr.h.MOUNT,permittedArrowDirections:[kr.g.START],ref:e=>{this.couponPopoverContent=e},zAltitude:Pr.ZIndices.POPOVER.HIGH,bg:kr.d.GRADIENT,borderRadius:kr.e.MEDIUM},Ue.a.createElement("div",{style:e?{display:"block",minHeight:"217px"}:{display:"flex",alignItems:"center"}},Ue.a.createElement(Qr.a,e?{import:"../../coupons_view_cue",cueName:E.mb.COUPONS_VIEW_CUE,onShow:()=>this.updateContent(this.couponPopoverContent),_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,964))},_moduleResolver:function(){return 964}}:{import:"../../deals/deals_view_cue",cueName:E.mb.DEALS_VIEW_CUE,onShow:()=>this.updateContent(this.couponPopoverContent),_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,928))},_moduleResolver:function(){return 928}}))):null}),this.renderGroceriesViewCue=(()=>this.props.showGroceriesViewCue&&this.refs.groceriesButton&&!this.props.isRetailerLinked?Ue.a.createElement(Fr.a,{popoverAnchor:this.refs.groceriesButton,isRTL:this.props.isRTL,triggerOn:kr.h.MOUNT,permittedArrowDirections:[kr.g.START],ref:e=>{this.popoverContent=e},zAltitude:Pr.ZIndices.POPOVER.HIGH},Ue.a.createElement("div",{style:{display:"block",minHeight:"177px"}},Ue.a.createElement(Qr.a,{import:"../../grocery_view_cue",cueName:E.mb.QTNT_VIEW_LEFT_RAIL_CUE,onShow:()=>this.updateContent(this.popoverContent),close:this.refs.groceriesButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,929))},_moduleResolver:function(){return 929}}))):null),t}render(){const e=this.context.getCss(Ap.a,babelHelpers.extends({indentation:im},Object(Is.i)(this.context,!0)));return Ue.a.createElement("div",null,Ue.a.createElement("div",{"data-iskeynav":!0,"data-test-id":"keyboard-toggle-smartview-list",onKeyDown:this.handleKeyDown,className:e.smartviewContainer},this.renderLabel(e)),this.state.expanded?Ue.a.createElement("ul",{className:e.smartviewList},this.renderSmartviews()):null)}}Cp.contextTypes={intl:Sr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func,getTheme:Ve.a.func};var Op=Object(Ir.b)(e=>{const{getEnvironmentSelectors:t,getSetting:s,getRetailersSelectors:n}=Object(ro.b)(e),{getPageDirection:a}=t(),{isLinkedRetailer:r}=n();return{isRetailerLinked:r(s(E.nd.LEFT_RAIL_CUE_RETAILER_ID)),isRTL:"rtl"===a(),cueVariant:s(E.nd.PURCHASES_VIEW_CUE_VARIANT)}})(Cp),Rp=s(572),Np=s.n(Rp);const Mp=Wr()(Np.a);class Dp extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.getSmartViews=(()=>{const e=Object(bt.o)(),{showCouponsView:t,showGroceriesView:s,showReceiptsView:n}=this.props;if(!this.props.tutorial){const t=e.findIndex(e=>e.folder.id===E.zd.TUTORIAL);e.splice(t,1)}if(!t){const t=e.findIndex(e=>e.folder.id===E.zd.COUPONS);e.splice(t,1)}if(!s){const t=e.findIndex(e=>e.folder.id===E.zd.GROCERIES);e.splice(t,1)}if(!n){const t=e.findIndex(e=>e.folder.id===E.zd.RECEIPTS);e.splice(t,1)}if(!this.props.travelView){const t=e.findIndex(e=>e.folder.id===E.zd.TRAVEL);e.splice(t,1)}return e}),t}render(){const{customFolderList:e,systemFolderListWithSmartView:t,isScrolling:s}=this.props,n=this.getSmartViews();return Ue.a.createElement("div",{className:"folder-list "+Mp.scrollOuter,"data-test-id":"folder-list"},Ue.a.createElement(mp,{activeAccountId:this.props.activeAccountId,highlightFolderId:this.props.highlightFolderId,sortOrder:this.props.sortOrder,folderRefreshing:this.props.folderRefreshing,folderNodes:t.map(e=>babelHelpers.extends({},e,{isSystem:!0})),onOpen:this.props.onFolderOpen,onSmartViewOpen:this.props.onSmartViewOpen,onRename:this.props.onFolderRename,onDelete:this.props.onFolderDelete,onMarkRead:this.props.onFolderMarkRead,onArchive:this.props.onFolderArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onFolderClear,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,indentation:im,showStarredCue:this.props.showStarredCue,expandedFolders:this.props.expandedFolders,onFolderExpandToggle:this.props.onFolderExpandToggle,collapsible:this.props.collapsibleSystemFolders,showAllSystemFolders:this.props.showAllSystemFolders,handleToggleSystemFolders:this.props.handleToggleSystemFolders,isScrolling:s}),Ue.a.createElement("div",null,Ue.a.createElement("div",{className:Mp.listSpacer}),Ue.a.createElement(Op,{smartViews:n,onSmartViewOpen:this.props.onSmartViewOpen,highlightSmartView:this.props.highlightFolderId,showPhotosCue:this.props.showPhotosCue,showStarredCue:this.props.showStarredCue,showCouponsViewCue:this.props.showCouponsViewCue,showPurchasesViewCue:this.props.showPurchasesViewCue,showShopRunnerViewCue:this.props.showShopRunnerViewCue,showGroceriesViewCue:this.props.showGroceriesViewCue,showDealsViewCue:this.props.showDealsViewCue})),Ue.a.createElement("div",{className:Mp.listSpacer}),Ue.a.createElement(fp,{showCustomFolders:this.props.showCustomFolders,onToggleCustomFolders:this.props.onToggleCustomFolders},Ue.a.createElement(gp,{onCreate:this.props.onFolderCreate,indentation:im,isScrolling:this.props.isScrolling,activeAccountId:this.props.activeAccountId}),e.length>0?Ue.a.createElement(mp,{activeAccountId:this.props.activeAccountId,expandedFolders:this.props.expandedFolders,onFolderExpandToggle:this.props.onFolderExpandToggle,highlightFolderId:this.props.highlightFolderId,sortOrder:this.props.sortOrder,folderRefreshing:this.props.folderRefreshing,folderNodes:e,onOpen:this.props.onFolderOpen,onRename:this.props.onFolderRename,onDelete:this.props.onFolderDelete,onMarkRead:this.props.onFolderMarkRead,onArchive:this.props.onFolderArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onFolderClear,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,indentation:om,collapsible:!1}):null))}}Dp.contextTypes={executeAction:Ve.a.func,config:Ve.a.object};var yp=Dp,Lp=s(573),vp=s.n(Lp);const Pp=Object(Sr.h)({compose:{id:"compose_button.compose",defaultMessage:"Compose"}});class Fp extends Ue.a.Component{render(){const{formatMessage:e}=this.context.intl,{appRootPath:t}=this.props,s=e(Pp.compose),n=this.context.getCss(vp.a),a=Object(Ps.f)();return Ue.a.createElement("a",{"data-iskeynav":!0,"data-test-id":"compose-button",href:`${t}/compose/${a}`,className:n.link,onClick:this.props.onClick,onDrop:this.props.handleDrop,onDragOver:this.props.handleDragOver,onDragEnter:this.props.handleDragEnter,role:"button","aria-label":s,rel:"noopener"},s)}}Fp.contextTypes={intl:Sr.i,config:Ve.a.object,getCss:Ve.a.func},Fp.defaultProps={appRootPath:"/d"};var xp=Fp,wp=s(227),kp=s.n(wp),Hp=s(124),Up=s(451);const jp=Object(Sr.h)({accountSettingsMenu:{id:"accounts_settings_menu_aria_label",defaultMessage:"Account settings"},syncingIndicatorIcon:{id:"syncing_indicator_icon_aria_label",defaultMessage:"Syncing"},notSyncingIndicatorIcon:{id:"not_syncing_indicator_icon_aria_label",defaultMessage:"Not syncing"}});class Gp extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={hoveredAccountId:null},this.handleClick=((e,t)=>{this.props.onClick(t,e,{mKey:zr.e.ACCOUNT_SWITCH,sec:zr.g.LEFTRAIL_ACCOUNTS,interactionType:Object(Ps.i)(t)})}),this.handleMouseOver=(e=>{this.setState({hoveredAccountId:e})}),this.handleMouseLeave=(()=>{this.setState({hoveredAccountId:null})}),this.handleGearIconClick=((e,t)=>{this.navigateToSettingsTab(e,t,{mKey:zr.e.EDIT_IMAP_ACCOUNT,sec:zr.g.LEFTRAIL_ACCOUNTS,interactionType:Object(Ps.i)(t)})}),this.handleExpiredIconClick=((e,t)=>{let s=!1;const{id:n,type:a}=e,r=Object(ec.d)(e),{autoOpenReauth:o}=this.props;o&&a===E.g.IMAPIN&&r===E.hb.GOOGLE&&(window.oAuthWindow=window.open("","authorizeWindow",`width=800, height=600, top=${screen.height-300}, left=${screen.width-400}`),s=!0),this.navigateToSettingsTab(n,t,{mKey:zr.e.FIX_IMAP_ACCOUNT,sec:zr.g.LEFTRAIL_ACCOUNTS,interactionType:Object(Ps.i)(t)},s)}),this.navigateToSettingsTab=((e,t,s,n=!1)=>{t.preventDefault(),t.stopPropagation(),this.context.navigateTo({route:Object(ao.u)({settingsGroupId:E.qd.ACCOUNTS,accountId:e,openReauth:n}),i13nModel:s})}),this.shouldRenderAccount=(e=>{const{status:t,type:s}=e;return t!==E.f.DELETE_IN_PROGRESS&&s!==E.g.POPIN}),t}render(){const{rootAccounts:e,activeAccountId:t,toggleAccountsList:s,expiredAccounts:n}=this.props,a=this.context.getCss(kp.a),{formatMessage:r}=this.context.intl,o=e.map(e=>{const{status:a,type:o,createTime:i}=e,c=e.id===t,l=this.context.getCss(kp.a),d=e.defaultFolder,u=e.description||e.email,m=("ltr"===Object(Hp.getTextDirection)(u)?l.rtlIgnoreDirLTR:l.rtlIgnoreDirRTL)+" "+(c?l.activeText:l.text),p=Object(ec.a)({status:a,type:o,createTime:i}),_=this.state.hoveredAccountId===e.id,h=n.find(t=>t.id===e.id);let g;return d&&d.id&&(s||c)&&this.shouldRenderAccount(e)?(g=h?Ue.a.createElement("span",{className:l.expiredIcon},Ue.a.createElement(Ar.a,{kind:Cr.b.EXCLAMATION_ALT,size:Cr.d.XS,colorState:Cr.a.WARNING_GRAD_RED,onClick:this.handleExpiredIconClick.bind(this,e),title:r(jp.notSyncingIndicatorIcon)})):p?Ue.a.createElement("div",{className:l.statusIcon},Ue.a.createElement(Up.a,{size:Cr.d.XS,title:r(jp.syncingIndicatorIcon)})):_?Ue.a.createElement("span",{className:l.settingGear},Ue.a.createElement(Ar.a,{onClick:this.handleGearIconClick.bind(this,e.id),"data-iskeynav":!0,paddingLess:!0,size:Cr.d.XXS,kind:Cr.b.SETTINGS,title:r(jp.accountSettingsMenu),"aria-label":r(jp.accountSettingsMenu),colorState:Cr.a.INHERITED})):Ue.a.createElement("span",{className:l.unreadCount},Ue.a.createElement(Am,{value:d.unread,isActive:c,isAccountSwitcher:!0,whiteBackground:this.context.getThemeMode()!==Is.f.LIGHT})),Ue.a.createElement($c.a,{key:e.email,onMouseOver:this.handleMouseOver.bind(this,e.id),onMouseLeave:this.handleMouseLeave.bind(this,e.id)},Ue.a.createElement("a",{"data-iskeynav":!0,"data-test-id":"account-list-item","data-test-account-email":e.email,"data-test-is-active":c,"data-test-unread-count":d.unread,"data-test-is-expired":!!h,className:l.listItem,href:this.context.getUrlFromRoute({name:E.Uc.FOLDER,params:{fid:d.id}}),onClick:this.handleClick.bind(this,d.id),tabIndex:"-1",rel:"noopener"},Ue.a.createElement("span",{className:m,title:u},u),g))):null});return Ue.a.createElement("div",{"data-test-id":"account-list"},Ue.a.createElement("ul",{className:a.accountList},o))}}Gp.contextTypes={executeAction:Ve.a.func,navigateTo:Ve.a.func,getUrlFromRoute:Ve.a.func.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func,intl:Sr.i.isRequired};var Bp=Gp;class Vp extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={hoveredMailboxId:null},this.handleClick=((e,t)=>{this.props.onClick(t,e,{mKey:zr.e.MAILBOX_SWITCH,sec:zr.g.LEFTRAIL_MAILBOXES,interactionType:Object(Ps.i)(t)})}),this.handleMouseOver=(e=>{this.setState({hoveredMailboxId:e})}),this.handleMouseLeave=(()=>{this.setState({hoveredMailboxId:null})}),this.shouldRenderMailbox=(e=>{const{state:t}=e;return t===E.Zb.ENABLED}),this.updateContent=(e=>{e&&e.updatePosition()}),this.renderSmallBizCue=(()=>this.mailboxListRef?Ue.a.createElement(Fr.a,{popoverAnchor:this.mailboxListRef,isRTL:this.props.isRTL,align:kr.a.CENTER,triggerOn:kr.h.MOUNT,permittedArrowDirections:[kr.g.START],zAltitude:Pr.ZIndices.POPOVER.HIGH,ref:e=>{this.popoverContent=e},bg:kr.d.GRADIENT,borderRadius:kr.e.MEDIUM},Ue.a.createElement(Qr.a,{import:"../molecules/small_biz_cue/index.jsx",onShow:()=>this.updateContent(this.popoverContent),_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,930))},_moduleResolver:function(){return 930}})):null),t}render(){const{rootMailBoxes:e,selectedMailboxId:t,toggleMailboxesList:s,showSmallBizCue:n}=this.props,a=this.context.getCss(kp.a),r=e.map(e=>{const n=e.id===t;if(!s&&!n)return null;if(!this.shouldRenderMailbox(e))return null;const r=e.email,o=("ltr"===Object(Hp.getTextDirection)(r)?a.rtlIgnoreDirLTR:a.rtlIgnoreDirRTL)+" "+(n?a.activeText:a.text);return Ue.a.createElement($c.a,{key:e.email,onMouseOver:this.handleMouseOver.bind(this,e.id),onMouseLeave:this.handleMouseLeave.bind(this,e.id)},Ue.a.createElement("a",{"data-iskeynav":!0,"data-test-id":"mailbox-list-item","data-test-mailbox-email":e.email,"data-test-is-active":n,className:a.listItem,href:"#",onClick:this.handleClick.bind(this,e.id),tabIndex:"-1",rel:"noopener"},Ue.a.createElement("span",{className:o,title:r},r)))});return Ue.a.createElement("div",{"data-test-id":"mailbox-list",ref:e=>{this.mailboxListRef=e}},n&&this.renderSmallBizCue(),Ue.a.createElement("ul",{className:a.accountList},r))}}Vp.contextTypes={getCss:Ve.a.func,getThemeMode:Ve.a.func};var Wp=Vp,qp=s(575),zp=s.n(qp);class Zp extends Ue.a.Component{render(){const e=this.context.getCss(zp.a);return Ue.a.createElement("div",{className:e.divider,onClick:this.props.onClick},Ue.a.createElement("button",{className:e.moreButton,"data-iskeynav":!0}),Ue.a.createElement(Tr.b,{kind:Cr.b.MORE,colorState:Cr.a.INHERITED,className:e.moreIcon}))}}Zp.defaultProps={onClick:()=>{}},Zp.contextTypes={getCss:Ve.a.func};var Kp=Zp,Yp=s(576),Xp=s.n(Yp),$p=s(138),Qp=s(57),Jp=s(130);const e_=(e,t,s,n,a=!0)=>{const{top:r,bottom:o,height:i}=t,c=i/8;let l=0;return e<=r+c?(s-=l=a?r/e*10:10)<0&&(s=0):e>=o-c&&(l=a?e/o*10:10,s+i!==n&&(s+=l)),Math.floor(s)};var t_=s(129),s_=s(53),n_=s(273);const a_="bzmbox";class r_ extends n_.a{constructor(e){super(e,"YM.BZMB",{TTL:null})}setBizMboxId(e){e&&this.set({[a_]:e})}getBizMboxId(){const e=this.get();return e&&e[a_]?String(e[a_]):""}}const o_=250,i_=Object(Sr.h)({confirm_folder_delete_all_title:{id:"confirm.folder_delete_all_title",defaultMessage:"Delete all emails"},confirm_folder_archive_all_title:{id:"confirm.folder_archive_all_title",defaultMessage:"Archive all emails"},confirm_inbox_archive_all_personalized_title:{id:"confirm.confirm_inbox_archive_all_personalized_title",defaultMessage:"{sendingName}, let's clean your Inbox"},confirm_inbox_archive_all_title:{id:"confirm.inbox_archive_all_title",defaultMessage:"Let's clean your Inbox"},archive_emails_button_label:{id:"confirm.archive_emails_button_label",defaultMessage:"Archive emails"}}),c_=["n","m"];Object(to.b)({group:so.c,keys:{openCompose:{key:"N",description:Ue.a.createElement(Sr.c,{id:"shortcut.open_compose",defaultMessage:"Start a {newConvo}",values:{newConvo:Ue.a.createElement("strong",null,Ue.a.createElement(Sr.c,{id:"shortcut.open_compose_strong",defaultMessage:"New Email Conversation"}))}})},openInbox:{key:"M",description:Ue.a.createElement(Sr.c,{id:"shortcut.open_inbox",defaultMessage:"Go to {inbox}",values:{inbox:Ue.a.createElement("strong",null,Ue.a.createElement(Sr.c,{id:"shortcut.open_box_strong",defaultMessage:"Inbox"}))}})}}});class l_ extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={scrollingUnder:!1,confirmRequested:!1,isScrolling:!1,toggleAccountsList:!0,toggleMailboxesList:!0},this.handleShortcuts=(e=>{const t=String.fromCharCode(e.which).toLowerCase();switch(e.preventDefault(),e.stopPropagation(),t){case"n":this.handleComposeLinkClick(e);break;case"m":this.navigateToInbox(e)}}),this.navigateToFolder=((e,t,{i13nModel:s={},refresh:n=!1}={})=>{const{route:a}=this.props,r=a.name===E.Uc.FOLDER,o=Object(io.t)(a),i=Object(io.m)(o);if(e.metaKey&&this.props.listV3&&this.context.navigateTo({route:Object(ao.x)(o,{folders:[t]}),i13nModel:s,refresh:n}),r&&i===t)return void this.context.executeAction(eo.h,{forceSync:!0,i13nModel:{mKey:zr.e.NAVIGATE_TO_FOLDER,sec:zr.g.LEFTRAIL_FOLDER}});const{getSortOrderForFolderRoute:c}=Object(ro.b)(this.context.store.getState());this.context.navigateTo({route:Object(ao.j)(t,c()),i13nModel:s,refresh:n})}),this.navigateToNewCompose=(({i13nModel:e,files:t,name:s,stationeryTheme:n}={})=>{const{route:a}=this.props;let{csid:r}=a.params;const{isFreshCompose:o}=Object(ro.b)(this.context.store.getState());if(r&&o(r))return;r=Object(Ps.f)();const i={route:Object(ao.e)(r)};e&&(i.i13nModel=e),t&&(i.files=t),s&&(i.name=s),n&&(i.stationeryTheme=n),this.context.navigateTo(i)}),this.handleComposeLinkClick=(e=>{e.preventDefault();const t={mKey:zr.e.COMPOSE_BUTTON,sec:zr.g.LEFTRAIL_COMPOSE,mKeyGroup:zr.f.compose,interaction_type:Object(Ps.i)(e)};this.navigateToNewCompose({i13nModel:t})}),this.handleComposeDrop=(e=>{e.preventDefault();const t=e.dataTransfer;Array.prototype.slice.call(t&&t.types||[]).some(e=>"Files"===e)&&this.navigateToNewCompose({files:Array.prototype.slice.call(t.files)})}),this.handleDragOver=(e=>{e.preventDefault()}),this.handleDragScroll=(e=>{if(e.preventDefault(),e&&e.clientY){const t=this.folderList,{scrollTop:s,scrollHeight:n}=t,a=e_(e.clientY,t.getBoundingClientRect(),s,n);s!==a&&(t.scrollTop=a)}}),this.handleDragEnter=(e=>{e.preventDefault()}),this.handleMailboxClick=((e,t,s)=>{const{appRootPath:n,route:a,onSwitchMailbox:r}=this.props;e.preventDefault(),new r_({window:window}).setBizMboxId(t),r({i13nModel:s}),window.location.href=Object(ao.B)(`https://${window.location.host}${n}`,a.query)}),this.handleFolderClick=((e,t,s)=>{e.preventDefault(),-1===[E.Kd.STARRED,E.Kd.DRAFT,E.Kd.SENT,E.Kd.SPAM,E.Kd.TRASH].indexOf(t)&&t===this.props.activeFolderId&&"folder"===this.props.route.name?this.navigateToFolder(e,t,{i13nModel:s,refresh:!0}):this.navigateToFolder(e,t,{i13nModel:s,refresh:!1})}),this.handleSmartViewClick=((e,t)=>{const{activeAccount:s,hasCoupons:n,taiwanShoppingView:a}=this.props;let r,o=t;e.preventDefault();const i={UNREAD:zr.e.UNREAD_SMARTVIEW,STARRED:zr.e.STARRED_SMARTVIEW,PHOTOS:zr.e.PHOTO_SMARTVIEW,DOCUMENTS:zr.e.DOCUMENT_SMARTVIEW,TUTORIAL:zr.e.TUTORIAL_SMARTVIEW,COUPONS:zr.e.COUPONS_SMARTVIEW,GROCERIES:zr.e.QTNTVIEW_LEFTRAIL,RECEIPTS:zr.e.RECEIPTS_SMARTVIEW,TRAVEL:zr.e.TRAVEL_SMARTVIEW}[o];i&&(r={mKey:i,sec:zr.g.LEFTRAIL_SMARTVIEW,interactionType:Object(Ps.i)(e)},o!==E.zd.TUTORIAL&&(r.mKeyGroup=zr.f.search),o===E.zd.GROCERIES&&(r.actionData={reason:{featurefamily:E.kb.IC,featurename:E.mb.QUOTIENT,viewtype:"grocerystorelist",origin:"leftrail"}}),o===E.zd.COUPONS&&!n&&a&&(o=E.zd.SHOPPING_YAHOO_DEALS));const c={accountIds:s.id};this.context.navigateTo({route:Object(ao.v)(o,c),i13nModel:r})}),this.handleFolderDelete=(({folder:e,i13nModel:t,hasSubFolder:s})=>{s||e.total>0?this.context.executeAction($p.d,{folderId:e.id,i13nModel:t}):this.deleteFolder({folderId:e.id,folderName:e.name,i13nModel:t})}),this.deleteFolder=(({folderId:e,folderName:t,i13nModel:s})=>{s=Object.assign({mKey:zr.e.FOLDER_CONTEXTMENU_DELETE,sec:zr.g.LEFTRAIL_CONTEXTMENU,mKeyGroup:zr.f.delete_fldr},s),e===this.props.activeFolderId&&this.navigateToFolder({},this.props.defaultFolderId),this.props.onDeleteFolder({folderId:e,folderName:t,i13nModel:s})}),this.handleFolderMenuShow=(()=>{this.context.executeAction($p.g,{i13nModel:{mKey:zr.e.FOLDER_CONTEXTMENU,sec:zr.g.LEFTRAIL_CONTEXTMENU}})}),this.handleFolderCreate=(({folderName:e,i13nModel:t})=>{const{activeAccount:s}=this.props;t=Object.assign({mKey:zr.e.ADD_FOLDER,sec:zr.g.LEFTRAIL_USERFOLDER,mKeyGroup:zr.f.create_fldr},t),this.context.executeAction($p.b,{folderName:Object(bt.h)(e,s),accountId:s.id,i13nModel:t})}),this.handleSubfolderCreate=(({folderId:e,subfolderName:t,i13nModel:s})=>{const{activeAccount:n}=this.props,{getFolderFullName:a}=Object(ro.b)(this.context.store.getState()),r=a(e);s=Object.assign({mKey:zr.e.ADD_FOLDER,sec:zr.g.LEFTRAIL_USERFOLDER,mKeyGroup:zr.f.create_fldr},s),this.context.executeAction($p.b,{folderName:Object(bt.h)(t,n,r),accountId:n.id,i13nModel:s})}),this.handleFolderRename=(({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:n})=>{const{activeAccount:a}=this.props,{getFolderFullName:r}=Object(ro.b)(this.context.store.getState()),o=r(s),i=o.substr(0,o.lastIndexOf(e)-1)||"";n=Object.assign({mKey:zr.e.FOLDER_CONTEXTMENU_RENAME,sec:zr.g.LEFTRAIL_CONTEXTMENU,mKeyGroup:zr.f.rename_fldr},n),this.props.onRenameFolder({folderName:Object(bt.h)(t,a,i),folderId:s,i13nModel:n})}),this.handleFolderMarkRead=(({folder:e,i13nModel:t})=>{const{streamId:s}=this.props;t=Object.assign({mKey:zr.e.FOLDER_CONTEXTMENU_ALL_READ,sec:zr.g.LEFTRAIL_CONTEXTMENU,mKeyGroup:zr.f.mark_read},t),this.context.executeAction($p.f,{streamId:s,listId:this.props.listId,folderId:e.id,unreadCount:e.unread,i13nModel:t})}),this.handleFolderArchive=(e=>{const{streamId:t}=this.props,{selectedFolder:s}=this.state,n={mKey:zr.e.FOLDER_CONTEXTMENU_ALL_ARCHIVE,sec:zr.g.LEFTRAIL_CONTEXTMENU,interactionType:Object(Ps.i)(e),mKeyGroup:zr.f.archive,actionData:{numMsg:s.total}};this.context.executeAction($p.a,{streamId:t,folderId:s.id,total:s.total,i13nModel:n}),this.hideConfirm()}),this.handleFolderDrop=((e,t)=>{const{streamId:s}=this.props,{doesStreamExist:n,getSelectedStreamItems:a}=Object(ro.b)(this.context.store.getState()),r=(n(s)?a(s):[]).map(({id:e})=>e);r&&r.length>0&&this.context.executeAction(e,babelHelpers.extends({streamId:s},t,{messageGroupIds:r},1===r.length?{streamItem:{id:r[0],listId:t.listId}}:{}))}),this.handleExpandFolderToggle=((e,t)=>{const{expandedFolders:s}=this.props,{getFoldersSelectors:n}=Object(ro.b)(this.context.store.getState()),{getFolderLevelByFolderId:a}=n();if(!(0===a(e)))return;const r=s.indexOf(e),o=-1!==r;let i;if(t&&!o)i=Object(ip.a)(s,e);else{if(t||!o)return;i=Object(ip.e)(s,r,1)}this.props.changeSettings({name:E.nd.EXPANDED_FOLDERS,value:i})}),this.handleToggleCustomFolders=(e=>{this.props.changeSettings({name:E.nd.SHOW_CUSTOM_FOLDERS,value:e})}),this.handleToggleMailboxesLinkClick=(e=>{e.preventDefault();const t={mKey:this.state.toggleMailboxesList?zr.e.COLLAPSE_MAILBOX_SWITCHER:zr.e.EXPAND_MAILBOX_SWITCHER,sec:zr.g.LEFTRAIL_MAILBOXES,interactionType:Object(Ps.i)(e)};this.props.onToggleMailboxesList({i13nModel:t}),this.setState({toggleMailboxesList:!this.state.toggleMailboxesList})}),this.handleToggleAccountsLinkClick=(e=>{e.preventDefault();const t={mKey:this.state.toggleAccountsList?zr.e.COLLAPSE_ACCOUNT_SWITCHER:zr.e.EXPAND_ACCOUNT_SWITCHER,sec:zr.g.LEFTRAIL_ACCOUNTS,interactionType:Object(Ps.i)(e)};this.context.executeAction($p.h,{i13nModel:t}),this.setState({toggleAccountsList:!this.state.toggleAccountsList})}),this.showConfirmDialog=((e,t)=>{this.setState({confirmRequested:!0,confirmType:e,selectedFolder:t})}),this.hideConfirm=(()=>{this.setState({confirmRequested:!1,confirmType:null,selectedFolder:null})}),this.handleFolderClear=(e=>{const{streamId:t}=this.props,{selectedFolder:s}=this.state,n={mKey:-1!==[E.ub.BULK,E.ub.TRASH].indexOf(s.type)?zr.e.FOLDER_CONTEXTMENU_EMPTY:zr.e.FOLDER_CONTEXTMENU_ALL_DELETE,sec:zr.g.LEFTRAIL_CONTEXTMENU,interactionType:Object(Ps.i)(e),mKeyGroup:zr.f.delete,actionData:{numMsg:s.total}};this.context.executeAction($p.c,{streamId:t,folderId:s.id,total:s.total,i13nModel:n}),this.hideConfirm()}),this.navigateToInbox=(e=>{this.handleFolderClick(e,this.props.defaultFolderId,{mKey:zr.e.INBOX_FOLDER,sec:zr.g.LEFTRAIL_SYSFOLDER,interactionType:Object(Ps.i)(e)}),this.folderList&&(this.folderList.scrollTop=0)}),this.detectScrollStop=(()=>{this.setState({isScrolling:!1})}),this.handleScroll=(()=>{const e=this.folderList.scrollTop,{isScrolling:t}=this.state;t||this.setState({isScrolling:!0}),this.detectScrollStop(),this.state.scrollingUnder&&e<1?this.setState({scrollingUnder:!1}):!this.state.scrollingUnder&&e>0&&this.setState({scrollingUnder:!0})}),this.handleToggleSystemFolders=(e=>{this.props.changeSettings({name:E.nd.SHOW_ALL_SYSTEM_FOLDERS,value:e,i13nModel:{mKey:!0===e?zr.e.SETTINGS_EXPAND_SYSTEM_FOLDERS:zr.e.SETTINGS_COLLAPSE_SYSTEM_FOLDERS,sec:zr.g.LEFTRAIL_SYSFOLDER,interactionType:zr.d.click}})}),this.renderLeftRailAds=(e=>{const{leftRailAdArbitration:t,isNarrowScreen:s}=this.props,n=[Ue.a.createElement(xu,{key:"1"}),Ue.a.createElement(wu,{key:"2"}),Ue.a.createElement(ku,{recClassName:e.adRec,key:"3"})];return t?s?n:n.slice(0,2):s?Ue.a.createElement(ku,{recClassName:e.adRec,key:"3"}):Ue.a.createElement(xu,{key:"1"})}),this.renderConfirmDialog=(()=>{const{formatMessage:e}=this.context.intl,{selectedFolder:t,confirmType:s}=this.state,{conversations:n}=this.props,a=Ue.a.createElement("strong",null,Ue.a.createElement(nm.a,{folderDisplayType:t.type,name:`"${t.name}"`})),r=this.props.isPermDeleteFolderType(t.id);switch(s){case E.L.CLEAR_FOLDER:return Ue.a.createElement(Jp.a,{title:e(i_.confirm_folder_delete_all_title),onConfirm:this.handleFolderClear,onAbort:this.hideConfirm},Ue.a.createElement(Sr.c,r?{id:"confirm.folder_delete_all_message",defaultMessage:"Are you sure you want to delete {emailsNum, plural, one {the} other {all}}\n                                      {conversations, select,\n                                        true {{emailsNum, plural,\n                                            one {conversation}\n                                            other {# conversations}\n                                        }}\n                                        false {{emailsNum, plural,\n                                            one {message}\n                                            other {# messages}\n                                        }}\n                                      } from {folderName}?",values:{emailsNum:t.total,folderName:a,conversations:n}}:{id:"confirm.folder_delete_move_all_message",defaultMessage:"Are you sure you want to delete {emailsNum, plural, one {the} other {all}}\n                                      {conversations, select,\n                                        true {{emailsNum, plural,\n                                            one {conversation}\n                                            other {# conversations}\n                                        }}\n                                        false {{emailsNum, plural,\n                                            one {message}\n                                            other {# messages}\n                                        }}\n                                    }, moving {emailsNum, plural, one {it} other {them}} from {folderName} to the Trash?",values:{emailsNum:t.total,folderName:a,conversations:n}}));case E.L.ARCHIVE_FOLDER:{const s=t.type===E.ub.INBOX,{confirm_inbox_archive_all_title:r,confirm_inbox_archive_all_personalized_title:o,confirm_folder_archive_all_title:i,archive_emails_button_label:c}=i_,l=this.props.activeAccount.sendingName;let d;return Ue.a.createElement(Jp.a,{title:e(d=s?l?o:r:i,{sendingName:l}),onConfirm:this.handleFolderArchive,onAbort:this.hideConfirm,hideIcon:!0,acceptLabel:c},Ue.a.createElement(Sr.c,s?{id:"confirm.inbox_archive_all_message",defaultMessage:"You can start with a clean inbox by archiving {emailsNum, plural, one {the} other {all}}\n                                        {conversations, select,\n                                            true {{emailsNum, plural,\n                                                one {conversation}\n                                                other {# conversations}\n                                            }}\n                                            false {{emailsNum, plural,\n                                                one {message}\n                                                other {# messages}\n                                            }}\n                                        } (instead of deleting).\n                                        Don't worry, to find {emailsNum, plural, one {it} other {them}} later, simply go to the Archive folder.",values:{emailsNum:t.total,folderName:a,conversations:n}}:{id:"confirm.folder_archive_all_message",defaultMessage:"Are you sure you want to archive {emailsNum, plural, one {the} other {all}}\n                                    {conversations, select,\n                                      true {{emailsNum, plural,\n                                          one {conversation}\n                                          other {# conversations}\n                                      }}\n                                      false {{emailsNum, plural,\n                                          one {message}\n                                          other {# messages}\n                                      }}\n                                    }, moving {emailsNum, plural, one {it} other {them}} from {folderName} to your Archive folder?",values:{emailsNum:t.total,folderName:a,conversations:n}}))}default:return null}}),t}componentDidMount(){this.detectScrollStop=Qu()(this.detectScrollStop,o_),this.context.bindShortcut(c_,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(c_)}render(){const{appRootPath:e,autoOpenReauth:t,actionModule:n,feedbackURL:a,tutorial:r,activeAccount:o,enabledAccountsCount:i,isRTL:c,isPrimaryAccountDisabled:l,selectedMailboxId:d,showMailboxSwitcher:u,rootMailBoxes:m}=this.props,p=this.context.getCss(Xp.a,{scrollingUnder:this.state.scrollingUnder,isRTL:c}),_=m.filter(e=>e.state===E.Zb.ENABLED);return Ue.a.createElement(rl.a,{"data-test-id":"navigation",className:p.container+" navigation",circularNavigation:!1,groupTabIndex:Pr.TabIndices.FOLDER_LIST},Ue.a.createElement("div",{ref:e=>{this.composeBtn=e}},Ue.a.createElement(xp,{appRootPath:e,onClick:this.handleComposeLinkClick,handleDrop:this.handleComposeDrop,handleDragOver:this.handleDragOver,handleDragEnter:this.handleDragEnter})),Ue.a.createElement("div",{className:p.shadow}),Ue.a.createElement("div",{className:p.folderList,onScroll:this.handleScroll,"data-test-id":"left-rail-scrolling-container",ref:e=>this.folderList=e,onDragOver:this.handleDragScroll},u&&_.length>1?Ue.a.createElement(Wp,{selectedMailboxId:d,rootMailBoxes:this.props.rootMailBoxes,toggleMailboxesList:this.state.toggleMailboxesList,onClick:this.handleMailboxClick,showSmallBizCue:this.props.showSmallBizCue,isRTL:this.props.isRTL}):null,u&&_.length>1?Ue.a.createElement(Kp,{onClick:this.handleToggleMailboxesLinkClick}):null,i>1||l?Ue.a.createElement(Bp,{activeAccountId:this.props.activeAccount.id,rootAccounts:this.props.rootAccounts,toggleAccountsList:this.state.toggleAccountsList,expiredAccounts:this.props.expiredAccounts,onClick:this.handleFolderClick,autoOpenReauth:t}):null,i>1||l?Ue.a.createElement(Kp,{onClick:this.handleToggleAccountsLinkClick}):null,Ue.a.createElement(yp,{tutorial:r,travelView:this.props.travelView,activeAccountId:this.props.activeAccount.id,customFolderList:this.props.customFolderList,systemFolderListWithSmartView:this.props.systemFolderListWithSmartView,sortOrder:this.props.folderListSortOrder,mailboxId:this.props.mailboxId,highlightFolderId:this.props.activeFolderId,folderRefreshing:this.props.folderRefreshing,onFolderOpen:this.handleFolderClick,onFolderDelete:this.handleFolderDelete,onFolderCreate:this.handleFolderCreate,onFolderMarkRead:this.handleFolderMarkRead,onFolderArchive:this.showConfirmDialog.bind(this,E.L.ARCHIVE_FOLDER),onFolderDrop:this.handleFolderDrop,onFolderClear:this.showConfirmDialog.bind(this,E.L.CLEAR_FOLDER),onSubfolderCreate:this.handleSubfolderCreate,onFolderMenuShow:this.handleFolderMenuShow,onFolderRename:this.handleFolderRename,onSmartViewOpen:this.handleSmartViewClick,onFolderExpandToggle:this.handleExpandFolderToggle,onToggleCustomFolders:this.handleToggleCustomFolders,showPhotosCue:this.props.showPhotosCue,showStarredCue:this.props.showStarredCue,showCouponsViewCue:this.props.showCouponsViewCue,showGroceriesView:this.props.showGroceriesView,showPurchasesViewCue:this.props.showPurchasesViewCue,showShopRunnerViewCue:this.props.showShopRunnerViewCue,showGroceriesViewCue:this.props.showGroceriesViewCue,expandedFolders:this.props.expandedFolders,showCustomFolders:this.props.showCustomFolders,isScrolling:this.state.isScrolling,collapsibleSystemFolders:this.props.collapsibleSystemFolders,showAllSystemFolders:this.props.showAllSystemFolders,handleToggleSystemFolders:this.handleToggleSystemFolders,showCouponsView:this.props.showCouponsView,showReceiptsView:this.props.showReceiptsView,showDealsViewCue:this.props.showDealsViewCue}),Ue.a.createElement("div",{className:p.adTL},this.props.hasAds?this.renderLeftRailAds(p):null),this.state.confirmRequested?this.renderConfirmDialog():null,Ue.a.createElement("div",null,Ue.a.createElement(Qr.a,n?{defer:!0,import:"../../molecules/panel_stack/index.jsx",feedbackURL:a,accountId:o.id,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,961))},_moduleResolver:function(){return 961}}:{defer:!0,import:"../../molecules/feedback_panel/index.jsx",feedbackURL:a,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,962))},_moduleResolver:function(){return 962}}))))}}l_.contextTypes={executeAction:Ve.a.func,navigateTo:Ve.a.func.isRequired,getCss:Ve.a.func,intl:Sr.i.isRequired,config:Ve.a.object,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func,store:Ve.a.object.isRequired};var d_=Object(Ir.b)((e,{listId:t})=>{const{getRoute:s,getSelectedAccountIdByRoute:n,getAccountById:a,isListStale:r,isListRefreshing:o,getRootAccountsWithDefaultFolder:i,getExpiredAccounts:c,getDefaultFolderIdForSelectedAccount:l,isPermDeleteFolderType:d,isNarrowScreen:u,getMainStreamListIds:m,getCustomFolderList:p,getSystemFolderListWithSmartView:_,getContentProviders:h,getSmartViewTypeFromListId:g,getSmartViewPosition:b,isFeatureEnabled:I,getSetting:f,getEnvironmentSelectors:S,getCouponsSelectors:A,getAccountSelectors:T,getMailboxesSelectors:C}=Object(ro.b)(e),O=s(),R=i(),N=C(),M=a(n(O)),D=r(t)&&o(t),y=Object(io.m)(t),L=f("appRootPath"),v=I(E.mb.LIST_V3),P=I(E.mb.CONVERSATIONS),{getCoupons:F}=A(),x=F(),w=N.getAllMailboxes(),k=N.getSelectedMailboxId(),H=w.length>1,U=R.filter(e=>e.status===E.f.ENABLED&&(!H||e.defaultFolder&&e.defaultFolder.id)),{doesContentProviderExist:j,isContentProviderConnected:G,isCreditCardConnectedWithEarny:B,isPaymentConnectedWithEarny:V}=h(),W=!(j(E.N.EARNY)&&G(E.N.EARNY)&&B(E.N.EARNY)&&V(E.N.EARNY)),q=!(j(E.N.SHOPRUNNER)&&G(E.N.SHOPRUNNER));let z;O.name===E.Uc.FOLDER||O.name===E.Uc.MESSAGE_FROM_FOLDER_LIST?z=y:O.name===E.Uc.TUTORIAL?z=E.zd.TUTORIAL:Object(io.E)(t)&&(z=g(t));const Z=Object(s_.a)(m(s()));return{route:O,rootAccounts:R,rootMailBoxes:w,selectedMailboxId:k,conversations:P,showMailboxSwitcher:I(E.mb.MAILBOX_SWITCHER),isPrimaryAccountDisabled:T().isPrimaryAccountDisabled(),enabledAccountsCount:U.length,activeAccount:M,expandedFolders:f(E.nd.EXPANDED_FOLDERS),showCustomFolders:I(E.nd.SHOW_CUSTOM_FOLDERS),folderRefreshing:D,activeFolderId:z,expiredAccounts:c(),collapsibleSystemFolders:I(E.mb.COLLAPSIBLE_SYSTEM_FOLDERS),showAllSystemFolders:I("showAllSystemFolders"),appRootPath:L,autoOpenReauth:I(E.mb.AUTO_OPEN_REAUTH),actionModule:I(E.mb.ACTION_MODULE),feedbackURL:f(E.nd.FEEDBACK_URL),tutorial:I(E.mb.TUTORIAL),travelView:I(E.mb.TRAVEL_VIEW),showCouponsView:I(E.mb.COUPONS_VIEW)&&b(E.zd.COUPONS)===E.yd.SIDE_BAR,showGroceriesView:I(E.mb.GROCERIES_VIEW),showReceiptsView:I(E.mb.RECEIPTS_VIEW),showPhotosCue:I(E.mb.PHOTOS_CUE),showStarredCue:I(E.mb.STARRED_CUE),showCouponsViewCue:I(E.mb.COUPONS_VIEW_CUE),showPurchasesViewCue:W&&I(E.mb.PURCHASES_VIEW_CUE),showShopRunnerViewCue:q&&I(E.mb.SHOPRUNNER_VIEW_CUE),showGroceriesViewCue:I(E.mb.QTNT_VIEW_LEFT_RAIL_CUE),defaultFolderId:l(),leftRailAdArbitration:I(E.mb.LEFT_RAIL_AD_ARBITRATION),isNarrowScreen:u(),streamId:Z,isPermDeleteFolderType:d,customFolderList:p(M.id),systemFolderListWithSmartView:_(M.id),listV3:v,isRTL:"rtl"===S().getPageDirection(),hasCoupons:!!Object.keys(x).length,taiwanShoppingView:I(E.mb.TAIWAN_SHOPPING_VIEW),showDealsViewCue:I(E.mb.DEALS_VIEW_CUE),showSmallBizCue:I(E.mb.SMALL_BIZ_CUE)}},e=>({onRenameFolder:t=>e(Object(t_.f)(t)),onDeleteFolder:t=>e(Object(t_.c)(t)),changeSettings:t=>e(Object(Qp.a)(t)),onToggleMailboxesList:t=>e(Object(t_.j)(t)),onSwitchMailbox:t=>e(Object(t_.i)(t))}))(l_),u_=s(281),m_=s.n(u_),p_=s(153),__=s(282),h_=s.n(__);class E_ extends Ue.a.Component{render(){const e=Wr()(h_.a,{active:this.props.active});return Ue.a.createElement("div",{className:e.module,"data-test-id":"recipient-input"},Ue.a.createElement(xr.a,{ref:e=>this._container=e},Ue.a.createElement(wr.a,null,Ue.a.createElement("label",{htmlFor:this.props.for,className:e.label,"data-test-id":`label-input-${this.props.label.props.defaultMessage}`},this.props.label)),Ue.a.createElement(Fr.b,{isArrowVisible:!1,triggerOn:kr.h.CLICK,zAltitude:Pr.ZIndices.POPOVER.HIGH,onClick:e=>e.stopPropagation(),align:kr.a.START},Ue.a.createElement(Qr.a,{import:"../../contact_picker/contact_picker_connector.jsx",onClose:()=>this._container.hide(kr.h.CLICK),addContactsToField:this.props.addContactsToField,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,946))},_moduleResolver:function(){return 946}}))),Ue.a.createElement("div",{className:e.children,"data-test-id":this.props.childrenId},this.props.children))}}E_.defaultProps={active:!1};class g_ extends Ue.a.Component{render(){const e=Wr()(h_.a,{active:this.props.active});return Ue.a.createElement("div",{className:e.module,"data-test-id":"labeled-input"},Ue.a.createElement("label",{htmlFor:this.props.for,className:e.label,onClick:this.props.onLabelClick,"data-test-id":`label-input-${this.props.label.props.defaultMessage}`},this.props.label),Ue.a.createElement("div",{className:e.children,"data-test-id":this.props.childrenId},this.props.children))}}g_.defaultProps={active:!1};var b_=s(579),I_=s.n(b_);const f_=Wr()(I_.a);function S_({account:e,selected:t,onClick:s}){return Ue.a.createElement($c.a,{ariaLabel:e.email,kind:Qc.a.ACCOUNT_PICKER,name:e.email},Ue.a.createElement("span",{className:f_.rtlIgnoreDir},Ue.a.createElement(Hr.a,{kind:Ur.a.MENUITEM,onClick:s,style:{backgroundColor:t?"#f9faff":""}},Ue.a.createElement("div",{className:f_.buttonContent},Ue.a.createElement("span",{className:f_.checkmarkWrapper+" "+f_.rtlIgnoreMarginR},t&&Ue.a.createElement(Tr.b,{kind:Cr.b.CHECKMARK,size:Cr.d.XS})),Ue.a.createElement("span",null,e.sendingName),Ue.a.createElement("span",{className:f_.itemAddress+" "+f_.rtlIgnoreMarginL},e.email)))))}var A_=s(580),T_=s.n(A_);const C_=()=>{};class O_ extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.handleAccountChange=(e=>{this.props.selected!==e&&this.props.onChange(e)}),this.getMenuItems=(()=>{const{sendingAccounts:e,selected:t,dir:s}=this.props;return e.map(e=>Ue.a.createElement(S_,{key:e.email,dir:s,account:e,selected:e===t,onClick:this.handleAccountChange.bind(this,e)}))}),t}render(){const{selected:e,sendingAccounts:t}=this.props,s=Wr()(T_.a);if(!t.length)return null;const n=Ue.a.createElement("div",{className:s.menuLabelEmail,"data-test-id":"compose-sending-address"},"<"+e.email+">");return 1===this.props.sendingAccounts.length?Ue.a.createElement("div",{tabIndex:0,"aria-label":this.props.selectLabel+" "+e.email,className:s.fromField,ref:"accountSelect"},Ue.a.createElement("span",null,e.sendingName," "),n):Ue.a.createElement("div",{className:s.select},Ue.a.createElement(Yc.a,{onFocus:this.props.onFocus,onBlur:this.props.onBlur,className:s.menuContainer},Ue.a.createElement(Xc.a,{"aria-label":this.props.selectLabel+" "+e.email,hasText:!0},Ue.a.createElement("span",{className:s.label},Ue.a.createElement("span",{className:s.labelName},e.sendingName," "),n,Ue.a.createElement(Tr.b,{kind:Cr.b.CHEVRON_UP,size:Cr.d.XXS,rotate:Cr.c.D180}))),Ue.a.createElement(Kc.a,null,this.getMenuItems(s))))}}O_.defaultProps={onFocus:C_,onBlur:C_,onChange:C_};var R_=O_;const N_=/^(['"]?)(.*?)\1\s*<(\S+@\S+\.\w+)>\s*$/,M_=/(<[^<>]+@[^<>]+\.[^<>]+>)|(\([^\(\)]+@[^\(\)]+\.[^\(\)]+\))|(\[[^\[\]]+@[^\[\]]+\.[^\[\]]+\])/;function D_({name:e="",email:t="",isEditing:s=!1,createdTime:n}){const[,,a=e,r=t]=t.match(N_)||[];let o;return{name:a||r,email:r,title:o=a&&r?a===r?`<${r}>`:`${a} <${r}>`:a||r,isEditing:s,createdTime:n}}var y_=s(171),L_=s(120),v_=s(23),P_=s(32),F_=s.n(P_);const x_=Object(Sr.h)({from_group:{id:"compose.from_group",defaultMessage:"{contactCount, plural,\n                            one {# contact}\n                            other {# contacts}\n                        }"},remove_contact:{id:"compose.btn_remove_contact",defaultMessage:"Remove"}});class w_ extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={hovered:!1,xButtonHovered:!1},this.getDefaultprops=(()=>({isSelected:!1,allowContactRemoval:!0})),this.handleMouseOver=(()=>{this.setState({hovered:!0})}),this.handleMouseLeave=(()=>{this.setState({hovered:!1})}),this.renderHighlight=(({string:e="",highlightedTextClassName:t,highlightRange:s=[]})=>{const n=[];let a=0;return s.sort((e,t)=>e.s===t.s?e.l-t.l:e.s-t.s),s.forEach(({s:s,l:r},o,i)=>{const c=s+r;n.push(e.slice(a,s)),n.push(Ue.a.createElement("span",{className:t,"data-test-id":"result-match",key:e+o},e.slice(s,c))),a=c,o===i.length-1&&n.push(e.slice(a))}),Ue.a.createElement("span",null,n.length?n.map(e=>e):e)}),this.handleXButtonHover=(e=>{this.setState({xButtonHovered:e})}),t}render(){const e=Wr()(Tl.a),{formatMessage:t}=this.context.intl,s=this.state.xButtonHovered?Cr.a.NORMAL:Cr.a.DISABLED,{option:n,allowContactRemoval:a=!0}=this.props,{hovered:r}=this.state;return Ue.a.createElement("div",{className:e.typeaheadOptionContainer,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"data-test-id":"suggest-contact-item-container"},Ue.a.createElement("span",{className:e.contactIcon},Ue.a.createElement(al.c,{contact:{id:n.id},size:al.b.M})),Ue.a.createElement("div",{className:e.textContainer},Ue.a.createElement("div",{className:e.name,"data-test-id":"result-name"},this.renderHighlight({string:n.name,highlightedTextClassName:e.highlight,highlightRange:n.filteredResults&&n.filteredResults.fullName})),Ue.a.createElement("div",{className:e.email,"data-test-id":"result-email"},n.list?t(x_.from_group,{contactCount:n.list.length}):this.renderHighlight({string:n.email,highlightedTextClassName:e.highlight,highlightRange:n.filteredResults&&n.filteredResults.email}))),r&&a?Ue.a.createElement("span",{className:e.remove,onMouseEnter:this.handleXButtonHover.bind(this,!0),onMouseLeave:this.handleXButtonHover.bind(this,!1),"data-test-id":"contact-remove-button-wrapper","data-action":v_.DELETE_CONTACT},Ue.a.createElement(Tr.b,{"data-iskeynav":!0,"data-test-id":"contact-remove-button",kind:Cr.b.CLOSE,size:Cr.d.XXS,disabled:r,title:t(x_.remove_contact),colorState:s})):null)}}w_.contextTypes={intl:Sr.i.isRequired};var k_=w_;const H_=s(23).KeyCodes,U_=Object(Sr.h)({suggestions_available:{id:"compose.suggestions_available",defaultMessage:"{suggestionsNum, plural,\n                            =0 {No suggestions are available.}\n                            one {# suggestion is available.}\n                            other {# suggestions are available. Use up and down arrows to select.}\n                        }"},from_group:{id:"compose.from_group",defaultMessage:"{contactCount, plural,\n                            one {# contact}\n                            other {# contacts}\n                        }"},close_related_contacts:{id:"dropdown.close_related_contacts",defaultMessage:"Close"},related_contacts:{id:"dropdown.related_contacts",defaultMessage:"Related contacts:"}}),j_=/([^\s,;]+?@[^\s,;]+?\.[a-z]+[>)]?)[\s,;]+([^\s,;])/gi,G_=/[;,]+/,B_=3,V_=()=>{};let W_=!1;class q_ extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.shouldComponentUpdate=((e,t)=>{return!F_()(e.getSuggestions(t.inputValue),this.props.getSuggestions(this.state.inputValue))||!Object(Ps.c)(this.props,e,["autoBidi","composePillCount","dragDropPill","id","inputId","isDragged","isEditing","maxContactsVisible","placeholder","selectedPills","selectedContacts","shiftDelimiters","showCcBcc","showSuggestions"])}),this.createSearchRequest=(e=>Qu()(this.requestContactSuggestions,e)),this.inputValueToContact=(()=>{const{inputValue:e}=this.state;e.trim()&&(this.props.autoSuggestionDropdownWillAppear(),this.props.onInputContactAdd(e,this.props.isEditing),this.setState({inputValue:""}))}),this.handleOnFocus=(e=>{this.props.onFocus&&this.props.onFocus(e)}),this.handleOnBlur=(e=>{document.hasFocus()&&this.inputValueToContact(),this.props.onBlur&&this.props.onBlur(e)}),this.handleInputKeyDown=(e=>{const{inputValue:t}=this.state,{shiftDelimiters:s,delimiters:n}=this.props,{ctrlKey:a,altKey:r,metaKey:o,shiftKey:i,which:c,keyCode:l}=e,d=this._isDelimiterKey(c||l);a||r||o||t&&(i&&d(s)||!i&&d(n))&&(e.preventDefault(),this.inputValueToContact())}),this._isDelimiterKey=(e=>t=>-1!==t.indexOf(e)),this.handleInputChange=(e=>{const t=this.constructor.splitByDelimiters(e);t.length>1&&t.splice(0,t.length-1).map(e=>e.trim()).filter(Boolean).forEach(e=>{this.props.onInputContactAdd(e,!1)}),this.props.autoSuggestionDropdownWillAppear(),this.setState({inputValue:t[0]}),this.state.triggerSearchRequest(t[0])}),this.handleManualPillRemoval=((e,t)=>{t.preventDefault(),this.handlePillRemoval([e])}),this.handleManualPillEdit=(e=>{const t=D_(e);this.props.onContactEdit(t)}),this.handleManualPillUpdate=(e=>{this.props.onInputContactAdd(e,!0)}),this.handlePillRemoval=(e=>{this.props.onContactRemove(e)}),this.handleDropdownSelection=((e,t)=>{(t&&t.getAttribute("data-action"))===v_.DELETE_CONTACT?this.requestDeleteContactSuggestions(e):(this.setState({inputValue:""}),e.disabled||this.props.onContactAdd(babelHelpers.extends({},e,{createdTime:Date.now()})))}),this.handleCloseRelatedContactsPopup=(e=>{W_=!0,this.handleOnBlur(e)}),this.renderPill=((e,t,s,n)=>{const{name:a,email:r,title:o,isEditing:i,createdTime:c}=D_(e);return Ue.a.createElement(y_.a,{email:r,isCompose:!0,isDisabled:this.props.isDragged||n||i,name:a,createdTime:c,popoverDidAppear:this.props.emailPillPopoverDidAppear},Ue.a.createElement(kl.a,{value:a,title:o,contactId:e.id,contactEmail:r,isEditing:i,isLastElement:t===s.length-1,isSelected:n,onPillUpdate:this.handleManualPillUpdate,onPillRemove:this.handleManualPillRemoval.bind(this,e),onPillEdit:this.handleManualPillEdit.bind(this,e),handleDrop:this.props.handleDrop,handleDragState:this.props.handleDragState,isDragged:this.props.isDragged&&n,inputField:this.props.id,isCompose:!0,selectedPills:this.props.selectedPills,dragDropPill:this.props.dragDropPill}))}),this.requestContactSuggestions=(()=>{this.props.requestContactSuggestions({i13nModel:{mKey:zr.e.CONTACT_SUGGEST,sec:zr.g.COMPOSE_CONTACTS},query:this.state.inputValue})}),this.handleOnCopy=(e=>{const{selectedPills:t}=this.props;let s="";t.map(e=>{s+=D_(e).title+"; "}),e.clipboardData.setData("text/plain",s)}),this.requestDeleteContactSuggestions=(e=>{this.props.requestDeleteContactSuggestions({contactInfo:e})}),this.state={triggerSearchRequest:this.createSearchRequest(50),inputValue:""},t}static splitByDelimiters(e){return e.replace(j_,"$1,$2").split(G_)}componentWillReceiveProps(e){e.composePillCount>0&&e.composePillCount!==this.props.composePillCount&&!W_&&this.state.triggerSearchRequest("")}render(){const{formatMessage:e}=this.context.intl,{getSuggestions:t,maxContactsVisible:s,filterSuggestions:n,selectedContacts:a,composePillCount:r,isEditing:o,showSuggestions:i}=this.props,c=r>0&&!this.state.inputValue&&!W_,l=t(this.state.inputValue),d=c&&n(l).length>0?B_:s,u=!i||0===r&&!this.state.inputValue||W_&&!this.state.inputValue?[]:n(l).slice(0,d),m=Wr()(Tl.a,{showCcBcc:this.props.showCcBcc});return Ue.a.createElement(wl.Pills,{ref:this.props.suggestionRef,id:this.props.id,inputId:this.props.inputId,autoBidi:this.props.autoBidi,tabIndex:this.props.tabIndex,selected:a,renderPill:this.renderPill,placeholder:0===a.length?this.props.placeholder:"",inputValue:this.state.inputValue,onInputKeyDown:this.handleInputKeyDown,onInputChange:this.handleInputChange,onBlur:this.handleOnBlur,onCopy:this.handleOnCopy,onFocus:this.handleOnFocus,onRemove:this.handlePillRemoval,onSelect:this.handleDropdownSelection,notifyPillSelection:this.props.onPillSelection,messageForIncomingOptions:e(U_.suggestions_available,{suggestionsNum:u.length}),className:m.pills,getMessageForOption:this.props.getMessageForOption,containerClassName:m.pillsContainer,containerChildClassName:m.pillsContainerChild,pillClassName:m.pillOuter,noInitialSelection:!0,dropdownVisibleByDefault:!0,typeaheadInputContainerClassName:m.typeahead,typeaheadInputClassName:`input-${this.props.id} ${m.typeaheadInput}`,typeaheadInputHintClassName:m.typeaheadInputHint,typeaheadAriaStatusClassName:m.typeaheadAriaStatus,typeaheadDropDownClassName:m.typeaheadDropDown,clearSelectedPills:this.props.clearSelectedPills,isEditing:o},c&&u.length>0?Ue.a.createElement(wl.Option,{className:m.relatedContactsContainer,disabled:!0,value:{disabled:!0}},Ue.a.createElement("span",{className:m.relatedContacts,"data-test-id":"related-contacts-dropdown-header"},e(U_.related_contacts)),Ue.a.createElement("span",{className:m.relatedContactsClose},Ue.a.createElement(Ar.a,{"data-iskeynav":!0,"data-test-id":"emoji-close-button",kind:Cr.b.CLOSE,size:Cr.d.XXS,onMouseDown:this.handleCloseRelatedContactsPopup,colorState:Cr.a.FIRST_LEVEL_GRAY,paddingLess:!0,title:e(U_.close_related_contacts)}))):null,u.map((e,t)=>Ue.a.createElement(wl.Option,{className:m.typeaheadOption,key:t,value:e},Ue.a.createElement(k_,{option:e}))))}}q_.contextTypes={intl:Sr.i.isRequired},q_.defaultProps={placeholder:"",tabIndex:-1,maxContactsVisible:6,selectedContacts:[],delimiters:[H_.FF_COMMA,H_.FF_SEMICOLON,H_.SEMICOLON,H_.COMMA,H_.BREAK,H_.TAB],shiftDelimiters:[H_.BREAK,H_.TAB],handleDrop:V_,handleDragState:V_,onPillSelection:V_,selectedPills:[],clearSelectedPills:V_,dragDropPill:!0,getSuggestions:V_,filterSuggestions:()=>[],isEditing:!1,requestDeleteContactSuggestions:V_,requestContactSuggestions:V_,showSuggestions:!0,autoSuggestionDropdownWillAppear:V_,emailPillPopoverDidAppear:V_};var z_=Object(Ir.b)(e=>{const{getComposeSuggestions:t}=Object(ro.b)(e);return{getSuggestions:t}},(e,t)=>({requestContactSuggestions:s=>{const{getRecipientList:n,getContextFrom:a}=t,r=n(),o=a();e(Object(L_.e)(babelHelpers.extends({},s,{recipientList:r,contextFrom:o})))},requestDeleteContactSuggestions:s=>{const{getRecipientList:n,getContextFrom:a}=t,r=n(),o=a();e(Object(L_.h)(babelHelpers.extends({},s,{recipientList:r,contextFrom:o})))}}))(q_),Z_=s(582),K_=s.n(Z_);function Y_(e){const{hasFocus:t}=e,s=babelHelpers.objectWithoutProperties(e,["hasFocus"]),n=Wr()(K_.a,{hasFocus:t});return Ue.a.createElement("div",babelHelpers.extends({},s,{className:n.input}),e.children)}var X_=s(583),$_=s.n(X_);const Q_=Object(Sr.h)({save_draft_and_close:{id:"compose.save_draft_and_close",defaultMessage:"Close (and save to drafts)"},show_cc_button_label:{id:"compose.show_cc_button_label",defaultMessage:"CC / BCC"},hide_cc_button_label:{id:"compose.hide_cc_button_label",defaultMessage:"Hide CC / BCC"},show_cc_only_button_label:{id:"compose.show_cc_only_button_label",defaultMessage:"CC"},hide_cc_only_button_label:{id:"compose.hide_cc_only_button_label",defaultMessage:"Hide CC"},bcc_button_label:{id:"compose.bcc_button_label",defaultMessage:"bcc"},from_input_label:{id:"compose.from_input_label",defaultMessage:"From"},to_input_label:{id:"compose.to_input_label",defaultMessage:"To"},cc_input_label:{id:"compose.cc_input_label",defaultMessage:"CC"},bcc_input_label:{id:"compose.bcc_input_label",defaultMessage:"BCC"},select_contact:{id:"compose.select_contact",defaultMessage:"Select contact {email}"},subject_input_placeholder:{id:"compose.subject_input_placeholder",defaultMessage:"Subject"},additional_options:{id:"compose.additional_options",defaultMessage:"Additional options"}});class J_ extends Ue.a.Component{constructor(e){super(e),eh.call(this);const{from:t={},to:s=[],cc:n=[],bcc:a=[],subject:r=""}=this.props;this.state={from:t,to:s,cc:n,bcc:a,subject:r,showCcBcc:!!n.length||!!a.length,inputFocus:{},xButtonHovered:!1,isDragged:!1,isEditing:!1,selectedPills:[],isAutosuggestionHidden:!1},this.clearPillsCallbacks=[]}componentWillReceiveProps(e){this.props.composeMode!==e.composeMode&&this.setState({showCcBcc:!!e.cc.length||!!e.bcc.length})}handleXButtonHover(e){this.setState({xButtonHovered:e})}handleInputContactAdd(e,t,s=!1){const n=function(e){if(M_.test(e)){let t,[s]=e.match(M_);const n=e.replace(s,"").trim();return{email:s=s.substring(1,s.length-1),name:n,title:t=n&&s?`${n} <${s}>`:n||s}}return{email:e,name:e}}(t.trim());s?this.handleContactUpdate(e,{email:n.email,name:n.name}):this.handleContactAdd(e,{email:n.email,name:n.name})}handleFocusChange(e,t){this.setState({inputFocus:{type:e,isFocused:t}})}shouldHandleDrop(e){return this.refs.composeHeaderTop.contains(e)}componentWillUnmount(){this.clearPillsCallbacks.length=0}addContactsToField(e){const{recipientGroup:t}=this.state;this.handleContactAdd(t,e)}editContactsToField(e){const{recipientGroup:t}=this.state;this.handleContactAdd(t,e)}focus(e){this.refs[e]?this.refs[e].focus():this[e]&&this[e].focus()}componentDidMount(){this.focus(this.props.initialFocus)}toggleCcBcc(e=!1,t=(()=>{})){this.setState({showCcBcc:e},t)}onHeaderChange(){const{from:e,to:t,cc:s,bcc:n,subject:a}=this.state;this.props.onChange({from:e,to:t,cc:s,bcc:n,subject:a})}handleContactUpdate(e,t){const s=this.state[e].map(e=>e.isEditing?Object.assign({},t):e);this.setState({[e]:s,isEditing:!1},this.onHeaderChange)}renderAutoSuggest(e,t,s,n){const a=this.state[e],r=this.state.inputFocus.type===e&&this.state.inputFocus.isFocused,o="message-"+e+"-field",i=this.props[v_.FocusableRefs.TO].length+this.props[v_.FocusableRefs.CC].length+this.props[v_.FocusableRefs.BCC].length;return Ue.a.createElement(E_,{active:r,label:t,childrenId:"compose-header-field-"+e,identifier:e,"data-test-id":`contact-picker-${e}`,addContactsToField:this.handleContactAdd.bind(null,e)},Ue.a.createElement(z_,{filterSuggestions:this.filterSuggestions,suggestionRef:t=>this[e]=t,id:e,inputId:o,autoBidi:!1,selectedContacts:a,onFocus:this.handleFocusChange.bind(this,e,!0),onBlur:this.handleFocusChange.bind(this,e,!1),onInputContactAdd:this.handleInputContactAdd.bind(this,e),onContactRemove:this.handleContactRemove.bind(null,e),onContactAdd:this.handleContactAdd.bind(null,e),onContactEdit:this.handleContactEdit.bind(null,e),isEditing:this.state.isEditing,getMessageForOption:this.messageForOption,showCcBcc:this.state.showCcBcc,handleDrop:(t,s,n)=>this.handleDrop(t,e,s,n),handleDragState:this.setDragState,isDragged:this.state.isDragged,onPillSelection:this.updateSelectedPills,selectedPills:this.state.selectedPills,clearSelectedPills:this.clearSelectedPills,dragDropPill:this.props.dragDropPill,getRecipientList:this.getRecipientList,getContextFrom:this.getContextFrom,composePillCount:i,showSuggestions:!this.state.isAutosuggestionHidden&&r,emailPillPopoverDidAppear:this.emailPillPopoverDidAppear,autoSuggestionDropdownWillAppear:this.autoSuggestionDropdownWillAppear}),n)}renderCloseButton(e){const t=this.context.intl.formatMessage(Q_.save_draft_and_close);return Ue.a.createElement("span",{className:e.xButton},Ue.a.createElement(Ar.a,{onClick:this.props.onClose,title:t,"aria-label":t,kind:Cr.b.CLOSE,colorState:this.state.xButtonHovered?Cr.a.NORMAL:Cr.a.DISABLED,size:Cr.d.XXS}))}renderExtraRecipientBtn(e){if(this.state.cc.length>0||this.state.bcc.length>0)return null;const{formatMessage:t}=this.context.intl,{isBccDisabled:s}=this.props,n=t(this.state.showCcBcc?s?Q_.hide_cc_only_button_label:Q_.hide_cc_button_label:s?Q_.show_cc_only_button_label:Q_.show_cc_button_label);return Ue.a.createElement(Hr.a,{ref:v_.FocusableRefs.CCBTN,className:e,tabIndex:"-1",onClick:this.toggleExtraRecipients,kind:Ur.a.CHROMELESS,"data-test-id":"btn-cc"},n)}renderEditSubjectMenu(e){const{formatMessage:t}=this.context.intl;return Ue.a.createElement(xr.a,{className:e.additionalOptionsButtonWrapper},Ue.a.createElement(wr.a,null,Ue.a.createElement(Ar.a,{"data-test-id":"additional-compose-options-button",kind:Cr.b.CHEVRON_UP,rotate:Cr.c.D180,size:Cr.d.XS,title:t(Q_.additional_options)})),Ue.a.createElement(Fr.b,{triggerOn:kr.h.CLICK,align:kr.a.START,offset:2*Pr.GRID_UNIT},Ue.a.createElement("div",{className:e.additionalOptionsListWrapper},Ue.a.createElement(jr.a,{kind:ol.a.MENU,focusOnMount:!0,"data-test-id":"additional-compose-options-menu"},Ue.a.createElement("li",null,Ue.a.createElement(Hr.a,{"data-test-id":"edit-subject",kind:Ur.a.MENUITEM,onClick:this.props.onEditSubject},Ue.a.createElement(Sr.c,{id:"editSubject",defaultMessage:"Edit subject"})))))))}render(){const e=Wr()($_.a,{"filled-subject":this.state.subject.length>0,isSubjectDisabled:!this.props.canEditSubject}),{inputFocus:t}=this.state;return Ue.a.createElement("div",{className:"compose-header "+e.container},this.props.showCloseButton?Ue.a.createElement("div",{className:e.xButtonWrapper,onMouseEnter:this.handleXButtonHover.bind(this,!0),onMouseLeave:this.handleXButtonHover.bind(this,!1)},this.renderCloseButton(e)):null,Ue.a.createElement("div",{"data-test-id":"compose-header-top",className:e.composeHeaderTop,ref:"composeHeaderTop"},this.props.showFrom?Ue.a.createElement(Y_,{hasFocus:t.type===v_.FocusableRefs.FROM&&t.isFocused,"data-test-id":"container-from"},Ue.a.createElement(g_,{active:t.type===v_.FocusableRefs.FROM&&t.isFocused,label:Ue.a.createElement(Sr.c,Q_.from_input_label)},Ue.a.createElement(R_,{dir:this.props.rtl?"rtl":"ltr",selectLabel:this.context.intl.formatMessage(Q_.from_input_label),onFocus:this.handleFocusChange.bind(this,v_.FocusableRefs.FROM,!0),onBlur:this.handleFocusChange.bind(this,v_.FocusableRefs.FROM,!1),sendingAccounts:Object(ec.c)(this.props.accounts),selected:this.state.from,onChange:this.handleFromChange}))):null,Ue.a.createElement(Y_,{hasFocus:t.type===v_.FocusableRefs.TO&&t.isFocused,"data-test-id":"container-to",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,v_.FocusableRefs.TO)},this.props.canEditSubject?null:this.renderEditSubjectMenu(e),this.renderAutoSuggest(v_.FocusableRefs.TO,Ue.a.createElement(Sr.c,Q_.to_input_label),e),this.renderExtraRecipientBtn(e.extraRecipientsBtn)),this.state.showCcBcc?Ue.a.createElement("div",null,Ue.a.createElement(Y_,{hasFocus:t.type===v_.FocusableRefs.CC&&t.isFocused,"data-test-id":"container-cc",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,v_.FocusableRefs.CC)},Ue.a.createElement("div",{className:e.ccContainer},this.renderAutoSuggest(v_.FocusableRefs.CC,Ue.a.createElement(Sr.c,Q_.cc_input_label),e))),!this.props.isBccDisabled&&Ue.a.createElement(Y_,{hasFocus:t.type===v_.FocusableRefs.BCC&&t.isFocused,"data-test-id":"container-bcc",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,v_.FocusableRefs.BCC)},this.renderAutoSuggest(v_.FocusableRefs.BCC,Ue.a.createElement(Sr.c,Q_.bcc_input_label),e))):null),this.props.showSubject?Ue.a.createElement("div",{className:e.composeSubject},Ue.a.createElement(Y_,{hasFocus:t.type===v_.FocusableRefs.SUBJECT&&t.isFocused},this.props.canEditSubject||this.props.composeMode!==E.J.Modes.FORWARD?null:this.renderEditSubjectMenu(e),Ue.a.createElement(mm.a,{"data-test-id":"compose-subject",onFocus:this.handleFocusChange.bind(this,v_.FocusableRefs.SUBJECT,!0),onBlur:this.handleFocusChange.bind(this,v_.FocusableRefs.SUBJECT,!1),ref:v_.FocusableRefs.SUBJECT,spellCheck:!0,autoCorrect:"off","aria-label":this.context.intl.formatMessage(Q_.subject_input_placeholder),className:e.subject,placeholder:this.context.intl.formatMessage(Q_.subject_input_placeholder),value:this.state.subject,onChange:this.handleSubjectChange,disabled:!this.props.canEditSubject,onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,"")}))):null)}}J_.contextTypes={config:Ve.a.object,intl:Sr.i.isRequired},J_.defaultProps={subject:"",from:{},to:[],cc:[],bcc:[],showSubject:!0,isBccDisabled:!1,canEditSubject:!0,onChange:()=>{}};var eh=function(){this.handleSubjectChange=(e=>{this.setState({subject:e.target.value},this.onHeaderChange)}),this.setDragState=(e=>{this.setState({isDragged:e})}),this.handleDragOver=(e=>{this.shouldHandleDrop(e.target)&&e.preventDefault()}),this.updateSelectedPills=(e=>{this.state.isEditing||this.setState({selectedPills:e})}),this.clearSelectedPills=(e=>{e&&this.clearPillsCallbacks.push(e),this.clearPillsCallbacks.forEach(e=>e()),this.setState({selectedPills:[]})}),this.handleDrop=((e,t,s,n)=>{if(e.stopPropagation(),e.preventDefault(),void 0===s&&(!this.shouldHandleDrop(e.target)||""===t))return;const a=e.dataTransfer.getData("text"),r=document.getElementById("drag-img");let o=[],i={},c=0;if(r&&r.parentNode&&r.parentNode.removeChild(r),""===a||!Object(jn.isJSONString)(a))return;const l=JSON.parse(a);l&&(i=l.contact),this.state.selectedPills.length>0&&(o=this.state.selectedPills),i&&(i.id||i.email||i.name)&&-1===(c=o.findIndex(({name:e,email:t})=>i.name===e&&i.email===t))&&o.push(i);const d={mKey:zr.e.DRAG_CONTACT,sec:zr.g.COMPOSE_CONTACTS,actionData:{cnt:o.length,from:l.dragFromField.toUpperCase(),to:t.toUpperCase()}};this.props.dragDropContact({i13nModel:d}),this.handleDragContactAdd(t,o,{side:s,id:n}),l.dragFromField!==t&&this.handleContactRemove(l.dragFromField,o,!0),this.setDragState(!1),this.clearSelectedPills()}),this.handleDragContactAdd=((e,t=[],{side:s="other",id:n})=>{const a=this.state[e],r=a.filter(e=>!t.find(({name:t,email:s})=>e.name===t&&e.email===s)),o={left:0,right:1,other:a.length+1}[s],i=Math.max(0,r.findIndex(e=>e.id===n)+o),c=r.slice(0,i).concat(t).concat(r.slice(i));this.setState({[e]:c},this.onHeaderChange)}),this.handleContactRemove=((e,t,s)=>{const n=this.state[e];var a=[];s?(t.forEach(e=>{const t=n.findIndex(({name:t,email:s})=>e.name===t&&e.email===s);n.splice(t,1)}),a=n):a=m_()(n,t),this.setState({[e]:a},this.onHeaderChange)}),this.handleContactEdit=((e,t)=>{var s=this.state[e].map(e=>e.email===t.email?Object.assign({},e,{isEditing:!0}):e);this.setState({[e]:s,isEditing:!0},this.onHeaderChange)}),this.messageForOption=(e=>e.email?this.context.intl.formatMessage(Q_.select_contact,{email:e.email}):e),this.toggleExtraRecipients=(()=>{const{CC:e,TO:t}=v_.FocusableRefs;this.toggleCcBcc(!this.state.showCcBcc,()=>{this.focus(this.state.showCcBcc?e:t)})}),this.filterSuggestions=((e=[])=>{if(!e.length)return[];const t=this.state.to.concat(this.state.cc,this.state.bcc).reduce((e,{email:t})=>(e[t]=1,e),Object.create(null));return Object.keys(t).length&&(e=e.filter(({email:e})=>!t[e])),e}),this.handleContactAdd=((e,t)=>{var s=this.state[e];const n=({email:e,id:t,name:s,createdTime:n})=>{const a={createdTime:n};return e&&(a.email=e),t&&(a.id=t),s&&(a.name=s),a};if(Array.isArray(t)||t.hasOwnProperty("list")){const e=Array.isArray(t)?t:t.list;s=s.concat(e.map(n))}else void 0===s.find(e=>e.email===t.email)&&(s.push(n(t)),this.props.addRecipient({i13nModel:{mKey:zr.e.SELECT_CONTACT,sec:zr.g.COMPOSE_CONTACTS}}));this.setState({[e]:s},this.onHeaderChange)}),this.emailPillPopoverDidAppear=(e=>{this._popoverReference=e,this.state.isAutosuggestionHidden||this.setState({isAutosuggestionHidden:!0})}),this.autoSuggestionDropdownWillAppear=(()=>{this._popoverReference&&(this._popoverReference.handlePopoverHide(),this._popoverReference=null,this.state.isAutosuggestionHidden&&this.setState({isAutosuggestionHidden:!1}))}),this.getRecipientList=(()=>{const{to:e,cc:t,bcc:s}=this.state;return Object(jn.buildRecipients)([e,t,s])}),this.getContextFrom=(()=>this.state.from.email),this.handleFromChange=(e=>{this.setState({from:e},this.onHeaderChange)})},th=J_,sh=s(478);const{TAB:nh,ENTER:ah,ESCAPE:rh,ARROW_UP:oh,ARROW_DOWN:ih,ARROW_LEFT:ch,ARROW_RIGHT:lh}=E.Bb,dh="+",uh="@";class mh{constructor(e){this.args=e,this.TAG_REGEX=/^[\s]*[@+]([\S]+[a-zA-Z\s]*)$/,this.keyCodeMapper=[nh,ah,rh,oh,ih],this.dropdownRef=this.args.dropdownRef,this.activeIndexBeginAt=1,this.lineHeight=20}getEventName(e){return"string"==typeof e?e:e&&e.type}contentChanged(e){if("keydown"===this.getEventName(e)&&this.args.isContactSuggestionVisible()){const t=this.args.getContactSuggestions(),s=this.args.getDropdownActiveIndex();this.keyCodeMapper.indexOf(e.key)>-1?(e.preventDefault(),e.stopPropagation()):[lh,ch].indexOf(e.key)>-1&&this.args.toggleDropdown(!1);const n=t.length;if([nh,ah].indexOf(e.key)>-1)this.args.insertContact(t[s-this.activeIndexBeginAt]);else if(e.key===ih){const e=s+1;this.args.updateActiveIndex(e>n?this.activeIndexBeginAt:e)}else if(e.key===oh){const e=s-1;this.args.updateActiveIndex(e<this.activeIndexBeginAt?n:e)}else e.key===rh&&this.args.toggleDropdown(!1)}}onContentMutated(e){if(e.filter(e=>"characterData"===e.type).length&&this.dropdownRef)try{const e=mh.getRangeFromStartToCursor().startContainer,t=e.textContent,s="Firefox"===Object(S.a)(window,"AppBootstrapData.browserName","")?t.replace(/<br>/,""):t,n=this.TAG_REGEX.exec(s);if(n&&n.length){const t=e.parentElement.getBoundingClientRect(),s=n[n.length-1],{x:a}=this.args.rte.getCaretCoordinates(),r=this.getOffets(),o=t.top-this.args.rte.element.getBoundingClientRect().top,i=t.height;return this.dropdownRef.style.left=r.left+a+10+"px",this.dropdownRef.style.top=r.top+o+i+"px",void this.args.showContactSuggestion(s)}}catch(e){return}this.args.hideContactSuggestion()}static getRangeFromStartToCursor(){const e=window.getSelection(),t=document.createRange();return t.setStart(e.anchorNode,0),t.setEnd(e.anchorNode,e.anchorOffset),t}getOffets(){const{containerRef:e,rte:t}=this.args,s=t.element.getBoundingClientRect(),n=e.getBoundingClientRect();return{top:s.top-(n.top||0),left:s.left-(n.left||0)}}setDropdownElement(e){this.dropdownRef=e}insertContact(e=""){this.args.rte.restoreCaret(),this.args.rte.focus();const t=mh.getRangeFromStartToCursor(),s=t.toString(),n=this.TAG_REGEX.exec(s);let a="";if(n&&n.length&&n.input){a=-1!==n.input.indexOf(dh)&&dh||-1!==n.input.indexOf(uh)&&uh;try{t.setStart(t.startContainer,n.input.indexOf(a))}catch(e){return void vm.a.error("Should not be inserting contact if it is not prefixed with +/@",e)}t.setEnd(t.endContainer,t.endOffset);const s=window.getSelection();s.removeAllRanges(),s.addRange(t);let r="initial";try{r=window.getComputedStyle(s.anchorNode.parentElement).getPropertyValue("font-size")}catch(e){vm.a.error("Unable to get font size",e)}const o=document.createElement("span");o.innerHTML=this._getHighlightedName(a+e,r),t.deleteContents(),t.insertNode(o),s.collapseToEnd(),t.startContainer.parentElement.style.fontSize=r}}_getHighlightedName(e,t){return`<span style="background-color: #DBEDFE;font-size: ${t}" contenteditable="false" tabIndex="-1">${e}</span>&nbsp;`}}var ph=mh;class _h extends Ue.a.Component{constructor(e){super(e),this._onXButtonClick=(()=>{this.props.closeAutotagForCurrentSession(),this._closeAutotag()}),this.insertContact=(e=>{e.disabled||(this.toggleDropdown(!1),this.props.addInlineContactSuggestionToCcField(e),this._autotagPlugin.insertContact(e.name))}),this._closeAutotag=(()=>{this._dropdownRef&&this.toggleDropdown(!1)}),this._handleDropdownRef=(e=>{this._dropdownRef=this._dropdownRef||Object(je.findDOMNode)(e),this._autotagPlugin&&this._autotagPlugin.setDropdownElement(this._dropdownRef)}),this.state={contactActiveIndex:1,isContactSuggestionVisible:!1}}componentDidMount(){this.requestContactSuggestions=Qu()(this.props.requestContactSuggestions,300,{leading:!0}),window.addEventListener("mousedown",this._closeAutotag)}componentWillReceiveProps(e){if(!this._autotagPlugin&&e.editorReference&&e.editorReference.rte){const{containerRef:t,editorReference:s}=e,{rte:n}=s;this._autotagPlugin=new ph({showContactSuggestion:this.showContactSuggestion.bind(this),hideContactSuggestion:this.toggleDropdown.bind(this),isContactSuggestionVisible:()=>this.isContactSuggestionVisible(),setEditorState:e=>this.setState(e),updateActiveIndex:e=>this.setState({contactActiveIndex:e}),getContactSuggestions:()=>this.props.contactSuggestions,getDropdownActiveIndex:()=>this.state.contactActiveIndex,wasDropdownClosed:()=>this.props.wasDropdownClosed,insertContact:this.insertContact,toggleDropdown:this.toggleDropdown.bind(this),dropdownRef:this._dropdownRef,containerRef:t,rte:n}),e.editorReference.rte.addPlugin(this._autotagPlugin)}}showContactSuggestion(e=""){e.trim().length>0&&(this.requestContactSuggestions({query:e}),this.toggleDropdown(!0))}toggleDropdown(e=!1){this.state.isContactSuggestionVisible!==e&&this.setState({isContactSuggestionVisible:e,contactActiveIndex:1})}componentWillUnmount(){window.removeEventListener("mousedown",this._closeAutotag)}_getContactOptionItems(e){const{formatMessage:t}=this.context.intl;return[Ue.a.createElement(Hl.Option,{className:e.relatedContactsContainer,disabled:!0,value:{disabled:!0}},Ue.a.createElement("span",{className:e.relatedContacts},Ue.a.createElement(Sr.c,{id:"autotag_dropdown.add_recipient",defaultMessage:"Add a recipient"})),Ue.a.createElement("span",{className:e.relatedContactsClose},Ue.a.createElement(Ar.a,{"data-iskeynav":!0,"data-test-id":"autotag-close-button",kind:Cr.b.CLOSE,size:Cr.d.XXS,onMouseDown:this._onXButtonClick,colorState:Cr.a.FIRST_LEVEL_GRAY,paddingLess:!0,title:t(U_.close_related_contacts),id:"autotag-close"}))),...this.props.contactSuggestions.map((t,s)=>Ue.a.createElement(Hl.Option,{className:e.typeaheadOption,key:s,value:t},Ue.a.createElement(k_,{option:t,allowContactRemoval:!1})))]}isContactSuggestionVisible(){return!(this.props.wasDropdownClosed||!this.props.contactSuggestions.length||!this.state.isContactSuggestionVisible)}render(){if(!this._autotagPlugin)return null;const e=Wr()(Tl.a,{autotag:!0});return Ue.a.createElement(Hl.Dropdown,{ref:this._handleDropdownRef.bind(this),options:this._getContactOptionItems(e),activeIndex:this.state.contactActiveIndex,visible:this.isContactSuggestionVisible(),onMouseDown:this.insertContact,className:e.typeaheadDropDown})}}_h.defaultProps={containerRect:{},wasDropdownClosed:!1},_h.contextTypes={intl:Sr.i.isRequired};var hh=Object(Ir.b)((e,t)=>{const{getAutotagSuggestions:s,getComposeSessionsSelectors:n}=Object(ro.b)(e),{wasAutotagDropdownClosed:a}=n();return{contactSuggestions:s(t.csid),wasDropdownClosed:a(t.csid)}},(e,t)=>({requestContactSuggestions:s=>{e(Object(L_.e)(babelHelpers.extends({},s,{csid:t.csid})))},closeAutotagForCurrentSession:()=>{e(Object(L_.c)({csid:t.csid}))}}),null,{withRef:!0})(_h),Eh=s(589),gh=s.n(Eh);const bh=Wr()(gh.a),Ih="Files";var fh=class extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={dragOverlayVisible:!1},this.handleDragOver=(e=>{e.dataTransfer&&Array.prototype.slice.call(e.dataTransfer.types).some(e=>e===Ih)&&(this.state.dragOverlayVisible||this.setState({dragOverlayVisible:!0}),e.preventDefault(),e.stopPropagation())}),this.handleDragLeave=(e=>{e.preventDefault(),e.stopPropagation(),this.state.dragOverlayVisible&&this.setState({dragOverlayVisible:!1})}),this.handleDrop=(e=>{e.preventDefault(),e.stopPropagation();const t=e.dataTransfer.files;this.setState({dragOverlayVisible:!1},()=>this.props.onDrop(Array.prototype.slice.call(t)))}),t}render(){return Ue.a.createElement("div",{onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,className:bh.attachmentDragContainer},this.props.children,this.state.dragOverlayVisible?Ue.a.createElement("div",{className:bh.dragOverlay},Ue.a.createElement("div",{className:bh.dragDescriptionContainer},Ue.a.createElement(Tr.b,{kind:Cr.b.ATTACH_GENERIC_48,colorState:Cr.a.ATTACH_GENERIC,size:Cr.d.L}),Ue.a.createElement("div",{className:bh.dragTextDescription},Ue.a.createElement(Sr.c,{id:"compose.rte_dragdrop_overlay",defaultMessage:"Drag and drop files here"})))):null)}},Sh=s(264),Ah=s(259),Th=s(149),Ch=s(174),Oh=s(121),Rh=s(270),Nh=s(96);function Mh(e,{csid:t,files:s,newContentIds:n,i13nModel:a}){e.dispatch(To.je,{csid:t,files:s,newContentIds:n,i13nModel:a})}var Dh=s(232),yh=s(208),Lh=s(595),vh=s.n(Lh),Ph=s(194),Fh=s.n(Ph),xh=s(164),wh=s(184),kh=s(54),Hh=s(192),Uh=s(377),jh=s(29),Gh=s(155),Bh=s(358),Vh=s.n(Bh);const{INLINE_IMAGE_CLASS:Wh}=v_.INLINE_IMAGE_PLUGIN_CLASSES,qh="<div><br/></div>",zh=["font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;","font-size:13px;","color:#26282a;"].join(""),Zh=/^((?:re|fwd?): )*/i,Kh=(e=[])=>{const t={},s=[];return e.forEach(e=>{t[e.email]||(t[e.email]=!0,s.push(e))}),s};var Yh=({accounts:e=[],listId:t,csid:s,selectors:n})=>a=>{const r=(({accounts:e=[],listId:t,csid:s,selectors:n},a)=>{const r=`${wh.a}_${s}`,o={from:Object(jn.getFromAddress)(e),to:[],cc:[],bcc:[],subject:"",body:"",canApplyDefaultStationery:!0,stationeryTheme:"",attachmentsInfo:[],htmlAnnotations:[{divIds:[r]}],uiState:{useRichText:!0,isQuotedTextExpanded:!1},undoStack:[],redoStack:[]},{getFeaturesSelectors:i,getMrdParams:c,getAdsSelectors:l,doesComposeSessionExist:d,findUnsyncedDataByCsid:u,doComposeFromRouteQueryParams:m,doComposeFromMailToLink:p,getComposeMailToLink:_,getDraftMessageId:h,getForwardCreativeId:g,isReplyOrReplyAll:b,getReplyingToMessageId:I,getSubjectAndSnippetSelectors:f,getMessageFromAddress:S,getMessageToAddress:A,getMessageCcAddress:T,getMessageBccAddress:C,getMessageTimeStamp:O,doesMessageBodyExist:R,getReplyToAddress:N,isReplyMessage:M,isReplyAllMessage:D,isForwardMessage:y,isMyEmailAddress:L,getAttachmentsByMessageId:v,getSignatureByAccountEmail:P,getMessageBody:F,getAttachmentById:x,getForwardAttachmentIds:w,getStationeryTheme:k,getComposeUndoStack:H,getComposeRedoStack:U,getComposeUiState:j,getTimeZoneName:G,getComposeSessionsSelectors:B}=n,V=i("conversations"),W=P(o.from.email),q=k(s);let z="";if(q!==v_.NO_STATIONERY&&(o.stationeryTheme=q),o.stationeryTheme||(o.stationeryTheme=i().getSetting(E.nd.STATIONERY_DEFAULT_THEME)),W&&(z=`${qh}${qh}<div class="signature">${W}</div>`),!d(s))return z&&(o.body+=`<div>${z}</div>`),o;const Z=h(s),{getSubject:K}=f(),Y=u(s);if(Y)return o.from=Y.from||o.from,o.to=Y.to||o.to,o.cc=Y.cc||o.cc,o.bcc=Y.bcc||o.bcc,o.subject=Y.subject||o.subject,o.body=Y.html||(Y.text?`<div>${Vh()(Y.text)}</div>`:o.body),o.canApplyDefaultStationery=!o.body,o.attachmentsInfo=Y.attachmentsInfo||o.attachmentsInfo,o.uiState=Y.uiState||o.uiState,o.stationeryTheme=Y.stationeryTheme||o.stationeryTheme,o.undoStack=Y.undoStack||o.undoStack,o.redoStack=Y.redoStack||o.redoStack,o;if(Z){const{html:n="",text:a="",htmlAnnotations:r=[]}=R(Z)?F(Z):{},i=S(Z)||[];return o.from=Object(jn.getFromAddress)(e,(i[0]||{}).email),o.to=A(Z),o.cc=T(Z),o.bcc=C(Z),o.subject=Object(kh.l)(K(Z,t)||""),o.body=n||`<div>${Vh()(a)}</div>`,o.canApplyDefaultStationery=!o.body,o.htmlAnnotations=r,o.attachmentsInfo=v(Z),o.stationeryTheme=k(s)||o.stationeryTheme,o.undoStack=H(s)||[],o.redoStack=U(s)||[],o.uiState=j(s)||o.uiState,o}if(m(s)){const e=c();return o.to=e.initialTo||[],o.cc=e.initialCc||[],o.bcc=e.initialBcc||[],o.subject=e.initialSubject||"",o.body=e.initialBody&&e.initialBody.content||"",o.canApplyDefaultStationery=!o.body,o.stationeryTheme=e.initialStationeryTheme||o.stationeryTheme,o.showGIFPicker=e.showGIFPicker,o.showStationeryPicker=e.showStationeryPicker,o}if(p(s)){const e=Object(Uh.a)(_(s)||"");return babelHelpers.extends({},o,{to:(e.to||[]).map(e=>({email:e})),cc:(e.cc||[]).map(e=>({email:e})),bcc:(e.bcc||[]).map(e=>({email:e})),subject:e.subject||"",body:e.body||"",canApplyDefaultStationery:!0})}const{formatMessage:X}=a.intl,$=g(s);if($){const{nativeAd:e={},pencilAd:t={}}=l().getSponsoredAd($);return o.subject=t.adHeadline||"",o.body=[`${qh}\n            ${qh}\n            ${qh}\n            <div style="${zh}">\n                <div>----- ${X(jh.a.forwarded_message)} -----</div>\n                ${qh}\n                <div>${e.geminiSponsoredAsset||""}</div>\n            </div>`].join(""),o.body+=`<div>${z}</div>`,o.canApplyDefaultStationery=!1,o}const Q=w(s);if(Q.length){const e=x(Q[0]),{downloadUrl:t,contentId:s,disposition:n}=e;return n===E.u.Dispositions.INLINE?(o.body+=[`<img class="${Wh}" src="${Object(Hh.a)(t)}" data-id="${s}"/><br/>`,qh].join(""),o.canApplyDefaultStationery=!1):o.attachmentsInfo=[e],o}const J=I(s),ee=Object.assign({timezone:G()},v_.FORMAT_DATE_OPTION);if(J){const n=M(s),c=D(s),l=y(s),d=[...N(J)]||!1,u=S(J)||[],m=Boolean(!!j(s)&&j(s).isQuotedTextExpanded);d.length&&!d.name&&u.length&&d[0].email===u[0].email&&(d[0].name=u[0].name);const p=A(J),_=T(J),h=C(J);if(o.from=Object(jn.getFromAddressForReplyForward)(e,{to:p,cc:_,bcc:h}),n)o.to=[...d,...u].slice(0,1);else if(c){const e=-1!==u.findIndex(e=>L(e.email)),t=-1!==d.findIndex(e=>L(e.email)),s=-1!==p.findIndex(e=>L(e.email)),n=(e||t)&&s?[...d,...u].find(e=>L(e.email)):[];o.to=Kh([...p,...t?[]:d,...d.length||e?[]:u].filter(e=>e.email!==o.from.email).concat(n)),o.cc=Kh([..._].filter(e=>e.email!==o.from.email).filter(e=>!o.to.find(t=>t.email===e.email)))}const g=Object(kh.l)(K(J,t)||"");if(g){const e=b(s)?"Re: ":"Fw: ";o.subject=e+g.replace(Zh,"")}const I=a.intl.formatDate(1e3*O(J),ee),{html:f=""}=F(J),R=[];if(u.length)if(V&&b(s)){const{name:e="",email:t}=u[0];R.push(`<div>\n                    ${Object(Hh.b)(X(jh.a.quoted_draft,{date:I,quotedName:e,quotedAddress:t}))}\n                </div>\n                ${qh}\n                ${qh}`)}else R.push(`<div>${X(jh.a.quoted_message_from,{from:Object(Hh.b)(Object(jn.addressHTMLString)(u[0]))})}</div>`),p.length&&R.push(`<div>${X(jh.a.quoted_message_to,{to:Object(Hh.b)(p.map(jn.addressHTMLString).join("; "))})}</div>`),_.length&&R.push(`<div>${X(jh.a.quoted_message_cc,{cc:Object(Hh.b)(_.map(jn.addressHTMLString).join("; "))})}</div>`),R.push(`<div>${X(jh.a.quoted_message_sentdate,{sentDate:I})}</div>`,`<div>${X(jh.a.quoted_message_subject,{subject:g})}</div>`,qh);const P=b(s)?"":`<div>----- ${X(jh.a.forwarded_message)} -----</div>`,x=V?"":"<hr/>";let w=f;return i().isEnabled(E.mb.CEP_FORWARD)&&l&&!m&&-1===f.indexOf(`<div fwdid=${s} src='mid://${J}'>`)&&(w=[`<div fwdid=${s} src='mid://${J}'>`,f,"</div>"].join("")),o.body=[`<div>${z}</div>\n        ${qh}${qh}\n        ${x}\n        <div id="${Object(Hh.a)(r)}" class="${wh.a}">\n            <div style="${zh}">\n                ${P}\n                ${R.join("")}\n                <div>${w}</div>\n            </div>\n        </div>`].join(""),o.canApplyDefaultStationery=!0,o.attachmentsInfo=b(s)?[]:v(J),o}const te=B().getComposeParams(s);return te&&(o.to=te.to||[]),z&&(o.body+=`<div>${z}</div>`),o.stationeryTheme&&q!==v_.NO_STATIONERY&&(o.showStationeryPicker=!0),o})({accounts:e,listId:t,csid:s,selectors:n},a);return Object(f.b)()&&(r.body=r.uiState.useRichText?Object(Gh.d)(r.body,n):Object(Gh.a)(r.body)),r},Xh=s(455),$h=s(204),Qh=s(283);const Jh=E.cb.Status,eE=40,tE=E.J.Modes,{Dispositions:sE}=E.u,nE={[To.Bb]:ni,[To.yb]:ri,[To.Cb]:ai},aE=()=>{},rE=Wr()(vh.a),oE={_data:{},get(e){return this._data[e]||{}},set(e,t={}){this._data[e]||(this._data[e]={}),Object.assign(this._data[e],t)}};class iE extends Ue.a.Component{constructor(e,t){super(e,t),cE.call(this);const{composeFontSize:s,composeFontFamily:n,isQuotedTextExpanded:a}=e,{from:r,to:o,cc:i,bcc:c,subject:l="",body:d="",canApplyDefaultStationery:u=!1,htmlAnnotations:m=[],attachmentsInfo:p=[],stationeryTheme:_="",showGIFPicker:h=!1,showStationeryPicker:E=!1,uiState:g={useRichText:!0,isQuotedTextExpanded:a},undoStack:b=[],redoStack:I=[]}=e.getContent(t);this.from=r,this.to=o,this.cc=i,this.bcc=c,this.subject=l,this.content=d,this.canApplyDefaultStationery=u,this.htmlAnnotations=m,this.attachmentsInfo=p,this.rawFiles={},this.newContentIds=[],this.stationeryTheme=_,this.showGIFPicker=h,this.showStationeryPicker=E,this.formatState={foreColor:p_.a.DEFAULTS.FG_COLOR,backgroundColor:p_.a.DEFAULTS.BG_COLOR,fontSize:s||"0",fontFamily:n||""},this.uiState=g,this.undoStack=b,this.redoStack=I,this.uiState.useRichText||(this.content=Object(yh.formatPlaintextForDisplay)(this.content)),this.state={imgHoverMenuVisible:!1,composeWidth:null,composeLeft:null,unsupportedFileTypeAlert:!1}}componentDidMount(){const{csid:e,isSendFailed:t}=this.props,{scrollPosition:s}=oE.get(e);t(e)&&(this.lastEditedTimeStamp=Date.now()),this.mousetrap=this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts,this.container),void 0!==s&&this._restoreScrollPosition(s),this._updateWidth(),this._handleWindowResize=Fh()(this._handleWindowResize,eE),window.addEventListener("resize",this._handleWindowResize)}componentDidUpdate(e){e.hasAttachmentPreview!==this.props.hasAttachmentPreview&&this._handleWindowResize(),e.widthChanged!==this.props.widthChanged&&this._updateWidth(),e.composeFontFamily===this.props.composeFontFamily&&e.composeFontSize===this.props.composeFontSize||(this.formatState=babelHelpers.extends({},this.formatState,{fontSize:this.props.composeFontSize||"0",fontFamily:this.props.composeFontFamily||""}));const t=this.getDraftStatus();this.props.csid===e.csid&&t===Jh.SENT&&this.props.onSendSuccess&&this.props.onSendSuccess()}componentWillUnmount(){const e=Object(je.findDOMNode)(this.refs.editorContainer),{scrollTop:t}=e;this.context.unbindShortcut(this.props.listenKeys,this.mousetrap),oE.set(this.props.csid,{scrollPosition:t}),clearInterval(this.saveInterval),window.removeEventListener("resize",this._handleWindowResize)}render(){const{accounts:e,getComposeFieldToFocus:t,composeFontFamily:s,composeFontSize:n,conversations:a,csid:r,dragDropPill:o,emoji:i,gif:c,inlineAttachment:l,isBccDisabled:d,canEditSubject:u,isQuotedTextExpanded:m,onExpandQuotedText:p,linkEnhancer:_,linkEnhancerUrlBlacklist:h,enhancedLinks:E,preloadEmoji:g,autotagEnabled:b,refToComposeContainer:I,refToComposeHeader:f,showCloseButton:S,showEmojiCue:A,showFrom:T,showStationeryCue:C,showSubject:O,simpleCompose:R,stationery:N,stationeryDefaultTheme:M,stationeryRestrictedThemes:D,toolbarFixed:y,uploadEnabled:L,cepForward:v,isFreshCompose:P,composeMode:F,addRecipient:x,dragDropContact:w}=this.props,k=this.getDraftStatus(),H=this.props.lastSavedTime||0,{formatMessage:U}=this.context.intl,j=v?m||F!==tE.FORWARD&&!a:F===tE.FORWARD||!a,G=k!==Jh.SENDING,{to:B,cc:V}=this,W=t(r),q=this.attachmentsInfo;return Ue.a.createElement($h.a,{getUnsyncedData:this.getUnsyncedData},Ue.a.createElement("div",{"data-test-id":"compose",role:"main","aria-label":U(jh.a.compose_view),ref:e=>{this.container=e,I(e)},className:rE.compose},g?this.renderEmojiPreloader():null,b&&Ue.a.createElement(hh,{addInlineContactSuggestionToCcField:this.addInlineContactSuggestionToCcField,editorReference:this.refs.editor,csid:this.props.csid,containerRef:this.container,ref:e=>{e&&(this._autotag=e.getWrappedInstance())}}),Ue.a.createElement(th,{ref:e=>{this.header=e,f(e)},dragDropPill:o,composeMode:F,onChange:this.handleHeaderChange,onEditSubject:this.handleEditSubject,onClose:this.handleClose,showSubject:O,showFrom:T,showCloseButton:S,from:this.from,to:B,cc:V,bcc:this.bcc,subject:this.subject,csid:r,accounts:e,initialFocus:W,isBccDisabled:d,canEditSubject:u,addRecipient:x,dragDropContact:w}),Ue.a.createElement(fh,{onDrop:this.handleDrop},Ue.a.createElement("div",{className:rE.editorContainer,ref:"editorContainer","data-test-id":"compose-editor-container"},Ue.a.createElement(sh.a,{ariaLabel:U(jh.a.message_body),autoExpandQuotedText:j,onExpandQuotedText:p,cepForward:v,getAttachments:this.getAttachments,composeFontFamily:s,composeFontSize:n,content:this.content,canApplyDefaultStationery:this.canApplyDefaultStationery,contentEditable:G,csid:r,htmlAnnotations:this.htmlAnnotations,initialFocus:W===v_.FocusableRefs.EDITOR,inlineAttachment:l,linkEnhancer:_,linkEnhancerUrlBlacklist:h,enhancedLinks:E,onAttachmentShortcut:this.handleAttachmentTray,onContentChange:this.handleEditorContentChange,onImagePaste:this.addInlineAttachments,onImageRemove:this.handleInlineAttachmentRemoval,onKeyDown:this.handleEditorKeyDown,onSendAsAttachment:this.moveInlineAttachmentToTray,onStationeryDefaultThemeChange:this._handleStationeryDefaultThemeChange,onStationeryThemeChange:this.handleToolbarAction.bind(this,v_.ToolbarActions.UPDATE_STATIONERY),ref:v_.FocusableRefs.EDITOR,scrollableAreaRef:this.refs.editorContainer,stationery:N,getThemeConfig:this.getThemeConfig,undoStack:this.undoStack,redoStack:this.redoStack,linkEnhancerFetch:this.props.linkEnhancerFetch,onLinkEnhancerlinkRemoved:this.props.onLinkEnhancerlinkRemoved,onLinkEnhancerlinkMoveToInline:this.props.onLinkEnhancerlinkMoveToInline,onLinkEnhancerlinkAdded:this.props.onLinkEnhancerlinkAdded,onLinkEnhancerlinkResized:this.props.onLinkEnhancerlinkResized,onLinkEnhancerlinkMoveToBottom:this.props.onLinkEnhancerlinkMoveToBottom}),q.length?Ue.a.createElement(Ah.a,{ref:e=>this._attachmentTray=e,onAttachmentRemove:this.handleAttachmentRemoval,readOnly:!1,allowDownload:!1,onSendAsInlineImage:this.moveImageAttachmentInline,richTextMode:this.uiState.useRichText,getAttachments:this.getAttachments,csid:r}):null),Ue.a.createElement(Sh.a,{getDraftStatus:this.getDraftStatus,useRichText:this.uiState.useRichText,ref:"toolbar",showDeleteButton:!R,lastDraftSavedTime:H,formatState:this.formatState,onExecuteAction:this.handleToolbarAction,uploadEnabled:L,focusOnEditor:this.focusOnEditor,fixed:y,width:this.state.composeWidth,left:this.state.composeLeft,showStationeryCue:C&&F===tE.NEW,showEmojiCue:A&&F===tE.NEW,isFreshCompose:P,stationeryDefaultTheme:M,stationeryTheme:this.stationeryTheme,stationeryEnabled:N,gifFinderEnabled:c,csid:r,addEmoji:this.addEmoji,onMoreMenuClick:this.onMoreMenuClick,emojiEnabled:i,stationeryRestrictedThemes:D,onGifClick:this.onGifClick,showGIFPicker:this.showGIFPicker,showStationeryPicker:this.showStationeryPicker}))))}}iE.contextTypes={executeAction:Ve.a.func,intl:Sr.i.isRequired,config:Ve.a.object,navigateTo:Ve.a.func,toast:Ve.a.func,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func,getTheme:Ve.a.func,getStore:Ve.a.func},iE.defaultProps={showSubject:!0,getDraftStatus:aE,getComposeFieldToFocus:aE,refToComposeContainer:aE,refToComposeHeader:aE,onChange:aE,onSend:aE,onMoreMenuClick:aE,onExpandQuotedText:aE,isQuotedTextExpanded:!1,handleToolbarActions:aE,shouldShowIncludeOriginalAttachmentsAlert:()=>!1,shouldShowEmptySubjectAlert:()=>!1,getContent:aE,cepForward:!1,simpleCompose:!1,showFrom:!1,showCloseButton:!0,isQuickReply:!1,showDeleteButton:!0,styles:{},onContentChanged:aE,toolbarFixed:!1,onResize:aE,isBccDisabled:!1,canEditSubject:!0,widthChanged:0,onContactAdd:()=>{},onContactRemove:()=>{},onMultipleContactsAdd:()=>{},getSavedAttachment:e=>e,isSendFailed:()=>!1,listenKeys:[]};var cE=function(){this._updateWidth=(()=>{const e=Object(je.findDOMNode)(this.container),t=e&&e.getBoundingClientRect();t&&this.setState({composeWidth:t.width,composeLeft:t.left})}),this._restoreScrollPosition=(e=>{Object(je.findDOMNode)(this.refs.editorContainer).scrollTop=e}),this._handleWindowResize=(()=>{this._updateWidth(),this.props.onResize()}),this.onChange=((e,t={})=>{t.type&&Object(Xh.a)(t),t.skipContentChanged||(this.lastEditedTimeStamp=Date.now(),this.props.onChange(babelHelpers.extends({},e,{lastEditedTimeStamp:this.lastEditedTimeStamp}),t),this.newContentIds=[])}),this.handleHeaderChange=(e=>{const{from:t,to:s,cc:n,bcc:a,subject:r}=e;this.from=t,this.to=s,this.cc=n,this.bcc=a,this.subject=r,this.onChange(this._getUserInputtedValues(),{type:"header_changed"})}),this.getUnsyncedData=(()=>({type:E.Zd.COMPOSE,id:this.props.csid,userInputtedValues:this._getUserInputtedValues()})),this.handleEditSubject=(()=>{this.lastEditedTimeStamp=Date.now(),this.context.navigateTo({route:Object(ao.e)(this.props.csid),isReplyingMessageSubjectEdited:!0})}),this.handleEditorContentChange=(e=>{const{format:t,caret:s,type:n}=e;Object(S.d)(this.formatState,t)||(this.formatState=babelHelpers.extends({},this.formatState,t)),this.onChange(this._getUserInputtedValues(),e),this.props.onContentChanged({caret:s,type:n})}),this._getUserInputtedValues=(()=>{const e=this.refs.editor.getUndoStack(),t=this.refs.editor.getRedoStack();return{csid:this.props.csid,from:this.from,to:this.to,cc:this.cc,bcc:this.bcc,subject:this.subject,html:this.refs.editor.getRawMessageContent(),htmlAnnotations:this.htmlAnnotations,attachmentsInfo:this.attachmentsInfo,rawFiles:this.rawFiles,newContentIds:this.newContentIds,lastEditedTimeStamp:this.lastEditedTimeStamp,uiState:this.uiState,stationeryTheme:this.stationeryTheme||v_.NO_STATIONERY,undoStack:e,redoStack:t}}),this.deleteDraft=(()=>{const{getAdditionalPayloadForDeleteDraft:e}=this.props,t=e(),s=this.getDraftStatus();this.context.executeAction(Rh.b,Object.assign({listId:this.props.listId,csid:this.props.csid,draftStatus:s,permanent:!0,i13nModel:{mKey:zr.e.DELETE_DRAFT,sec:zr.g.COMPOSE_TOOLBAR,interactionType:zr.d.click,mKeyGroup:zr.f.delete}},t))}),this.send=((e={})=>{const{i13nModel:t,captchaAnswer:s,forcedSend:n=!1,includeOriginalAttachments:a=!1}=e,{getSavedAttachment:r,getOriginalAttachments:o,csid:i}=this.props,{locale:c}=this.context.intl,l=o(i),d=this._getUserInputtedValues(),u=this.props.getDraftErrors(d),m=this.attachmentsInfo.map(e=>r(e));if(u){const{name:e,params:t}=u;nE[e]&&this.context.toast({data:t,role:E.sc.STATUS,message:nE[e]})}else if(n||!this.props.shouldShowEmptySubjectAlert(d)){if(n||!this.props.shouldShowIncludeOriginalAttachmentsAlert(d))return m.filter(({filename:e})=>!Object(Gn.l)(e)).length?Object(xh.a)(Ue.a.createElement(Th.a,{title:this.context.intl.formatMessage(jh.a.error_title),message:this.unSupportedAttachmentAlertMessage(),helpLink:Object(E.ie)(c),onAccept:()=>{},onClose:()=>{}}),this.context):void(()=>{this.props.onSend(babelHelpers.extends({includeOriginalAttachments:a,captchaAnswer:s},d,{i13nModel:babelHelpers.extends({mKey:zr.e.SEND,sec:zr.g.COMPOSE_TOOLBAR,mKeyGroup:zr.f.send},t)}))})();Object(xh.a)(Ue.a.createElement(Ch.a,{title:this.context.intl.formatMessage(jh.a.includeOriginalAttachmentsAlert),message:this.context.intl.formatMessage(jh.a.includeOriginalAttachmentsAlertMsg),primaryButtonLabel:jh.a.includeOriginalAttachmentsAlertYes,secondaryButtonLabel:jh.a.includeOriginalAttachmentsAlertNo,onPrimaryButtonClick:()=>{this.attachmentsInfo=l.concat(this.attachmentsInfo),this.onChange(this._getUserInputtedValues()),this.send({forcedSend:!0,includeOriginalAttachments:!0})},onSecondaryButtonClick:()=>this.send({forcedSend:!0,includeOriginalAttachments:!1}),onClose:()=>{},hideIcon:!0,dataTestId:"include-original-attachment"}),this.context)}else Object(xh.a)(Ue.a.createElement(Ch.a,{title:this.context.intl.formatMessage(jh.a.emptySubjectAlert),primaryButtonLabel:jh.a.emptySubjectAlertSend,secondaryButtonLabel:jh.a.emptySubjectAlertCancel,onPrimaryButtonClick:()=>this.send({forcedSend:!0}),onSecondaryButtonClick:()=>this.focusOnSubject(),onClose:()=>this.focusOnSubject(),hideIcon:!0}),this.context)}),this.unSupportedAttachmentAlertMessage=(()=>{const{formatMessage:e,locale:t}=this.context.intl,s=e(jh.a.unsupportedFileType);return Ue.a.createElement("div",null,s,Ue.a.createElement(Hr.a,{kind:Ur.a.CHROMELESS,"data-test-id":"compose_learn_more_btn",onClick:()=>window.open(Object(E.ie)(t),"_blank")},Ue.a.createElement("span",{className:rE.button},Ue.a.createElement(Sr.c,{id:"alert.learn_more_url",defaultMessage:"Learn more"}))))}),this.getThemeConfig=(()=>Object(Qh.b)(this.stationeryTheme,this.props.stationeryDefaultTheme)),this.execEditorCommand=((e,t)=>{switch(e){case v_.ToolbarActions.PLAIN_TEXT:this.stationeryTheme=v_.NO_STATIONERY,this.execEditorCommand(v_.ToolbarActions.UPDATE_STATIONERY,null),this.refs.editor.expandQuote(),this.uiState.useRichText=!1,this.forceUpdate();break;case v_.ToolbarActions.RICH_TEXT:this.uiState.useRichText=!0;break;case v_.ToolbarActions.UPDATE_STATIONERY:this.stationeryTheme=t?t.themeName:v_.NO_STATIONERY}const s=document.activeElement;this.refs.editor.rte.focus(),this.refs.editor.rte.pushButton(e,t),e===v_.ToolbarActions.UPDATE_STATIONERY&&this.refs.editor.rte.focus(),s.focus()}),this.handleToolbarAction=((e,t={})=>{const{data:s,i13nModel:n}=t;switch(n&&this.props.handleToolbarActions({i13nModel:n}),e){case v_.ToolbarActions.FILE_SELECT:this.addFileAttachments(s);break;case v_.ToolbarActions.SEND:this.send();break;case v_.ToolbarActions.DELETE_DRAFT:this.deleteDraft();break;case v_.ToolbarActions.CREATE_LINK:this.execEditorCommand(e,"");break;case v_.ToolbarActions.PLAIN_TEXT:return void this._renderPlainTextWarning();default:this.execEditorCommand(e,s)}}),this._renderPlainTextWarning=(()=>{const{formatMessage:e}=this.context.intl;Object(xh.a)(Ue.a.createElement(Ch.a,{title:e(jh.a.switch_to_plain_text_warning_title),message:e(jh.a.switch_to_plain_text_message),primaryButtonLabel:jh.a.switch_to_plain_text_warning_ok,secondaryButtonLabel:jh.a.switch_to_plain_text_warning_cancel,onPrimaryButtonClick:()=>this._switchToPlainText(),onSecondaryButtonClick:aE,onClose:aE,hideIcon:!0}),this.context)}),this._switchToPlainText=(()=>{this.execEditorCommand(v_.ToolbarActions.PLAIN_TEXT)}),this._handleStationeryDefaultThemeChange=(e=>{this.props.changeSettings({name:E.nd.STATIONERY_DEFAULT_THEME,value:e}),""===e&&(this.stationeryTheme=v_.NO_STATIONERY)}),this.handleClose=(()=>{this.props.onClose&&this.props.onClose({i13nModel:{mKey:zr.e.CANCEL_COMPOSE,sec:zr.g.COMPOSE_CLOSE,interactionType:zr.d.click}})}),this.handleDrop=(e=>{const{ATTACHMENT:t,INLINE:s}=E.u.Dispositions,n={[t]:[],[s]:[]};e.forEach(e=>n[Object(jn.getAttachmentDisposition)(e)].push(e)),n[t].length&&this.addFileAttachments(n[t]),n[s].length&&this.addInlineAttachments(n[s])}),this.addAttachments=((e,t,{disposition:s,i13nModel:n})=>{if(!this.isValidAttachmentsSize(e)){const e=this.context.intl.formatMessage(jh.a.bigAttachment,{maxFileSize:25});return Object(xh.a)(Ue.a.createElement(Th.a,{title:this.context.intl.formatMessage(jh.a.error_title),message:e,onAccept:()=>{},onClose:()=>{}}),this.context)}const a=e.map(s===sE.ATTACHMENT?Gn.b:Gn.a);a.filter(({disposition:e,isFromDataURI:t=!1})=>e===sE.INLINE&&!t).forEach(e=>this.insertInlineAttachment(e)),this.newContentIds=a.map(e=>e.contentId),this.attachmentsInfo=this.attachmentsInfo.concat(a),this.rawFiles=this.newContentIds.reduce((t,s,n)=>babelHelpers.extends({},t,{[s]:e[n]}),this.rawFiles),this.onChange(babelHelpers.extends({},this._getUserInputtedValues(),{files:e,i13nModel:Object.assign({interactionType:zr.d.click},n)}),{type:t,skipContentChanged:"addInlineAttachment"===t})}),this.addInlineAttachments=(e=>{this.uiState.useRichText?this.addAttachments(e,"addInlineAttachment",{disposition:sE.INLINE,i13nModel:{mKey:zr.e.COMPOSE_DRAG_ATTACHMENT,sec:zr.g.COMPOSE_MSG}}):this.addFileAttachments(e)}),this.isValidAttachmentsSize=(e=>{const t=e.concat(this.attachmentsInfo);return this.getAttachmentSize(t)<=26214400}),this.getAttachmentSize=(e=>e.length?e.reduce((e,{size:t=0})=>e+t,0):0),this.moveImageAttachmentInline=(e=>{this.attachmentsInfo=this.attachmentsInfo.map(t=>t.contentId===e.contentId?babelHelpers.extends({},t,{disposition:sE.INLINE}):t),this.insertInlineAttachment(e),this.onChange(this._getUserInputtedValues(),{type:"attachment_to_inline"}),this.forceUpdate()}),this.addFileAttachments=(e=>{this.addAttachments(e,"addAttachment",{disposition:sE.ATTACHMENT,i13nModel:{mKey:zr.e.COMPOSE_ADD_ATTACHMENT,sec:zr.g.COMPOSE_TOOLBAR}}),setTimeout(()=>{const e=Object(je.findDOMNode)(this._attachmentTray);return e&&e.scrollIntoView()},0)}),this.handleAttachmentRemoval=(e=>{this.attachmentsInfo=this.attachmentsInfo.filter(({contentId:t})=>t!==e.contentId),this.onChange(babelHelpers.extends({},this._getUserInputtedValues(),{removedContentIds:[e.contentId]}),{type:"attachment_removed"})}),this.handleInlineAttachmentRemoval=(e=>{this.attachmentsInfo=this.attachmentsInfo.filter(({contentId:t,disposition:s})=>!(t===e&&s===sE.INLINE)),this.onChange(babelHelpers.extends({},this._getUserInputtedValues(),{removedContentIds:[e]}),{type:v_.EDITOR_EVENTS.inline_image_removed})}),this.moveInlineAttachmentToTray=((e,t)=>{this.attachmentsInfo=this.attachmentsInfo.map(e=>e.contentId===t?babelHelpers.extends({},e,{disposition:sE.ATTACHMENT}):e),this.onChange(this._getUserInputtedValues(),{type:"inlined_attachment_to_tray"})}),this.handleAttachmentTray=(e=>{const t=document.createElement("input");t.type="file",t.multiple=!0,t.id="inputFile",t.click(),t.addEventListener("change",t=>{const s=Array.prototype.slice.call(t.target.files);this.handleAttachmentTrayAdd(s,e)})}),this.handleAttachmentTrayAdd=((e,t)=>{this.context.executeAction(Mh,{files:e,csid:t,i13nModel:{mKey:zr.e.COMPOSE_ADD_ATTACHMENT,sec:zr.g.COMPOSE_TOOLBAR,interactionType:zr.d.shortcut}})}),this.getDraftStatus=(()=>{if(this.lastEditedTimeStamp)return this.props.getDraftStatus(this._getUserInputtedValues())}),this.renderEmojiPreloader=(()=>Ue.a.createElement(Qr.a,{bundleName:"lazy_group2",import:"../emoji_picker/emoji_preloader.jsx",recentlyUsedEmoji:this.props.recentlyUsedEmoji,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,931))},_moduleResolver:function(){return 931}})),this.handleCaptchaComplete=(e=>{this.send({captchaAnswer:e})}),this.onMoreMenuClick=(()=>{this.props.onMoreMenuClick({i13nModel:{mKey:zr.e.COMPOSE_OPEN_MORE_MENU,sec:zr.g.RTE_TOOLBAR}})}),this.handleShortcuts=(e=>{e.preventDefault(),e.stopPropagation();const t="Unidentified"===e.key?String.fromCharCode(e.which):e.key,s=e.metaKey||e.ctrlKey;if(s&&e.keyCode===no.a.ENTER)this.send({i13nModel:{interactionType:zr.d.shortcut}});else if(s&&"S"===t.toUpperCase())this.context.executeAction(eo.h,{forceSync:!0,i13nModel:{mKey:zr.e.MANUAL_SAVE_DRAFT,sec:zr.g.COMPOSE_MSG}});else if(e.keyCode===no.a.ESCAPE){if(this.props.autotagEnabled&&this._autotag&&this._autotag.isContactSuggestionVisible())return void this._autotag._closeAutotag();this.props.isQuickReply||this.handleClose()}}),this.focusOnEditor=(()=>{this.refs.editor.rte.focus()}),this.focusOnSubject=(()=>{this.header.focus(v_.FocusableRefs.SUBJECT)}),this.onGifClick=(e=>{const{editor:{rte:t}={}}=this.refs;t&&Dh.a.insertGif(t,this.context.intl.formatMessage,e)}),this.addEmoji=(e=>{const{editor:{rte:t}={}}=this.refs;t&&Dh.a.insertEmoji(t,this.context.intl.formatMessage,e)}),this.insertInlineAttachment=(e=>{const{editor:{rte:t}={}}=this.refs;t&&Dh.a.insertInlineAttachment(t,this.context.intl.formatMessage,e)}),this.getAttachments=(()=>{const{getSavedAttachment:e}=this.props;return this.attachmentsInfo.map(t=>e(t))}),this.addInlineContactSuggestionToCcField=(e=>{let t=v_.FocusableRefs.TO;this.props.isFreshCompose||(this.header.toggleCcBcc(!0),t=v_.FocusableRefs.CC),this.header.handleContactAdd(t,e)})};const lE=({csid:e,selectors:t})=>s=>{if(Object(jn.hasInvalidComposeField)(s))return!1;const{doesComposeSessionExist:n,isReplyOrReplyAll:a,hasNonInlineAttachmentsByMessageId:r,getReplyingToMessageId:o,getMessageFromAddress:i,getMessageToAddress:c,getMessageCcAddress:l}=t;if(!n(e)||!a(e))return!1;const d=o(e),{to:u=[],cc:m=[],attachmentsInfo:p=[]}=s;if(p.some(e=>e.disposition===sE.ATTACHMENT))return!1;if(!r(d))return!1;const _=Object(jn.buildRecipients)([u,m]),h=Object(jn.buildRecipients)([c(d),l(d),i(d)]),E=m_()(_,h);return Boolean(E.length)},dE=({csid:e,selectors:t})=>s=>{const n=Object(jn.hasInvalidComposeField)(s),{subject:a}=s,{isReplyOrReplyAll:r,isForwardMessage:o,doesComposeSessionExist:i}=t;return!n&&(!(!i(e)||r(e)&&!o(e))&&Boolean(!a||!a.trim().length))};var uE=Object(fr.d)(Object(Ir.b)((e,{csid:t,listId:s,accounts:n,initialShowSubject:a=!1,canEditSubject:r=!0,composeMode:o})=>{const i=Object(ro.b)(e),{getRoute:c,getFeaturesSelectors:l,isComposeSaveDue:d,getComposeUiState:u,getComposeFieldToFocus:m,getAttachmentByContentId:p,getDraftErrors:_,getDraftStatus:h,isSendRequested:g,getGroupIdContainingMessageId:b,getComposeSessionsSelectors:I,isReplyOrReplyAll:f,isForwardMessage:S,getDraftMessageId:A,getAttachmentsByMessageId:T,getMainStreamListIds:C,getLinkEnhancerSelectors:O}=i,{isEnabled:R,getSetting:N}=l(),{getInReplyToMessageId:M,getInReplyAllToMessageId:D,getLastSaveTimeStamp:y,isSendFailed:L}=I(),v=a||r,P=R("conversations"),F=R(E.mb.CEP_FORWARD),x=N(E.mb.INLINE_ATTACHMENT),w=R(E.nd.STATIONERY_RESTRICTED_THEMES),k=N(E.nd.LINK_ENHANCER_URL_BLACK_LIST),H=O().getEnhancedLinks(),U=R(E.mb.RTL),j=R(E.mb.EMOJI),G=R(E.mb.PRELOAD_EMOJI),B=R(E.mb.GIF),V=R(E.mb.STATIONERY),W=R(E.mb.RECENTLY_USED_EMOJI),q=y(t);return{cepForward:F,getDraftErrors:_,getContent:Yh({accounts:n,csid:t,listId:s,selectors:i}),shouldShowIncludeOriginalAttachmentsAlert:lE({csid:t,selectors:i}),shouldShowEmptySubjectAlert:dE({csid:t,selectors:i}),showSubject:v,getComposeFieldToFocus:()=>m(t),dragDropPill:R("dragDropPill"),conversations:P,isSaveDue:d,isSendFailed:L,isSendRequested:g,isQuotedTextExpanded:Boolean(!!u(t)&&u(t).isQuotedTextExpanded),getDraftStatus:e=>h(e),inlineAttachment:x,stationeryRestrictedThemes:w,linkEnhancerUrlBlacklist:k,enhancedLinks:H,rtl:U,getSavedAttachment:e=>{const{contentId:t}=e,s=p(t);return s?babelHelpers.extends({},e,s,{disposition:e.disposition}):e},emoji:j,preloadEmoji:G,gif:B,stationery:V,recentlyUsedEmoji:W,showStationeryCue:R(E.mb.STATIONERY_CUE),showEmojiCue:R(E.mb.EMOJI_CUE),autotagEnabled:R(E.mb.AUTOTAG),stationeryDefaultTheme:N(E.nd.STATIONERY_DEFAULT_THEME),listenKeys:["ctrl+s","command+s","ctrl+enter","command+enter","escape"],getAdditionalPayloadForDeleteDraft:()=>{const e=A(t),n=e?b(e):void 0;return{streamId:Object(s_.a)(C(c())),messageGroupIds:n?[n]:[],streamItem:{id:n,listId:s,messageIds:e?[e]:[]},messageIds:e?[e]:[]}},isFreshCompose:!(f(t)||S(t)),composeMode:o,getOriginalAttachments:e=>{const t=M(e)||D(e);return t?T(t):[]},lastSavedTime:q}}),Object(Ir.b)(void 0,(e,{isSaveDue:t,isSendRequested:s})=>({onMoreMenuClick:t=>e(Object(Nh.m)(t)),handleToolbarActions:t=>e(Object(Nh.d)(t)),onChange:s=>t(s)&&e(Object(Nh.h)(s)),onSend:t=>!s(t.csid)&&e(Object(Nh.k)(t)),onExpandQuotedText:t=>e(Object(Nh.c)(t)),linkEnhancerFetch:t=>e(Oh.a(t)),onLinkEnhancerlinkRemoved:t=>e(Oh.h(t)),onLinkEnhancerlinkMoveToInline:t=>e(Oh.f(t)),onLinkEnhancerlinkAdded:t=>e(Oh.d(t)),onLinkEnhancerlinkResized:t=>e(Oh.i(t)),onLinkEnhancerlinkMoveToBottom:t=>e(Oh.e(t)),addRecipient:t=>e(Nh.a(t)),dragDropContact:t=>e(Nh.b(t)),changeSettings:t=>e(Object(Qp.a)(t))})))(iE),mE=s(596),pE=s.n(mE),_E=s(206),hE=s(112);const EE=Wr()(pE.a);function gE(e){const{previewMessage:t,listId:s,messageId:n}=e;t({listId:s,messageIds:[n]})}function bE(e){const{listId:t,messageId:s}=e;return Ue.a.createElement("div",{"data-test-id":"compose",className:EE.errorContainer},s?function(){return Ue.a.createElement(_E.a,{expanded:!0,expandable:!1})}():null,t&&s?function(e){return Ue.a.createElement("span",{className:EE.errorWrapper},Ue.a.createElement(Tr.b,{kind:Cr.b.EXCLAMATION_ALT,size:Cr.d.S,colorState:Cr.a.COOL_FAINT}),Ue.a.createElement("span",{"data-test-id":"compose-app-error",className:EE.errorMessage},Ue.a.createElement(Sr.c,{id:"compose.draft_error_message_retry",defaultMessage:"We couldn't load this draft. {retry}",values:{retry:Ue.a.createElement("a",{className:EE.emptyBodyRetry,onClick:gE.bind(null,e),"data-test-id":"body-error-retry"},Ue.a.createElement(Sr.c,{id:"compose.retry_message",defaultMessage:"Retry!"}))}})))}(e):function(){return Ue.a.createElement("span",{className:EE.errorWrapper},Ue.a.createElement(Tr.b,{kind:Cr.b.EXCLAMATION_ALT,size:Cr.d.S,colorState:Cr.a.COOL_FAINT}),Ue.a.createElement("span",{"data-test-id":"compose-app-error",className:EE.errorMessage},Ue.a.createElement(Sr.c,{id:"compose.draft_error_message_noretry",defaultMessage:"We couldn't load this draft."})))}())}var IE=Object(Ir.b)(void 0,e=>({previewMessage:t=>e(Object(hE.g)(t))}))(bE),fE=s(598),SE=s.n(fE);const AE=E.J.Modes,TE=Wr()(SE.a);function CE(e){const{csid:t,composeDataState:s,composeMode:n,onClose:a}=e;return-1!==[E.Rc.LOADING,E.Rc.DOES_NOT_EXIST].indexOf(s)?Ue.a.createElement("div",{className:TE.loadingContainer},Ue.a.createElement(Nc.b,null)):s===E.Rc.ERROR?Ue.a.createElement(IE,e):Ue.a.createElement(uE,babelHelpers.extends({key:`${t}-${n}`},e,{csid:t,composeMode:n,onSendSuccess:a}))}var OE=Object(Ir.b)((e,t)=>{const{doesComposeSessionExist:s,getDraftMessageId:n,getReplyingToMessageId:a,isSecureMessage:r,doesMessageFullBodyExist:o,doesMessageBodyHasError:i,isReplyMessage:c,isReplyAllMessage:l,isForwardMessage:d,getRoute:u,getCurrentListId:m,getFeaturesSelectors:p,getEnvironmentSelectors:_,getTimeZoneName:h,getSelectedAccountId:g,getSendAccountsByAccountId:b,hasMultipleRootAccounts:I,getLastEditedTimestampForCompose:f}=Object(ro.b)(e),{name:S,params:A}=u();let T=void 0,C=E.Rc.DOES_NOT_EXIST,O=AE.NEW;if(-1!==[E.Uc.NEW_DRAFT,E.Uc.EDIT_DRAFT].indexOf(S)&&(T=A.csid),!(T=T||t.csid)||!s(T))return{csid:T,composeDataState:T?E.Rc.DOES_NOT_EXIST:E.Rc.ERROR,composeMode:O};const R=p(),N=_(),M=g(),D=b(M);C=E.Rc.LOADED;const y=n(T)||a(T);return y&&!f(T)&&(o(y)&&!r(y)||(C=E.Rc.LOADING),i(y)&&(C=E.Rc.ERROR)),c(T)&&(O=AE.REPLY),l(T)&&(O=AE.REPLY_ALL),d(T)&&(O=AE.FORWARD),{csid:T,listId:m(),composeDataState:C,composeMode:O,accountId:M,accounts:D,showFrom:I()||D.length>1,dateFormattingOption:{timezone:h(),offset:0},isXobnified:N.getIsXobnified(),saveInterval:R.getSetting(E.nd.COMPOSE_SAVE_INTERVAL),richTextMode:R.isEnabled("rteFormattingToolbar"),linkEnhancer:R.isEnabled(E.nd.LINK_ENHANCR),composeFontFamily:R.getSetting(E.nd.COMPOSE_FONT_FAMILY),composeFontSize:R.getSetting(E.nd.COMPOSE_FONT_SIZE)}},e=>({onClose:t=>e(Object(Dr.c)(t))}))(CE),RE=s(599),NE=s.n(RE);const ME=Wr()(NE.a);function DE({children:e}){return Ue.a.createElement("div",{className:ME.compose,"data-test-id":"compose-styler"},e)}var yE=()=>Ue.a.createElement(DE,null,Ue.a.createElement(OE,{initialShowSubject:!0})),LE=s(360),vE=s.n(LE),PE=s(142),FE=s(261);const xE=Object(Sr.h)({message_is_read:{id:"message_is_read",defaultMessage:"This message is read"},message_is_not_read:{id:"message_is_not_read",defaultMessage:"This message is not read"},mark_as_read:{id:"mark_as_read",defaultMessage:"Mark as read"},mark_as_unread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},message_is_starred:{id:"message_is_starred",defaultMessage:"This message is starred"},message_is_not_starred:{id:"message_is_not_starred",defaultMessage:"This message is not starred"},mark_as_starred:{id:"mark_as_starred",defaultMessage:"Star"},mark_as_unstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},go_to_people_view:{id:"message_group_header.title.go_to_people_view",defaultMessage:"Navigate to people view"}}),wE=Wr()(vE.a);class kE extends Ue.a.Component{constructor(e){super(e),this.handleStarClick=(e=>{e.stopPropagation(),this.props.onToggleGroupStar(e)}),this.handleReadClick=(e=>{e.stopPropagation(),this.props.onToggleGroupRead(e)}),this.burstOnClick=((e,t)=>{this.handleStarClick(e),!t&&this.props.starAnimation.timeout>0?(this.setState({shouldBurst:!0}),this.timeout=setTimeout(()=>{this.setState({shouldBurst:!1})},this.props.starAnimation.timeout)):this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout))}),this._navigateToPeopleView=(()=>{this.props.navigateToPeopleView({updatedSettingAttributes:[{name:E.nd.SYSTEM_TABS,value:[E.Y[E.zd.PEOPLE]+":1"]}],accountId:this.props.accountId})}),this.burstURL=Object(Zc.a)(e.starAnimation.lightGifURL),Object(f.d)(this.burstURL),this.state={shouldBurst:!1,flagged:e.flagged}}componentWillReceiveProps(e){const t=this.state;this.state.flagged!==e.flagged&&this.setState({flagged:!this.state.flagged}),!t.flagged&&e.flagged&&this.props.starAnimation.timeout>0&&(this.setState({shouldBurst:!0}),setTimeout(()=>{this.setState({shouldBurst:!1})},e.starAnimation.timeout))}render(){const{subject:e,messageCount:t,isRead:s,flagged:n,compactGroupHeader:a,folderName:r,folderType:o,getAccountLabel:i,starredMailEnhanced:c,fromPeopleView:l}=this.props,{formatMessage:d}=this.context.intl,u=Wr()(vE.a,{compactGroupHeader:a,starredMailEnhanced:c}),m=Object(bt.m)(d,o)||r,p=i(this.context),_=(p?p+"/":"")+m,h=c?Cr.a.INHERITED:Cr.a.FAINT;return Ue.a.createElement(rl.a,{axis:rl.b.HORIZONTAL,groupTabIndex:Pr.TabIndices.MESSAGE_GROUP_HEADER},Ue.a.createElement("header",{"data-test-id":"message-group-header",className:wE.groupHeader},Ue.a.createElement("div",{className:wE.readUnread},Ue.a.createElement(Ar.a,{"data-test-id":"icon-btn-read",title:d(xE[s?"mark_as_unread":"mark_as_read"]),"aria-label":d(xE[s?"message_is_read":"message_is_not_read"]),"aria-pressed":!s,kind:Cr.b.CIRCLE,size:Cr.d.XS,colorState:s?Cr.a.FAINT:Cr.a.SELECTED,paddingLess:!0,onClick:this.handleReadClick,"data-iskeynav":!0})),Ue.a.createElement("div",{className:wE.subjectRow},Ue.a.createElement("span",{"data-test-id":"message-group-subject",className:wE.subject,title:e||""},e?Ue.a.createElement("span",{"data-test-id":"message-group-subject-text"},Object(PE.d)(e)):Ue.a.createElement("span",null,Ue.a.createElement("span",null,"("),Ue.a.createElement("span",{className:wE.noSubject},Ue.a.createElement(Sr.c,{id:"message.no_subject",defaultMessage:"No Subject"})),Ue.a.createElement("span",null,")")),t>1?Ue.a.createElement("span",{"data-test-id":"message-group-count",className:wE.messageCount},t):null)),Ue.a.createElement("div",{className:wE.endSideButtonGroup},Ue.a.createElement("div",{className:u.messageGroupDestinationRow},l?Ue.a.createElement(Hr.a,{onClick:this._navigateToPeopleView,title:d(xE.go_to_people_view),kind:Ur.a.PILL,"data-test-id":"btn-people"},Ue.a.createElement(Sr.c,{id:"message_group_header.button.people",defaultMessage:"People"})):Ue.a.createElement("span",{className:wE.messageGroupDestinationContainer,title:_,"data-test-id":"message-group-destination"},p?Ue.a.createElement("span",{className:wE.messageGroupDestinationAccount},p):null,p?Ue.a.createElement("span",null,"/"):null,r?Ue.a.createElement("span",{className:wE.messageGroupDestinationFolder},m):null)),Ue.a.createElement("div",{className:u.star,title:d(xE[n?"mark_as_unstarred":"mark_as_starred"]),"data-test-id":"icon-btn-star","aria-label":d(xE[n?"message_is_starred":"message_is_not_starred"]),"aria-pressed":n},this.state.shouldBurst?Ue.a.createElement("img",{src:this.burstURL,style:{height:"24px",width:"24px"}}):Ue.a.createElement(Ar.a,{kind:Cr.b.STAR,size:c?Cr.d.S:Cr.d.XS,colorState:n?Cr.a.STARRED:h,paddingLess:!0,onClick:c?e=>{this.burstOnClick(e,n)}:this.handleStarClick,"data-iskeynav":!0})))))}}kE.contextTypes={intl:Sr.i.isRequired,executeAction:Ve.a.func},kE.defaultProps={compactGroupHeader:!1,getAccountLabel:()=>{},fromPeopleView:!1};const HE=(e,t)=>s=>{const{formatMessage:n}=s.intl,a={[E.hb.YAHOO]:n(oo.a.yahoo_account_description),[E.hb.YAHOO_SB]:n(oo.a.yahoo_account_description),[E.hb.OUTLOOK]:n(oo.a.outlook_account_description),[E.hb.AOL]:n(oo.a.aol_account_description),[E.hb.GOOGLE]:n(oo.a.gmail_account_description),[E.hb.GOOGLE_APP]:n(oo.a.gmail_account_description)};return e=e||a[t]};var UE=Object(Ir.b)((e,t)=>{const s=Object(ro.b)(e),{getFoldersSelectors:n,getAccountSelectors:a,getRelevantMessageIdFromMessageGroupId:r,getMessageIdsFromMessageGroupId:o,getFeaturesSelectors:i,isPeopleMessage:c,getMessageFolderId:l}=s,{getFolderTypes:d,getAccountIdByFolderId:u}=n(),{getAccountDescriptionByAccountId:m,getProviderFromAccount:p}=a(),{listId:_,messageGroup:h}=t,g=Object(s_.a)([_]),b=h.id,I=r(b,_),f=o(b).length,S=l(I),A=d(S)[0],T=u(S),C=p(T),O=m(T),{subject:R,isRead:N,isStarred:M,folderName:D}=Object(FE.b)(e,{streamId:g,groupId:b,listId:_,relevantMessageId:I}),y=i(),L=y.isEnabled(E.mb.STARRED_MAIL_ENHANCED),v=y.getSetting(E.nd.STAR_ANIMATION);return{subject:R,isRead:N,flagged:M,messageCount:f,folderName:D,folderType:A,getAccountLabel:HE(O,C),starredMailEnhanced:L,starAnimation:v,accountId:T,fromPeopleView:c(b,_)}},e=>({navigateToPeopleView:t=>{e(Object(Dr.h)(t))}}))(kE),jE=s(600),GE=s.n(jE);const BE=Wr()(GE.a),VE=()=>{};class WE extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(e=>{e.preventDefault(),e.stopPropagation(),this.props.onReplyAll(e)}),this.handleButtonGroupClick=(e=>{const t=e.target.getAttribute("data-kind");e.preventDefault(),e.stopPropagation(),"text"!==t&&("reply"===t?this.props.onReply(e):"forward"===t?this.props.onForward(e):this.props.onReplyAll(e))}),t}render(){const{stationeryRestrictedThemes:e,rtl:t,emoji:s,gif:n,stationery:a}=this.props;return Ue.a.createElement("div",{className:BE.container,"data-test-id":"quick-reply",onClick:this.handleClick},Ue.a.createElement("div",{"data-test-id":"quick-reply-button-group",className:BE.buttonGroup,onClick:this.handleButtonGroupClick},Ue.a.createElement(jr.a,{kind:ol.a.TOOLBAR,tabIndex:0},Ue.a.createElement(Sr.b,{id:"reply_replyall_forward",defaultMessage:'<li class="{listItemClass}"><button tabIndex="-1" data-kind="reply" class="{buttonClass}">Reply</button></li><li class="{listItemClass}" data-kind="text">, </li><li class="{listItemClass}"><button tabIndex="-1" data-kind="replyAll" class="{buttonClass}">Reply All</button></li><li class="{listItemClass}" data-kind="text"> or </li><li class="{listItemClass}"><button tabIndex="-1" data-kind="forward" class="{buttonClass}">Forward</button></li>',values:{buttonClass:BE.button,listItemClass:BE.listItem}}))),Ue.a.createElement(Sh.a,{formatState:{},onExecuteAction:VE,focusOnEditor:VE,disabled:!0,stationeryEnabled:a,gifFinderEnabled:n,emojiEnabled:s,stationeryRestrictedThemes:e,rtl:t}))}}WE.contextTypes={config:Ve.a.object,intl:Sr.i.isRequired,executeAction:Ve.a.func.isRequired};var qE=WE,zE=s(265),ZE=s(205),KE=s.n(ZE);const YE=Wr()(KE.a),XE=1e3;var $E=class extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={takesLong:!1},t}componentDidMount(){this.timeout=setTimeout(function(){this.setState({takesLong:!0})}.bind(this),XE)}componentWillUnmount(){clearTimeout(this.timeout)}render(){return Ue.a.createElement("div",{className:YE.loadingContainer},this.state.takesLong&&Ue.a.createElement(Nc.b,null))}};const QE=Wr()(KE.a);function JE({onRetry:e,disableRetry:t}){return Ue.a.createElement("div",{"data-test-id":"message-view-error",className:QE.emptyBody},Ue.a.createElement(Tr.b,{kind:Cr.b.EXCLAMATION_ALT,size:Cr.d.S,colorState:Cr.a.COOL_FAINT}),Ue.a.createElement("span",{className:QE.emptyBodyMessage},Ue.a.createElement(Sr.c,{id:"message.error_message",defaultMessage:"We couldn't load this message. {retry}",values:{retry:t?Ue.a.createElement(Sr.c,{id:"message.retry_later_message",defaultMessage:"Please try again later."}):Ue.a.createElement("a",{className:QE.emptyBodyRetry,onClick:e,"data-test-id":"body-error-retry"},Ue.a.createElement(Sr.c,{id:"message.retry_message",defaultMessage:"Retry"}))}})))}var eg=s(146),tg=s(456),sg=s.n(tg);const ng=Wr()(sg.a),ag=Object(Sr.h)({more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class rg extends Ue.a.Component{render(){const{formatMessage:e}=this.context.intl;return Ue.a.createElement(xr.a,{className:ng.popoverContainer},Ue.a.createElement(wr.a,null,Ue.a.createElement(Ar.a,{kind:Cr.b.MORE,size:Cr.d.XS,title:e(ag.more_menu_label),"aria-label":e(ag.more_menu_label),colorState:Cr.a.INHERITED,paddingLess:!0,"data-test-id":"more-card-trigger"})),Ue.a.createElement(Fr.b,{triggerOn:kr.h.CLICK,onMouseEnter:this.props.onMoreMenuEnter,onMouseLeave:this.props.onMoreMenuLeave,permittedArrowDirections:[kr.g.DOWN],align:kr.a.START,offset:16,"data-test-id":"more-card-menu"},Ue.a.createElement(Qr.a,babelHelpers.extends({import:"./more_menu_items.jsx"},this.props,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,937))},_moduleResolver:function(){return 937}}),Ue.a.createElement(Qr.b,{loading:!0},Ue.a.createElement(Nc.b,null)))))}}rg.contextTypes={executeAction:Ve.a.func,intl:Sr.i.isRequired};var og=rg,ig=s(601),cg=s.n(ig);const lg=Wr()(cg.a),dg=Object(Sr.h)({message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class ug extends Ue.a.Component{render(){const{intl:e}=this.context,{formatMessage:t}=e,{onReply:s,onReplyAll:n,onForward:a,onArchive:r,onDelete:o,onPrint:i,onRawMessage:c,forwardEnabled:l,replyEnabled:d,replyAllEnabled:u}=this.props;return Ue.a.createElement("div",{className:lg.wrapper,"data-test-id":"card-toolbar"},Ue.a.createElement(eg.a,null),Ue.a.createElement("div",{className:lg.container},Ue.a.createElement(jr.a,{kind:ol.a.TOOLBAR,tabIndex:0},Ue.a.createElement($c.a,{kind:Qc.a.TOOLBAR_ITEM},Ue.a.createElement("span",{className:lg.toolbarItem+" "+lg.rtlRawScaleX},Ue.a.createElement(Ar.a,{"data-test-id":"card-toolbar-button-reply",kind:Cr.b.REPLY,size:Cr.d.XS,title:t(dg.message_reply),"aria-label":t(dg.message_reply),colorState:Cr.a.INHERITED,onClick:s,disabled:!d,paddingLess:!0}))),Ue.a.createElement($c.a,{kind:Qc.a.TOOLBAR_ITEM},Ue.a.createElement("span",{className:lg.toolbarItem+" "+lg.rtlRawScaleX},Ue.a.createElement(Ar.a,{"data-test-id":"card-toolbar-button-reply-all",kind:Cr.b.REPLY_ALL,size:Cr.d.XS,title:t(dg.message_reply_all),"aria-label":t(dg.message_reply_all),colorState:Cr.a.INHERITED,onClick:n,disabled:!u,paddingLess:!0}))),Ue.a.createElement($c.a,{kind:Qc.a.TOOLBAR_ITEM},Ue.a.createElement("span",{className:lg.toolbarItem+" "+lg.rtlRawScaleX},Ue.a.createElement(Ar.a,{"data-test-id":"card-toolbar-button-forward",kind:Cr.b.FORWARD,size:Cr.d.XS,title:t(dg.message_forward),"aria-label":t(dg.message_forward),colorState:Cr.a.INHERITED,onClick:a,disabled:!l,paddingLess:!0}))),Ue.a.createElement($c.a,{kind:Qc.a.TOOLBAR_ITEM},Ue.a.createElement("span",{className:lg.moreMenuItem},Ue.a.createElement(og,{"data-iskeynav":!0,onArchive:r,onDelete:o,onRawMessage:c,onPrint:i,onMoreMenuEnter:this.props.onMoreMenuEnter,onMoreMenuLeave:this.props.onMoreMenuLeave})))),Ue.a.createElement(eg.a,null),Ue.a.createElement("hr",{className:lg.bottomLine})),Ue.a.createElement(eg.a,null))}}ug.contextTypes={intl:Sr.i.isRequired},ug.defaultProps={replyEnabled:!0,replyAllEnabled:!0,forwardEnabled:!0};var mg=ug,pg=s(285),_g=s.n(pg),hg=s(41),Eg=s(602),gg=s.n(Eg);let bg;function Ig(e,{id:t,renderToTheSide:s,appendNode:n,referenceNode:a={},clearTooltipOn:r={}},o){bg&&Ge.a.unmountComponentAtNode(bg),bg=document.createElement("div"),n.appendChild(bg);const i=function(e,t){class s extends Ue.a.Component{constructor(e){super(e),this.state={reStyle:{}}}componentWillUnmount(){const{clearTooltipOn:{scroll:e,click:t,keydown:s}}=this.props;e&&e.removeEventListener("scroll",this.clear),t&&t.removeEventListener("click",this.clear),s&&s.removeEventListener("keydown",this.clear),this.clear()}clear(){clearTimeout(this.timeout),t&&(Ge.a.unmountComponentAtNode(t),t=null)}componentDidMount(){this.timeout=setTimeout(()=>{this.clear()},3e3),this.reStyle();const{clearTooltipOn:{scroll:e,click:t,keydown:s}}=this.props;e&&e.addEventListener("scroll",this.clear),t&&t.addEventListener("click",this.clear),s&&s.addEventListener("keydown",this.clear)}reStyle(){if(this.tooltipChildRef&&this.tooltipChildRef.getBoundingClientRect){const{height:e}=this.tooltipChildRef.getBoundingClientRect(),{style:t={}}=this.props;"number"==typeof t.top&&e>26&&this.setState({reStyle:{top:t.top-10*(Math.ceil(e/26)-1)}})}}render(){const{reStyle:t}=this.state,{style:s,renderToTheSide:n}=this.props,a=Wr()(gg.a,{left:n===E.Ud.LEFT,right:n===E.Ud.RIGHT}),r=Object.assign({},s,t),o=Ue.a.cloneElement(e,{childRef:(e=>this.tooltipChildRef=e).bind(this)});return Ue.a.createElement("div",{className:a.tooltip,title:"",style:r},o)}}return s.contextTypes={intl:Sr.i.isRequired},s}(e,bg);let c={};const{parent:l,child:d,positionCalculator:u,expanded:m}=a;u&&(c=u(l,d,o.config.rtl,m)),Ge.a.render(Ue.a.createElement(Sr.f,window.AppIntl,Ue.a.createElement(i,{key:t,renderToTheSide:s,style:c,context:o,clearTooltipOn:r})),bg)}class fg extends Ue.a.Component{render(){return Ue.a.createElement("div",{ref:this.props.childRef},Ue.a.createElement(Sr.c,{id:"mark_as_read_shortcut_changed",defaultMessage:'Shortcut to "Mark as Read" has changed to SHIFT+K'}))}}fg.contextTypes={intl:Sr.i.isRequired};var Sg=fg;class Ag extends Ue.a.Component{render(){return Ue.a.createElement("div",{ref:this.props.childRef},Ue.a.createElement(Sr.c,{id:"mark_as_unstar_shortcut_changed",defaultMessage:"Shortcut to unstar has changed to SHIFT+L"}))}}Ag.contextTypes={intl:Sr.i.isRequired};var Tg=Ag;const Cg=e=>{e.stopPropagation(),e.preventDefault()},Og=zr.g.MSG_BODY;class Rg extends Ue.a.Component{constructor(e){super(e),this.handleBlur=(()=>{this.canTakeFocus=!0}),this.focus=(()=>{!this.canTakeFocus&&this.refs.content&&this.props.active&&this.refs.content.focus()}),this.handleSelectAll=(()=>{const e=document.getSelection(),t=document.createRange();t.selectNodeContents(this.refs.content),e.removeAllRanges(),e.addRange(t)}),this.handleRead=(e=>{const{message:t}=this.props;void 0!==e.keyCode&&t.flags.read||this.handleToggleRead(e)}),this.handleUnread=(e=>{const{message:t}=this.props;void 0===e.keyCode||t.flags.read?this.handleToggleRead(e):this.showCoachTooltip({selectedCard:[t],interaction:hg.i})}),this.handleToggleRead=(e=>{Cg(e),this.props.onToggleRead({i13nModel:{interactionType:Object(Ps.i)(e)}})}),this.handleReply=(e=>{const{messageGroupId:t,message:s}=this.props,n={mKey:zr.e.MSG_REPLY,sec:Og,mKeyGroup:zr.f.reply,interactionType:Object(Ps.i)(e)};Cg(e),this.context.executeAction(Lo.s,{messageGroupId:t,message:s,i13nModel:n})}),this.handleReplyAll=(e=>{const{messageGroupId:t,message:s}=this.props,n={mKey:zr.e.MSG_REPLY_ALL,sec:Og,mKeyGroup:zr.f.replyAll,interactionType:Object(Ps.i)(e)};Cg(e),this.context.executeAction(Lo.t,{messageGroupId:t,message:s,i13nModel:n})}),this.handleForward=(e=>{const{messageGroupId:t,message:s}=this.props,n={mKey:zr.e.MSG_FORWARD,sec:Og,mKeyGroup:zr.f.forward,interactionType:Object(Ps.i)(e)};Cg(e),this.context.executeAction(Lo.e,{messageGroupId:t,message:s,i13nModel:n})}),this.handleArchive=(e=>{const{messageGroupId:t,message:s,listId:n,navigateOnMessageAction:a}=this.props;Cg(e),a(),this.context.executeAction(Lo.b,{messageIds:[s.id],messageGroupIds:[t],listId:n,streamId:Object(s_.a)([n]),streamItem:{id:t,listId:n,messageIds:[s.id]}})}),this.handleShareCard=((e,t)=>{this.context.navigateTo({route:Object(ao.e)(Object(Ps.f)()),initialSubject:e,initialBody:t})}),this.handleShareCardLinkClick=((e,t)=>{const{message:s}=this.props;this.props.onLinkEnhancerlinkShare({i13nModel:{mKey:zr.e.LINK_ENHANCER_SHARE_LINK,sec:zr.g.MSG_BODY,actionData:{mHref:t,msgId:s.id,sharedBy:e.currentTarget.innerText}}})}),this.isPermanentDelete=(e=>e.indexOf(E.ub.BULK)>-1||e.indexOf(E.ub.TRASH)>-1||e.indexOf(E.ub.DRAFT)>-1),this.handleDelete=(e=>{const{messageGroupId:t,message:s,listId:n,navigateOnMessageAction:a}=this.props;Cg(e),a(),this.context.executeAction(Lo.d,{messageIds:[s.id],messageGroupIds:[t],listId:n,streamId:Object(s_.a)([n]),streamItem:{id:t,listId:n,messageIds:[s.id]},permanent:this.isPermanentDelete(s.folder.types),isAsync:!1})}),this.handlePrint=(e=>{const t={mKey:zr.e.MSG_HDR_PRINT,sec:Og,interactionType:Object(Ps.i)(e)};Cg(e);const{messageGroupId:s,message:n}=this.props;this.context.executeAction(Lo.r,{messageGroupId:s,message:n,i13nModel:t})}),this.handleRawMessage=(e=>{const{message:t}=this.props;Cg(e),this.context.executeAction(Lo.q,{messageId:t.id})}),this.handleToggleExpand=(()=>{this.props.onToggleExpand()}),this.showCoachTooltip=(({selectedCard:e=[],interaction:t=""})=>{if(!e.length)return;const{expanded:s}=this.props,n=e[0].id;let a,r,o,i;switch(t){case hg.i:r=this.readIconContainer,a=Ue.a.createElement(Sg,null),i=E.Ud.RIGHT,o=((e,t,s=!1,n=!0)=>{if(!e||!t)return{};const{left:a,top:r,right:o}=e.getBoundingClientRect(),{right:i,top:c,left:l}=t.getBoundingClientRect();return{left:s?"auto":i-a-2,top:c-r+(n?-4:1),right:s?o-l-2:"auto"}});break;case hg.b:r=this.starIconContainer,a=Ue.a.createElement(Tg,null),i=E.Ud.LEFT,o=((e,t,s=!1,n=!1)=>{if(!e||!t)return{};const{left:a,top:r,right:o}=e.getBoundingClientRect(),{right:i,top:c,left:l}=t.getBoundingClientRect();return{right:s?"auto":o-i+4,top:c-r+(n?-4:1),left:s?l-a+4:"auto"}})}r&&Ig(a,{id:n,renderToTheSide:i,appendNode:r,referenceNode:{parent:this.refs.content,child:r,positionCalculator:o,expanded:s},clearTooltipOn:{click:this.refs.content,keydown:this.refs.content}},this.context)}),this.handleStar=(e=>{const{message:t}=this.props;void 0!==e.keyCode&&t.flags.flagged?this.showCoachTooltip({selectedCard:[t],interaction:hg.b}):this.handleToggleStar(e)}),this.handleUnstar=(e=>{const{message:t}=this.props;(void 0===e.keyCode||t.flags.flagged)&&this.handleToggleStar(e)}),this.handleToggleStar=(e=>{Cg(e),this.props.onToggleStar({i13nModel:{interactionType:Object(Ps.i)(e)}})}),this.handleClick=(()=>{this.props.onClick()}),this.handleKeyDown=(e=>{if((e.metaKey||e.ctrlKey)&&"A"===String.fromCharCode(e.which))return Cg(e),this.handleSelectAll();if(e.ctrlKey||e.metaKey||e.altKey)return;if("Enter"===e.key&&(Cg(e),this.props.expandable))return this.handleToggleExpand();const t=String.fromCharCode(e.which);switch(t){case"K":if(!e.shiftKey)return this.handleUnread(e);this.handleRead(e);break;case"L":if(!e.shiftKey)return this.handleStar(e);this.handleUnstar(e)}if(!e.shiftKey&&this.props.bodyState===E.Rc.LOADED)switch(t){case"R":this.handleReply(e);break;case"A":this.handleReplyAll(e);break;case"F":this.handleForward(e);break;case"P":this.handlePrint(e)}}),this.handleHrefLinkClick=(e=>{const{message:t}=this.props,s=e.getAttribute("href");let n=e.innerText;for(let t=0;t<e.childElementCount;t++)if("IMG"===e.children[t].tagName){n=e.children[t].alt;break}if(e.hasAttribute("class")&&-1!==e.getAttribute("class").indexOf("yahoo-enhancr-cardlink")){const n=e.parentNode&&e.parentNode.hasAttribute("data-size")?e.parentNode.getAttribute("data-size").toUpperCase():"";this.props.onLinkEnhancerlinkOpen({i13nModel:{mKey:zr.e.LINK_ENHANCER_OPEN_LINK,sec:zr.g.MSG_BODY,actionData:{mHref:s,msgId:t.id,size:n}}})}else this.context.executeAction(Lo.c,{hrefLink:s,message:t,i13nModel:{mKey:zr.e.OPEN_LINK,sec:zr.g.MSG_BODY,actionData:{altText:n}}})}),this.handleToolbarOnMouseEnter=(()=>{this.setState({showToolbar:!0})}),this.handleToolbarOnMouseLeave=(()=>{this.setState({showToolbar:!1})}),this.handleMoreMenuEnter=(()=>{this.props.active||this.setState({showToolbar:!0})}),this.handleMoreMenuLeave=(()=>{this.props.active||this.setState({showToolbar:!1})}),this.handleChangeImageSetting=(()=>{this.props.changeSettings({name:E.nd.SHOW_IMAGES,value:E.ud.ALWAYS,i13nModel:{name:zr.e.SHOW_IMG_ALWAYS,sec:zr.g.MSG_BODY}})}),this.handleReloadMessage=((e,{full:t,secure:s}={})=>{const{previewMessage:n,listId:a}=this.props;n({listId:a,full:t,secure:s,messageIds:[e]})}),this.canTakeFocus=e.canTakeFocus,this.state={showToolbar:!1}}componentDidMount(){this.focus()}componentDidUpdate(){this.focus()}render(){const{listId:e,messageGroupId:t,message:s,bodyState:n,retryCount:a,renderAttachmentTray:r,expandable:o,expanded:i,active:c,idx:l,totalMessages:d,conversations:u}=this.props,m=c||this.state.showToolbar,p=Wr()(_g.a,{active:c}),_=a>E.Pb,h=!u;let g=null;if(i)switch(n){case E.Rc.DOES_NOT_EXIST:g=Ue.a.createElement($E,null);break;case E.Rc.ERROR:g=Ue.a.createElement(JE,{onRetry:this.handleReloadMessage.bind(this,s.id),disableRetry:_});break;case E.Rc.LOADED:g=Ue.a.createElement("div",{"data-test-id":"message-body-container",onMouseEnter:this.handleToolbarOnMouseEnter,onMouseLeave:this.handleToolbarOnMouseLeave},Ue.a.createElement(zE.a,{headers:s.headers,messageId:s.id,folderId:s.folder.id,renderAttachments:r,onMailtoClick:this.props.onMailtoClick,onHrefLinkClick:this.handleHrefLinkClick,onChangeImageSetting:this.handleChangeImageSetting,onShareCard:this.handleShareCard,onShareCardLinkClick:this.handleShareCardLinkClick,onShowQuotedText:this.handleReloadMessage.bind(this,s.id),onShowImages:this.handleReloadMessage.bind(this,s.id),removeCollapseButton:h,quoteExpanded:h,attachments:s.attachments,folder:s.folder,csid:s.csid}),Ue.a.createElement("div",{className:p.toolbarHoverArea,"data-test-id":"toolbar-hover-area"},m?Ue.a.createElement(mg,{onReply:this.handleReply,onReplyAll:this.handleReplyAll,onForward:this.handleForward,onArchive:this.handleArchive,onDelete:this.handleDelete,onRawMessage:this.handleRawMessage,onPrint:e=>this.handlePrint(e,"toolbar"),onMoreMenuEnter:this.handleMoreMenuEnter,onMoreMenuLeave:this.handleMoreMenuLeave}):null));break;default:g=Ue.a.createElement($E,null)}return Ue.a.createElement("div",{ref:"content","data-test-id":"message-view","data-test-expanded":i,className:p.messageCardContainer+" message-view","data-iskeynav":!0,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onClick:this.handleClick,tabIndex:-1},Ue.a.createElement(_E.a,{listId:e,groupId:t,conversations:u,message:s,expanded:i,idx:l,totalMessages:d,onToggleStar:this.handleToggleStar,onToggleRead:this.handleToggleRead,onToggleExpand:this.handleToggleExpand,expandable:o,onPrint:this.handlePrint,onAttachmentClick:this.props.scrollToAttachmentTray,starRef:e=>this.starIconContainer=e,readRef:e=>this.readIconContainer=e}),g)}}Rg.defaultProps={active:!1,canTakeFocus:!1},Rg.contextTypes={config:Ve.a.object,executeAction:Ve.a.func.isRequired,navigateTo:Ve.a.func,intl:Sr.i.isRequired};var Ng=Object(Ir.b)(null,e=>({previewMessage:t=>e(Object(hE.g)(t)),onLinkEnhancerlinkOpen:t=>e(Oh.g(t)),onLinkEnhancerlinkShare:t=>e(Oh.j(t)),changeSettings:t=>e(Object(Qp.a)(t))}))(Rg);const Mg=()=>{};var Dg=Object(Ir.b)((e,{csid:t})=>{const{getDraftCardMessage:s}=Object(ro.b)(e);return s(t)})(e=>{const{idx:t,csid:s,listId:n,active:a,message:r,conversations:o,totalMessages:i,messageGroupId:c,renderAttachmentTray:l}=e,d=Wr()(_g.a,{active:a}),u=!o;return Ue.a.createElement("div",{"data-iskeynav":!0,tabIndex:-1,"data-test-id":"message-view","data-test-expanded":!0,className:d.messageCardContainer+" message-view"},Ue.a.createElement(_E.a,{idx:t,expanded:!0,expandable:!0,onPrint:Mg,listId:n,message:r,onToggleStar:Mg,onToggleRead:Mg,onToggleExpand:Mg,viglinkClicked:Mg,onAttachmentClick:Mg,groupId:c,conversations:o,totalMessages:i}),Ue.a.createElement("div",{"data-test-id":"message-body-container"},Ue.a.createElement(zE.a,{csid:s,messageId:r.id,folderId:r.folder.id,headers:r.headers,attachments:r.attachments,quoteExpanded:u,renderAttachments:l.bind(null,r),removeCollapseButton:u}),Ue.a.createElement("div",{className:d.toolbarHoverArea,"data-test-id":"toolbar-hover-area"})))});const yg=20,Lg=160,vg=24,Pg=16,Fg=12;class xg extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={engaged:!1},this.update=(()=>{this._isSetup&&this._handleScroll()}),this._shouldEnableSmartScroll=(()=>document.documentElement.scrollWidth<=window.innerWidth),this._handleWindowResize=(()=>{this._shouldEnableSmartScroll()?(this._isSetup||this._setup(),this.update()):this._teardown()}),this._handleContentChanged=(({caret:e})=>{this._isSetup&&e&&this._scrollTargetIntoView(e.y)}),this._scrollTargetIntoView=(e=>{if(!this._isMounted())return;const t=this._containerNode.getBoundingClientRect(),s=this._targetNode.getBoundingClientRect(),n=this._headerNode.getBoundingClientRect(),a=e+Pg+n.height,r=s.top-t.top+a,o=!this.state.engaged&&s.bottom+yg>t.bottom;r<0||r>=(this.state.engaged?t.height-v_.TOOLBAR_HEIGHT:t.height)?this.scrollTimer=setTimeout(()=>{this._containerNode.scrollTop=this._targetNode.offsetTop+a-Math.round(t.height/2)},2):o&&(this._containerNode.scrollTop+=s.bottom-t.bottom+yg)}),this._alignTargetInContainer=(()=>{if(!this._isMounted())return;const e=this._targetNode.getBoundingClientRect(),t=this._containerNode.getBoundingClientRect();this._containerNode.scrollTop=e.height<t.height?this._targetNode.offsetTop-(t.height-e.height-yg):this._targetNode.offsetTop-Fg}),this._handleScroll=(()=>{if(!this._isMounted())return;const e=this._containerNode.getBoundingClientRect(),t=this._targetNode.getBoundingClientRect(),s=this._headerNode.getBoundingClientRect(),n=Math.max(s.height+vg,Lg);t.bottom>e.top&&t.top+n<e.bottom&&t.bottom>e.bottom?this._engage(t.width-v_.HORIZONTAL_PADDING):this._disengage()}),this._setup=(()=>{this._compose&&(this._containerNode=Object(je.findDOMNode)(this.props.scrollContainer),this._targetNode=Object(je.findDOMNode)(this)),this._containerNode&&this._targetNode&&this._headerNode&&(this._isSetup=!0,this.update(),this._containerNode.addEventListener("scroll",this._handleScroll))}),this._teardown=(()=>{clearTimeout(this.scrollTimer),this._containerNode&&this._containerNode.removeEventListener("scroll",this._handleScroll),this._disengage(),this._isSetup=!1}),this._engage=(()=>{this.state.engaged||this.setState({engaged:!0})}),this._disengage=(()=>{this.state.engaged&&this.setState({engaged:!1})}),t}_isMounted(){return this._containerNode&&this._targetNode&&this._headerNode}componentDidMount(){this._handleContentChanged=Fh()(this._handleContentChanged,10),this._shouldEnableSmartScroll()&&this._setup(),this._isSetup&&this._alignTargetInContainer()}componentDidUpdate(){!this._isSetup&&this._shouldEnableSmartScroll()&&this._setup()}componentWillUnmount(){this._teardown()}render(){return Ue.a.createElement(OE,babelHelpers.extends({},this.props,{refToComposeContainer:e=>{this._compose=e},refToComposeHeader:e=>{this._headerNode=Object(je.findDOMNode)(e)},onContentChanged:this._handleContentChanged,toolbarFixed:this.state.engaged,onResize:this._handleWindowResize}))}}xg.contextTypes={config:Ve.a.object.isRequired};var wg=xg,kg=s(286),Hg=s(132),Ug=s.n(Hg),jg=s(224),Gg=s.n(jg);var Bg=s(84),Vg=s(55),Wg=s(156),qg=s(604),zg=s.n(qg);const Zg=Object(Sr.h)({select_messages:{id:"selection_controls.menu",defaultMessage:"Select messages"},select_all:{id:"selection_controls.select_all_messages",defaultMessage:"Select all messages"},deselect_all:{id:"selection_controls.deselect_all_messages",defaultMessage:"Deselect all messages"}});class Kg extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.handleCheckboxClicked=(e=>{const{onSelectNone:t,onSelectAll:s,selectionCount:n}=this.props;e.preventDefault(),e.stopPropagation(),n>0?t(e,!0):s(e,!0)}),t}render(){const e=this.context.getCss(zg.a),t=this.context.getThemeMode()===Is.f.DARK,{formatMessage:s,formatNumber:n}=this.context.intl,{allItemsSelected:a,previewpane:r,selectionCount:o=0}=this.props;let i=Wg.a.NONE;return o>0&&a?i=Wg.a.ALL:o>0&&(i=Wg.a.PARTIAL),Ue.a.createElement("div",{className:e.container},Ue.a.createElement("ul",{className:e.list},Ue.a.createElement($c.a,{kind:Qc.a.MESSAGE_SELECTION_CHECKBOX},Ue.a.createElement("span",{className:e.checkboxWrapper},Ue.a.createElement(Wg.b,{type:i,highContrast:!0,isInverted:t,onClick:this.handleCheckboxClicked,"aria-label":s(o>0?Zg.deselect_all:Zg.select_all),isOnDarkBackground:t,"data-iskeynav":!0,paddingLess:!0}))),Ue.a.createElement($c.a,{kind:Qc.a.MESSAGE_SELECTION_CHEVRON},Ue.a.createElement(xr.a,null,Ue.a.createElement(wr.a,null,Ue.a.createElement("span",{className:e.chevronWrapper},Ue.a.createElement(Ar.a,{kind:Cr.b.CHEVRON_UP,size:Cr.d.XS,rotate:Cr.c.D180,title:s(Zg.select_messages),"aria-label":s(Zg.select_messages),colorState:Cr.a.INHERITED,isOnDarkBackground:t,"data-iskeynav":!0,"data-test-id":"selection-controls-menu-button",paddingLess:!0}))),Ue.a.createElement(Fr.b,{permittedArrowDirections:[kr.g.UP,kr.g.DOWN],triggerOn:kr.h.CLICK,offset:4*Pr.GRID_UNIT,align:kr.a.START,zAltitude:Pr.ZIndices.POPOVER.HIGH,onShow:this.props.onMenuShow},Ue.a.createElement("div",{className:e.popoverListWrapper},Ue.a.createElement(jr.a,{focusOnMount:!0,"data-test-id":"selection-controls-menu"},Ue.a.createElement($c.a,{name:"select-all"},Ue.a.createElement(Hr.a,{onClick:this.props.onSelectAll,kind:Ur.a.MENUITEM},Ue.a.createElement(Sr.c,{id:"select_all",defaultMessage:"All"}))),Ue.a.createElement($c.a,{name:"select-none"},Ue.a.createElement(Hr.a,{onClick:this.props.onSelectNone,kind:Ur.a.MENUITEM},Ue.a.createElement(Sr.c,{id:"select_none",defaultMessage:"None"}))),Ue.a.createElement($c.a,{name:"select-read"},Ue.a.createElement(Hr.a,{onClick:this.props.onSelectRead,kind:Ur.a.MENUITEM},Ue.a.createElement(Sr.c,{id:"select_read",defaultMessage:"Read"}))),Ue.a.createElement($c.a,{name:"select-unread"},Ue.a.createElement(Hr.a,{onClick:this.props.onSelectUnread,kind:Ur.a.MENUITEM},Ue.a.createElement(Sr.c,{id:"select_unread",defaultMessage:"Unread"}))),Ue.a.createElement($c.a,{name:"select-starred"},Ue.a.createElement(Hr.a,{onClick:this.props.onSelectStarred,kind:Ur.a.MENUITEM},Ue.a.createElement(Sr.c,{id:"select_starred",defaultMessage:"Starred"}))),Ue.a.createElement($c.a,{name:"select-unstarred"},Ue.a.createElement(Hr.a,{onClick:this.props.onSelectUnstarred,kind:Ur.a.MENUITEM},Ue.a.createElement(Sr.c,{id:"select_unstarred",defaultMessage:"Unstarred"})))))))),Ue.a.createElement($c.a,null,Ue.a.createElement("div",null,r===E.Gc.NO&&o>0?n(o):""))))}}Kg.contextTypes={intl:Sr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func},Kg.defaultProps={onMenuShow:()=>{}};var Yg=Kg;const Xg=Object(Sr.h)({restore_msgs:{id:"restore_from_archive",defaultMessage:"Restore selected {conversations, select,\n            true {conversations}\n            false {messages}\n        } to Inbox"},archive_msgs:{id:"archive_msgs",defaultMessage:"Archive the selected {conversations, select,\n            true {conversations}\n            false {messages}\n        }"}});class $g extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this._renderLabel=(()=>{const{restore:e}=this.props;return Ue.a.createElement(Sr.c,e?{id:"archive_button.restore_label",defaultMessage:"Restore to Inbox"}:{id:"archive_button.archive_label",defaultMessage:"Archive"})}),t}render(){const{formatMessage:e}=this.context.intl,{restore:t,disabled:s,onClick:n,showLabel:a,isCompact:r,size:o,conversations:i}=this.props,c=e(t?Xg.restore_msgs:Xg.archive_msgs,{conversations:i}),l=this.context.getThemeMode()===Is.f.DARK;return Ue.a.createElement(Ar.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${t?"archive-restore":"archive"}`,"aria-label":c,title:c,kind:t?Cr.b.RESTORE_TO_INBOX:Cr.b.ARCHIVE,disabled:s,onClick:n,size:o,colorState:Cr.a.INHERITED,isOnDarkBackground:l,isCompact:r},a&&this._renderLabel())}}$g.contextTypes={intl:Sr.i.isRequired,getThemeMode:Ve.a.func},$g.defaultProps={size:Cr.d.XS,showLabel:!0,onClick:function(){},conversations:!1};var Qg=$g,Jg=s(457);const eb=Object(Sr.h)({mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as SPAM"},mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as Not SPAM"}});class tb extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this._renderLabel=(()=>{const{markAsSpam:e}=this.props;return Ue.a.createElement(Sr.c,e?{id:"spam_icon_label",defaultMessage:"Spam"}:{id:"not_spam_icon_label",defaultMessage:"Not Spam"})}),t}render(){const{formatMessage:e}=this.context.intl,{disabled:t,markAsSpam:s,onClick:n,showLabel:a,isCompact:r,size:o}=this.props,i=e(s?eb.mark_msgs_as_spam:eb.mark_msgs_as_not_spam),c=s?"spam":"not-spam",l=this.context.getThemeMode()===Is.f.DARK;return Ue.a.createElement(Ar.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${c}`,"aria-label":i,title:i,kind:Cr.b.SPAM,disabled:t,onClick:n,size:o,colorState:Cr.a.INHERITED,isOnDarkBackground:l,isCompact:r},a&&this._renderLabel())}}tb.defaultProps={size:Cr.d.XS,showLabel:!0,onClick:function(){}},tb.contextTypes={intl:Sr.i.isRequired,getThemeMode:Ve.a.func};var sb=tb,nb=s(605),ab=s.n(nb);const rb=Wr()(ab.a),ob=Object(Sr.h)({multikey_shortcut:{id:"multikey_shortcut",defaultMessage:"{primaryShortcutKey} then {secondaryShortcutKey}"},all_mail_title:{id:"folder_menu.all_mail_title",defaultMessage:"All mail"},search_placeholder:{id:"folder_menu.search",defaultMessage:"Find a folder"},no_result_label:{id:"folder_menu.empty_search_result",defaultMessage:"No folders found"}});class ib extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={filterString:"",isFilterActive:!1},this._getListStyle=(e=>{let t=4*Pr.GRID_UNIT,s=2*Pr.GRID_UNIT*(e+2)+Pr.GRID_UNIT;return this.props.isRTL&&(t=2*Pr.GRID_UNIT*(e+2)+Pr.GRID_UNIT,s=4*Pr.GRID_UNIT),{paddingLeft:`${s}px`,paddingRight:`${t}px`,width:`${62.5*Pr.GRID_UNIT}px`}}),this._handleMenuHide=(()=>{this.setState({filterString:""},()=>{this.props.onMenuHide()})}),this._handleMenuShow=(()=>{setTimeout(()=>this.props.isFilterFocused?this._focusFirstMenuItem():this._focusContainer(),0),this.props.onMenuShow()}),this._focusFirstMenuItem=(()=>{if(!this.listContainer)return!1;const e=this.listContainer.querySelector("[data-iskeynav]");return e&&e.focus()}),this._focusContainer=(()=>this.listContainer&&this.listContainer.focus()),this.getShortcutsMap=((e,t)=>{const s=[];return t.forEach(e=>{e.shortcut>=0&&!e.disabled&&(s[e.shortcut]=e.id)}),e.forEach(e=>{e.shortcut>=0&&!e.disabled&&(s[e.shortcut]=e.id)}),s}),this.handleClick=((e,t)=>{this.props.onClick(e,t),this._handleMenuHide()}),this.handleKeyDown=((e,t)=>{if(t.target!==this.listContainer)return;if(t.key===E.Bb.ARROW_DOWN||t.shiftKey&&"d"===t.key.toLowerCase())return t.preventDefault(),this._focusFirstMenuItem();const s=e[t.keyCode-48]||e[t.keyCode-96];s&&this.handleClick(s,t)}),this.renderMenuItems=(e=>{const t=[],{hasShortcuts:s,primaryShortcutKey:n,archiveShortcutKey:a}=this.props,{formatMessage:r}=this.context.intl;return e.forEach(({id:e,name:o,type:i,level:c,disabled:l,shortcut:d})=>{let u;s&&(d>=0?u=Ue.a.createElement(Sr.c,babelHelpers.extends({},ob.multikey_shortcut,{values:{primaryShortcutKey:n,secondaryShortcutKey:""+d}})):i===E.ub.ARCHIVE&&(u=a)),t.push(Ue.a.createElement($c.a,{key:e,"data-test-id":"item-move-to-folder-id-"+e},Ue.a.createElement(Hr.a,{kind:Ur.a.MENUITEM,onClick:this.handleClick.bind(this,e),style:this._getListStyle(c),disabled:l,title:Object(bt.m)(r,i)||o,"data-iskeynav":!0},Ue.a.createElement("span",{className:rb.fullLabel},Ue.a.createElement("span",{className:rb.itemLabel},Ue.a.createElement(Xo.a,{folderId:e})),u?Ue.a.createElement("span",{className:rb.shortcut},u):null))))}),t}),this.renderSearchInput=(()=>{const{hasShortcuts:e}=this.props,t=e?"Shift+D":null,{filterString:s,isFilterActive:n}=this.state,{formatMessage:a}=this.context.intl,r=t&&!n&&""===s,o=Object.assign({},this._getListStyle(0),{paddingLeft:`${4*Pr.GRID_UNIT-2}px`},r?{}:{paddingRight:`${Pr.GRID_UNIT}px`});return Ue.a.createElement($c.a,{key:"folder-search","data-test-id":"item-move-to-folder-id-search"},Ue.a.createElement("div",{className:rb.inputContainer,style:o,onClick:e=>e.stopPropagation()},Ue.a.createElement(Tr.b,{kind:Cr.b.SEARCH_MINI,size:Cr.d.XS,colorState:Cr.a.DISABLED}),Ue.a.createElement(mm.a,{ref:e=>this.input=e,className:rb.inputField,type:"text",id:"folder-menu-search-input","data-test-id":"folder-menu-search-input",value:s,onClear:()=>this.setState({filterString:""}),onChange:e=>this.setState({filterString:e.target.value}),onFocus:()=>this.setState({isFilterActive:!0}),onBlur:()=>this.setState({isFilterActive:!1}),isClearable:!0,placeholder:a(ob.search_placeholder),"data-iskeynav":!0}),r?Ue.a.createElement("span",{className:rb.shortcut},t):null))}),this.renderEmptyResult=(()=>{const{formatMessage:e}=this.context.intl;return Ue.a.createElement($c.a,null,Ue.a.createElement("div",{className:rb.noResultContainer,style:this._getListStyle(0)},e(ob.no_result_label)))}),this.renderAllMailItem=(()=>{const{formatMessage:e}=this.context.intl,t=e(ob.all_mail_title);return Ue.a.createElement($c.a,{key:E.o.ALL_MAIL,"data-test-id":"all-mail"},Ue.a.createElement(Hr.a,{kind:Ur.a.MENUITEM,onClick:this.handleClick.bind(this,""),style:this._getListStyle(0)},Ue.a.createElement("span",{className:rb.fullLabel},Ue.a.createElement("span",{className:rb.itemLabel},Ue.a.createElement(nm.a,{name:t})))))}),this.renderPopoverContent=(e=>{const{zAltitude:t,hasShortcuts:s,excludeAllMailItem:n,folders:a}=this.props,{filterString:r=""}=this.state,{customFolders:o,systemFolders:i}=a,c=o.filter(({name:e})=>-1!==e.toLowerCase().indexOf(r.toLowerCase())),l=i.filter(({name:e})=>-1!==e.toLowerCase().indexOf(r.toLowerCase())),d=this.getShortcutsMap(c,l),u=c.length+l.length;return Ue.a.createElement(Fr.b,{triggerOn:e,permittedArrowDirections:[kr.g.UP],zAltitude:t,onHide:this._handleMenuHide,onShow:this._handleMenuShow},Ue.a.createElement("div",{className:rb.clippedContainer},Ue.a.createElement("div",{"data-test-id":"folder-menu",className:rb.popoverContent,onKeyDown:s?this.handleKeyDown.bind(this,d):()=>{},tabIndex:Pr.TabIndices.FOLDER_SELECTION_MENU,role:"menu",ref:e=>this.listContainer=e},Ue.a.createElement(rl.a,{groupTabIndex:Pr.TabIndices.FOLDER_SELECTION_MENU,skipKeydownOnFormElement:!1},Ue.a.createElement("ul",{className:rb.systemGroup},this.renderSearchInput()),0===u&&Ue.a.createElement("ul",{className:rb.lastGroup},this.renderEmptyResult()),c.length>0&&Ue.a.createElement("ul",{className:Ug()(rb.customGroup,{[rb.lastGroup]:!(l.length>0),[rb.systemGroup]:l.length>0})},this.renderMenuItems(c)),l.length>0&&Ue.a.createElement("ul",{className:rb.lastGroup},!n&&this.renderAllMailItem(),this.renderMenuItems(l))))))}),this.renderAnchorButton=(()=>{const{label:e,title:t,disabled:s,onMenuToggle:n}=this.props,a=this.context.getThemeMode()===Is.f.DARK;return Ue.a.createElement("span",null,Ue.a.createElement(Ar.a,{"data-test-id":"folder-menu-button","data-iskeynav":!0,title:t,tabIndex:this.props.tabIndex,disabled:s,onClick:n,kind:this.props.fujiIconKind,size:Cr.d.XS,colorState:Cr.a.INHERITED,className:rb.anchorButton,isOnDarkBackground:a},e))}),this.renderPopoverContainer=(e=>Ue.a.createElement(xr.a,{className:rb.popoverContainer},Ue.a.createElement(wr.a,null,this.renderAnchorButton()),this.renderPopoverContent(e))),t}render(){const{isMenuActive:e,onMenuToggle:t}=this.props;return t?e?this.renderPopoverContainer(kr.h.MOUNT):this.renderAnchorButton():this.renderPopoverContainer(kr.h.CLICK)}}ib.contextTypes={intl:Sr.i.isRequired,getThemeMode:Ve.a.func},ib.defaultProps={excludeAllMailItem:!0,fujiIconKind:Cr.b.MOVE_TO_FOLDER,zAltitude:Pr.ZIndices.POPOVER.HIGH,onMenuShow:()=>{},onMenuHide:()=>{},isFilterFocused:!1};var cb=Object(Ir.b)(e=>{const{getFoldersForMoveMenu:t,getEnvironmentSelectors:s}=Object(ro.b)(e);return{isRTL:"rtl"===s().getPageDirection(),folders:t()}})(ib),lb=s(458),db=s.n(lb);const ub=Wr()(db.a),mb=Object(Sr.h)({more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class pb extends Ue.a.Component{render(){const{formatMessage:e}=this.context.intl,{disabled:t}=this.props,n=this.context.getThemeMode()===Is.f.DARK;return Ue.a.createElement(xr.a,{className:ub.popoverContainer},Ue.a.createElement(wr.a,null,Ue.a.createElement(Ar.a,{"data-iskeynav":!0,"aria-label":e(mb.more_menu_label),title:e(mb.more_menu_label),"data-test-id":"more-menu-button",disabled:t,kind:Cr.b.MORE,size:Cr.d.XS,colorState:Cr.a.INHERITED,isOnDarkBackground:n})),Ue.a.createElement(Fr.b,{triggerOn:kr.h.CLICK,permittedArrowDirections:[kr.g.UP],zAltitude:Pr.ZIndices.POPOVER.HIGH,onShow:this.props.onMenuShow},Ue.a.createElement("div",{style:{display:"block",minWidth:"200px"}},Ue.a.createElement(Qr.a,babelHelpers.extends({import:"./more_menu_items.jsx"},this.props,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,967))},_moduleResolver:function(){return 967}}),Ue.a.createElement(Qr.b,{loading:!0},Ue.a.createElement(Nc.b,null))))))}}pb.contextTypes={executeAction:Ve.a.func,intl:Sr.i.isRequired,config:Ve.a.object,getThemeMode:Ve.a.func},pb.defaultProps={onMenuShow:()=>{}};var _b=pb,hb=s(378),Eb=s.n(hb),gb=s(459);const bb=[E.Cd.DATE_DESC,E.Cd.DATE_ASC],Ib=[E.Cd.DATE_DESC,E.Cd.DATE_ASC,E.Cd.ATTACHMENT,E.Cd.RELEVANCE],fb=[E.Cd.DATE_DESC,E.Cd.DATE_ASC,E.Cd.UNREAD,E.Cd.STARRED,E.Cd.SENDER,E.Cd.SUBJECT,E.Cd.ATTACHMENT],Sb=[E.Cd.DATE_DESC,E.Cd.DATE_ASC,E.Cd.UNREAD,E.Cd.STARRED,E.Cd.RECIPIENT,E.Cd.SUBJECT,E.Cd.ATTACHMENT];var Ab=s(607),Tb=s.n(Ab),Cb=s(167),Ob=s(107);const Rb=Object(Sr.h)({heading:{id:"photos_label",defaultMessage:"Photos"},all:{id:"photos_header.all",defaultMessage:"All"},all_selected:{id:"photos_header.all_selected",defaultMessage:"All, selected"},emails:{id:"photos_header.emails",defaultMessage:"Emails"},emails_selected:{id:"photos_header.emails_selected",defaultMessage:"Emails, selected"},mobile:{id:"photos.mobile",defaultMessage:"Mobile"},mobile_selected:{id:"photos.mobile_selected",defaultMessage:"Mobile, selected"}});class Nb extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.handleTabChange=((e,{mKeyType:t,smartViewType:s})=>{const n=zr.e["FILTER_"+t],a=Object(ao.v)(s,{accountIds:Object(io.g)(this.props.listId)});this.context.navigateTo({route:a,i13nModel:{mKey:n,sec:zr.g.PHOTO_LIST,interactionType:Object(Ps.i)(e)}})}),this.render=(()=>{const e=Object(io.r)(this.props.listId),t=e===E.Gb.ALL_PHOTOS,s=e===E.Gb.EMAIL_PHOTOS,n=e===E.Gb.MOBILE_PHOTOS,{formatMessage:a}=this.context.intl,r=this.context.getCss(Tb.a);return Ue.a.createElement(rl.a,{axis:rl.b.HORIZONTAL,circularNavigation:!0,className:r.container,"data-test-id":"photos-header",groupTabIndex:Pr.TabIndices.MESSAGE_LIST_TOOLBAR,role:"header"},Ue.a.createElement(Cb.a,null,Ue.a.createElement(Ob.a,{isSelected:t,title:a(Rb.all),onClick:e=>this.handleTabChange(e,{mKeyType:E.zd.PHOTOS,smartViewType:E.zd.PHOTOS}),"data-test-id":"btn-all-tab"}),Ue.a.createElement(Ob.a,{isSelected:s,"aria-label":s?a(Rb.emails_selected):null,title:a(Rb.emails),onClick:e=>this.handleTabChange(e,{mKeyType:E.Gb.EMAIL_PHOTOS,smartViewType:E.zd.PHOTOS_EMAIL}),"data-test-id":"btn-emails-tab"}),Ue.a.createElement(Ob.a,{isSelected:n,"aria-label":n?a(Rb.mobile_selected):null,title:a(Rb.mobile),onClick:e=>this.handleTabChange(e,{mKeyType:E.Gb.MOBILE_PHOTOS,smartViewType:E.zd.PHOTOS_MOBILE}),"data-test-id":"btn-mobile-tab"})))}),t}}Nb.contextTypes={getCss:Ve.a.func,intl:Sr.i.isRequired,navigateTo:Ve.a.func};var Mb=Nb;const Db=zr.g.MSG_LIST_BULK_ACTION,yb=zr.g.MSG_READ_TOOLBAR,Lb="d",vb="e",Pb=[...hd.d,Lb,vb,"del","backspace",`shift+${vb}`,`shift+${Lb}`,"left","right","esc"],Fb=e=>{e.stopPropagation(),e.preventDefault()};Object(S.e)(E.Cd);class xb extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={showDeleteConfirm:!1,showMoveConfirm:null,moveMenuActive:!1,moveMenuFilterFocused:!1,showMsgReadDeleteEarnyCue:!1},this.getClassNames=(()=>{const{showLabels:e,showActionLabels:t,isHamEnabled:s,isSpamEnabled:n,isArchiveEnabled:a,isRestoreEnabled:r,isMoveEnabled:o,isDeleteEnabled:i,isPermDeleteEnabled:c,isPreviousEnabled:l,isNextEnabled:d,enableGroupActions:u,enableTriageActions:m,hasPrevNext:p}=this.props,_=this.isListVerticalPreviewMode(),h=this.isFullMessageViewMode();return this.context.getCss(Eb.a,{hamSpamDisabled:!s&&!n&&m,archiveRestoreDisabled:!a&&!r&&m,moveDisabled:!o&&m,deletePermDisabled:!i&&!c&&m,groupActionsActive:u,triageActionsActive:m,showTriageActionsLabels:e&&t,verticalSortView:this.isVerticalSortView(),verticalSelectionControlView:this.isverticalSelectionControlView(),selectionControlDisabled:this.disableSelectionControl(),previousDisabled:!l,nextDisabled:!d,fullMessageView:h,listWithVerticalPreview:_,listWithNonVerticalPreview:!_&&!h,closeWrapperMargin:!p&&h})}),this.getItemSpaceBasedOnPreviewPaneOffset=(()=>{const{previewPaneOffset:e}=this.props;let t={};return this.isListVerticalPreviewMode()&&(t={flexBasis:`${e/2}%`}),t}),this.onPreviousItem=(()=>{const{listId:e,activeGroupId:t,isConversationMode:s}=this.props,{getPreviousListItemId:n,__patchV2MessageGroupItemId__:a}=Object(ro.b)(this.context.store.getState()),r=n(e,t);if(!r)return;const o=Object(ao.p)({item:a(r,e),listId:e,isConversationMode:s});this.context.navigateTo({route:o})}),this.onNextItem=(()=>{const{listId:e,activeGroupId:t,isConversationMode:s}=this.props,{getNextListItemId:n,__patchV2MessageGroupItemId__:a}=Object(ro.b)(this.context.store.getState()),r=n(e,t);if(!r)return;const o=Object(ao.p)({item:a(r,e),listId:e,isConversationMode:s});this.context.navigateTo({route:o})}),this.handleShortcuts=(e=>{const{canRestoreToInbox:t,isArchiveEnabled:s,isRestoreEnabled:n,hasPrevNext:a}=this.props;let r=!1;switch(String.fromCharCode(e.which).toLowerCase()){case Lb:r=!0,this.handleMoveMenuShow(e.shiftKey);break;case vb:if(s&&e.shiftKey&&!n){r=!1;break}(s||e.shiftKey&&n&&t)&&(r=!0,this.handleArchive(e));break;case"r":this.enableSingleGroupActions()&&(r=!0,this.handleSingleGroupAction("reply",zr.d.shortcut));break;case"a":this.enableSingleGroupActions()&&(r=!0,this.handleSingleGroupAction("replyAll",zr.d.shortcut));break;case"f":this.enableSingleGroupActions()&&(r=!0,this.handleSingleGroupAction("forward",zr.d.shortcut));break;default:e.keyCode===no.a.BACKSPACE||e.keyCode===no.a.DELETE?(r=!0,this.handleDelete(e)):this.props.hasAttachmentPreview||(e.keyCode===no.a.ESCAPE?(r=!0,this.handleClose(e)):e.keyCode===no.a.LEFT&&a&&this.props.isPreviousEnabled?(r=!0,this.onPreviousItem(e)):e.keyCode===no.a.RIGHT&&a&&this.props.isNextEnabled&&(r=!0,this.onNextItem(e)))}r&&Fb(e)}),this.isListVerticalPreviewMode=(()=>this.props.kind===km.LIST_WITH_PREVIEW_RIGHT),this.isFullMessageViewMode=(()=>this.props.kind===km.MESSAGE_VIEW),this.isVerticalSortView=(()=>this.props.kind===km.LIST_WITH_PREVIEW_RIGHT),this.isverticalSelectionControlView=(()=>this.props.kind===km.LIST_WITH_PREVIEW_RIGHT),this.enableSingleGroupActions=(()=>{const{kind:e}=this.props;return wm.HAS_SINGLE_GROUP_ACTIONS[e]&&this.props.isRafEnabled}),this.disableSelectionControl=(()=>{const e=Object(io.q)(this.props.listId);return e===E.Fb.IMAGES||e===E.Fb.DOCUMENTS}),this.getActionCreators=(()=>this.props.shouldDoSelectAll?zm[this.props.kind]:Zm[this.props.kind]),this.getActionableGroupIds=(()=>{const{activeGroupId:e,streamId:t}=this.props;if(e)return[e];const{doesStreamExist:s,getSelectedStreamItems:n}=Object(ro.b)(this.context.store.getState());return(s(t)?n(t):[]).map(({id:e})=>e)}),this.isPermDelete=(()=>!this.props.isDeleteEnabled&&this.props.isPermDeleteEnabled),this.isSpam=(()=>!!this.props.isSpamEnabled||!this.props.isHamEnabled),this.isRestore=(()=>!this.props.isArchiveEnabled&&this.props.isRestoreEnabled),this.onToolbarMenuShow=(e=>{const t={MoveMenu:{mKey:zr.e.TOOLBAR_MOVE_MENU,sec:Db},MoreMenu:{mKey:zr.e.TOOLBAR_MORE_MENU,sec:Db},SelectionMenu:{mKey:zr.e.TOOLBAR_BULK_CONTEXT_MENU,sec:Db},SortMenu:{mKey:zr.e.TOOLBAR_SORT_MENU,sec:zr.g.MSG_LIST_SORT}};if(!t[e])return;const{mKey:s,sec:n}=t[e];this.context.executeAction(this.getActionCreators().toolbarMenuShown,{i13nModel:{mKey:s,sec:n}})}),this.handleSelection=((e,t,s)=>{const n={[`${E.ld.ALL}-checkbox`]:zr.e.TOOLBAR_SELECTALL_MSG,[`${E.ld.NONE}-checkbox`]:zr.e.TOOLBAR_SELECT_NONE,[E.ld.ALL]:zr.e.TOOLBAR_BULK_CONTEXT_ALL,[E.ld.NONE]:zr.e.TOOLBAR_BULK_CONTEXT_NONE,[E.ld.READ]:zr.e.TOOLBAR_BULK_CONTEXT_READ,[E.ld.UNREAD]:zr.e.TOOLBAR_BULK_CONTEXT_UNREAD,[E.ld.STARRED]:zr.e.TOOLBAR_BULK_CONTEXT_STARRED,[E.ld.UNSTARRED]:zr.e.TOOLBAR_BULK_CONTEXT_UNSTARRED},a=s?`${e}-checkbox`:`${e}`,r=this.getActionCreators(),{listId:o,route:i,streamId:c}=this.props,{getMainStreamItems:l}=Object(ro.b)(this.context.store.getState()),d=l(i);this.context.executeAction(r[e],{listId:o,i13nModel:{mKey:n[a],sec:Db,interactionType:Object(Ps.i)(t)},streamId:c,streamItems:d,selectionType:e})}),this.handleSingleGroupAction=((e,t=zr.d.click)=>{const{listId:s,activeGroupId:n}=this.props;if(n){const a={mKey:zr.e[`TOOLBAR_${e.toUpperCase()}`],sec:yb,mKeyGroup:zr.f[e],interactionType:t};this.context.executeAction(this.getActionCreators()[e],{listId:s,messageGroupId:n,i13nModel:a})}}),this.handleArchive=(e=>{e.preventDefault(),this.props.navigateOnMessageAction();const t=this.getActionCreators(),s=this.getActionableGroupIds(),n={mKey:this.isRestore()?zr.e.TOOLBAR_RESTORE:zr.e.TOOLBAR_ARCHIVE,sec:Db,mKeyGroup:zr.f.archive,interactionType:Object(Ps.i)(e)},{conversations:a}=this.props;let r;if(r=this.isRestore()?{confirmTitle:Vg.a.confirm_restore_title,confirmMessages:Vg.a.confirm_restore_messages,handleConfirm:this.handleArchive,hideConfirm:this.hideConfirm}:{confirmTitle:Vg.a.confirm_archive_title,confirmMessages:Vg.a.confirm_archive_messages,handleConfirm:this.handleArchive,hideConfirm:this.hideConfirm},!this.props.shouldDoSelectAll||this.state.confirmTitle){if(s.length){const{listId:e,allItemsCount:r,streamId:o}=this.props,i=1===s.length?{id:s[0],listId:e}:void 0;this.context.executeAction(this.isRestore()?t.restore:t.archive,babelHelpers.extends({listId:e,streamId:o,streamItem:i,messageGroupIds:s},r&&{allItemsCount:r},{conversations:a,i13nModel:n}))}this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1}),this.hideConfirm()}else this.setState(r)}),this.handleMove=((e,t)=>{t.preventDefault(),this.props.navigateOnMessageAction();const{listId:s,allItemsCount:n,conversations:a,streamId:r}=this.props;if(this.props.shouldDoSelectAll&&!this.state.showMoveConfirm)return void this.setState({showMoveConfirm:e});const o=this.getActionableGroupIds(),i=1===o.length?{id:o[0],listId:s}:void 0;this.context.executeAction(this.getActionCreators().move,babelHelpers.extends({destinationFolderId:e,listId:s,messageGroupIds:o},n&&{allItemsCount:n},{conversations:a,streamId:r,streamItem:i,i13nModel:{mKey:zr.e.TOOLBAR_MOVE,sec:Db,mKeyGroup:zr.f.move,interactionType:Object(Ps.i)(t)}})),this.hideMoveConfirm()}),this.hideMoveConfirm=(()=>{this.setState({showMoveConfirm:null})}),this.handleSpam=(e=>{e.preventDefault();const t=this.getActionCreators(),{listId:s,allItemsCount:n,conversations:a,streamId:r}=this.props;let o;if(o=this.isSpam()?{confirmTitle:Vg.a.confirm_spam_title,confirmMessages:Vg.a.confirm_spam_messages,handleConfirm:this.handleSpam,hideConfirm:this.hideConfirm}:{confirmTitle:Vg.a.confirm_ham_title,confirmMessages:Vg.a.confirm_ham_messages,handleConfirm:this.handleSpam,hideConfirm:this.hideConfirm},this.props.shouldDoSelectAll&&!this.state.confirmTitle)return void this.setState(o);const i=this.getActionableGroupIds(),c=1===i.length?{id:i[0],listId:s}:void 0;this.props.navigateOnMessageAction(),this.context.executeAction(this.isSpam()?t.markAsSpam:t.markAsNotSpam,babelHelpers.extends({listId:s,streamId:r,streamItem:c,messageGroupIds:i},n&&{allItemsCount:n},{conversations:a,i13nModel:{mKey:this.isSpam()?zr.e.TOOLBAR_SPAM:zr.e.TOOLBAR_NOT_SPAM,sec:Db,mKeyGroup:this.isSpam()?zr.f.mark_spam:null,interactionType:Object(Ps.i)(e)}})),this.hideConfirm()}),this.hideConfirm=(()=>{this.setState({confirmTitle:!1})}),this.handleDelete=(e=>{e.preventDefault();const{listId:t,navigateOnMessageAction:s,allItemsCount:n,conversations:a,streamId:r,isBulkAction:o,isORDMessageGroup:i,msgReadDeleteEarnyCueEnabled:c,folderType:l}=this.props,d=this.getActionableGroupIds();if(c&&l===E.ub.INBOX&&i&&!this.state.showMsgReadDeleteEarnyCue)return void this.setState({showMsgReadDeleteEarnyCue:!0});if((this.isPermDelete()||o)&&!this.state.showDeleteConfirm)return void this.setState({showDeleteConfirm:!0});const u={mKey:zr.e.TOOLBAR_DELETE,sec:Db,mKeyGroup:zr.f.delete,interactionType:Object(Ps.i)(e)};s();const{formatMessage:m}=this.context.intl,p=1===d.length?{id:d[0],listId:t}:void 0;this.context.executeAction(this.getActionCreators().delete,babelHelpers.extends({listId:t,streamId:r,streamItem:p,messageGroupIds:d,permanent:this.isPermDelete()},n&&{allItemsCount:n},{conversations:a,i13nModel:u,formatMessage:m})),this.hideDeleteConfirm(),this.onMsgReadDeleteEarnyCueClose()}),this.hideDeleteConfirm=(()=>{this.state.showDeleteConfirm&&(this.setState({showDeleteConfirm:!1}),this.context.executeAction(Um))}),this.onMsgReadDeleteEarnyCueClose=(()=>{this.state.showMsgReadDeleteEarnyCue&&this.setState({showMsgReadDeleteEarnyCue:!1})}),this.handleSort=((e,t)=>{const s={[E.Cd.DATE_DESC]:zr.e.TOOLBAR_SORT_NEW,[E.Cd.DATE_ASC]:zr.e.TOOLBAR_SORT_OLD,[E.Cd.UNREAD]:zr.e.TOOLBAR_SORT_UNREAD,[E.Cd.STARRED]:zr.e.TOOLBAR_SORT_STARRED},{listId:n,route:a}=this.props;this.context.navigateTo({route:a.name===E.Uc.SEARCH||Object(io.J)(a)?Object(ao.s)(n,{sortOrder:t}):Object(ao.k)(n,{sortOrder:t}),i13nModel:{mKey:s[t],sec:zr.g.MSG_LIST_SORT,interactionType:Object(Ps.i)(e)}})}),this.handleFilterChange=((e,t)=>{const s=Object(io.q)(this.props.listId),n={[E.Fb.MESSAGES]:"msg",[E.Fb.DOCUMENTS]:"docs",[E.Fb.IMAGES]:"photo"},a=zr.e["FILTER_"+t],r=a?{mKey:a,sec:zr.g.MSG_LIST_BULK_ACTION,interactionType:Object(Ps.i)(e),actionData:{cntxt:n[s]||n[E.Fb.MESSAGES]}}:null;this.context.navigateTo({route:{name:E.Uc.SEARCH,params:{query:Object(io.S)(Object(io.Q)(this.props.listId,{listFilter:t}))}},i13nModel:r})}),this.handleClose=(e=>{const{listId:t,streamId:s,kind:n,route:a}=this.props,r={mKey:zr.e.TOOLBAR_CLOSE_MSG,sec:yb,interactionType:Object(Ps.i)(e)};if(e.key===E.Bb.ESCAPE){if(a.name===E.Uc.FOLDER)return;this.props.onClose({listId:t,i13nModel:r})}else n===km.LIST_WITH_PREVIEW_RIGHT||n===km.LIST_WITH_PREVIEW_BOTTOM?this.props.closePreviewMessage({streamId:s,listId:t,i13nModel:r}):this.props.onClose({listId:t,i13nModel:r})}),this.handleNext=(()=>{const{listId:e,activeGroupId:t,allItemsSelected:s}=this.props;this.props.loadMoreItems({listId:e,currentGroupId:t,allItemsSelected:s}),this.onNextItem()}),this.handleMoveMenuToggle=(e=>{e.stopPropagation(),this.setState({moveMenuActive:!this.state.moveMenuActive&&this.props.enableTriageActions})}),this.handleMoveMenuShow=(e=>{const t=this.props.enableTriageActions,s={moveMenuActive:t};e&&(s.moveMenuFilterFocused=t),this.setState(s),this.onToolbarMenuShow("MoveMenu")}),this.handleMoveMenuHide=(()=>{this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1})}),this.handleExpandContractClick=(e=>{e.stopPropagation(),this.props.onChangeAllMessageCardExpansion({listId:this.props.listId,messageGroupId:this.props.activeGroupId,expansionState:this.props.isCollapseAllEnabled?E.A.COLLAPSED:E.A.EXPANDED})}),this.handleBackToList=(e=>{const{listId:t}=this.props;this.context.navigateTo({route:Object(ao.m)(t),i13nModel:{mKey:zr.e.TOOLBAR_BACK_TO_LIST,sec:zr.g.MSG_READ_TOOLBAR,interactionType:Object(Ps.i)(e)}})}),this.renderExpandMessages=(e=>{const{isCollapseAllEnabled:t,isExpandAllEnabled:s}=this.props,{formatMessage:n}=this.context.intl,a=this.context.getThemeMode()===Is.f.DARK;return t||s?Ue.a.createElement("div",{className:e.expandCollapse},Ue.a.createElement(Ar.a,{title:n(Vg.a[t?"collapse_list":"expand_list"]),"aria-label":n(Vg.a[t?"list_is_expanded":"list_is_collapsed"]),kind:t?Cr.b.COLLAPSE_LIST:Cr.b.EXPAND_LIST,size:Cr.d.XS,paddingLess:!1,colorState:Cr.a.INHERITED,onClick:this.handleExpandContractClick,"data-iskeynav":!0,isOnDarkBackground:a})):null}),this.renderSelectionControls=(e=>{const t=Object(io.q)(this.props.listId),{listId:s,allItemsSelected:n,previewpane:a,selectionCount:r}=this.props;if(Object(io.E)(s))switch(t){case E.Fb.IMAGES:case E.Fb.DOCUMENTS:return null}return Ue.a.createElement("div",{className:e.selectionControlsWrapper},Ue.a.createElement(Yg,{onMenuShow:this.onToolbarMenuShow.bind(null,"SelectionMenu"),onSelectAll:(e,t)=>this.handleSelection(E.ld.ALL,e,t),onSelectNone:(e,t)=>this.handleSelection(E.ld.NONE,e,t),onSelectRead:e=>this.handleSelection(E.ld.READ,e),onSelectUnread:e=>this.handleSelection(E.ld.UNREAD,e),onSelectStarred:e=>this.handleSelection(E.ld.STARRED,e),onSelectUnstarred:e=>this.handleSelection(E.ld.UNSTARRED,e),selectionCount:r,allItemsSelected:n,previewpane:a}))}),this.renderArchive=(e=>{if(this.isRestore()&&!this.props.canRestoreToInbox)return null;const{showLabels:t,showActionLabels:s,isArchiveEnabled:n,isRestoreEnabled:a,conversations:r}=this.props;return Ue.a.createElement($c.a,null,Ue.a.createElement("div",{className:e.archiveRestore},Ue.a.createElement(Qg,{conversations:r,disabled:!this.props.enableTriageActions||!(a||n),onClick:this.handleArchive,restore:this.isRestore(),showLabel:t&&s})))}),this.renderMoveMenu=(e=>{const{formatMessage:t}=this.context.intl,{isMoveEnabled:s,showLabels:n,showActionLabels:a,disabledMoveTitle:r,conversations:o}=this.props,i=!this.props.enableTriageActions||!s,c=i&&r?t(r):t(Vg.a.move_msgs,{conversations:o});return Ue.a.createElement($c.a,{name:"move-menu-item",title:c},Ue.a.createElement("div",{className:e.move},Ue.a.createElement(cb,{"data-iskeynav":!0,title:c,label:n&&a?Ue.a.createElement(Sr.c,{id:"move_menu_icon_label",defaultMessage:"Move"}):null,tabIndex:-1,disabled:i,isMenuActive:this.state.moveMenuActive,isFilterFocused:this.state.moveMenuFilterFocused,onClick:this.handleMove,onMenuShow:this.handleMoveMenuShow,onMenuHide:this.handleMoveMenuHide,onMenuToggle:this.handleMoveMenuToggle,hasShortcuts:!0,primaryShortcutKey:Lb,archiveShortcutKey:vb})))}),this.renderDelete=(e=>{const{isDeleteEnabled:t,isPermDeleteEnabled:s,showLabels:n,showActionLabels:a,enableTriageActions:r,conversations:o}=this.props,i=s||t;return Ue.a.createElement($c.a,{name:this.isPermDelete()?"perm-delete":"delete"},Ue.a.createElement("div",{className:e.deletePerm},Ue.a.createElement(Jg.a,{disabled:!r||!i,onClick:this.handleDelete,permanent:this.isPermDelete(),showLabel:n&&a,conversations:o})))}),this.renderSpam=(e=>{const{isSpamEnabled:t,isHamEnabled:s,showLabels:n,showActionLabels:a,enableTriageActions:r}=this.props,o=t||s;return Ue.a.createElement($c.a,{name:this.isSpam()?"not-spam":"spam"},Ue.a.createElement("div",{className:e.hamSpam},Ue.a.createElement(sb,{disabled:!r||!o,markAsSpam:this.isSpam(),onClick:this.handleSpam,showLabel:n&&a})))}),this.renderMoreMenu=(e=>{const{allItemsCount:t,listId:s,conversations:n,streamId:a,enableTriageActions:r}=this.props,o=this.getActionableGroupIds(),i=1===o.length?{id:o[0],listId:s}:void 0;return Ue.a.createElement($c.a,{name:"more-menu-item"},Ue.a.createElement("div",{className:e.more},Ue.a.createElement(_b,{"data-iskeynav":!0,disabled:!r,selectedGroupIds:this.getActionableGroupIds(),onMenuShow:this.onToolbarMenuShow.bind(null,"MoreMenu"),doSelectAll:this.props.shouldDoSelectAll,listId:s,allItemsCount:t,conversations:n,streamId:a,streamItem:i})))}),this.renderSortMenu=(()=>{const e=this.context.getThemeMode()===Is.f.DARK,{formatMessage:t}=this.context.intl,{currentSortOrder:s,showLabels:n,route:a,listId:r,conversations:o,folderType:i}=this.props,c=function(e,t,s,n){const a=n?Object(io.q)(n):E.Fb.MESSAGES;switch(e.name){case E.Uc.SEARCH:return a===E.Fb.IMAGES||a===E.Fb.DOCUMENTS?bb:Ib;default:return t===E.ub.DRAFT?[E.Cd.DATE_DESC,E.Cd.DATE_ASC,E.Cd.STARRED,E.Cd.SUBJECT]:Object(io.J)(e)?[E.Cd.DATE_DESC,E.Cd.DATE_ASC,E.Cd.ATTACHMENT]:s?[E.Cd.DATE_DESC,E.Cd.DATE_ASC,E.Cd.UNREAD,E.Cd.STARRED]:t===E.ub.SENT?Sb:fb}}(a,i,o,r),l=n?t(Vg.a.sort_menu):null,d=this.getClassNames(),u=this.getItemSpaceBasedOnPreviewPaneOffset(),m=c.map(e=>Ue.a.createElement($c.a,{key:e,name:"sort-by-"+e},Ue.a.createElement(Hr.a,{"data-test-id":"sort-by-"+e,kind:Ur.a.MENUITEM,onClick:t=>this.handleSort(t,e),style:{position:"relative"}},e===s?Ue.a.createElement("span",{className:d.sortByMenuItemIcon},Ue.a.createElement(Tr.b,{kind:Cr.b.CHECKMARK,size:Cr.d.XXS,colorState:Cr.a.NORMAL})):null,Ue.a.createElement("span",{className:d.sortByMenuItemLabel},t(Vg.a["sort_by_"+e])))));return Ue.a.createElement("div",{style:u,className:d.viewMenu},Ue.a.createElement("div",{className:d.sortMenuContainer},Ue.a.createElement(xr.a,null,Ue.a.createElement(wr.a,null,Ue.a.createElement(Hr.a,{"data-test-id":"toolbar-sort-menu-button",kind:Ur.a.CHROMELESS,tabIndex:"-1","data-iskeynav":!0,isOnDarkBackground:e},Ue.a.createElement("span",{className:d.sortByMenu},l,Ue.a.createElement(Tr.b,{kind:Cr.b.CHEVRON_UP,size:Cr.d.XS,rotate:Cr.c.D180,colorState:Cr.a.INHERITED})))),Ue.a.createElement(Fr.b,{triggerOn:kr.h.CLICK,permittedArrowDirections:[kr.g.UP],offset:4*Pr.GRID_UNIT,align:kr.a.END,zAltitude:Pr.ZIndices.POPOVER.HIGH,"data-test-id":"toolbar-sort-popover",onShow:this.onToolbarMenuShow.bind(null,"SortMenu")},Ue.a.createElement("div",{className:d.popoverListWrapper},Ue.a.createElement(jr.a,{focusOnMount:!0,"data-test-id":"toolbar-sort-menu"},m))))))}),this.renderListFilter=(()=>{const{formatMessage:e}=this.context.intl,t=Object(io.r)(this.props.listId).toLowerCase(),s=this.getClassNames(),n=Ue.a.createElement($c.a,{key:t,name:"list-filter-"+t},Ue.a.createElement(Hr.a,{"data-test-id":"list-filter-from",kind:Ur.a.MENUITEM,onClick:e=>this.handleFilterChange(e,E.Gb.FROM)},e(Vg.a.list_filter_from)),Ue.a.createElement(Hr.a,{"data-test-id":"list-filter-to",kind:Ur.a.MENUITEM,onClick:e=>this.handleFilterChange(e,E.Gb.TO)},e(Vg.a.list_filter_to)),Ue.a.createElement(Hr.a,{"data-test-id":"list-filter-all",kind:Ur.a.MENUITEM,onClick:e=>this.handleFilterChange(e,E.Gb.ALL)},e(Vg.a.list_filter_all)));return Ue.a.createElement("div",{className:s.listFilterViewMenu},Ue.a.createElement(xr.a,null,Ue.a.createElement(wr.a,null,Ue.a.createElement(Hr.a,{"data-test-id":"toolbar-list-filter-button",kind:Ur.a.CHROMELESS,tabIndex:"-1","data-iskeynav":!0},Ue.a.createElement("span",{className:s.listFilterMenu},e(Vg.a["list_filter_"+t]),Ue.a.createElement(Tr.b,{kind:Cr.b.CHEVRON_UP,size:Cr.d.XS,rotate:Cr.c.D180,colorState:Cr.a.INHERITED})))),Ue.a.createElement(Fr.b,{triggerOn:kr.h.CLICK,offset:5*Pr.GRID_UNIT,align:kr.a.CENTER,zAltitude:Pr.ZIndices.POPOVER.HIGH,"data-test-id":"toolbar-list-filter-popover"},Ue.a.createElement("div",{className:s.popoverListWrapper},Ue.a.createElement(jr.a,{focusOnMount:!0,"data-test-id":"toolbar-list-filter-menu"},n)))))}),this.renderListHeading=(()=>{const e=Object(io.q)(this.props.listId),{formatMessage:t}=this.context.intl,s=this.getClassNames();switch(e){case E.Fb.IMAGES:return Ue.a.createElement("span",{className:s.listHeading},t(Vg.a.photos_from_email));case E.Fb.DOCUMENTS:return Ue.a.createElement("span",{className:s.listHeading},t(Vg.a.documents))}}),this.renderTriageActions=(()=>{const e=this.getClassNames();return Ue.a.createElement("ul",{className:e.triageActionList},this.renderArchive(e),this.renderMoveMenu(e),this.renderDelete(e),this.renderSpam(e),this.renderMoreMenu(e))}),this.renderDeleteConfirm=(()=>{if(this.state.showDeleteConfirm){const{allItemsSelected:e,allItemsCount:t,selectAll:s,conversations:n}=this.props,{formatMessage:a}=this.context.intl,r=this.getActionableGroupIds(),o={conversations:n,count:s&&e&&t>0?t:r.length};return Ue.a.createElement(Jp.a,{title:a(Vg.a.confirm_delete_title),message:a(this.props.isPermDeleteEnabled?Vg.a.confirm_permanently_delete_messages:Vg.a.confirm_delete_messages,o),onConfirm:this.handleDelete,onAbort:this.hideDeleteConfirm})}return null}),this.renderMoveConfirm=(e=>{if(this.state.showMoveConfirm){const{allItemsSelected:t,allItemsCount:s,conversations:n,selectAll:a}=this.props,{formatMessage:r}=this.context.intl,o=this.getActionableGroupIds(),i={conversations:n,count:a&&t&&s>0?s:o.length};return Ue.a.createElement(Jp.a,{title:r(Vg.a.confirm_move_title),message:r(Vg.a.confirm_move_messages,i),onConfirm:t=>this.handleMove(e,t),onAbort:this.hideMoveConfirm})}return null}),this.renderConfirm=((e,t,s,n)=>{const{allItemsSelected:a,allItemsCount:r,conversations:o,selectAll:i}=this.props,{formatMessage:c}=this.context.intl,l=this.getActionableGroupIds(),d={conversations:o,count:i&&a&&r>0?r:l.length};return Ue.a.createElement(Jp.a,{title:c(e),message:c(t,d),onConfirm:s,onAbort:n})}),this.renderSingleGroupActions=(()=>{const{formatMessage:e}=this.context.intl,t=this.getClassNames(),s=[{kind:Cr.b.REPLY,action:"reply",stringKey:"message_reply"},{kind:Cr.b.REPLY_ALL,action:"replyAll",stringKey:"message_reply_all"},{kind:Cr.b.FORWARD,action:"forward",stringKey:"message_forward"}],n=this.context.getThemeMode()===Is.f.DARK,a=s.map(({kind:s,action:a,stringKey:r})=>{const o=e(Vg.a[r]);return Ue.a.createElement($c.a,{name:s,key:s,className:t.singleGroupItem+" "+t.rtlRawScaleX},Ue.a.createElement(Ar.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${s}`,"aria-label":o,title:o,kind:s,size:Cr.d.XS,disabled:!this.props.enableGroupActions,onClick:e=>this.handleSingleGroupAction(a,Object(Ps.i)(e)),colorState:Cr.a.INHERITED,isOnDarkBackground:n}))});return Ue.a.createElement("div",{className:t.singleGroupActions},Ue.a.createElement("ul",{key:"group-actions",className:t.singleGroupActionList},a))}),this.renderPreviousNext=(e=>{const{formatMessage:t}=this.context.intl,s={conversations:this.props.conversations},n=!this.props.isPreviousEnabled,a=!this.props.isNextEnabled;return Ue.a.createElement("div",{className:e.nextPrevContainer},Ue.a.createElement("span",{className:n?e.nextPrevDisabled:e.nextPrev},Ue.a.createElement(Ar.a,{"data-iskeynav":!0,"data-test-id":"toolbar-previous",kind:Cr.b.INPUT_ARROW_DOWN,rotate:Cr.c.D180,paddingLess:!0,disabled:n,size:Cr.d.S,onClick:this.onPreviousItem,title:t(Vg.a.previous,s),"aria-label":t(Vg.a.previous,s),colorState:Cr.a.INHERITED})),Ue.a.createElement("span",{className:a?e.nextPrevDisabled:e.nextPrev},Ue.a.createElement(Ar.a,{"data-iskeynav":!0,"data-test-id":"toolbar-next",kind:Cr.b.INPUT_ARROW_DOWN,paddingLess:!0,disabled:a,size:Cr.d.S,onClick:this.handleNext,title:t(Vg.a.next,s),"aria-label":t(Vg.a.next,s),colorState:Cr.a.INHERITED})))}),this.renderCheckboxAndFilters=(()=>{const{kind:e,showListFilter:t}=this.props,s=this.getClassNames(),n=this.getItemSpaceBasedOnPreviewPaneOffset();if(wm.HAS_GROUP_SELECTION[e]||t)return Ue.a.createElement("div",{style:n,className:s.cboxWrapper},wm.HAS_GROUP_SELECTION[e]&&this.renderSelectionControls(s),t&&this.renderListFilter())}),this.renderUsabiltyOptions=(()=>{const e=this.getClassNames(),{formatMessage:t}=this.context.intl,{kind:s,hasAttachmentPreview:n,hasPrevNext:a}=this.props,r=this.context.getThemeMode()===Is.f.DARK;if(wm.HAS_EXPAND_COLLAPSE[s]||wm.HAS_PREVIOUS_NEXT[s]||wm.HAS_CLOSE[s]&&!n)return Ue.a.createElement("div",{className:e.usabiltyOptions},wm.HAS_EXPAND_COLLAPSE[s]&&this.renderExpandMessages(e),a&&this.renderPreviousNext(e),wm.HAS_CLOSE[s]&&!n?Ue.a.createElement("div",{"data-test-id":"close-wrapper",className:e.closeWrapper},Ue.a.createElement(Ar.a,{"data-iskeynav":!0,"data-test-id":"toolbar-close",disabled:!this.props.enableGroupActions,kind:Cr.b.CLOSE,size:Cr.d.XS,onClick:this.handleClose,title:t(Vg.a.close),"aria-label":t(Vg.a.close),colorState:Cr.a.INHERITED,isOnDarkBackground:r})):null)}),t}shouldComponentUpdate(e){return!e.skipRendering}componentDidMount(){this.context.bindShortcut(Pb,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(Pb)}renderMsgReadDeleteEarnyCue(){if(this.state.showMsgReadDeleteEarnyCue)return Ue.a.createElement(Qr.a,{defer:!0,import:"../bulk_delete_msg_earny_upsell_cue",cueName:E.mb.MSG_READ_DELETE_EARNY_CUE,onCloseButtonClick:this.handleDelete,onPrimaryButtonClick:this.onMsgReadDeleteEarnyCueClose,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,647))},_moduleResolver:function(){return 647}})}renderPhotosNavigation(e,t){const{formatMessage:s}=this.context.intl;return Ue.a.createElement("div",{className:t.photosHeaderContainer,"data-test-id":"photos-header"},Ue.a.createElement("div",{className:t.photosListHeading},s(Vg.a.photos)),Ue.a.createElement("div",{className:t.container},Ue.a.createElement("div",{className:t.photosTabs},Ue.a.createElement(Mb,{listId:e.listId})),this.renderSortMenu()))}render(){const e=this.getClassNames(),{kind:t,showPhotosHeader:s}=this.props,{confirmTitle:n,confirmMessages:a,handleConfirm:r,hideConfirm:o}=this.state;return s?this.renderPhotosNavigation(this.props,e):Ue.a.createElement(rl.a,{axis:rl.b.HORIZONTAL,circularNavigation:!1,className:e.container,"data-test-id":"message-toolbar",groupTabIndex:Pr.TabIndices.MESSAGE_LIST_TOOLBAR,role:"toolbar"},this.renderCheckboxAndFilters(),this.props.showBackToList?Ue.a.createElement(gb.a,{onClick:this.handleBackToList}):null,this.enableSingleGroupActions()&&this.renderSingleGroupActions(),Ue.a.createElement("div",{className:e.mainActionControls},this.props.showTriageActions?this.renderTriageActions():null,this.props.showListHeading?this.renderListHeading():null),this.renderUsabiltyOptions(),wm.HAS_SORT[t]&&this.renderSortMenu(),Ue.a.createElement("hr",{className:e.bottomLine}),this.renderDeleteConfirm(),this.renderMsgReadDeleteEarnyCue(),this.renderMoveConfirm(this.state.showMoveConfirm),n?this.renderConfirm(n,a,r,o):null)}}xb.contextTypes={navigateTo:Ve.a.func.isRequired,executeAction:Ve.a.func.isRequired,intl:Sr.i.isRequired,config:Ve.a.object.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func,store:Ve.a.object.isRequired},xb.defaultProps={currentSortOrder:E.Cd.DATE_DESC,showLabels:!0,showActionLabels:!0,hasAttachmentPreview:!1,navigateOnMessageAction:()=>{},selectAll:!1,isORDMessageGroup:!1};var wb=Object(Ir.b)((e,t)=>{const{activeGroupId:s="",kind:n,listId:a,showLabels:r,showActionLabels:o,hasAttachmentPreview:i,navigateOnMessageAction:c}=t,{getAction:l,getFeaturesSelectors:d,getRoute:u,__patchV2MessageGroupItemId__:m,doesFolderIdExist:p,getPrimaryFolderTypeByFolderId:_,getFolderIdsByName:h,getAllItemsCountForListId:g,doesListExist:b,getListItemIds:I,doesMessageGroupIdExist:f,getListItemIdIndex:S,isAllCardsExpanded:A,getMainStreamListIds:T,getMessagesSelectors:C,getMessageGroupsSelectors:O,isMessageRoute:R,isFeatureEnabled:N,getContentProviders:M}=Object(ro.b)(e),{doesContentProviderExist:D,isContentProviderConnected:y}=M(),L=u(),v=N(E.mb.PENSIEVE)&&Object(Ql.d)(L)&&D(E.N.TRIPOD)&&y(E.N.TRIPOD),P=Object(io.m)(a),F=g(a),x=Object(io.q)(a),w=Object(io.E)(a),k=L.name===E.Uc.SEARCH,H=d(),U=N(E.mb.CONVERSATIONS);let j,G;if(s&&f(s)&&(G=m(s,a)),P)p(P)&&(j=_(P));else if(G){const{folder:e}=Object(kh.f)(G);j=_(e.id)}if(k){const{folderIds:e,folderNames:t}=Object(io.n)(a);let s=e,n=[];t.length&&(s=ls()(t.reduce((e,t)=>e.concat(h(t)),s))),s.length&&(n=s.map(e=>_(e))),1===n.length&&n[0]===E.ub.ARCHIVE&&(j=n[0])}const B=Object(s_.a)(T(u())),{doesStreamExist:V,getSelectedStreamItems:W,getAccountIdFromMessageGroupId:q}=Object(ro.b)(e),z=(V(B)?W(B):[]).map(({id:e})=>e),Z=b(a)?I(a):[],K=S(a,s),Y=n===km.MESSAGE_VIEW,X=Z.length>0&&Z.length===z.length,$=k&&!!Object(io.k)(a),Q=!(k&&w&&(x===E.Fb.IMAGES||x===E.Fb.DOCUMENTS)),J=function({kind:e,activeGroup:t,allCardsExpanded:s,primaryFolderType:n,listContentType:a}){const r=e!==km.LIST&&t&&t.messages.length>1,o=Boolean(r&&!1===s),i=Boolean(r&&!0===s),c=wm.HAS_PREVIOUS_NEXT[e]&&a===E.Fb.MESSAGES;if(e===km.MESSAGE_VIEW){if(!t)return{};const e=Object(kh.j)(t),s=!e&&Object(kh.i)(t),a=!s&&Object(kh.k)(t),r=n===E.ub.ARCHIVE,l=s||a||e;return{spam:!e&&!s,ham:e&&!s,move:!s,archive:!(s||e||a||r),restore:e||a||r,delete:!l,permDelete:l,raf:!e&&!s,expandAll:o,collapseAll:i,prevNext:c}}const l=Boolean(n),d=n===E.ub.DRAFT,u=n===E.ub.TRASH,m=n===E.ub.ARCHIVE,p=n===E.ub.BULK,_=n===E.ub.SENT,h=d||u||p;return{spam:!l||!d&&!p&&!_,ham:p&&!_,move:!l||!d,archive:!l||!d&&!m&&!p&&!u,restore:m||p||u,delete:!l||!h,permDelete:h,raf:e!==km.LIST&&(!l||!p&&!d),expandAll:o,collapseAll:i}}({kind:n,activeGroup:G,allCardsExpanded:G?A(a,G.id):null,primaryFolderType:j,listContentType:x}),ee=ls()(z.map(e=>q(e,a))),te=J.move&&ee.length>1?Vg.a.disable_move_msgs_across_accunts:Vg.a.disable_move_msgs_default;if(J.move=J.move&&ee.length<=1,n===km.MESSAGE_VIEW){const e=Z.length;J.previous=!!e&&K>0,J.next=!!e&&K<e-1}const se=H.getSetting(E.nd.PREVIEW_PANE),ne=H.getSetting("bulkActionDialogThreshold"),ae=N("selectAll"),re=N("restoreToInbox");let oe=!1;if(R()){const{getDecos:e}=C(),{getMessageIdsFromMessageGroupId:t}=O();let n;oe=t(s).some(function(t){return(n=e(t))&&Object(Wt.l)(n,E.dc.ORD)})}return{enableGroupActions:""!==s&&0===z.length,enableTriageActions:""!==s||z.length>0,isBulkAction:!s&&z.length>=ne,isSpamEnabled:!!J.spam,isHamEnabled:!!J.ham,isArchiveEnabled:!!J.archive,isRestoreEnabled:!!J.restore,isMoveEnabled:!!J.move,isDeleteEnabled:!!J.delete,isPermDeleteEnabled:!!J.permDelete,hasPrevNext:!!J.prevNext,isPreviousEnabled:!!J.previous,isNextEnabled:!!J.next,isRafEnabled:!!J.raf,isCollapseAllEnabled:!!J.collapseAll,isExpandAllEnabled:!!J.expandAll,shouldDoSelectAll:ae&&X&&!s&&(F>=ne||F>z.length),selectionCount:ae&&X?F:z.length,skipRendering:l().type===To.Vi,activeGroupId:s,folderType:j,currentSortOrder:Object(io.D)(a),disabledMoveTitle:te,kind:n,listId:a,route:L,showLabels:r,showActionLabels:o,hasAttachmentPreview:i,showBackToList:Y,showListFilter:$,showTriageActions:Q,showListHeading:!Q,allItemsSelected:X,navigateOnMessageAction:c,allItemsCount:F,previewpane:se,bulkActionDialogThreshold:ne,selectAll:ae,conversations:U,canRestoreToInbox:re,streamId:B,isConversationMode:N(E.mb.CONVERSATIONS),isORDMessageGroup:oe,showPhotosHeader:v,msgReadDeleteEarnyCueEnabled:N(E.mb.MSG_READ_DELETE_EARNY_CUE)}},e=>({onChangeAllMessageCardExpansion:t=>e(Object(hE.a)(t)),onClose:t=>e(Object(Dr.c)(t)),closePreviewMessage:t=>e(Object(Dr.d)(t)),loadMoreItems:t=>e(Object(Bg.a)(t))}))(xb);const kb=zr.g.MSG_BODY,Hb=["shift+p"],Ub=Object(Sr.h)({conversation_view_label:{id:"message_group_view.conversation_view",defaultMessage:"Conversation View"},message_view_label:{id:"message_group_view.message_view",defaultMessage:"Message View"}}),jb=e=>`${e.csid}-${e.folderType}`,Gb=e=>`MessageGroupView-${e}`;class Bb extends Ue.a.Component{constructor(e){super(e),Vb.call(this);const{cards:t,hasCalendarCard:s}=e;this._refs={},this.state={activeItem:!s&&t.length>0&&jb(t[t.length-1]),messagesMarkedAsUnread:[]}}componentWillReceiveProps(e){this.props.markAsReadOnUnmount?this.setState({messagesMarkedAsUnread:this.getUserInitiatedUnreadStatus(this.props.messageGroup.messages||[],e.messageGroup.messages)}):this.markNewlyLoadedBodiesAsRead(e,this.props)}componentWillMount(){this._attachmentTrays={}}componentDidMount(){this.props.markAsReadOnUnmount||this.markNewlyLoadedBodiesAsRead(this.props,{bodyStates:{},isAppVisible:this.props.isAppVisible}),this.context.bindShortcut(Hb,this.handleShortcuts);let e=this.state.activeItem;const{cards:t,hasCalendarCard:s,hasCoupon:n}=this.props,a=t.find(({message:e})=>e&&!e.flags.read);a&&(e=jb(a),this.setState({activeItem:e}));const r=this.getSavedScrollTop()>0,o=Object(je.findDOMNode)(this._refs[e]),i=Object(je.findDOMNode)(this._scrollContainer);i&&(o&&!r&&(i.scrollTop=o.offsetTop-xm),!n&&!s||r||(i.scrollTop=0),0!==t.indexOf(a)&&1!==t.length||r||(i.scrollTop=0),r&&(i.scrollTop=this.getSavedScrollTop()))}componentWillUnmount(){const{markAsReadInterval:e}=this.props;this.context.unbindShortcut(Hb),this.props.markAsReadOnUnmount?this.markNewlyLoadedBodiesAsRead(this.props,{bodyStates:{}}):this.markReadTimer&&e!==E.cc.IMMEDIATELY&&clearTimeout(this.markReadTimer)}render(){const e=this.context.getCss(Gg.a),{messageGroup:t,folderType:n,hasToolbar:a,listId:r,streamId:o,hasAttachmentPreview:i,conversations:c,emoji:l,gif:d,stationery:u,hasCalendarCard:m,calendarAttachment:p,showEbayWarrantyUpsell:_,cards:h}=this.props,g=n===E.ub.BULK,b=Object(kh.f)(t);return h.length<=0?null:Ue.a.createElement($h.a,{getUnsyncedData:this.getUIState},Ue.a.createElement("div",{className:e.container,"data-test-id":"message-group-view"},a&&Ue.a.createElement(wb,{listId:r,streamId:o,kind:km.MESSAGE_VIEW,activeGroupId:t.id,showLabels:this._shouldShowLabels(),hasAttachmentPreview:i,navigateOnMessageAction:this.navigateOnMessageAction}),Ue.a.createElement("div",{role:"main","data-test-id":"message-group-view-scroller","aria-label":this.context.intl.formatMessage(c?Ub.conversation_view_label:Ub.message_view_label),ref:this._setScrollContainerRef,className:e.scrollView},this.renderCardGroup(),_?Ue.a.createElement(Qr.a,{import:"../ebay_warranty_upsell",position:E.gb.TOP,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,653))},_moduleResolver:function(){return 653}}):null,Ue.a.createElement(UE,{onToggleGroupRead:this.handleToggleGroupRead,onToggleGroupStar:this.handleToggleGroupStar,isRead:b.flags.read,flagged:b.flags.flagged,listId:r,messageGroup:t}),m&&Ue.a.createElement("div",{className:e.rsvpContainer},Ue.a.createElement(Qr.a,{import:"../rsvp_view/index.jsx",eventAttachment:p.event,folder:p.message.folder,messageId:p.message.id,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,651))},_moduleResolver:function(){return 651}})),Ue.a.createElement(rl.a,{groupTabIndex:Pr.TabIndices.MESSAGE_LIST_MAIN,circularNavigation:!1,excludeKeyCodes:["ArrowUp","ArrowDown"]},Ue.a.createElement("ul",{className:Ug()(e.cardsContainer,{danger:g}),"data-test-id":"cards"},this.renderCardStacks(e)),!this._lastCardIsCompose()&&c?Ue.a.createElement(qE,{stationery:u,gif:d,emoji:l,onReply:this.handleReply,onReplyAll:this.handleReplyAll,onForward:this.handleForward}):null))))}}Bb.contextTypes={executeAction:Ve.a.func.isRequired,navigateTo:Ve.a.func.isRequired,intl:Sr.i.isRequired,config:Ve.a.object.isRequired,getCss:Ve.a.func,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func};var Vb=function(){this.getSavedScrollTop=(()=>this.initialScrollTop?this.initialScrollTop:this.props.preservedState&&this.props.preservedState.uiState?this.initialScrollTop=this.props.preservedState.uiState.scrollTop:0),this.navigateOnMessageAction=(()=>{const{listId:e,messageGroup:t}=this.props;this.props.loadMoreItems({listId:e,currentGroupId:t.id})}),this.scrollToCardGroup=(()=>{if(this.cardGroup){Object(je.findDOMNode)(this.cardGroup).scrollIntoView({behavior:"smooth",block:"start"})}}),this.getUIState=(()=>{const e=this._scrollContainer&&Object(je.findDOMNode)(this._scrollContainer);return e?{type:E.Zd.COMPONENT_UI_STATE,hash:Gb(this.props.messageGroup.id),id:this.props.messageGroup.id,uiState:{scrollTop:e.scrollTop}}:{}}),this.handleShortcuts=(e=>{const t=String.fromCharCode(e.which).toLowerCase(),s=this._getFirstAttachment();"p"===t&&e.shiftKey&&s&&(e.stopPropagation(),e.preventDefault(),Object(Gn.k)(s)?this.previewAttachment(s.id,Object(Ps.i)(e)):this.previewAttachmentAlert(s.downloadUrl))}),this.previewAttachment=((e,t)=>{const{messageGroup:s,attachmentPreview:n}=this.props,a={mKey:zr.e.OPEN_DOC_PREVIEW,sec:zr.g.ATTM_PREVIEW,interactionType:t};n&&this.context.navigateTo({route:Object(ao.c)(this.props.listId,s.id,e),i13nModel:a})}),this.previewAttachmentAlert=(e=>{this.context.executeAction(Hm.q,{downloadUrl:e})}),this.renderAttachments=(e=>{const{attachments:t,folder:s}=e,n=void 0!==s&&s.types.filter(e=>e===E.ub.BULK).length>0;return t&&t.length?Ue.a.createElement(Ah.a,{ref:t=>this._attachmentTrays[e.id]=t,attachments:t,readOnly:!0,allowDownload:!n,mayContainVirus:n,message:e,onAttachmentPreview:this.previewAttachment,shouldShowSpamAttachmentWarning:this.props.shouldShowSpamAttachmentWarning}):null}),this.scrollToAttachmentTray=(e=>{const t=this._attachmentTrays[e];t&&Object(je.findDOMNode)(t)&&Object(je.findDOMNode)(t).scrollIntoView()}),this.hasDeco=((e,t)=>t.some(t=>t&&t.id===e)),this.handleMailtoClick=((e,t)=>{if(!t)return;const s=Object(Ps.f)();this.context.navigateTo({route:Object(ao.e)(s),mailtoAttr:t,message:e})}),this.handleMessageRead=((e,{i13nModel:t={}})=>{const{messageGroup:s,streamId:n,listId:a}=this.props;this.context.executeAction(e.flags.read?Lo.n:Lo.j,{messageIds:[e.id],itemId:s.id,streamId:n,streamItem:{id:s.id,listId:a,messageIds:[e.id]},i13nModel:Object.assign({mKey:e.flags.read?zr.e.MSG_HDR_MARK_UNREAD:zr.e.MSG_HDR_MARK_READ,sec:kb,mKeyGroup:e.flags.read?zr.f.mark_unread:zr.f.mark_read},t)})}),this.handleMessageStar=((e,{i13nModel:t={}})=>{const{messageGroup:s,streamId:n,listId:a}=this.props;this.context.executeAction(e.flags.flagged?Lo.m:Lo.g,{messageIds:[e.id],itemId:s.id,streamId:n,streamItem:{id:s.id,listId:a,messageIds:[e.id]},i13nModel:Object.assign({mKey:e.flags.flagged?zr.e.MSG_HDR_MARK_UNSTAR:zr.e.MSG_HDR_MARK_STAR,sec:kb,mKeyGroup:e.flags.read?zr.f.mark_unstar:zr.f.mark_star},t)})}),this.renderCard=((e,t,s)=>{const{cards:n,bodyStates:a,retryCounts:r,listId:o,messageGroup:i,windowDimensions:c,hasAttachmentPreview:l,canTakeFocus:d,conversations:u,hasCalendarCard:m,canEditSubject:p,isSendRequested:_}=this.props;let h;const{message:g}=t,b=jb(t),{messageId:I,expansionState:f}=t,S=a[I],A=r[I],T=this.state.activeItem===b,C=n.findIndex(e=>e.id===t.id);if(t.folderType===E.ub.DRAFT&&_(t.csid))h=Ue.a.createElement(Dg,{cardId:b,csid:t.csid,totalMessages:t.total,conversations:u,windowDimensions:c,hasAttachmentPreview:l,renderAttachmentTray:this.renderAttachments});else if(t.folderType===E.ub.DRAFT){const e=this.context.getCss(Gg.a,{conseqCompose:s&&s.folderType===E.ub.DRAFT,active:T,isDraftError:S===E.Rc.ERROR});h=Ue.a.createElement("div",{ref:e=>{e&&(this._refs[b]=e,this.adjustBottomMarginForDropdownOverflow(b))},className:e.composeCard,onFocus:this.handleCardActivation.bind(this,t)},Ue.a.createElement(wg,{ref:e=>this._refs[`compose-${b}`]=e,csid:t.csid,showCloseButton:!1,isQuickReply:!0,scrollContainer:this._scrollContainer,windowDimensions:c,hasAttachmentPreview:l,canEditSubject:p,widthChanged:this.props.widthChanged}))}else h=Ue.a.createElement(Ng,{ref:b,listId:o,messageGroupId:i.id,message:g,idx:C,totalMessages:t.total,bodyState:S,retryCount:A,expanded:f===E.A.EXPANDED,expandable:n.length>1||m,onToggleExpand:this.handleMessageCardExpansion.bind(this,t),onToggleRead:this.handleMessageRead.bind(this,g),onToggleStar:this.handleMessageStar.bind(this,g),onClick:this.handleCardActivation.bind(this,t),onMailtoClick:this.handleMailtoClick.bind(this,g),renderAttachmentTray:this.renderAttachments.bind(this,g),scrollToAttachmentTray:this.scrollToAttachmentTray.bind(this,g.id),active:T,canTakeFocus:d,navigateOnMessageAction:this.navigateOnMessageAction,conversations:u});return Ue.a.createElement("li",{key:b,className:e.messageCard},h)}),this.handleStackExpand=((e,t)=>{t.preventDefault();const{cards:s}=e,n=E.A.COLLAPSED;this.props.onChangeMessageCardExpansion({itemsToUpdate:s.map(e=>babelHelpers.extends({},e,{expansionState:n}))})}),this.handleMessageCardExpansion=(e=>{this.props.onChangeMessageCardExpansion({itemsToUpdate:[babelHelpers.extends({},e,{expansionState:e.expansionState===E.A.EXPANDED?E.A.COLLAPSED:E.A.EXPANDED})]}),this.setState({activeItem:jb(e)})}),this.handleCardActivation=(e=>{const t=jb(e);this.adjustBottomMarginForDropdownOverflow(t),this.setState({activeItem:t}),this.context.executeAction(Hm.e,{listId:this.props.listId,card:e})}),this.adjustBottomMarginForDropdownOverflow=(e=>{if(this._isLastCard(e)&&this._lastCardIsCompose()&&this._refs[e]){const t=this._refs[e],s=t.getBoundingClientRect();if(s.bottom>=document.body.clientHeight)t.style.marginBottom="";else{const e=document.body.clientHeight-s.bottom;t.style.marginBottom=e+"px"}}}),this._isLastCard=(e=>{const{cards:t}=this.props;return!!t.length&&jb(t[t.length-1])===e}),this.handleKeyDown=((e,t)=>{switch(t.key){case"Enter":return t.preventDefault(),t.stopPropagation(),void this.handleStackExpand(e,t);default:return}}),this.renderStack=((e,t)=>Ue.a.createElement("li",{className:e.stack,key:t.cards[0].messageId,onClick:this.handleStackExpand.bind(this,t),onKeyDown:this.handleKeyDown.bind(this,t),"data-test-id":"super-collapse-card","data-iskeynav":!0},Ue.a.createElement("div",{className:e.stackLine}),Ue.a.createElement("span",{className:e.stackLabel},Ue.a.createElement(Sr.c,{id:"super_collapsed_label",defaultMessage:"+{messageNum, number} from {senderList}",values:{messageNum:t.cards.length,senderList:Ue.a.createElement(kg.a,{visibleNum:10,senders:Object(kh.g)(t.cards.map(e=>(Object(h.a)(!e.isDraft,"Stacking drafts is not supported"),e.message))),myAddresses:this.props.myAddresses})}})),Ue.a.createElement("div",{className:e.stackLine}))),this.renderCardStacks=(e=>{const t=this.props.cards.reduce((e,t)=>{const s=t.expansionState;let n=e[e.length-1];return n&&s===n.cardExpansion||e.push(n={cardExpansion:s,cards:[]}),n.cards.push(t),e},[]).map(t=>t.cardExpansion!==E.A.STACKED||t.cards.length<2||this.props.cards.length<10?t.cards.map((t,s,n)=>this.renderCard(e,t,n[s+1])):this.renderStack(e,t));return Array.prototype.concat.apply([],t)}),this.markNewlyLoadedBodiesAsRead=(({messageGroup:e,bodyStates:t,isAppVisible:s},{bodyStates:n,isAppVisible:a})=>{const{messagesMarkedAsUnread:r}=this.state,{markAsReadInterval:o,streamId:i,listId:c,isAMT:l,cards:d}=this.props;if(!l&&s&&o!==E.cc.NEVER){const s=e.messages.filter(e=>!(e.flags.read||t[e.id]!==E.Rc.LOADED||n[e.id]===t[e.id]&&a||-1!==r.indexOf(e.id)));if(s.length){const t=s.map(e=>e.id);this.markReadTimer=setTimeout(()=>{this.context.executeAction(Lo.j,{itemId:e.id,messageIds:t,streamId:i,streamItem:{id:e.id,listId:c,messageIds:t},persistStreamItemExpansionStates:d})},a?1e3*o:1e3)}}}),this.getUserInitiatedUnreadStatus=((e,t)=>{const{messagesMarkedAsUnread:s}=this.state,n=[...s];return t.forEach(t=>{if(!t.flags.read){const s=e.find(e=>e.id===t.id&&e.flags.read!==t.flags.read);s&&n.push(s.id)}}),n}),this._executeGroupAction=((e,{stream:t={},i13nModel:s})=>{const{messageGroup:n}=this.props;this.context.executeAction(e,babelHelpers.extends({messageGroupIds:[n.id]},t,{i13nModel:s}))}),this.handleReply=(e=>{const t={mKey:zr.e.QUICK_REPLY,sec:zr.g.QUICK_COMPOSE,mKeyGroup:zr.f.reply,interaction_type:Object(Ps.i)(e)};this.context.executeAction(Hm.t,{messageGroupId:this.props.messageGroup.id,i13nModel:t})}),this.handleReplyAll=(e=>{const t={mKey:zr.e.QUICK_REPLYALL,sec:zr.g.QUICK_COMPOSE,mKeyGroup:zr.f.replyAll,interaction_type:Object(Ps.i)(e)};this.context.executeAction(Hm.s,{messageGroupId:this.props.messageGroup.id,i13nModel:t})}),this.handleForward=(e=>{const t={mKey:zr.e.QUICK_FORWARD,sec:zr.g.QUICK_COMPOSE,mKeyGroup:zr.f.forward,interaction_type:Object(Ps.i)(e)};this.context.executeAction(Hm.f,{messageGroupId:this.props.messageGroup.id,i13nModel:t})}),this.handleToggleGroupRead=(e=>{e.preventDefault();const{messageGroup:t,streamId:s,listId:n}=this.props,a=t.messages[0].flags.read;this._executeGroupAction(a?Hm.n:Hm.j,{stream:{streamId:s,streamItem:t?{id:t.id,listId:n}:void 0},i13nModel:{mKey:a?zr.e.MSG_GRP_HDR_MARK_UNREAD:zr.e.MSG_GRP_HDR_MARK_READ,sec:zr.g.MSG_BODY,mKeyGroup:a?zr.f.mark_unread:zr.f.mark_read}})}),this.handleToggleGroupStar=(e=>{e.preventDefault();const{messageGroup:t,streamId:s,listId:n}=this.props,a=t.messages[0].flags.flagged;this._executeGroupAction(a?Hm.m:Hm.g,{stream:{streamId:s,streamItem:t?{id:t.id,listId:n}:void 0},i13nModel:{mKey:a?zr.e.MSG_GRP_HDR_MARK_UNSTAR:zr.e.MSG_GRP_HDR_MARK_STAR,sec:zr.g.MSG_BODY,mKeyGroup:a?zr.f.mark_unstar:zr.f.mark_star}})}),this._shouldShowLabels=(()=>!this.props.hasAttachmentPreview),this._getFirstAttachment=(()=>{const e=(this.props.messageGroup.messages||[]).find(e=>e.attachments&&e.attachments.length);return e&&e.attachments[0]}),this._lastCardIsCompose=(()=>{const{cards:e,isSendRequested:t}=this.props,{folderType:s,csid:n}=e[e.length-1];return Boolean(s===E.ub.DRAFT&&!t(n))}),this.renderCardGroup=(()=>{const{messageGroup:e,selfExtractCoupon:t,couponCards:n}=this.props;return"decos"in e.messages[0]?Ue.a.createElement(Qr.a,{defer:!0,import:"../card_group",parentMessageId:e.messages[0].id,onViewLess:this.scrollToCardGroup,ref:e=>{this.cardGroup=e},couponCards:n,selfExtractCoupon:t,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,956))},_moduleResolver:function(){return 956}}):null}),this._setScrollContainerRef=(e=>{this._scrollContainer=e})};var Wb=Object(Ir.b)((e,t)=>{let s=[],n=!1;const{rsvpEnabled:a,messageGroup:r,listId:o,conversations:i,hasCoupon:c}=t,l=a&&((e={})=>{const t={};return(e.messages||[]).some(e=>{const s=Object(Gn.h)(e.attachments)[0];if(s)return t.message=e,t.event=s,!0}),Object.keys(t).length?t:null})(r),d=!!l,{getRoute:u,getMessagesSelectors:m,getMessageFromAddress:p,getMessageToAddress:_,getMessageCcAddress:h,getMessageBccAddress:g,getMessageDate:b,getMessageSnippet:I,getCouponsSelectors:f,getFeaturesSelectors:S,getEnvironmentSelectors:A,getReconciledUnysncedDataByHash:T,getMessageFlags:C,getAttachmentsByMessageId:O,getFoldersSelectors:R,getSubjectAndSnippetSelectors:N,isSingleDraftGroup:M,isSendRequested:D,getMainStreamListIds:y,getMessageGroupStreamItemsWithExpansionStates:L,getMessageFolderId:v,shouldShowEbayWarrantyUpsell:P,isFeatureEnabled:F}=Object(ro.b)(e),x=Object(s_.a)(y(u())),{getDownloadAllUrl:w,getCardConversationId:k}=m(),{getFolderTypes:H}=R(),{getSubject:U}=N(),j=A().isAMT(),{getCouponCardsForCardConversationId:G}=f(),{getSetting:B}=S(),V=B(E.nd.EBAY_WARRANTY_UPSELL_POSITION),W=T(Gb(r.id)),q=!i||M(r.id),z={id:r.id,listId:o},Z=P()&&V===E.gb.TOP;if(c){const e=k(r.messages[0].id);s=(n=F(E.mb.COUPON_SELF_EXTRACTION)&&!e)?[]:G(e)}return{cards:L(z).map(e=>{const{messageId:t}=e;if(e.folderType===E.ub.DRAFT)return babelHelpers.extends({},e);const s=v(t);return babelHelpers.extends({},e,{message:{id:t,flags:C(t),folder:{id:s,types:H(s)},headers:{subject:U(t,o),from:p(t),to:_(t),cc:h(t),bcc:g(t),date:b(t)},snippet:I(t,o),attachments:O(t),downloadAllUrl:w(t)}})}),isSendRequested:D,hasCalendarCard:d,calendarAttachment:l,streamId:x,preservedState:W,isAMT:j,canEditSubject:q,couponCards:s,selfExtractCoupon:n,showEbayWarrantyUpsell:Z}},e=>({onChangeMessageCardExpansion:t=>e(Object(hE.b)(t)),onClose:({route:t,i13nModel:s={}})=>{e(Object(Dr.c)({route:t,i13nModel:s}))},loadMoreItems:t=>e(Object(Bg.a)(t))}))(Bb);const qb=Wr()(Gg.a);function zb({onRetry:e}){return Ue.a.createElement("div",{className:qb.empty,"data-test-id":"group-error"},Ue.a.createElement("p",null,Ue.a.createElement(Sr.c,{id:"group_error.failed_to_load",defaultMessage:"We couldn't load this message."})),Ue.a.createElement("a",{className:qb.emptyRetry,onClick:e,"data-test-id":"group-error-retry"},Ue.a.createElement(Sr.c,{id:"group_error.retry",defaultMessage:"Retry"})))}class Zb extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.handleErrorRetry=(()=>{}),this.renderError=(()=>Ue.a.createElement(zb,{onRetry:()=>this.handleErrorRetry()})),this.renderLoading=(()=>Ue.a.createElement(Nc.b,null)),t}shouldComponentUpdate(e){return!e.skipRendering}render(){const{isAttachmentRouteInFullScreenMode:e=!1,groupState:t,messageGroup:s}=this.props;if(e)return null;switch(t){case E.Rc.DOES_NOT_EXIST:case E.Rc.LOADING:return this.renderLoading();case E.Rc.ERROR:return this.renderError();case E.Rc.LOADED:default:{const e=Object(kh.i)(s);return Ue.a.createElement(Wb,babelHelpers.extends({},this.props,{key:e?s.messages[0].csid:s.id}))}}}}Zb.defaultProps={widthChanged:0};var Kb=Object(Ir.b)((e,t)=>{const{getAction:s,getFeaturesSelectors:n,doesMessageGroupIdExist:a,getRoute:r,getRouteParams:o,isMessageGroupRequested:i,getDraftMessageId:c,getGroupIdContainingMessageId:l,doesComposeSessionExist:d,isSent:u,getWindowDimensions:m,isAppVisible:p,shouldShowSpamAttachmentWarning:_,__patchV2MessageGroupItemId__:h,__patchV2MyAddresses__:g,getMessageBodyState:b,getMessageBodyRetryCount:I,getAccountIdFromMessageGroupId:f}=Object(ro.b)(e),{listId:S,hasToolbar:A=!0}=t,T={},C={},O=r(),R=o(),N=m(),M=n(),D=M.isEnabled(E.mb.RSVP),y=!!M.getSetting(E.nd.PREVIEW_PANE)&&(O.name===E.Uc.FOLDER||O.name===E.Uc.SEARCH),L=R.attachmentId&&"1"===O.query.fullscreen,v=R.attachmentId&&"1"!==O.query.fullscreen,P=Object(io.P)(S)&&Object(io.O)(S,{read:!1})&&-1!==[E.Uc.MESSAGE_FROM_SEARCH_LIST,E.Uc.SEARCH].indexOf(O.name)||Object(io.D)(S)===E.Cd.UNREAD&&-1!==[E.Uc.SEARCH,E.Uc.FOLDER].indexOf(O.name),F=M.getSetting(E.nd.MARK_AS_READ_INTERVAL);let x=t.openedMessageId||R.groupId;if(t.csid){if(!d(t.csid)||u(t.csid))return{groupId:x,groupState:E.Rc.DOES_NOT_EXIST};if(t.csid&&!t.openedMessageId){const e=c(t.csid);e&&(x=l(e))}}else if(!a(x)||i(x))return{groupId:x,groupState:i(x)?E.Rc.DOES_NOT_EXIST:E.Rc.ERROR,hasAttachmentPreview:v,isAttachmentRouteInFullScreenMode:L,hasToolbar:A,canTakeFocus:y};const w=h(x,S),k=g(),H=f(x,S);w.messages.forEach(e=>{T[e.messageId]=b(e.messageId),C[e.messageId]=I(e.messageId)});const U=M.isEnabled("attachmentPreview"),j=M.isEnabled(E.mb.CONVERSATIONS),G=M.isEnabled(E.mb.EMOJI),B=M.isEnabled(E.mb.GIF),V=M.isEnabled(E.mb.STATIONERY),W=M.isEnabled(E.mb.COUPON_CARD_EXTRACTIONS)&&w.messages[0].decos.some(e=>e&&"CPN"===e.id);return{skipRendering:s().type===To.Vi,stationery:V,gif:B,emoji:G,attachmentPreview:U,conversations:j,bodyStates:T,retryCounts:C,groupState:E.Rc.LOADED,hasToolbar:A,hasCoupon:W,accountIds:[H],myAddresses:k,messageGroup:w,isAppVisible:p(),hasAttachmentPreview:v,isAttachmentRouteInFullScreenMode:L,windowDimensions:N,markAsReadOnUnmount:P,markAsReadInterval:F,canTakeFocus:y,rsvpEnabled:D,shouldShowSpamAttachmentWarning:_}})(Zb),Yb=s(67),Xb=s(380),$b=s(477),Qb=s(262),Jb=s.n(Qb);const eI=Wr()(Jb.a);class tI extends Ue.a.Component{render(){const{count:e,formatNumber:t}=this.props;return(this.props.x||this.props.y)&&(this.iconStyles={left:this.props.x,top:this.props.y}),Ue.a.createElement("div",{className:this.iconStyles&&eI.dragIcon,style:this.iconStyles?this.iconStyles:{}},Ue.a.createElement(Tr.b,{kind:Cr.b.INBOX,size:Cr.d.XS}),Ue.a.createElement("b",{className:eI.counter},t(e)))}}tI.defaultProps={formatNumber:e=>""+e};var sI=tI,nI=s(476),aI=s(480),rI=s(288),oI=s.n(rI),iI=s(193);const cI=796,lI=805,dI=818,uI=828,mI=873,pI=884,_I=914,hI={"amazon.com":pI,"linkedin.com":lI,"paypal.com":uI,"groupon.com":pI,"ebay.com":pI,"chase.com":uI,"indeed.com":lI,"capitalone.com":uI,"nextdoor.com":mI,"kohls.com":pI,"intuit.com":uI,"walmart.com":pI,"southwest.com":_I,"synchronybank.com":uI,"zillow.com":mI,"ups.com":pI,"bestbuy.com":pI,"netflix.com":dI,"apple.com":902,"homedepot.com":pI,"cvs.com":849,"bankofamerica.com":uI,"jcpenney.com":pI,"target.com":pI,"directv.com":dI,"discover.com":uI,"costco.com":pI,"siriusxm.com":cI,"walgreens.com":811,"oldnavy.com":pI,"victoriassecret.com":pI,"ticketmaster.com":dI,"macys.com":pI,"evite.com":dI,"docusign.net":866,"tripadvisor.com":_I,"bedbathandbeyond.com":pI,"bathandbodyworks.com":pI,"fidelity.com":uI,"livingsocial.com":pI,"citibank.com":uI,"citi.com":uI,"cox.net":dI,"redbox.com":dI,"wayfair.com":pI,"michaels.com":pI,"uber.com":_I,"geico.com":cI,"wellsfargo.com":uI,"staples.com":pI,"booking.com":_I,"travelzoo.com":_I,"delta.com":_I,"progressive.com":cI,"hilton.com":_I,"meetup.com":793,"zulily.com":pI,"jobstreet.com":lI,"lowes.com":pI,"sears.com":pI,"nordstorm.com":pI,"trulia.com":mI,"dsw.com":pI,"creditkarma.com":uI,"ziprecruiter.com":lI,"synchronyfinancial.com":uI,"airbnb.com":_I,"capitaloneemail.com":uI,"aa.com":_I,"statefarm.com":cI,"hrblock.com":uI,"email-marriott.com":_I,"americanexpress.com":uI,"houzz.com":mI};function EI(e){return e.map(e=>{const t=Object(S.a)(e,"email","").toLowerCase().match(/(?:\.|@)([\w-]+\.(?:com|net|biz))/);return hI[t&&t[1]]||null}).filter(e=>null!==e)}const gI=e=>`MessageListUi-${e}`,bI=Wr()(Jb.a),II=["k","shift+k","l","shift+l","del","backspace","p"];let fI=!1,SI=!1,AI=!1;var TI=Object(fr.d)(Object(Ir.b)((e,t)=>{const{getFeaturesSelectors:s,getAdsSelectors:n,getReconciledUnysncedDataByHash:a,doesListExist:r,doesListHasMoreItems:o,getAccountIdsByFolderId:i,getRoute:c}=Object(ro.b)(e),l=s(),d=n(),{getPencilAdData:u,getAdFeedbackStatus:m,getCachedGeminiAds:p}=d,_=m(),h=l.getSetting(E.nd.GEMINI_SECTION_IDS),g=u(h[E.vb.MESSAGE_LIST]),b=l.isEnabled(E.mb.GEMINI_VIEWABILITY),I=l.isEnabled(E.mb.GEMINI_CONTEXTUAL_ADS),f=l.isEnabled(E.mb.INBOX_COUPONS_CUE),S=l.getSetting("bulkActionDialogThreshold"),A=l.getSetting("messageScrollLoadThreshold"),T=l.isEnabled(E.mb.CONVERSATIONS),C=l.getSetting(E.nd.MESSAGE_INITIAL_RENDER_COUNT),O=Object(io.m)(t.listId),R=l.isEnabled(E.mb.PENCIL_AD),N=l.isEnabled(E.mb.SECOND_PENCIL_AD)&&!!p(h[E.vb.MESSAGE_LIST_2]).length,M=a(gI(t.listId)),D=l.isEnabled("selectAll"),{allItemsSelected:y,allItemsCount:L,itemSelection:v}=t,P=Object.keys(v),F=D&&y&&(L>=l.getSetting("bulkActionDialogThreshold")||L>P.length),x=l.getSetting(E.nd.STAR_ANIMATION),w=r(t.listId)?o(t.listId):void 0,k=l.isEnabled(E.mb.TIMECHUNK_PENCIL_AD),H=c().name===E.Uc.SEARCH,U=l.isEnabled(E.mb.SEARCH_AD_BACK_BUCKET)&&H,j=l.getSetting(E.nd.PENCIL_AD_VERSION),G=l.getSetting(E.nd.DELETE_DEBOUNCE_TIME),B="heightOptimizationBackBucketExp"===j,V=l.isEnabled(E.mb.MESSAGE_OP_PERF),W=l.isEnabled(E.mb.FAN_ADS)&&!H;return{hasMoreItems:w,doSelectAll:F,geminiViewability:b,bulkActionDialogThreshold:S,messageScrollLoadThreshold:A,conversations:T,messageInitialRenderCount:C,geminiContextualAds:I,showInboxCouponsCue:f,pencilAdData:g,adFeedbackStatus:_,accountIds:i(O),geminiSectionIds:h,pencilAd:R,secondPencilAd:N,preservedState:M,starAnimation:x,timechunkPencilAd:k,searchAdBackBucket:U,heightOptimizationBackBucket:B,messageOpPerfEnabled:V,deleteDebounceTime:G,fanAds:W}}),Object(Ir.b)(void 0,(e,{actions:t})=>({actions:t,onPreviewMessage:t=>e(Object(hE.g)(t))})))((()=>{var e,t;let n=0;return t=e=class extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={showDeleteConfirm:!1,idsToDelete:[],updatedMessages:{},deleting:!1,cursorIndexOffset:0},this.getSavedScrollTop=(()=>this.initialScrollTop?this.initialScrollTop:this.props.preservedState&&this.props.preservedState.uiState?this.initialScrollTop=this.props.preservedState.uiState.scrollTop:0),this.updateMessageListHeight=(()=>{const e=document.querySelector("[data-test-id=message-group-list-container]");n=e?e.clientHeight:n}),this.getUIState=(()=>{const e=this.scrollContainer&&Object(je.findDOMNode)(this.scrollContainer);return e?{type:E.Zd.COMPONENT_UI_STATE,hash:gI(this.props.listId),id:this.props.streamId,uiState:{scrollTop:e.scrollTop}}:{}}),this.getCursorPosition=(()=>{const{cursorIndex:e,messageOpPerfEnabled:t}=this.props,{cursorIndexOffset:s}=this.state;return t?e+s:e}),this.handleShortcuts=(e=>{const t=String.fromCharCode(e.which).toLowerCase();e.stopPropagation(),e.preventDefault(),"k"===t?e.shiftKey?this.handleShortcutReadMessages():this.handleShortcutUnreadMessages():"l"===t?e.shiftKey?this.handleShortcutUnflagMessages():this.handleShortcutFlagMessages():"p"!==t||e.shiftKey?e.keyCode!==no.a.BACKSPACE&&e.keyCode!==no.a.DELETE||this.handleShortcutDeleteMessages():this.handleShortcutPrintMessages()}),this.getActionCreator=(e=>{const{actions:t}=this.props;switch(e){case hg.a:return t.deleteMessageGroups;case hg.c:return t.moveMessageGroups;case hg.g:return t.markMessageGroupsAsSpam;case hg.d:return t.markMessageGroupsAsNotSpam;case hg.f:return t.markMessageGroupsAsRead;case hg.i:return t.markMessageGroupsAsUnread;case hg.b:return t.markMessageGroupsAsFlagged;case hg.h:return t.markMessageGroupsAsUnflagged;case hg.k:return t.toggleSelection;case hg.j:return t.toggleMultipleSelection;case hg.e:return t.printMessage;default:throw new TypeError("Unknown interaction type: "+e)}}),this.handleMessageGroupInteraction=((e,{messageGroup:t,i13nModel:s})=>{const n={messageGroupIds:[t.id],listId:this.props.listId,streamId:this.props.streamId,streamItem:{listId:this.props.listId,id:t.id}};if(s&&(n.i13nModel=s),e===hg.a)return this.handleDelete(n);this.context.executeAction(this.getActionCreator(e),n)}),this.handleMultipleMessageSelection=((e,{lastMessageGroup:t,multipleStreamItems:s,i13nModel:n})=>{const a={multipleStreamItems:s.map(e=>({listId:this.props.listId,id:e})),listId:this.props.listId,streamId:this.props.streamId,streamItem:{listId:this.props.listId,id:t.id}};n&&(a.i13nModel=n),this.context.executeAction(this.getActionCreator(e),a)}),this._onActionOnSelectedMessages=((e,t)=>{const{executeAction:s}=this.context,{messageGroups:n,itemSelection:a,listId:r,streamId:o}=this.props,i=n[this.getCursorPosition()],c={};n.forEach(({id:e},t)=>c[e]=t);let l=Object.keys(a).map(e=>c[e]).map(e=>n[e]);!l.length&&i&&(l=[i]);const d=l.filter(t=>e(t));if(d.length>0){const e={listId:r,messageGroupIds:d.map(e=>e.id),streamId:o};if(t===hg.a)return this.handleDelete(e);if(t===hg.e&&1!==d.length)return;s(this.getActionCreator(t),e)}else this.showCoachTooltip({selectedMessages:l,interaction:t})}),this.showCoachTooltip=(({selectedMessages:e=[],interaction:t=""})=>{if(!e.length)return;const{messageGroups:s,itemSelection:n}=this.props,a=this.getCursorPosition(),r=s[a]&&n[s[a].id]?s[a]:s.find(({id:t})=>t===e[0].id),o=(e,t,s=!1)=>{if(!e||!t)return{};const{left:n,top:a,right:r}=e.getBoundingClientRect(),{right:o,top:i,left:c}=t.getBoundingClientRect();return{left:s?"auto":o-n,top:i-a-2,right:s?r-c:"auto"}};let i,c;switch(t){case hg.i:c=this.readIconContainer[r.id],i=Ue.a.createElement(Sg,null);break;case hg.b:c=this.starIconContainer[r.id],i=Ue.a.createElement(Tg,null)}c&&Ig(i,{id:r.id,renderToTheSide:E.Ud.RIGHT,appendNode:this.messageItemContainer,referenceNode:{parent:this.messageItemContainer,child:c,positionCalculator:o},clearTooltipOn:{scroll:this.scrollContainer}},this.context)}),this.updateDeletePayload=((e,{deletedMessageGroups:t,batchRemoveItems:s})=>{e.batchRemoveItems=s,e.messageGroupIds=t,e.streamItem=null,e.batchDelete=!0}),this.getDeletedMessagesPayload=(e=>{const t=[],s=[];return Object.keys(e).forEach(n=>{e[n]===hg.a&&(t.push(n),s.push({listId:this.props.listId,id:n}))}),{deletedMessageGroups:t,batchRemoveItems:s}}),this.handleDelete=(e=>{const{executeAction:t}=this.context,{messageGroupIds:s}=e;if(e.permanent=this.props.permDelete,this.state.showDeleteConfirm||!(this.props.permDelete||s.length>=this.props.bulkActionDialogThreshold))if(this.props.messageOpPerfEnabled){const n=Object.assign({},this.state.updatedMessages),{cursorIndex:a,messageGroups:r}=this.props;let o=0;if(s.forEach(e=>{n[e]=hg.a}),a>=0){for(;a+o<r.length&&n[r[a+o].id]===hg.a;)o++;if(a+o===r.length)for(o=0;a+o>=0&&n[r[a+o].id]===hg.a;)o--}this.setState({updatedMessages:n,deleting:!0,cursorIndexOffset:o},()=>{this.postponeDelete&&clearTimeout(this.postponeDelete);const{deletedMessageGroups:s,batchRemoveItems:a}=this.getDeletedMessagesPayload(n);if(s.length>=10)return this.updateDeletePayload(e,{deletedMessageGroups:s,batchRemoveItems:a}),this.setState({deleting:!1}),t(this.getActionCreator(hg.a),e);this.postponeDelete=setTimeout(()=>{const{updatedMessages:s}=this.state,{deletedMessageGroups:n,batchRemoveItems:a}=this.getDeletedMessagesPayload(s);this.setState({deleting:!1}),n.length>1&&this.updateDeletePayload(e,{deletedMessageGroups:n,batchRemoveItems:a}),t(this.getActionCreator(hg.a),e),this.hideDeleteConfirm()},this.props.deleteDebounceTime)})}else t(this.getActionCreator(hg.a),e),this.hideDeleteConfirm();else this.setState({showDeleteConfirm:!0,idsToDelete:s})}),this.handleShortcutDeleteMessages=(()=>{this._onActionOnSelectedMessages(()=>!0,hg.a)}),this.handleShortcutReadMessages=(()=>{this._onActionOnSelectedMessages(e=>!Object(kh.d)(e).read,hg.f)}),this.handleShortcutUnreadMessages=(()=>{this._onActionOnSelectedMessages(e=>Object(kh.d)(e).read,hg.i)}),this.handleShortcutFlagMessages=(()=>{this._onActionOnSelectedMessages(e=>!Object(kh.d)(e).flagged,hg.b)}),this.handleShortcutUnflagMessages=(()=>{this._onActionOnSelectedMessages(e=>Object(kh.d)(e).flagged,hg.h)}),this.handleShortcutPrintMessages=(()=>{this._onActionOnSelectedMessages(()=>!0,hg.e)}),this.handleShiftClick=(e=>{const{actions:t,listId:s,streamId:n}=this.props;this.context.executeAction(t.selectRange,{listId:s,targetGroupId:e.id,streamId:n,streamItem:{listId:s,id:e.id}})}),this.getMessageGroupIndex=(e=>{const{messageGroups:t}=this.props;return t.findIndex(t=>t.id===e.id)}),this.handleMessageOpen=((e,t)=>{const{previewpane:s,listId:n,geminiContextualAds:a,streamId:r}=this.props,{id:o}=e,i=this.getMessageGroupIndex(e);let c;if(s===E.Gc.NO)this._openMessageGroup(o,{i13nModel:babelHelpers.extends({actionData:{pos:i}},t)});else{a&&(c=function({messages:e}){return EI(Object(S.a)(e,"0.headers.from",[]))}(e));const s=Object.assign({mKey:zr.e.OPEN_MSG,sec:zr.g.MSG_LIST_MSG,mKeyGroup:zr.f.open_msg,actionData:{pos:i}},t);this.props.onPreviewMessage({listId:n,itemId:o,streamId:r,streamItem:{listId:n,id:o},geminiCategories:c,i13nModel:s})}}),this.handleOnDoubleClick=((e,t)=>{const{id:s}=e,n=this.getMessageGroupIndex(e);this._openMessageGroup(s,{i13nModel:babelHelpers.extends({},t,{actionData:{pos:n}})})}),this.handleCursorOpen=(e=>{const{messageGroups:t}=this.props,s=this.getCursorPosition(),n=t[s];if(!n||-1===e.target.className.indexOf("message-list-item"))return;const{id:a}=n;e.preventDefault(),this._openMessageGroup(a,{i13nModel:{interactionType:zr.d.nav,actionData:{pos:s}}})}),this._openMessageGroup=((e,{i13nModel:t})=>{const{messageGroupRoutes:s,listId:n,streamId:a}=this.props;this.context.navigateTo({route:s[e],itemId:e,streamId:a,streamItem:{listId:n,id:e},i13nModel:Object.assign({mKey:zr.e.OPEN_MSG,sec:zr.g.MSG_LIST_MSG,mKeyGroup:zr.f.open_msg},t)})}),this.handleItemSelect=(()=>{const{actions:e,messageGroups:t,listId:s,streamId:n}=this.props,a=t[this.getCursorPosition()];a&&this.context.executeAction(e.toggleSelection,{listId:s,streamId:n,streamItem:{listId:s,id:a.id},messageGroupIds:[a.id]})}),this.handleItemSelectAll=(()=>{const{actions:e,listId:t,streamId:s}=this.props;this.context.executeAction(e.selectAll,{listId:t,streamId:s})}),this.handleCheckboxClick=((e,t)=>{this.handleMessageGroupInteraction(hg.k,{messageGroup:e,i13nModel:babelHelpers.extends({},t,{mKey:zr.e.SELECT_MSG,sec:zr.g.MSG_LIST_MSG})})}),this.handleCtrlClick=((e,t)=>{const{openedGroupId:s,itemSelection:n}=this.props;0===Object.keys(n).length&&s&&s!==e.id?this.handleMultipleMessageSelection(hg.j,{multipleStreamItems:[s,e.id],i13nModel:babelHelpers.extends({},t,{mKey:zr.e.SELECT_MSG,sec:zr.g.MSG_LIST_MSG}),lastMessageGroup:e}):this.handleMessageGroupInteraction(hg.k,{messageGroup:e,i13nModel:babelHelpers.extends({},t,{mKey:zr.e.SELECT_MSG,sec:zr.g.MSG_LIST_MSG})})}),this.handleReadClick=((e,t)=>{const{flags:s}=Object(kh.f)(e,{listId:this.props.listId});this.handleMessageGroupInteraction(s.read?hg.i:hg.f,{messageGroup:e,i13nModel:babelHelpers.extends({},t,{mKey:s.read?zr.e.MARK_MSG_UNREAD:zr.e.MARK_MSG_READ,sec:zr.g.MSG_LIST_MSG,mKeyGroup:s.read?zr.f.mark_unread:zr.f.mark_read})})}),this.handleStarClick=((e,t)=>{const{flags:s}=Object(kh.f)(e,{listId:this.props.listId});this.handleMessageGroupInteraction(s.flagged?hg.h:hg.b,{messageGroup:e,i13nModel:babelHelpers.extends({},t,{mKey:s.flagged?zr.e.MARK_MSG_UNSTARRED:zr.e.MARK_MSG_STARRED,sec:zr.g.MSG_LIST_MSG,mKeyGroup:s.flagged?zr.f.mark_unstar:zr.f.mark_star})})}),this.handleTrashClick=((e,t)=>{this.handleMessageGroupInteraction(hg.a,{messageGroup:e,i13nModel:babelHelpers.extends({},t,{mKey:zr.e.MSG_LIST_DEL,sec:zr.g.MSG_LIST_MSG,mKeyGroup:zr.f.delete})})}),this.handleAttachmentPreviewClick=(({attachmentId:e,messageGroupId:t,i13nModel:s})=>{this.context.navigateTo({route:Object(ao.c)(this.props.listId,t,e,{fullscreen:"1"}),i13nModel:s})}),this.handleDragStart=((e,t)=>{const s=Object.assign({},this.props.itemSelection,{[e.id]:!0}),{listId:n,actions:a,doSelectAll:r,allItemsCount:o,streamId:i}=this.props,c=r?o:Object.keys(s).length;this.context.executeAction(a.itemDragStart,{streamId:i,streamItem:{id:e.id,listId:n},listId:n,messageGroupIds:[e.id]}),Object(f.h)()?(this.dragIcon||(this.dragIcon=document.createElement("div"),Object(f.g)(this.dragIcon),document.body.appendChild(this.dragIcon)),this.renderDragIcon(c),t.dataTransfer.setDragImage(this.dragIcon,-10,-10)):(t.target.style.maxWidth="1px",t.target.style.height="1px",this.restoreTargetStyle(t.target)),t.dataTransfer.setData("text",JSON.stringify({listId:n,allItemsCount:o,doSelectAll:r})),t.dataTransfer.effectAllowed="move"}),this.handleContactSearchClick=((e,t)=>{const{participants:s,recipients:n}=Object(kh.f)(e,{listId:this.props.listId}),{folderType:a,myAddresses:r}=this.props,o=a===E.ub.SENT||a===E.ub.DRAFT?Object(qt.o)({recipients:n,participants:s,myAddresses:r}):s;let i={};o[0]&&(i={emailAddresses:o[0].email,name:o[0].name||o[0].email}),this.context.navigateTo({route:Object(ao.t)(i),i13nModel:babelHelpers.extends({},t,{mKey:zr.e.CONTACT_SEARCH,sec:zr.g.MSG_LIST_MSG,mKeyGroup:zr.f.search})})}),this.handleSubjectSearchClick=((e,t)=>{const s={keyword:`subject:"${Object(kh.f)(e,{listId:this.props.listId}).subject}"`};this.context.navigateTo({route:Object(ao.t)(s),i13nModel:babelHelpers.extends({},t,{mKey:zr.e.SUBJECT_SEARCH,sec:zr.g.MSG_LIST_MSG,mKeyGroup:zr.f.search})})}),this.restoreTargetStyle=(e=>{setTimeout(()=>{e.style.maxWidth="",e.style.height=""},0)}),this.handleDragEnd=(()=>{this.removeDragIcon(),SI=!1}),this.renderDragIcon=(e=>{const{formatNumber:t}=this.context.intl;Ge.a.render(Ue.a.createElement(sI,{count:e,formatNumber:t}),this.dragIcon)}),this.removeDragIcon=(()=>{this.dragIcon&&(Ge.a.unmountComponentAtNode(this.dragIcon),document.body.removeChild(this.dragIcon),this.dragIcon=null)}),this.getLayoutAndMessageItemHeight=(()=>{const e=this.isCompactLayout(this.props.previewpane),{snippetsEnabled:t,msgListDensity:s}=this.props;let n,a,r;return r=s===E.ec.SLIM?"SLIM":s===E.ec.RELAXED?"RELAXED":"NORMAL",e?t?(n=E.fc[`COMPACT_SNIPPET_${r}`],a=Pr[`MESSAGE_LIST_ITEM_COMPACT_SNIPPET_${r}_HEIGHT`]):(n=E.fc[`COMPACT_${r}`],a=Pr[`MESSAGE_LIST_ITEM_COMPACT_${r}_HEIGHT`]):(n=E.fc[`${r}`],a=Pr[`MESSAGE_LIST_ITEM_${r}_HEIGHT`]),{layout:n,messageItemHeight:a}}),this.isScrolling=(()=>fI),this.isDragging=(()=>SI),this.starIconRef=((e,t)=>{this.starIconContainer[e]=t}),this.readIconRef=((e,t)=>{this.readIconContainer[e]=t}),this.isInvalidItem=(e=>{const{updatedMessages:t}=this.state;return t[e]===hg.a}),this.renderItem=((e,t)=>{const{messageGroupRoutes:s,myAddresses:n,highlightSearchTerm:a,itemSelection:r,openedGroupId:o,messageDestinationLabel:i,listId:c,previewpane:l,snippetsEnabled:d,hideSearchIcon:u,windowDimensions:m,conversations:p,msgListDensity:_,messageGroups:h,messageOpPerfEnabled:E}=this.props;if(this.isInvalidItem(e.id))return null;const g=this.context.getUrlFromRoute(s[e.id]),{layout:b}=this.getLayoutAndMessageItemHeight(),I=this.getCursorPosition(),f=E&&I>=0&&I<h.length?h[I].id:o;let S=!1;return this.props.showInboxCouponsCue&&!AI&&t<this.props.messageInitialRenderCount&&e.messages&&e.messages.length>0&&e.messages[0].decos&&e.messages[0].decos.some(e=>"CPN"===e.id)&&e.messages[0].cardConversationId&&(AI=!0,S=!0),this.starIconContainer||(this.starIconContainer={}),this.readIconContainer||(this.readIconContainer={}),Ue.a.createElement($b.a,{key:e.id,listId:c,messageGroupListId:c,messageGroupId:e.id,active:!Object.keys(r).length&&e.id===f,selected:!!r[e.id],hovered:!0,messageURL:g,isScrolling:this.isScrolling,myAddresses:n,highlightSearchTerm:a,messageDestinationLabel:i,layout:b,msgListDensity:_,isCompactLayout:this.isCompactLayout(l),isConversationMode:p,onClick:this.handleMessageOpen,onDoubleClick:this.handleOnDoubleClick,onShiftClick:this.handleShiftClick,snippetsEnabled:d,isDragging:this.isDragging,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onCheckboxClick:this.handleCheckboxClick,onCtrlClick:this.handleCtrlClick,onReadClick:this.handleReadClick,onStarClick:this.handleStarClick,onDeleteClick:this.handleTrashClick,onContactSearchClick:this.handleContactSearchClick,onSubjectSearchClick:this.handleSubjectSearchClick,hideSearchIcon:u,onAttachmentPreviewClick:this.handleAttachmentPreviewClick,attachmentTraySize:m.innerWidth>Pr.NARROW_SCREEN_WIDTH?4:3,showInboxCouponsCue:this.props.showInboxCouponsCue&&S,starRef:this.starIconRef,readRef:this.readIconRef})}),this.renderAd=(e=>{const{previewpane:t,adFeedbackStatus:s,adRotationId:n,listId:a,isAppVisible:r,geminiSectionIds:o,timechunkPencilAd:i}=this.props,{STARTED:c,SUBMITTED:l}=E.k,d=this.isCompactLayout(t),{MESSAGE_LIST:u,MESSAGE_LIST_2:m}=E.vb;return this.pencilAdNodes=this.pencilAdNodes||{},s[e]===c||s[e]===l?Ue.a.createElement(aI.a,{key:"ad-feedback",adFeedbackSubmitted:s[e]===l,isCompactLayout:d,sectionId:e}):Ue.a.createElement(nI.a,{key:"pencil",id:"PENCIL",anchorRef:t=>this.pencilAdNodes[e]=t,viewabiltyContainerScrollTop:this.scrollTop||0,anchor:this.pencilAdNodes[e],adRotationId:n,isCompactLayout:d,listId:a,isAppVisible:r,viewabiltyContainerNode:this.messageItemContainer,sectionId:e,adPosition:e===o[u]?u:m,geminiSectionIds:o,timechunkPencilAd:i})}),this.handleNewAd=(()=>{const{pencilAdData:e,geminiViewability:t}=this.props;if(t){const{rules:t,actionUrls:s,beacon:n}=e;if(this.beaconsFired={viewabilityDefStatic:!n,viewabilityDefStatic3P:!(s&&s.STATIC_VIEW_3P),partialView:!(s&&s.PARTIAL_VIEW)},this.allBeaconsFired=!1,t&&0!==Object.keys(t).length){const{viewabilityDefStatic:e,viewabilityDefStatic3P:s}=t;clearTimeout(this.initialVBeaconCheck),clearTimeout(this.initialV3PBeaconCheck),this.initialVBeaconCheck=setTimeout(this.checkAdBeacons,1e3*e.d),this.initialV3PBeaconCheck=s?setTimeout(this.checkAdBeacons,1e3*s[0].d):null,this.checkAdBeacons()}}}),this.checkAdBeacons=(()=>{const{pencilAdData:e,previewpane:t,isAppVisible:s,geminiViewability:n,geminiSectionIds:a}=this.props,r=this.pencilAdNodes[a[E.vb.MESSAGE_LIST]];if(this.allBeaconsFired=this.allBeaconsFired||oI()(this.beaconsFired,e=>e),!this.allBeaconsFired&&s&&n&&Object(iI.d)(r)){const s=this.isCompactLayout(t)?Pr.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT:Pr.MESSAGE_LIST_GEMINI_AD_HEIGHT;this.beaconsFired=Object(iI.c)(e,s,this.scrollTop||0,this.beaconsFired,this.adRenderTime)}}),this.isCompactLayout=(e=>e===E.Gc.RIGHT),this.hideDeleteConfirm=(()=>{this.state.showDeleteConfirm&&(this.setState({showDeleteConfirm:!1,idsToDelete:[]}),this.context.executeAction(Um))}),this.renderDeleteConfirm=(()=>{if(this.state.showDeleteConfirm){const{formatMessage:e}=this.context.intl,{idsToDelete:t}=this.state,{permDelete:s,listId:n,conversations:a,streamId:r}=this.props,o={conversations:a,count:t.length},i=1===t.length?{id:t[0],listId:n}:void 0;return Ue.a.createElement(Jp.a,{title:e(Vg.a.confirm_delete_title,o),message:e(s?Vg.a.confirm_permanently_delete_messages:Vg.a.confirm_delete_messages,o),onConfirm:()=>this.handleDelete({listId:n,messageGroupIds:t,streamId:r,streamItem:i}),onAbort:this.hideDeleteConfirm})}return null}),this.onScrollTopChange=(e=>{const{geminiViewability:t}=this.props;fI=!1,this.scrollTop=e,t&&this.debouncedCheckAdBeacons()}),this.renderItemList=(()=>{const e=this.props,{hasMoreItems:t,previewpane:s,listId:a,messageGroups:r,adFeedbackStatus:o,messageScrollLoadThreshold:i,messageInitialRenderCount:c,searchAdBackBucket:l,heightOptimizationBackBucket:d,fanAds:u}=e,m=this.isCompactLayout(s),{messageItemHeight:p}=this.getLayoutAndMessageItemHeight();return Ue.a.createElement($h.a,{getUnsyncedData:this.getUIState},Ue.a.createElement(Xb.a,babelHelpers.extends({onSelect:this.handleItemSelect,onSelectAll:this.handleItemSelectAll,onOpen:this.handleCursorOpen,initialRenderCount:c,loadThreshold:i,renderItem:(e,t)=>e&&e.listAd?this.renderAd(e.sectionId):this.renderItem(e,t),getHeightForIndex:(e,t)=>{if(e[t]&&e[t].listAd){const{sectionId:s}=e[t];if(o[s]===E.k.STARTED)return m?Pr.MESSAGE_LIST_COMPACT_FEEDBACK_FORM_HEIGHT:Pr.MESSAGE_LIST_FEEDBACK_FORM_HEIGHT;if(o[s]===E.k.SUBMITTED||d||l||u)return m?Pr.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT:Pr.MESSAGE_LIST_GEMINI_AD_HEIGHT_M}return p},getItemListSize:e=>e.length,getItemsForIndex:(e,t)=>e[t],getTimeStampFromItem:e=>1e3*Object(kh.c)(e,{listId:a}),hasMoreItems:t,itemsToFetch:E.R,items:r,layoutKey:s,Element:()=>{},onScroll:()=>{fI=!0},initialScrollTop:this.getSavedScrollTop(),onScrollTopChange:this.onScrollTopChange,scrollRef:e=>this.scrollContainer=e,messageListContainerNode:this.messageItemContainer,messageListHeight:n,isInvalidItem:this.isInvalidItem},e)))}),this.getMessageItemContainer=(e=>{this.messageItemContainer=e}),t}componentDidMount(){this.adRenderTime=Date.now(),this.pencilAdNodes={},this.context.bindShortcut(II,this.handleShortcuts),this.handleNewAd(),this.updateMessageListHeight()}componentWillUnmount(){this.context.unbindShortcut(II),this.updateMessageListHeight();const{messageOpPerfEnabled:e,listId:t,streamId:s}=this.props;if(e){const{updatedMessages:e}=this.state,{deletedMessageGroups:n,batchRemoveItems:a}=this.getDeletedMessagesPayload(e);if(n.length>=0){const e={listId:t,messageGroupIds:[],streamId:s},{executeAction:r}=this.context;this.updateDeletePayload(e,{deletedMessageGroups:n,batchRemoveItems:a}),r(this.getActionCreator(hg.a),e),clearTimeout(this.postponeDelete)}}}componentDidUpdate(e){this.props.pencilAdData.clickUrl!==e.pencilAdData.clickUrl&&(this.adRenderTime=Date.now(),this.handleNewAd()),e.messageGroups!==this.props.messageGroups&&this.props.messageOpPerfEnabled&&!this.state.deleting&&this.setState({updatedMessages:{},cursorIndexOffset:0})}componentWillMount(){this.debouncedCheckAdBeacons=Qu()(this.checkAdBeacons,200),AI&&(AI=!1)}componentWillUpdate(){AI&&(AI=!1)}render(){return Ue.a.createElement("div",{className:bI.container,"data-test-id":"message-group-list-container",ref:this.getMessageItemContainer},Ue.a.createElement(Qr.a,{defer:!0,import:"./atoms/loading_bar.jsx",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,939))},_moduleResolver:function(){return 939}}),this.renderItemList(),this.renderDeleteConfirm())}},e.contextTypes={executeAction:Ve.a.func,navigateTo:Ve.a.func.isRequired,intl:Sr.i.isRequired,config:Ve.a.object,store:Ve.a.object,getUrlFromRoute:Ve.a.func.isRequired,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func},e.defaultProps={highlightSearchTerm:!1},t})());var CI=Object(Ir.b)((e,t)=>{const{listId:s,items:n}=t,{getRoute:a,getFeaturesSelectors:r,doesStreamExist:o,getCursor:i,getAllItemsCountForListId:c,getMainStreamListIds:l,getSelectedItems:d}=Object(ro.b)(e),u=Object(s_.a)(l(a())),m=r(),p=d(u),_=n.map(({id:e})=>e),h=Object.keys(p),g=_.length>0&&_.length===h.length,b=c(s),I=m.getSetting(E.nd.ITEM_LIST_PAGE_THRESHOLD),f=m.getSetting(E.nd.BUFFER_SIZE),{index:S=-1,streamItem:A={}}=o(u)?i(u):{},{id:T}=A;return{streamId:u,allItemsCount:b,allItemsSelected:g,openedGroupId:T,itemSelection:p,itemListPageThreshold:I,bufferSize:f,cursorIndex:S,snippetsEnabled:m.isEnabled(E.nd.SNIPPETS),msgListDensity:m.getSetting(E.nd.MSG_LIST_DENSITY)}})(e=>{switch(e.listContentType){case E.Fb.IMAGES:return Ue.a.createElement(Qr.a,babelHelpers.extends({import:"../../../molecules/photo_grid/index.jsx"},e,{key:e.listId,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,957))},_moduleResolver:function(){return 957}}));case E.Fb.DOCUMENTS:return Ue.a.createElement(Qr.a,babelHelpers.extends({import:"../../../molecules/document_list/index.jsx"},e,{key:e.listId,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,938))},_moduleResolver:function(){return 938}}));default:return Ue.a.createElement(TI,babelHelpers.extends({messageGroups:e.items},e,{key:e.listId}))}});var OI=Object(Ir.b)((e,t)=>{const{getFeaturesSelectors:s,getRoute:n,getWindowDimensions:a,doesFolderIdExist:r,getPrimaryFolderTypeByFolderId:o,isAppVisible:i,doesListExist:c,getTimeZoneName:l,__patchV2MyAddresses__:d,getRootAccounts:u,getListStatus:m,getMessageGroupRoutes:p,getListItems:_}=Object(ro.b)(e),h=s(),{listId:g}=t,b=Object(io.m)(g),I=b&&r(b)&&o(b),f=d(),S=u(),A=Object(io.q)(g),T=_(g),C=a(),O=n(),R=Object(io.G)(g),N=Object(io.D)(g),M={timezone:l(),offset:0},D=T.length>=Yb.c&&(N===E.Cd.DATE_DESC||N===E.Cd.DATE_ASC),y=h.getSetting(E.nd.MESSAGE_DESTINATION_LABEL_TYPE);return{listId:g,state:c(g)?m(g):E.Rc.DOES_NOT_EXIST,permDelete:I===E.ub.DRAFT||I===E.ub.TRASH||I===E.ub.BULK,myAddresses:f,items:T,folderType:I,dateFormattingOption:M,sortOrder:N,messageGroupRoutes:p(g),highlightSearchTerm:!0,messageDestinationLabel:y,accounts:S,windowDimensions:C,listContentType:A,hasTimeChunking:D,actions:jm,height:t.height,hideSearchIcon:R,isAppVisible:i(),route:O}})(class extends Ue.a.Component{shouldComponentUpdate(e){return!!e.listId}render(){return this.props.listId?Ue.a.createElement(CI,this.props):null}}),RI=s(345),NI=s.n(RI),MI=s(464);const DI=Object(Sr.h)({message_list:{id:"landmark.message_list",defaultMessage:"{previewpane, plural,\n            =0 {Message list.}\n            one {Message list. Currently in right preview mode. Use Shift + V to switch to another preview mode.}\n            other {Message list. Currently in bottom preview mode. Use Shift + V to switch to another preview mode.}\n        }"}}),yI=["shift+v"],LI="hSliderPos",vI="vSliderPos";Object(to.b)({group:so.c,keys:{togglePreviewPaneSetting:{key:"SHIFT+V",description:Ue.a.createElement(Sr.c,{id:"shortcut.toggle_preview_pane_setting",defaultMessage:"Show/hide {previewPane}",values:{previewPane:Ue.a.createElement("strong",null,Ue.a.createElement(Sr.c,{id:"shortcut.toggle_preview_pane_setting_strong",defaultMessage:"Preview Pane"}))}})}}});class PI extends Ue.a.Component{constructor(e){super(e),FI.call(this);const{previewpaneResizable:t}=e;this.state={hSliderPos:t&&parseFloat(Object(pd.a)(LI))||Pr.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET,vSliderPos:t&&parseFloat(Object(pd.a)(vI))||Pr.PREVIEW_PANE_DEFAULT_TOP_PERCENT_OFFSET,size:0,widthChanged:0}}componentDidMount(){this.context.bindShortcut(yI,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(yI)}componentDidUpdate(e,t){t.hSliderPos!==this.state.hSliderPos&&this.setState({widthChanged:t.hSliderPos-this.state.hSliderPos})}shouldComponentUpdate(e,t){const s=this.props,n=this.state;return s.route!==e.route||0===s.numberOfMessageSelection&&e.numberOfMessageSelection>0||s.numberOfMessageSelection>0&&0===e.numberOfMessageSelection||s.openedGroupId!==e.openedGroupId||s.csid!==e.csid||s.isEmpty!==e.isEmpty||s.previewpane!==e.previewpane||s.previewpaneResizable!==e.previewpaneResizable||!!e.previewpaneResizable&&(n.hSliderPos!==t.hSliderPos||n.vSliderPos!==t.vSliderPos||n.size!==t.size)}render(){const{formatMessage:e}=this.context.intl,{previewpane:t}=this.props,s=this.context.getCss(NI.a);return Ue.a.createElement("div",{className:s.container,"data-test-id":"mail-reader-container",role:"main","aria-label":e(DI.message_list,{previewpane:t})},this.renderReader())}}PI.contextTypes={executeAction:Ve.a.func,intl:Sr.i.isRequired,getCss:Ve.a.func,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func};var FI=function(){this.getToolbarKind=(()=>{const{previewpane:e}=this.props;let t;return e===E.Gc.RIGHT?t=km.LIST_WITH_PREVIEW_RIGHT:e===E.Gc.BOTTOM&&(t=km.LIST_WITH_PREVIEW_BOTTOM),t}),this.handleShortcuts=(e=>{const t=String.fromCharCode(e.which||e.keyCode).toLowerCase();e.preventDefault(),e.stopPropagation(),"v"===t&&e.shiftKey&&this.handlePreviewPaneSettingChange(e)}),this.handlePreviewPaneSettingChange=(e=>{e.preventDefault();const{previewpane:t}=this.props;let s;switch(t){case E.Gc.NO:s=E.Gc.RIGHT;break;case E.Gc.RIGHT:s=E.Gc.BOTTOM;break;case E.Gc.BOTTOM:s=E.Gc.NO}const n={mKey:zr.e.SETTINGS_PREVIEW_PANE,sec:zr.g.SETTINGS_INBOX_TAB,interactionType:Object(Ps.i)(e)};this.props.changeSettings({name:E.nd.PREVIEW_PANE,value:s,i13nModel:n})}),this.handleSlide=((e,t,s)=>{this.setState({[e]:t,size:s})}),this.renderReader=(()=>{const{hSliderPos:e,vSliderPos:t,size:n}=this.state,{previewpane:a,previewpaneResizable:r,ItemList:o,ListHeader:i,numberOfMessageSelection:c,openedGroupId:l,csid:d,toolbarV3:u,isEmpty:m,isRTL:p}=this.props,_=this.context.getCss(NI.a,{previewpane:a});if(!a){const e=Ue.a.createElement(o,babelHelpers.extends({},this.props,this.state,{openedMessageId:l}));return Ue.a.createElement("div",{className:_.mailReader,"data-test-id":"mail-reader","data-test-preview":a},i?Ue.a.createElement(i,this.props):null,Ue.a.createElement("div",{className:_.toolbar,"data-test-id":"mail-reader-toolbar"},u?Ue.a.createElement(Qr.a,babelHelpers.extends({import:"../../../../molecules/list/atoms/message_toolbar"},this.props,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,896))},_moduleResolver:function(){return 896}})):Ue.a.createElement(wb,babelHelpers.extends({},this.props,{kind:km.LIST,activeGroupId:l}))),Ue.a.createElement("div",{className:_.listContainer,"data-test-id":"mail-reader-list-container"},e))}let h,g={},b=0;if(a===E.Gc.RIGHT){if(g={flexBasis:`${e}%`},r){const t=parseFloat(e);b=t>Pr.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET?t:Pr.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET}}else g={flexBasis:n>0?`${t/100*n}px`:`${t}%`},r&&(h=parseFloat(t));const I=Ue.a.createElement(o,babelHelpers.extends({},this.props,this.state,{height:h,openedMessageId:l}));return Ue.a.createElement("div",{"data-test-id":"mail-reader","data-test-preview":a,className:_.mailReader},i?Ue.a.createElement(i,this.props):null,Ue.a.createElement("div",{className:_.toolbar},Ue.a.createElement(wb,babelHelpers.extends({},this.props,{kind:this.getToolbarKind(),activeGroupId:l,previewPaneOffset:b,showActionLabels:!(b>Pr.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET)}))),Ue.a.createElement("div",{className:_.listContainer,ref:"listContainer"},Ue.a.createElement("div",{height:h,className:_.leftPane,style:g,ref:"leftPane"},I),Ue.a.createElement(Qr.a,{import:"../resizer",isEmpty:m,previewpane:a,previewpaneResizable:r,resize:this.handleSlide,isRTL:p,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,895))},_moduleResolver:function(){return 895}}),Ue.a.createElement("div",{className:_.rightPane},0===c&&(l||d)?Ue.a.createElement("div",{className:_.messageView},Ue.a.createElement(Kb,babelHelpers.extends({},this.props,{hasToolbar:!1,openedMessageId:l,csid:d,widthChanged:this.state.widthChanged}))):Ue.a.createElement("div",{className:_.blank},Ue.a.createElement(MI.a,{listId:this.props.listId,streamId:this.props.streamId})))))})},xI=PI,wI=s(627),kI=s.n(wI),HI=s(628),UI=s.n(HI);function jI(e,t){const s=t.getCss(UI.a);return Ue.a.createElement("div",{"data-test-id":"did-you-mean",className:s.didYouMean},Ue.a.createElement(Sr.c,{id:"search.did_you_mean",defaultMessage:"No results found. Showing search results for: {suggestedWord}.",values:{suggestedWord:Ue.a.createElement("span",{className:s.didYouMeanWord,"data-test-id":"did-you-mean-word"},e.suggestedWord)}}))}jI.contextTypes={getCss:Ve.a.func};var GI=s(629),BI=s.n(GI);const VI=Object(Sr.h)({related_searches:{id:"search.related_searches",defaultMessage:"Related searches:"},related_search:{id:"search.related_search",defaultMessage:"Related search:"}});class WI extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.renderPill=((e,t,s,n)=>{const{name:a,position:r,xobniId:o,email:i,emails:c=[]}=e,l=i||c[0],d=this.context.getThemeMode()===Is.f.DARK;return Ue.a.createElement(y_.a,{key:o,email:l,isCompose:!1,name:a},Ue.a.createElement(kl.a,{value:a,title:r,contactId:o,contactEmail:l,isLastElement:t===s.length-1,isSelected:n,onPillClick:()=>this.props.onClick(e),contact:e,useEllipsis:!0,maxWidth:Pr.PillMaxWidths.S,isDark:d,dragDropPill:this.props.dragDropPill}))}),t}static filterContacts(e,t){const s=t.map(({email:e})=>e);return e.length&&(e=e.filter(e=>{const{email:t,emails:n=[]}=e;return!!(t||n[0])&&-1===s.indexOf(t)})),e}render(){const e=this.props.maxContactsVisible,t=WI.filterContacts(this.props.contacts,[]).slice(0,e),s=t.length>1?VI.related_searches:VI.related_search,n=this.context.getCss(BI.a);return t.length>0&&Ue.a.createElement("div",{className:n.container,"data-test-id":"search-suggest-contact"},Ue.a.createElement("div",{className:n.labelPadding},Ue.a.createElement(Sr.c,s)),t.map((e,s)=>this.renderPill(e,s,t,!1)))}}WI.contextTypes={intl:Sr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func},WI.defaultProps={tabIndex:-1,maxContactsVisible:2,selectedContacts:[],contacts:[]};var qI=WI;const zI=Object(Sr.h)({messages_aria_label:{id:"search.messages_aria_label",defaultMessage:"Messages, selected"},images_aria_label:{id:"search.images_aria_label",defaultMessage:"Images, selected"},documents_aria_label:{id:"search.documents_aria_label",defaultMessage:"Documents, selected"},content_filter_messages:{id:"search.content_filter_messages",defaultMessage:"Messages"},content_filter_images:{id:"photos_label",defaultMessage:"Photos"},content_filter_documents:{id:"search.content_filter_documents",defaultMessage:"Documents"}});class ZI extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={imagesHeader:null},this.handleContentTypeChange=((e,t)=>{const s=zr.e["FILTER_"+t],n=s?{mKey:s,sec:zr.g.HEADER_LIST,interactionType:Object(Ps.i)(e)}:null;this.props.onContentTypeChange({listContentType:t,i13nModel:n})}),this.renderContentTypeFilter=(()=>{const{activeContentType:e}=this.props,{formatMessage:t}=this.context.intl,s=e===E.Fb.IMAGES,n=e===E.Fb.DOCUMENTS;return Ue.a.createElement(Cb.a,null,Ue.a.createElement(Ob.a,{isSelected:e===E.Fb.MESSAGES,onClick:e=>this.handleContentTypeChange(e,E.Fb.MESSAGES),"data-test-id":"btn-messages-tab",title:t(zI.content_filter_messages)}),Ue.a.createElement(Ob.a,{isSelected:s,onClick:e=>this.handleContentTypeChange(e,E.Fb.IMAGES),"data-test-id":"btn-photos-tab",title:t(zI.content_filter_images),itemRef:e=>{this.state.imagesHeader||this.setState({imagesHeader:e})}}),Ue.a.createElement(Ob.a,{isSelected:n,onClick:e=>this.handleContentTypeChange(e,E.Fb.DOCUMENTS),"data-test-id":"btn-documents-tab",title:t(zI.content_filter_documents)}),this.renderSearchCue())}),this.updateContent=(()=>{this.popoverContent&&this.popoverContent.updatePosition()}),this.renderSearchCue=(()=>this.props.showSearchCue&&this.state.imagesHeader?Ue.a.createElement(Fr.a,{popoverAnchor:this.state.imagesHeader,align:kr.a.CENTER,triggerOn:kr.h.MOUNT,permittedArrowDirections:[kr.g.UP],offset:16,ref:e=>{this.popoverContent=e},zAltitude:Pr.ZIndices.POPOVER.HIGH},Ue.a.createElement(Qr.a,{import:"../molecules/search_header/atoms/search_cue",cueName:E.mb.SEARCH_CUE,onShow:this.updateContent,close:this.props.activeContentType!==E.Fb.MESSAGES,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,965))},_moduleResolver:function(){return 965}})):null),this.renderSuggestedWords=(()=>{const{suggestedWords:e}=this.props,[t]=e;return t?Ue.a.createElement(jI,{suggestedWord:t}):null}),this.renderSuggestedContacts=(()=>{const{suggestedContacts:e,suggestedWords:t,dragDropPill:s}=this.props;return t.length?null:!this.props.isPeopleSearch&&e&&e.length>0&&Ue.a.createElement(qI,{contacts:e,onClick:this.props.onContactClick,dragDropPill:s})}),t}render(){const e=this.context.getCss(kI.a);return Ue.a.createElement("div",null,Ue.a.createElement("div",{className:e.searchHeader,"data-test-id":"search-header"},this.renderContentTypeFilter(),this.renderSuggestedWords(),this.renderSuggestedContacts()))}}ZI.contextTypes={getCss:Ve.a.func,intl:Sr.i.isRequired};var KI=ZI;class YI extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.handleContentTypeChange=(({listContentType:e,i13nModel:t})=>{this.context.navigateTo({route:{name:E.Uc.SEARCH,params:{query:Object(io.S)(Object(io.Q)(this.props.listId,{listContentType:e}))}},i13nModel:t})}),this.handleContactClick=(e=>{const{name:t,email:s,emails:n=[]}=e,a=s||n[0];this.context.navigateTo({route:Object(ao.t)({emailAddresses:a,name:t})})}),t}render(){return Ue.a.createElement(KI,{suggestedWords:this.props.suggestedWords,onContentTypeChange:this.handleContentTypeChange,onContactClick:this.handleContactClick,isPeopleSearch:Object(io.G)(this.props.listId),activeContentType:Object(io.q)(this.props.listId),keyword:Object(io.p)(this.props.listId),suggestedContacts:this.props.suggestedContacts,showSearchCue:this.props.showSearchCue,dragDropPill:this.props.dragDropPill})}}YI.contextTypes={executeAction:Ve.a.func,navigateTo:Ve.a.func.isRequired};var XI=Object(Ir.b)((e,t)=>{const s=Object(io.Q)(t.listId,{listContentType:E.Fb.PEOPLE,listFilter:E.Gb.WITH_KEYWORD}),{getFeaturesSelectors:n,doesListExist:a,getPeopleListItems:r,getListSuggestedWords:o,getCurrentListId:i}=Object(ro.b)(e),c=n(),l=a(s)?r(s):[],d=c.isEnabled("dragDropPill"),u=i();return{suggestedWords:a(u)?o(u):[],suggestedContacts:l,dragDropPill:d,showSearchCue:c.isEnabled(E.mb.SEARCH_CUE)}})(YI),$I=s(465),QI=s(289),JI=s.n(QI),ef=s(466);const tf=Object(Sr.h)({message_list:{id:"landmark.message_list",defaultMessage:"{previewpane, plural,\n            =0 {Message list.}\n            one {Message list. Currently in right preview mode. Use Shift + V to switch to another preview mode.}\n            other {Message list. Currently in bottom preview mode. Use Shift + V to switch to another preview mode.}\n        }"}});class sf extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.getListHeader=(()=>{const{listId:e,route:t,shouldIncludeCouponsHeader:s}=this.props;return s?ef.a:t.name!==E.Uc.SEARCH||Object(io.E)(e)?Object(Ql.e)(e)?$I.a:null:XI}),t}render(){const{mailReaderV3:e,previewpane:t,listId:n,isRTL:a,haveScrollToTop:r}=this.props,{formatMessage:o}=this.context.intl,i=this.context.getCss(JI.a);return e?Ue.a.createElement("div",{className:i.container,"data-test-id":"mail-reader-container",role:"main","aria-label":o(tf.message_list,{previewpane:t})},Ue.a.createElement(Qr.a,{defer:!0,import:"../../../molecules/list/list.jsx",listId:n,haveScrollToTop:r,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,650))},_moduleResolver:function(){return 650}})):Ue.a.createElement(xI,babelHelpers.extends({key:n},this.props,{ItemList:OI,ListHeader:this.getListHeader(),isRTL:a}))}}sf.contextTypes={intl:Sr.i.isRequired,getCss:Ve.a.func,config:Ve.a.object};var nf=Object(Ir.b)(e=>{const{getFeaturesSelectors:t,getCurrentListId:s,getRoute:n,getRouteParams:a,doesMessageGroupIdExist:r,isSingleDraftGroup:o,getCsidForSingleDraftGroup:i,getSelectedStreamItems:c,doesStreamExist:l,getSmartViewTypeFromRoute:d,getSmartViewPosition:u,getEnvironmentSelectors:m,isFeatureEnabled:p,getMainStreamListIds:_,getMainStreamItems:h,getCursorItem:g}=Object(ro.b)(e),b=s(),I=n(),f=_(I),S=Object(s_.a)(f),A=h(I),T=l(S)?g(S):void 0,C=0===A.length,O=t(),R=O.isEnabled(E.mb.RESIZABLE_PREVIEW_PANE),N=O.isEnabled(E.mb.TOOLBAR_V3),M=O.isEnabled(E.mb.MAIL_READER_V3),{id:D}=T||{},y=a(),L=D||y.groupId,v=!!r(L)&&o(L),P=l(S)?c(S).length:0,F=Object(io.I)(I)?d(I):null,x=F===E.zd.COUPONS&&(u(F)===E.yd.TAB_BAR||p(E.mb.TAIWAN_SHOPPING_VIEW)),w=Object(io.q)(b)===E.Fb.MESSAGES;return{previewpane:O.getSetting(E.nd.PREVIEW_PANE),route:I,listId:b,streamId:S,openedGroupId:v||0!==P?void 0:D,csid:v?i(L):void 0,numberOfMessageSelection:P,previewpaneResizable:R,toolbarV3:N,mailReaderV3:M,isEmpty:C,shouldIncludeCouponsHeader:x,isRTL:"rtl"===m().getPageDirection(),haveScrollToTop:w}},e=>({changeSettings:t=>e(Object(Qp.a)(t))}))(sf);const af={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"};var rf=class extends Ue.a.Component{render(){return Ue.a.createElement(Qr.a,{import:"../../../../molecules/settings/settings.jsx",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,940))},_moduleResolver:function(){return 940}},Ue.a.createElement(Qr.b,{loading:!0},Ue.a.createElement("div",{style:af},Ue.a.createElement(Nc.b,null))))}};class of extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.navigateToNewSponsoredCompose=(()=>{const e=Object(Ps.f)();this.context.navigateTo({route:Object(ao.e)(e),forwardCreativeId:this.props.creativeId})}),this.saveSponsoredMessage=(()=>{this.props.saveSponsoredMessage({subject:this.props.subject,asset:this.props.asset}),this.context.navigateTo({route:Object(ao.m)(this.props.listId)})}),this.onClose=(({i13nModel:e={}}={})=>{this.props.onClose({listId:this.props.listId,i13nModel:e})}),this.getVideoConfig=(()=>{const{videoAd:e,pageSpaceId:t,geminiVideoAdId:s,site:n,expName:a,landingUrl:r}=this.props,{region:o}=this.context,{videoMediaAssets:i,thumbnail:c,clickUrl:l,rules:d,actionUrls:u}=e;return{site:n,expName:a,autoplay:!0,html5:!0,mute:!0,pageSpaceId:t,playlist:{mediaItems:[{id:s,images:{thumbnail:c}}]},YVAP:{standaloneAd:{gemini:{mediaInfo:i,clickUrl:l,landingUrl:r},rules:d,beacons:u}},replayonlyendscreen:!0,ccOnMute:!0,region:o}}),t}shouldComponentUpdate(e){const t=Object(S.a)(e,"videoAd.clickUrl"),s=Object(S.a)(this.props,"videoAd.clickUrl");return!!e.asset&&e.asset!==this.props.asset||!!t&&t!==s}render(){const{conversations:e}=this.props;return this.props.isLoadingGeminiAsset?null:Ue.a.createElement(Qr.a,{import:"../../../molecules/ads/sponsored_message_read.jsx",asset:this.props.asset,listId:this.props.listId,subject:this.props.subject,actionUrls:this.props.actionUrls,forwardCreative:this.props.videoAd?null:this.navigateToNewSponsoredCompose,saveSponsoredMessage:this.props.videoAd?null:this.saveSponsoredMessage,onClose:this.onClose,videoConfig:this.props.videoAd&&this.getVideoConfig(),source:this.props.source,description:this.props.description,action:Object(S.a)(this.props,"videoAd.callToAction"),emailAddress:this.props.emailAddress,accountName:this.props.accountName,embeddedLandingUrls:this.props.embeddedLandingUrls,conversations:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,948))},_moduleResolver:function(){return 948}})}}of.displayName="SponsoredMessage",of.contextTypes={region:Ve.a.string,navigateTo:Ve.a.func};var cf=Object(Ir.b)(e=>{const{getFeaturesSelectors:t,getAdsSelectors:s,getRoute:n,getAccountSelectors:a,getCurrentSpaceId:r,isLoadingGeminiAsset:o,getSelectedAccountId:i}=Object(ro.b)(e),c=t(),l=n(),d=Object(S.a)(l,"params.creativeId"),u=r(),m=Object(io.t)(l),p=s(),_=c.isEnabled(E.mb.CONVERSATIONS),{getSponsoredAd:h}=p,g=c.getSetting(E.nd.GEMINI_VIDEO_AD_ID),b=c.getSetting(E.nd.GEMINI_VIDEO_AD_SITE),I=c.getSetting(E.nd.GEMINI_VIDEO_AD_EXP_NAME),{nativeAd:f={},pencilAd:A={},videoAd:T}=h(d)||{},C=Object(S.a)(f,"actionUrls",{}),{getAccountNameByAccountId:O,getAccountEmailByAccountId:R}=a(),N=i(),M=O(N),D=R(N);return{videoAd:T,pageSpaceId:u,geminiVideoAdId:g,site:b,expName:I,creativeId:d,listId:m,asset:f.geminiSponsoredAsset,subject:A.adHeadline,actionUrls:C,source:A.adSource,description:A.adSummary,accountName:M,emailAddress:D,embeddedLandingUrls:f.embeddedLandingUrls,isLoadingGeminiAsset:o(),landingUrl:A.landingUrl,conversations:_}},e=>({saveSponsoredMessage:t=>e(Object($d.y)(t)),onClose:t=>e(Object(Dr.c)(t))}))(of),lf=s(631),df=s.n(lf);const uf=Wr()(df.a);var mf=Object(Ir.b)(e=>{const{getFeaturesSelectors:t}=Object(ro.b)(e);return{newMailVideoId:t().getSetting("newMailVideoId")}})(class extends Ue.a.Component{render(){return Ue.a.createElement(Qr.a,{import:"../../../../molecules/tutorial/index.jsx",newMailVideoId:this.props.newMailVideoId,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,953))},_moduleResolver:function(){return 953}},Ue.a.createElement(Qr.b,{loading:!0},Ue.a.createElement("div",{className:uf.container},Ue.a.createElement(Nc.b,null))))}});const pf=Object(Sr.h)({message_list:{id:"landmark.message_list",defaultMessage:"{previewpane, plural,\n            =0 {Message list.}\n            one {Message list. Currently in right preview mode. Use Shift + V to switch to another preview mode.}\n            other {Message list. Currently in bottom preview mode. Use Shift + V to switch to another preview mode.}\n        }"}});class _f extends Ue.a.Component{render(){const{formatMessage:e}=this.context.intl,{listId:t,previewpane:n}=this.props,a=this.context.getCss(JI.a);return Ue.a.createElement("div",{className:a.container,"data-test-id":"mail-reader-container",role:"main","aria-label":e(pf.message_list,{previewpane:n})},Ue.a.createElement(Qr.a,{defer:!0,import:"../list/list.jsx",listId:t,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,650))},_moduleResolver:function(){return 650}}))}}_f.contextTypes={intl:Sr.i.isRequired,getCss:Ve.a.func},_f.defaultProps={previewpane:0};const hf={[E.Cc.COMPOSE]:yE,[E.Cc.MESSAGE]:Kb,[E.Cc.V3_MAIL_READER]:_f,[E.Cc.MAIL_READER]:nf,[E.Cc.SETTINGS]:rf,[E.Cc.SPONSORED_MESSAGE]:cf,[E.Cc.TUTORIAL]:mf};const Ef={[E.Uc.LIST]:hf[E.Cc.MAIL_READER],[E.Uc.BASE]:hf[E.Cc.MAIL_READER],[E.Uc.FOLDER]:hf[E.Cc.MAIL_READER],[E.Uc.SEARCH]:hf[E.Cc.MAIL_READER],[E.Uc.MESSAGE_FROM_LIST]:hf[E.Cc.MESSAGE],[E.Uc.MESSAGE_FROM_SEARCH_LIST]:hf[E.Cc.MESSAGE],[E.Uc.MESSAGE_FROM_FOLDER_LIST]:hf[E.Cc.MESSAGE],[E.Uc.PHOTO]:hf[E.Cc.MESSAGE],[E.Uc.NEW_DRAFT]:hf[E.Cc.COMPOSE],[E.Uc.EDIT_DRAFT]:hf[E.Cc.COMPOSE],[E.Uc.SPONSORED_MESSAGE]:hf[E.Cc.SPONSORED_MESSAGE],[E.Uc.SETTINGS]:hf[E.Cc.SETTINGS],[E.Uc.TUTORIAL]:hf[E.Cc.TUTORIAL]};var gf=Object(Ir.b)(e=>{const{getRoute:t}=Object(ro.b)(e);return{route:t()}},e=>({changeSettings:t=>e(Object(Qp.a)(t))}))(class extends Ue.a.Component{render(){return Ue.a.createElement(Ef[this.props.route.name],this.props)}});function bf(e,t){e.dispatch(To.nk,t)}function If(e,t={}){e.dispatch(To.mk,t)}var ff=s(632),Sf=s.n(ff);const Af="norrin-wide",Tf=Object(Sr.h)({main_nav:{id:"landmark.folders_nav",defaultMessage:"Folder"}});class Cf extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this._renderMainNav=(e=>{const{formatMessage:t}=this.context.intl;return Ue.a.createElement("nav",{className:e.mainNavigation,role:"navigation","aria-label":t(Tf.main_nav),"data-yaft-module":"norrin_navigation"},Ue.a.createElement(d_,this.props))}),this._renderLeftRail=(e=>Ue.a.createElement("div",{className:this.props.hasWideLogo?e.leftRailWide:e.leftRail,"data-test-id":"mail-left-rail"},this._renderMainNav(e))),this._renderRightRail=(()=>{const{hasAttachmentPreview:e,windowDimensions:t}=this.props;return Ue.a.createElement(Xu,{hasAttachmentPreview:e,windowDimensions:t})}),this._renderCue=(e=>{switch(e){case E.mb.ADBLOCK_UPSELL_CUE:return Ue.a.createElement(Qr.a,{import:"../adblock_upsell_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,903))},_moduleResolver:function(){return 903}});case E.mb.RIGHT_RAIL_AD_FREE_UPSELL_CUE:return Ue.a.createElement(Qr.a,{import:"../right_rail_upsell_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,958))},_moduleResolver:function(){return 958}});case E.mb.APT_SECURITY_CUE:return Ue.a.createElement(Qr.a,{import:"../apt_security_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,904))},_moduleResolver:function(){return 904}});case E.mb.NEW_USER_ONBOARDING_CUE:return Ue.a.createElement(Qr.a,{import:"../new_user_onboarding_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,646))},_moduleResolver:function(){return 646}});case E.mb.LINKEDIN_REAUTH_CUE:return Ue.a.createElement(Qr.a,{import:"../linkedin_upsell",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,905))},_moduleResolver:function(){return 905}});default:return}}),this._renderUpdateWiderMailCue=(()=>Ue.a.createElement(Qr.a,{import:"../update_wider_mail_cue",cueName:E.mb.UPDATE_WIDER_MAIL_CUE,userDisplayName:this.props.userDisplayName,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,906))},_moduleResolver:function(){return 906}})),this._renderThemesCueV3=(()=>Ue.a.createElement(Qr.a,{import:"../themes_cue_v3",cueName:E.mb.THEMES_CUE_V3,userDisplayName:this.props.userDisplayName,photoThemes:this.props.photoThemes,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,907))},_moduleResolver:function(){return 907}})),this._renderNewUserOnboardingCue=(()=>Ue.a.createElement(Qr.a,{import:"../new_user_onboarding_cue",cueName:E.mb.NEW_USER_ONBOARDING_CUE,partnerBrand:this.props.partnerBrand,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,646))},_moduleResolver:function(){return 646}})),this._renderSSABreachAlert=(()=>Ue.a.createElement(Qr.a,{import:"../ssa_breach_security_alert",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,963))},_moduleResolver:function(){return 963}})),this._renderBulkDeleteEarnyCue=(e=>Ue.a.createElement(Qr.a,{defer:!0,cueName:e,import:"../bulk_delete_msg_earny_upsell_cue",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,647))},_moduleResolver:function(){return 647}})),this._renderMsgReadQuotientModal=(()=>Ue.a.createElement(Qr.a,{import:"../card_group/atoms/quotient_modal",retailerId:this.props.retailerId,parentName:"msgview",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,894))},_moduleResolver:function(){return 894}})),this._renderMsgReadSRModal=(()=>{const{senderDomain:e,parentMessageId:t,shopRunnerRetailer:n,origin:a}=this.props;return Ue.a.createElement(Qr.a,{import:"../card_group/atoms/shop_runner_modal",senderDomain:e,parentMessageId:t,shopRunnerRetailer:n,origin:a,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,909))},_moduleResolver:function(){return 909}})}),this._executeWindowResizingAction=(()=>{if(!this._innerContainer)return;const{windowDimensions:e,previewPaneSetting:t,rightRailUpsellVersion:s,autoRightRailCollapsed:n,hideAdsTemporarily:a}=this.props,r=e.innerWidth,o=window.innerWidth,i=t===E.Gc.RIGHT;this.context.executeAction(bf,{innerWidth:window.innerWidth,innerHeight:window.innerHeight,contentAndRightRailWidth:this._innerContainer.clientWidth,contentAndRightRailHeight:this._innerContainer.clientHeight}),"showOnWindowExpand"===s&&r>0&&!n&&(!i&&o>=Pr.NARROW_SCREEN_WIDTH&&r<Pr.NARROW_SCREEN_WIDTH||i&&o>=Pr.WIDE_SCREEN_WIDTH&&r<Pr.WIDE_SCREEN_WIDTH)&&a({onWindowExpand:!0})}),this._updateAppMinWidth=(e=>{e.hasAttachmentPreview||e.previewPaneSetting===E.Gc.RIGHT?document.body.classList.add(Af):document.body.classList.remove(Af)}),t}componentWillReceiveProps(e){this.props.hasAttachmentPreview===e.hasAttachmentPreview&&this.props.previewPaneSetting===e.previewPaneSetting||this._updateAppMinWidth(e)}componentDidMount(){const e=document.querySelectorAll("#ybar");this.ybarHeight=e&&e.length&&e[0].clientHeight||0,this._updateAppMinWidth(this.props),this._executeWindowResizingAction(),window.addEventListener("resize",this._executeWindowResizingAction)}componentDidUpdate(){this.props.isWindowResizingDone&&this.context.executeAction(If,{autoRightRailCollapsed:this.props.autoRightRailCollapsed})}componentWillUnmount(){this._innerContainer=null,window.removeEventListener("resize",this._executeWindowResizingAction)}render(){const{previewPaneSetting:e,isSettings:t}=this.props,n=this.context.getCss(Sf.a,babelHelpers.extends({verticalPreviewPane:e===E.Gc.RIGHT},Object(Is.i)(this.context)));return Ue.a.createElement("div",{className:n.shadedContainer,"data-test-id":"content-area"},Ue.a.createElement("div",{className:n.container,"data-test-id":"content-below-tabs"},t?null:this._renderLeftRail(n),this.props.showLinkedinReauthUpsell&&this._renderCue(E.mb.LINKEDIN_REAUTH_CUE),this.props.showSocialAccountAuthWindow&&Ue.a.createElement(Qr.a,{import:"../../molecules/social_account_auth_window",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,910))},_moduleResolver:function(){return 910}}),this.props.showThemesCueV3&&this._renderThemesCueV3(),this.props.showAptSecurityCue&&this._renderCue(E.mb.APT_SECURITY_CUE),this.props.showSsaBreachSecurityAlert&&this._renderSSABreachAlert(),this.props.bulkDeleteMsgEarnyUpsellCue&&this.props.shouldDisplayBulkDeleteEarnyCue&&this._renderBulkDeleteEarnyCue(E.mb.BULK_DELETE_MSG_EARNY_UPSELL),this.props.showNewUserOnboardingCue&&this._renderNewUserOnboardingCue(),this.props.showAdBlockUpsellCue&&this._renderCue(E.mb.ADBLOCK_UPSELL_CUE),this.props.showRightRailAdFreeUpsellCue&&this._renderCue(E.mb.RIGHT_RAIL_AD_FREE_UPSELL_CUE),this.props.showUpdateWiderMailCue&&this._renderUpdateWiderMailCue(),this.props.showMsgReadQuotientModal&&this._renderMsgReadQuotientModal(),this.props.showMsgReadShopRunnerModal&&this._renderMsgReadSRModal(),Ue.a.createElement("div",{className:n.widthRestrictor,ref:e=>{this._innerContainer=e}},Ue.a.createElement("div",{className:n.mainContent,"data-yaft-module":"norrin_main","data-test-id":"mail-app-component",id:"mail-app-component"},Ue.a.createElement(gf,this.props)),t?null:this._renderRightRail())))}}Cf.contextTypes={executeAction:Ve.a.func,intl:Sr.i.isRequired,getCss:Ve.a.func,config:Ve.a.object,getThemeMode:Ve.a.func,getTheme:Ve.a.func};var Of=Object(Ir.b)(e=>{const{isFeatureEnabled:t,getSetting:s,getWindowDimensions:n,isWindowResizingDone:a,getRoute:r,getRouteParams:o,getLaunchError:i,getSortOrderForFolderRoute:c,getSelectedAccountId:l,getAccountNameByAccountId:d,getSocialAccountSelectors:u,getMessageIdsFromMessageGroupId:m,getMessagesSelectors:p,getRetailersSelectors:_,getSRRetailersSelectors:h}=Object(ro.b)(e),g=s(E.nd.PREVIEW_PANE),b=i(),I=r(),f=o(),S=Object(io.t)(I),A=t(E.nd.HIDE_AD),T=t("attachmentPreview"),C=t("photoThemes"),O=s(E.nd.PARTNER_BRAND),R=T&&f.attachmentId&&"1"!==I.query.fullscreen,N=d(l()),M=t(E.mb.MSG_READ_QUOTIENT_MODAL),D=t(E.mb.MSG_READ_SHOPRUNNER_MODAL);let y=s(E.nd.LEFT_RAIL_CUE_RETAILER_ID)||"",L="",v="",P="",F="leftrailcue";const x=h();if(M&&m(f.groupId).length){const{getRetailerIdFromEmail:e}=_(),{getFromAddresses:t}=p(),s=t(m(f.groupId)[0]||"")||"",[{email:n=""}]=s.length>0?s:[{}];y=e(n)}if(D&&m(f.groupId).length){const{getFromAddresses:e}=p(),t=m(f.groupId)[0]||"",s=e(t)||"",[{email:n=""}]=s.length>0?s:[{}],[,a]=n.split("@"),r=x.domainInShopRunnerWhitelist(a);P=r&&r.name,v=t,L=a,F="msgread"}return{listId:S,previewPaneSetting:g,windowDimensions:n(),isWindowResizingDone:a(),folderListSortOrder:c(),isSettings:I.name===E.Uc.SETTINGS,hideAdUpsellSetting:A,hasAttachmentPreview:R,photoThemes:C,partnerBrand:O,userDisplayName:N,launchError:b,showAptSecurityCue:t(E.mb.APT_SECURITY_CUE),showSsaBreachSecurityAlert:t(E.mb.SSA_BREACH_SECURITY_ALERT),bulkDeleteMsgEarnyUpsellCue:t(E.mb.BULK_DELETE_MSG_EARNY_UPSELL),showNewUserOnboardingCue:t(E.mb.NEW_USER_ONBOARDING_CUE),showThemesCueV3:t(E.mb.THEMES_CUE_V3),showUpdateWiderMailCue:t(E.mb.UPDATE_WIDER_MAIL_CUE),showAdBlockUpsellCue:t(E.mb.ADBLOCK_UPSELL_CUE),showRightRailAdFreeUpsellCue:t(E.mb.RIGHT_RAIL_AD_FREE_UPSELL_CUE),hasAds:t(E.mb.ADS),hasWideLogo:s(E.nd.HAS_WIDE_LOGO),shouldDisplayBulkDeleteEarnyCue:t(E.mb.DISPLAY_EARNY_DIALOG),showLinkedinReauthUpsell:t(E.mb.LINKEDIN_REAUTH_CUE),showSocialAccountAuthWindow:u().showAuthWindow(),showMsgReadQuotientModal:M,showMsgReadShopRunnerModal:D,retailerId:y,autoRightRailCollapsed:t("autoRightRailCollapsed"),rightRailUpsellVersion:s(E.nd.RIGHT_RAIL_UPSELL_VERSION),senderDomain:L,parentMessageId:v,shopRunnerRetailer:P,origin:F}},e=>({hideAdsTemporarily:t=>e(Object($d.n)(t))}))(Cf);function Rf(e,{listId:t}){e.dispatch(To.cb,{listId:t})}var Nf=s(258);function Mf(e){return{timestamp:1e3*e.headers.date,id:e.id,folderId:e.folder.id}}function Df(e){return{titleFormatOptions:function(e){return{newMessageCount:e.length}}(e),bodyFormatOptions:function(e){const t=function(e){return ls()(e.map(yf))}(e),s={senderCount:t.length};t.length>=1&&(s.senderOne=t[0]);t.length>=2&&(s.senderTwo=t[1]);t.length>=3&&(s.senderThree=t[2]);t.length>3&&(s.remainingSenderCount=t.length-3);return s}(e)}}function yf(e){const t=e.headers.from[0]||{};return t.name||t.email||""}class Lf extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this._displayNotification=(({title:e,options:t,onClick:s})=>{const n=new window.Notification(e,t);s&&n.addEventListener("click",s)}),t}componentDidMount(){const{notification:{title:e,options:t,onClick:s}}=this.props;this._displayNotification({title:e,options:t,onClick:s})}render(){return null}}Lf.contextTypes={config:Ve.a.object};var vf=Lf;const Pf="https://s.yimg.com/nq/a/img/desktop-notification-mail-100x100_1.png",Ff=Object(Sr.h)({summaryNotificationTitle:{id:"summary_notification_title",defaultMessage:"You have {newMessageCount, number} new messages"},summaryNotificationBody:{id:"summary_notification_body",defaultMessage:"From {senderCount, plural,\n            =1 {{senderOne}}\n            =2 {{senderOne} and {senderTwo}}\n            =3 {{senderOne}, {senderTwo}, and {senderThree}}\n            other {{senderOne}, {senderTwo}, {senderThree}, and {remainingSenderCount} more}\n        }"},singleNotificationMissingSubject:{id:"single_notification_missing_subject",defaultMessage:"No Subject"}});class xf extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this._transformMessageGroupsToNotifications=(e=>{const t=this._filterSystemFolders(e),s=this._filterMessageGroups(t);return 0===s.length?[]:s.length>1?[this._generateSummaryNotification(s)]:this._generateSingleNotifications(s)}),this._filterMessageGroups=(e=>this.props.peopleNotifications?e.filter(e=>(function(e){return"P"===e.classification})(e.messages[e.messages.length-1])):e),this._filterSystemFolders=(e=>e.filter(e=>{const t=e.messages[e.messages.length-1];return!t.folder.isSystem||Object(bt.n)(t.folder)===E.ub.INBOX})),this._generateSummaryNotification=(e=>{const{formatMessage:t}=this.context.intl,s=e.map(e=>e.messages[e.messages.length-1]),{titleFormatOptions:n,bodyFormatOptions:a}=Df(s),r=t(Ff.summaryNotificationTitle,n),o=t(Ff.summaryNotificationBody,a),i=this._getSummaryNotificationIcon(),{timestamp:c,id:l,folderId:d}=Mf(s[0]);return this._transformNotification({title:r,body:o,icon:i,timestamp:c,id:l,folderId:d})}),this._generateSingleNotifications=(e=>{const{formatMessage:t}=this.context.intl;return e.map(e=>{const s=e.messages[e.messages.length-1],n=function(e){return yf(e)}(s),a=function(e){return e.headers.subject}(s)||t(Ff.singleNotificationMissingSubject),r=this._getSingleNotificationIcon(s),{timestamp:o,id:i,folderId:c}=Mf(s);return this._transformNotification({title:n,body:a,icon:r,timestamp:o,id:i,folderId:c,groupId:e.id})})}),this._transformNotification=(({title:e,body:t,icon:s,timestamp:n,id:a,folderId:r,groupId:o})=>({title:e,options:{body:t,icon:s,lang:this.context.intl.locale,timestamp:n,tag:a},onClick:this._getClickHandler({folderId:r,groupId:o})})),this._getSummaryNotificationIcon=(()=>Pf),this._getSingleNotificationIcon=(e=>{const t={email:e.headers.from.length?e.headers.from[0].email:""};return Object(Nf.a)(t,"160",Pf)}),this._getClickHandler=(({folderId:e,groupId:t})=>s=>{s.preventDefault(),s.target.close(),window.focus(),this.context.navigateTo({route:t?Object(ao.o)(Object(io.s)(e),t):Object(ao.j)(e)})}),t}componentDidMount(){const{listId:e}=this.props;this.context.executeAction(Rf,{listId:e})}render(){const{messageGroups:e}=this.props,t=this._transformMessageGroupsToNotifications(e);return Ue.a.createElement("div",null,t.map(e=>Ue.a.createElement(vf,{key:e.options.tag,notification:e})))}}xf.contextTypes={intl:Sr.i,config:Ve.a.object,executeAction:Ve.a.func,navigateTo:Ve.a.func};var wf=xf;class kf extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={hasPermission:!1},this.requestPersmission=(()=>{window.Notification.requestPermission(e=>{"granted"===e&&this.setState({hasPermission:!0})})}),t}componentDidMount(){this._allItemsNotSeen=[],window.Notification&&this.requestPersmission()}componentDidUpdate(){this.props.isAppVisible&&(this._allItemsNotSeen=[])}render(){const{items:e,listContentType:t,isAppVisible:s,listId:n,peopleNotifications:a}=this.props;return 0!==e.length&&this.state.hasPermission&&!s&&this.context.isLatestWindow()?(t===E.Fb.MESSAGES&&(this._allItemsNotSeen=[...this._allItemsNotSeen,...e]),Ue.a.createElement("div",null,t===E.Fb.MESSAGES?Ue.a.createElement(wf,{peopleNotifications:a,messageGroups:this._allItemsNotSeen,listId:n}):null)):null}}kf.contextTypes={config:Ve.a.object,isLatestWindow:Ve.a.func.isRequired},kf.defaultProps={items:[]};var Hf=Object(Ir.b)(e=>{const{getActionTimeStamp:t,getApplicationLastVisibleTimeStamp:s,getCurrentListId:n,isAppVisible:a,doesListExist:r,getMessageListItemsSinceTimestamp:o,__patchV2MessageGroupItem__:i,isFeatureEnabled:c}=Object(ro.b)(e),l=n(),d=Object(io.q)(l),u=a()?t():s(),m=r(l)?o(l,u):[],p=c("peopleNotifications"),_=m.map(e=>i(e,l));return babelHelpers.extends({},_.length?{items:_}:{},{listContentType:d,listId:l,isAppVisible:a(),peopleNotifications:p})})(kf),Uf=s(86);const jf="SUBSCRIPTION_IDS",Gf=Object(Sr.h)({mark_as_read:{id:"read_icon_label",defaultMessage:"Mark as read"},delete:{id:"delete_icon_label",defaultMessage:"Delete"}});class Bf extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this._ensurePushIsSubscribed=(()=>{const{forceSync:e,subscriptionIds:t,subscriptionIdsString:s,disablePushNotifications:n,onGrantedPermissions:a}=this.props,r=Object(pd.a)(jf);Object(Uf.c)(e);let o="";const i=Object(Uf.d)();return Object(Uf.f)().then(e=>{if(!e||s!==r)return e?(o=Uf.b.RENEW,Object(Uf.h)().then(()=>Object(Uf.g)(t))):(o=Uf.b.SUBSCRIBE,Object(Uf.g)(t))}).then(()=>Object(pd.b)(jf,s)).then(()=>{const{intl:e}=this.context,t={actionStrings:Object.keys(Gf).reduce((t,s)=>babelHelpers.extends({},t,{[s]:e.formatMessage(Gf[s])}),{})};Object(Uf.i)(t),i===Uf.a.DEFAULT&&a()}).catch(()=>{const e={scenario:o};Object(Uf.d)()===Uf.a.DENIED&&(e.i13nModel={mKey:zr.e.PUSH_NOTIFICATIONS_REQUEST_REJECTED,sec:zr.g.NOTIFICATION_ACTION}),n(e)})}),t}componentDidMount(){this.props.notificationsEnabled?this._ensurePushIsSubscribed():Object(Uf.h)()}componentDidUpdate(e){const{notificationsEnabled:t,subscriptionIdsString:s}=this.props;!t&&e.notificationsEnabled?Object(Uf.h)():!t||e.notificationsEnabled&&s===e.subscriptionIdsString||this._ensurePushIsSubscribed()}render(){return null}}Bf.contextTypes={intl:Sr.i.isRequired};var Vf=Object(Ir.b)(e=>{const{getAccountSelectors:t}=Object(ro.b)(e),s=t().getAccountSubscriptionIds();return{subscriptionIds:s,subscriptionIdsString:s.sort().join(",")}},e=>({forceSync:()=>e(Object(Dr.l)({forceSync:!0})),disablePushNotifications:t=>e(babelHelpers.extends({type:To.be,name:E.mb.PUSH_NOTIFICATIONS},t)),onGrantedPermissions:()=>e({type:To.ch,i13nModel:{mKey:zr.e.PUSH_NOTIFICATIONS_REQUEST_GRANTED,sec:zr.g.NOTIFICATION_ACTION}})}))(Bf);var Wf=Object(Ir.b)(e=>{const{getFeaturesSelectors:t}=Object(ro.b)(e),s=t();return{notificationsEnabled:s.getSetting(E.nd.NOTIFICATION),notificationMode:s.getSetting(E.nd.NOTIFICATION_MODE)}})(class extends Ue.a.Component{render(){const{notificationsEnabled:e,notificationMode:t}=this.props;return t===E.qc.PUSH?Ue.a.createElement(Vf,{notificationsEnabled:e}):t===E.qc.BROWSER&&e?Ue.a.createElement(Hf,null):null}});function qf(e,{online:t}){const{isOnline:s,getFeaturesSelectors:n}=Object(ro.b)(e.store.getState()),a=n();s()!==t&&e.dispatch(To.Bg,{online:t,rotateAdsOnline:a.isEnabled(E.mb.ROTATE_ADS_ONLINE)})}const zf=9e3,Zf=Object(Zc.a)("/html/status.html");var Kf={STATUS_PAGE_URL:Zf,ping:function(){return new R.b("HEAD",Zf,{timeout:zf}).send()}};const Yf=1e4;class Xf extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={checking:!1},this.handleOfflineEvent=(()=>{this.state.checking&&this.stopChecking(),this.setOffline()}),this.handleOnlineEvent=(()=>{this.state.checking?this.check():this.startChecking()}),this.handleNetworkRequestFailure=(e=>{e.url!==Kf.STATUS_PAGE_URL&&this.startChecking()}),this.handleNetworkRequestSuccess=(()=>{this.state.checking&&(this.stopChecking(),this.setOnline())}),this.check=(()=>{navigator&&void 0!==navigator.onLine&&!1===navigator.onLine||Kf.ping().then(()=>{this.stopChecking(),this.setOnline()},()=>{this.state.checking&&(this.setOffline(),setTimeout(this.check,Yf))})}),this.startChecking=(()=>{this.state.checking||(this.setState({checking:!0}),this.check())}),this.stopChecking=(()=>{this.setState({checking:!1})}),this.setOnline=(()=>{this.context.executeAction(qf,{online:!0})}),this.setOffline=(()=>{this.context.executeAction(qf,{online:!1})}),t}shouldComponentUpdate(){return!1}componentDidMount(){window.addEventListener("offline",this.handleOfflineEvent),window.addEventListener("online",this.handleOnlineEvent),R.b.on("error",this.handleNetworkRequestFailure),R.b.on("success",this.handleNetworkRequestSuccess)}componentWillUnmount(){window.removeEventListener("offline",this.handleOfflineEvent),window.removeEventListener("online",this.handleOnlineEvent),R.b.off("error",this.handleNetworkRequestFailure),R.b.off("success",this.handleNetworkRequestSuccess)}render(){return null}}Xf.contextTypes={executeAction:Ve.a.func};var $f=Xf,Qf=s(76),Jf=s(328);let eS=!1,tS=!1;const sS="https://fc.yahoo.com/sdarla/php/client.php",nS=pe.a.create("norrin/darla"),aS="meta.y.slotData.trusted_custom",rS=["REC","BTN","TL1"],oS=["LREC","MON"],iS=Object(Sr.h)({yahoo_mail_pro_branding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},upsell_message_caption:{id:"ad.upsell_message_caption",defaultMessage:"Want an ad-free inbox? Upgrade to {YahooMailProBrand}."}});class cS extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.updateAds=((e,t)=>{e.forEach(e=>{const s=document.querySelector(`#slot_${e}`);s&&(e!==t?s.classList.add("rail_ad_hidden"):s.classList.remove("rail_ad_hidden"))})}),this._onSuccess=((e,t)=>{const s=window.DARLA,{spaceId:n,rootSpaceId:a,darlaLookAhead:r,monAds:o,leftRailAdArbitration:i}=this.props,c=i&&t.find(e=>rS.indexOf(e)>-1),l=o&&t.find(e=>oS.indexOf(e)>-1);if(c&&this.updateAds(rS,c),l&&this.updateAds(oS,l),this.allPosRenderLogger&&this.allPosRenderLogger.logSuccessAndLatency(),this.posRenderLoggers={},this.renderedPositions&&this.renderedPositions.length&&(this._executeDarlaAdHandlerAction({spaceId:n.toString(),positions:this.renderedPositions}),this.renderedPositions=[],this.props.isAdBlockVerifiedBeacon&&!tS&&(this.props.darlaAdRendered({i13nModel:{isBeaconEvent:!0,eventName:zr.a.DARLA_AD_RENDERED,positions:this.renderedPositions}}),tS=!0)),r){s.prefetched().length&&s.render(),s.add("prefetch",{name:"prefetch",ps:this.context.getAdPositions().darla.join(","),sp:a,npv:1}),s.prefetch("prefetch")}}),this._onStartParse=(()=>{const e=this.context.getAdPositions().darla.join(",");this.parseLogger=nS.feature("darla_ad_parse",{adPositions:e,intl:this.context.region})}),this._onFinishParse=((e,t)=>{if(!t)return this.parseLogger.logFailure(),void this._executeDarlaAdHandlerAction({error:"Missing ad details"});this.parseLogger.logSuccessAndLatency(),t.ps().forEach(e=>{const{bookID:s,adID:n,creativeID:a,placementID:r,hasErr:o}=t.item(e)||{},i=nS.feature("darla_ad_call",{adPosition:e,bookId:s,adId:n,creativeId:a,placementId:r,intl:this.context.region});o?i.logFailure():i.logSuccessAndLatency()})}),this._onStartRequest=(()=>{const e=this.context.getAdPositions().darla.join(",");this.fetchLogger=nS.feature("darla_ad_fetch_call",{adPositions:e,rotationActionType:this.props.actionType,intl:this.context.region})}),this._onFinishRequest=(()=>{this.fetchLogger.logSuccessAndLatency()}),this._onRequestTimeout=(()=>{this.fetchLogger.logFailure(),this._executeDarlaAdHandlerAction({error:"Request timeout"})}),this._onStartPrefetchRequest=(()=>{const e=this.context.getAdPositions().darla.join(",");this.prefetchLogger=nS.feature("darla_ad_prefetch_call",{adPositions:e,rotationActionType:this.props.actionType,intl:this.context.region})}),this._onFinishPrefetchRequest=((e,t)=>{200===t?this.prefetchLogger.logSuccessAndLatency():(this.prefetchLogger.logFailure(),this._executeDarlaAdHandlerAction({error:`Prefetch request error: ${t}`}))}),this._onBeforeStartPosRender=(e=>{if(this.props.premiumAdDetection){const t=window.DARLA,s="true"===Object(S.a)(e,aS,!1),n=e.pos,a=t.render.RenderMgr.get(n),r=Object(S.a)(a,aS,!1);if(r&&s)return this.props.adRotationSkipped({i13nModel:{isBeaconEvent:!0,eventName:zr.a.AD_ROTATION_SKIPPED,pos:n}}),!0;!r&&s?this.props.premiumAdStarted({i13nModel:{isBeaconEvent:!0,eventName:zr.a.PREMIUM_AD_STARTED,pos:n}}):r&&!s&&this.props.premiumAdStopped({i13nModel:{isBeaconEvent:!0,eventName:zr.a.PREMIUM_AD_STOPPED,pos:n}})}}),this._onStartPosRender=(e=>{const{pos:t}=e;this.posRenderLoggers[t]=nS.feature("darla_ad_pos_render",{adPosition:t,intl:this.context.region})}),this._onFinishPosRender=((e,t,s)=>{const n=this.posRenderLoggers[e];this.renderedPositions&&this.renderedPositions.push({bookId:s.bookID,position:s.pos}),n&&n.logSuccessAndLatency()}),this._onRenderTimeout=(()=>{Object.keys(this.posRenderLoggers).forEach(e=>{this.posRenderLoggers[e].logFailure()})}),this._executeDarlaAdHandlerAction=(e=>{this._darlaHandlerTimer=setTimeout(()=>{this.props.darlaAdHandler(e||{spaceId:"",positions:[]})},0)}),this._startMessageReadAdRotation=(()=>{const{messageReadAdRotationInterval:e,messageReadAdRotationV1:t}=this.props;t&&(this._stopMessageReadAdRotation(),this._messageReadAdRotationTimer=setTimeout(this._messageReadAdRotationCallback,e))}),this._messageReadAdRotationCallback=(()=>{const{messageReadAdRotationTimestampV1:e,messageReadAdRotationIdleInterval:t,messageReadAdRotationV2:s}=this.props;s?(this._messageReadAdRotationTimeToIdle-=this.props.messageReadAdRotationInterval,this._messageReadAdRotationTimeToIdle>0&&this.props.messageReadAdRotationTimer()):Date.now()<=e+t&&(this.props.messageReadAdRotationTimer(),this._startMessageReadAdRotation())}),this._stopMessageReadAdRotation=(()=>{clearTimeout(this._messageReadAdRotationTimer),this._messageReadAdRotationTimer=null}),this._connectToWiderMailExtension=(()=>{const e=location.pathname,t=new RegExp(`^(${E.Wd})/test`);let s=[];if(t.test(e)||"undefined"==typeof chrome||void 0===chrome.runtime||void 0===chrome.runtime.connect)return;const{chromeExtensionWhitelist:n,disableWiderMailExtension:a}=this.props;n.forEach(e=>{const t=chrome.runtime.connect(e);t&&s.push(t),t.onDisconnect.addListener(e=>{0===(s=s.filter(t=>t!==e)).length&&a()})})}),this.updateAdblockUiId=(()=>{const{adblockPreviousUi:e,adblockUIUpdate:t}=this.props;let s=1;e<E.m.length&&(s=e+1),t({uiId:s,i13nModel:{mKey:zr.e.ADBLOCK_UI_UPDATE,sec:zr.g.FEATURE_CUE,actionData:{uiId:s}}})}),t}componentWillUpdate(e){const{isMessageReadAdRotationActive:t,adRotationId:s,timeToWaitSinceLastAdCall:n,messageReadAdRotationTimestampV2:a,messageReadAdRotationIdleInterval:r,messageReadAdRotationTimestampV1:o,messageReadAdRotationV2:i,messageReadAdRotationV1:c}=this.props,l=s!==e.adRotationId&&e.adRotationId-s>n,d=a!==e.messageReadAdRotationTimestampV2;i?t&&!e.isMessageReadAdRotationActive?this._stopMessageReadAdRotation():!e.isMessageReadAdRotationActive||t&&!l||(this._messageReadAdRotationTimeToIdle=d?this._messageReadAdRotationTimeToIdle:r,this._startMessageReadAdRotation()):c&&(o&&!e.messageReadAdRotationTimestampV1?this._stopMessageReadAdRotation():o!==e.messageReadAdRotationTimestampV1&&this._startMessageReadAdRotation())}componentDidMount(){const{isAdBlocked:e,isMailPro:t,shouldShowAdBlockCoupons:s}=this.props;this._messageReadAdRotationTimer=null,this.fetchLogger=null,this.prefetchLogger=null,this.parseLogger=null,this.allPosRenderLogger=null,this.reconfigLogger=null,this.posRenderLoggers={},this.renderedPositions=[],this.props.isWiderMailExtnEnabled?this._connectToWiderMailExtension():e||(this._detectAdblockTimer=setTimeout(()=>{!window.DARLA&&this.props.hasGeminiError&&(this.props.adblockDetected({mKey:zr.e.ADBLOCK_DETECTED,sec:zr.g.FEATURE_CUE,actionData:{adBlockCoupons:s}}),this.props.adblockUpsellCue&&!t&&this.updateAdblockUiId())},2e4))}componentDidUpdate(e){const{spaceId:t,spaceIds:s,route:n,debugDarla:a,darlaLookAhead:r,darlaPrefetch:o,darlaSandbox:i,nukeDisplayAdsOnInactive:c,mailProEligible:l,timeToWaitSinceLastAdCall:d,adFeedbackStarted:u,adRotationId:m,abortDarlaInProgress:p}=this.props;if(!this.props.hasAds)return;const _=this.context.getAdPositions();if(c&&!e.nukeDisplayAdsOnInactive&&window.DARLA&&Object(S.a)(window.DARLA,"render.RenderMgr")){const e=window.DARLA,t=_.darla.some(t=>{const s=e.render.RenderMgr.get(t);return s&&Object(S.a)(s,aS,!1)});e&&"function"==typeof e.inProgress&&!e.inProgress()&&!t&&Object(S.a)(e,"render.RenderMgr.nuke",!1)&&e.render.RenderMgr.nuke()}else if((m!==e.adRotationId&&m-e.adRotationId>d||t!==e.spaceId)&&!u&&0!==_.darla.length&&!this.props.isWiderMailExtnEnabled)if(eS){if(window.DARLA){const e=window.DARLA,s=this.context.getThemeMode();if(!(e.inProgress&&e.abort&&e.config&&e.addPos&&e.add&&e.render&&e.event))return;if(e.inProgress()){if(!p)return;e.abort()}if(document.activeElement){const{id:e,tagName:t}=document.activeElement;if("TEXTAREA"===t.toUpperCase()&&(-1!==e.indexOf("LREC")||-1!==e.indexOf("SKY")))return}if(Object(S.a)(e,"config.positions.TL1",!1)||Object(S.a)(e,"config.positions.BTN",!1)){const t=e.config(),n=yu[s===Is.f.LIGHT?"lightTheme":"darkTheme"],{textColor:a,hoverColor:r}=n;t.positions.TL1.css=yu.getCss(a,r),t.positions.BTN.css=yu.getCss(a,r),e.addPos(t.positions.TL1),e.addPos(t.positions.BTN)}e.add("rotate",{name:"rotate",ps:_.darla.join(","),sp:t,npv:1}),this.rotateAds(_)}}else{const e=this.context.intl.formatMessage,t={CTTRate:100,upsell:l,upsellMsg:e(iS.upsell_message_caption,{YahooMailProBrand:e(iS.yahoo_mail_pro_branding)}),onStartRequest:this._onStartRequest,onFinishRequest:this._onFinishRequest,onStartPrefetchRequest:this._onStartPrefetchRequest,onFinishPrefetchRequest:this._onFinishPrefetchRequest,onStartParse:this._onStartParse,onFinishParse:this._onFinishParse,onStartPosRender:this._onStartPosRender,onFinishPosRender:this._onFinishPosRender,onRenderTimeout:this._onRenderTimeout,onRequestTimeout:this._onRequestTimeout,onSuccess:this._onSuccess,onBeforeStartPosRender:this._onBeforeStartPosRender};if(window.DARLA&&!i){const e=window.DARLA.config,s=e(Object.assign({},e(),t));this._darlaRenderTimer=setTimeout(()=>{window.DARLA.render()},0),this.reconfigLogger=nS.feature("darla_ad_reconfig",{adPositions:_.darla.join(","),intl:this.context.region,darlaLookAhead:r,darlaPrefetch:o}),"OK"===s?this.reconfigLogger.logSuccess():this.reconfigLogger.logFailure({status:s,actionInProgress:"FAIL--522"===s?window.DARLA.inProgress():null})}else if(!1===window.DARLA_CONFIG.auto_render)window.DARLA_CONFIG=Object.assign(window.DARLA_CONFIG||{},t,{auto_render:!0});else{const e=this.context.locale.name||"en-US",r=Object(Qf.b)(s,n.name);let o=`${sS}?f=${r}&l=${_.darla.join(",")}&npv=1&lang=${e}`;window.DARLA_CONFIG=Object.assign(window.DARLA_CONFIG||{},t),a&&(o+="&debug=1&d=1"),lt.a.loadScript(o)}eS=!0}}rotateAds(e){const t=window.DARLA,{darlaLookAhead:s}=this.props;this.allPosRenderLogger=nS.feature("darla_ad_all_pos_render",{adPositions:e.darla.join(","),intl:this.context.region});const n=t.prefetched();if(s&&n.length){e.darla.every(e=>-1!==n.indexOf(e))?t.render():t.event("rotate")}else t.event("rotate")}componentWillUnmount(){this._detectAdblockTimer&&clearTimeout(this._detectAdblockTimer),this._darlaRenderTimer&&clearTimeout(this._darlaRenderTimer),this._darlaHandlerTimer&&clearTimeout(this._darlaHandlerTimer)}render(){return null}}cS.contextTypes={getThemeMode:Ve.a.func,getAdPositions:Ve.a.func,config:Ve.a.object,region:Ve.a.string,locale:Ve.a.object,intl:Sr.i.isRequired};var lS=Object(Ir.b)(e=>{const{getFeaturesSelectors:t,getAdsSelectors:s,getCurrentSpaceId:n,getRoute:a,isMessageReadAdRotationActive:r,getAction:o,shouldShowAdBlockCoupons:i}=Object(ro.b)(e),{getSetting:c,isEnabled:l}=t(),{getAdRotationId:d,getFeedbackStartedSectionIds:u,getGeminiError:m,isAdBlocked:p,getMessageReadAdRotationTimestamp:_,getMessageReadAdRotationTimestampV2:h}=s();return{messageReadAdRotationTimestampV1:_(),messageReadAdRotationTimestampV2:h(),adRotationId:d(),adFeedbackStarted:u().length>0,hasAds:l(E.mb.ADS),darlaLookAhead:l(E.mb.DARLA_LOOKAHEAD),darlaPrefetch:l(E.mb.DARLA_PREFETCH),darlaSandbox:l(E.mb.DARLA_SANDBOX),debugDarla:l(E.mb.DEBUG_DARLA),route:a(),spaceId:n(),spaceIds:c(E.nd.SPACE_IDS),rootSpaceId:c(E.nd.SPACE_IDS).root,messageReadAdRotationV1:l(E.mb.MESSAGE_READ_AD_ROTATION),monAds:l(E.mb.MON_ADS),messageReadAdRotationInterval:c(E.nd.MESSAGE_READ_AD_ROTATION_INTERVAL),messageReadAdRotationIdleInterval:c(E.nd.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL),isWiderMailExtnEnabled:l(E.mb.IS_WIDER_MAIL_EXTN_ENABLED),nukeDisplayAdsOnInactive:l(E.mb.NUKE_DISPLAY_ADS_ON_INACTIVE),mailProEligible:l(E.mb.MAIL_PRO_ELIGIBLE),premiumAdDetection:l(E.mb.PREMIUM_AD_DETECTION),timeToWaitSinceLastAdCall:c(E.nd.TIME_TO_WAIT_SINCE_LAST_AD_CALL),chromeExtensionWhitelist:c(E.nd.CHROME_EXTENSION_WHITELIST),abortDarlaInProgress:l(E.mb.ABORT_DARLA_IN_PROGRESS),leftRailAdArbitration:l(E.mb.LEFT_RAIL_AD_ARBITRATION),hasGeminiError:!!m(),isAdBlocked:p(),messageReadAdRotationV2:l(E.mb.MESSAGE_READ_AD_ROTATION_V2),isMessageReadAdRotationActive:r(),actionType:o().type,adblockUpsellCue:l(E.mb.ADBLOCK_UPSELL_CUE),adblockPreviousUi:c(E.nd.AD_BLOCK_FEATURE_CUE_ID),isMailPro:l(E.mb.MAIL_PRO),shouldShowAdBlockCoupons:i(!0),isAdBlockVerifiedBeacon:l(E.mb.AD_BLOCK_VERIFIED_BEACON)}},e=>({darlaAdHandler:t=>e(Object($d.d)(t)),messageReadAdRotationTimer:()=>e(Object($d.o)()),disableWiderMailExtension:()=>e(Object($d.f)()),adRotationSkipped:t=>e(Object($d.b)(t)),premiumAdStarted:t=>e(Object($d.q)(t)),premiumAdStopped:t=>e(Object($d.r)(t)),adblockDetected:t=>e(Object(Jf.a)({i13nModel:t})),adblockUIUpdate:t=>e(Object(Jf.b)(t)),darlaAdRendered:t=>e(Object($d.e)(t))}))(cS);const dS=Object(Sr.h)({tabs_nav:{id:"landmark.tabs",defaultMessage:"Tabs"},heading_cheatsheet:{id:"keyboardShortcut.heading_cheatsheet",defaultMessage:"Press question mark key to invoke the keyboard shortcuts cheatsheet"}});class uS extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this._handleVisibilityChange=(e=>{let t;if("blur"===e.type){const{activeElement:e}=document;if(e&&"iframe"===e.tagName.toLowerCase())return;t=!1}else t="focus"===e.type||"visible"===document.visibilityState;this.context.executeAction(eo.f,{isVisible:t})}),this.getStateFromStores=(()=>{const{getFeaturesSelectors:e,getEnvironmentSelectors:t,getAccountById:s,getSelectedAccountId:n}=Object(ro.b)(this.context.store.getState()),a=e(),r=a.isEnabled("focusBasedVisibilityDetection"),o=a.isEnabled("unsubscribe"),i=a.isEnabled("ybar"),c=a.isEnabled("offlineChecking"),l=a.isEnabled(E.mb.TIMEZONE_CHECK),d=a.isEnabled(E.mb.SMARTVIEW_CATEGORIES_ENABLED),u=a.isEnabled(E.mb.EMPTY_FOLDER_VIDEO),m=a.isEnabled(E.mb.THEMES_CUE_V3),p=a.isEnabled(E.mb.IS_WIDER_MAIL_EXTN_ENABLED),_=a.isEnabled(E.mb.ADS),h=a.getSetting(E.nd.HAS_WIDE_LOGO),g=a.getSetting("logoUrl"),b="rtl"===t().getPageDirection(),I=s(n()),f=Object(ec.a)(I);return{focusBasedVisibilityDetection:r,unsubscribe:o,ybar:i,offlineChecking:c,timezoneCheck:l,smartViewCategoriesEnabled:d,emptyFolderVideo:u,isThemesCueShown:m,isWiderMailExtnEnabled:p,hasAds:_&&!f,hasWideLogo:h,logoUrl:g,isRTL:b}}),t}componentDidMount(){const{focusBasedVisibilityDetection:e}=this.getStateFromStores();window.addEventListener("visibilitychange",this._handleVisibilityChange),e&&(window.addEventListener("blur",this._handleVisibilityChange),window.addEventListener("focus",this._handleVisibilityChange)),this.context.executeAction(eo.e)}componentWillUnmount(){const{focusBasedVisibilityDetection:e}=this.getStateFromStores();window.removeEventListener("visibilitychange",this._handleVisibilityChange),e&&(window.removeEventListener("blur",this._handleVisibilityChange),window.removeEventListener("focus",this._handleVisibilityChange))}render(){const{props:e}=this,t=!!e.multiTaskModeSetting,{formatMessage:n}=this.context.intl,{unsubscribe:a,ybar:r,offlineChecking:o,timezoneCheck:i,smartViewCategoriesEnabled:c,emptyFolderVideo:l,isThemesCueShown:d,isWiderMailExtnEnabled:u,hasAds:m,hasWideLogo:p,logoUrl:_,isRTL:h}=this.getStateFromStores(),E=this.context.getCss(ud.a,{tabs:t,ads:m,wideLogo:p});return Ue.a.createElement(ld.a,{logoUrl:_,isRTL:h},Ue.a.createElement(Ir.a,{store:this.context.store,key:u?"widerMailExtnEnabled":"widerMailExtnDisabled"},Ue.a.createElement(Xd,{className:E.inputModeWrapper},Ue.a.createElement("div",{className:E.bgContainer},Ue.a.createElement("div",{id:"app","data-test-id":"mail-app",className:E.container,tabIndex:-1},Ue.a.createElement(Qr.a,{defer:!0,import:"../../molecules/timezone_check",timezoneCheck:i,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,897))},_moduleResolver:function(){return 897}}),m?Ue.a.createElement(zc,null):null,Ue.a.createElement("section",{className:E.appHeader,role:"banner","data-yaft-module":"norrin_header"},r?Ue.a.createElement("div",{className:E.ybar}):Ue.a.createElement(cd,null),(t||c)&&Ue.a.createElement("div",{className:E.tabWrapper,role:"navigation","aria-label":n(dS.tabs_nav)},Ue.a.createElement("div",{className:E.tabSpace}," "),Ue.a.createElement("div",{className:E.tab},Ue.a.createElement(Io,null)))),Ue.a.createElement(Of,e),Ue.a.createElement(Ao,{toastMap:Cc}),Ue.a.createElement(Kd,null),Ue.a.createElement(fo.a,null),Ue.a.createElement(Uc,null),Ue.a.createElement(Wf,null),o&&Ue.a.createElement($f,null),Ue.a.createElement(Qr.a,{defer:!0,import:"./controller_views/print.jsx",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,951))},_moduleResolver:function(){return 951}}),Ue.a.createElement(Qr.a,{defer:!0,import:"./controller_views/heartbeat",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,898))},_moduleResolver:function(){return 898}}),l&&!d?Ue.a.createElement(Qr.a,{defer:!0,import:"../../molecules/empty_folder_video",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,954))},_moduleResolver:function(){return 954}}):null,a&&Ue.a.createElement(Qr.a,{defer:!0,import:"./controller_views/unsubscribe",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,952))},_moduleResolver:function(){return 952}}),Ue.a.createElement(Qr.a,{defer:!0,import:"../../molecules/downloader/index.jsx",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,960))},_moduleResolver:function(){return 960}}),m?Ue.a.createElement(lS,null):null)),Ue.a.createElement("div",{className:E.accessible,role:"heading","aria-label":n(dS.heading_cheatsheet)}))))}}uS.contextTypes={executeAction:Ve.a.func,config:Ve.a.object,store:Ve.a.object,intl:Sr.i.isRequired,getCss:Ve.a.func};var mS=(e=>(function(e){var t,s;return s=t=class extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this._isLatestWindow=(()=>{const e=Object(pd.a)(_d);let t=!0;return e&&this._windowId!==parseInt(e.split(",").pop(),10)&&(t=!1),t}),this._getWindowId=(()=>this._windowId),this._addNewWindow=(()=>{if(this._windowId)return;let e=Object(pd.a)(_d);this._windowId=Math.floor(Date.now()/1e3),e?e+=`,${this._windowId}`:e=this._windowId,Object(pd.b)(_d,e)}),this._removeWindow=(()=>{let e=Object(pd.a)(_d);if(!e)return;const t=e.split(",");e=t.filter(e=>this._windowId.toString()!==e).join(","),Object(pd.b)(_d,e)}),t}getChildContext(){return{getWindowId:this._getWindowId,isLatestWindow:this._isLatestWindow}}componentDidMount(){this._addNewWindow(),window.addEventListener("beforeunload",this._removeWindow)}componentWillUnmount(){this._removeWindow()}render(){return Ue.a.createElement(e,this.props)}},t.displayName="WindowManager",t.childContextTypes={getWindowId:Ve.a.func,isLatestWindow:Ve.a.func},s})(e))(md.a(((e,{toastWrapper:t})=>{class s extends He.Component{constructor(e,t){super(e);const{getFeaturesSelectors:s}=Object(ro.b)(t.store.getState()),n=s();this.showToast=this.showToast.bind(this),this.closeToast=this.closeToast.bind(this),this.clearToastTimeoutHandler=this.clearToastTimeoutHandler.bind(this),this.resumeToast=this.resumeToast.bind(this),this.getRole=this.getRole.bind(this),this.notificationTTL=n.getSetting("notificationTTL")||5e3,this.toastTimeoutHandler=null}getChildContext(){return{toast:this.showToast}}getRole(e){return e.requireInteraction?E.sc.ALERT_DIALOG:e.type===E.tc.NORMAL?E.sc.STATUS:E.sc.ALERT}renderToastWrapperSubtree({toast:e,role:s}){Ge.a.unstable_renderSubtreeIntoContainer(this,Ue.a.createElement(t,{toast:e,role:s,onClose:this.closeToast,onPause:this.clearToastTimeoutHandler,onResume:this.resumeToast}),this.toastContainerNode)}showToast(e){Object(f.b)()&&(this.lastToast&&Object(S.a)(e,"priority",E.rc.LOW)<Object(S.a)(this.lastToast,"priority",E.rc.LOW)||(this.clearToastTimeoutHandler(),this.lastToast=e,this.renderToastWrapperSubtree({toast:e,role:this.getRole(e)}),e.requireInteraction||(this.toastTimeoutHandler=setTimeout(this.closeToast,this.notificationTTL))))}closeToast(){this.lastToast&&(this.renderToastWrapperSubtree({toast:null,role:this.getRole(this.lastToast)}),delete this.lastToast),this.clearToastTimeoutHandler()}clearToastTimeoutHandler(){this.toastTimeoutHandler&&clearTimeout(this.toastTimeoutHandler)}resumeToast(){this.toastTimeoutHandler=setTimeout(()=>this.closeToast(),this.notificationTTL)}componentDidMount(){this.toastContainerNode=document.createElement("div"),document.getElementById("app").appendChild(this.toastContainerNode),this.renderToastWrapperSubtree({toast:null,role:E.sc.STATUS})}componentWillUnmount(){this.closeToast()}render(){return Ue.a.createElement(e,this.props)}}return s.contextTypes={store:Ve.a.object},s.childContextTypes={toast:Ve.a.func},s})(function(e){var t,s;return s=t=class extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.adPositions={darla:[],pencil:[]},t}getChildContext(){return{registerAdPosition:({darlaPos:e,pencilPos:t})=>{e&&(this.adPositions.darla=ls()(this.adPositions.darla.concat(e))),t&&(this.adPositions.pencil=ls()(this.adPositions.pencil.concat(t)))},removeAdPosition:({darlaPos:e,pencilPos:t})=>{e&&(this.adPositions.darla=this.adPositions.darla.filter(t=>t!==e)),t&&(this.adPositions.pencil=this.adPositions.pencil.filter(e=>e!==t))},getAdPositions:()=>this.adPositions}}render(){return Ue.a.createElement(e,this.props)}},t.childContextTypes={registerAdPosition:Ve.a.func,removeAdPosition:Ve.a.func,getAdPositions:Ve.a.func},s}(Object(jc.a)(uS)),{appName:E.r.MAIL_APP,toastWrapper:Pc})));md.a(uS);var pS=s(145),_S=s(633),hS=s.n(_S),ES=s(383),gS=s(636),bS=s.n(gS);const IS=Object(Zc.a)("/img/festive_graphic.png"),fS=Wr()(bS.a),SS=[E.hb.GOOGLE,E.hb.OUTLOOK,E.hb.AOL],AS={[E.hb.GOOGLE]:Object(Zc.a)("/img/logo_google.png"),[E.hb.OUTLOOK]:Object(Zc.a)("/img/logo_outlook.png"),[E.hb.AOL]:Object(Zc.a)("/img/logo_aol.png")},TS={padding:0,height:`${9*Pr.GRID_UNIT}px`,width:`${36.25*Pr.GRID_UNIT}px`,margin:`${2*Pr.GRID_UNIT}px 0 0 0`},CS=Object(Sr.h)({header_message:{id:"external_users_header_message",defaultMessage:"Add your existing mailboxes to {mailBrandNameString}"},switch_account:{id:"external_users_switch_account",defaultMessage:"Switch account"}}),OS=({accountType:e,userName:t,onNext:s,onProviderSelect:n},a)=>{const{intl:{locale:r,formatMessage:o},region:i}=a,c=Object(ec.f)(t),l=e=>{n(e),s&&s()},d=Ue.a.createElement("b",{className:fS.userName},t);return Ue.a.createElement("div",{className:fS.upsellPage},Ue.a.createElement("img",{className:fS.image,alt:o(CS.header_message),src:IS}),Ue.a.createElement("h1",{className:fS.header},Ue.a.createElement(Sr.c,babelHelpers.extends({},CS.header_message,{values:{mailBrandNameString:a.mailBrandNameString}}))),Ue.a.createElement("div",{className:fS.body},Ue.a.createElement("div",{className:fS.description},Ue.a.createElement(Sr.c,e===E.g.PHONE?{id:"external_phone_login_message",defaultMessage:"You're signed in with phone number {userName}",values:{userName:d}}:{id:"external_email_login_message",defaultMessage:"You're signed in as {userName}.",values:{userName:d}})," ",Ue.a.createElement("a",{className:fS.switchAccount,href:Object(E.he)(i,r),title:o(CS.switch_account)},Ue.a.createElement(Sr.c,CS.switch_account))),Ue.a.createElement("div",{className:fS.description},Ue.a.createElement(Sr.c,c?{id:"external_users_known_imap_description",defaultMessage:"You can read, compose and sort all your {name} messages from Yahoo Mail.",values:{name:Object(ec.h)(c)}}:{id:"external_users_unkown_imap_description",defaultMessage:"You can access your Google, Outlook and AOL mailboxes, All from within Yahoo Mail."})),Ue.a.createElement("div",{className:fS.providersOption},Ue.a.createElement("ol",{className:fS.accountList},SS.filter(e=>!c||c===e).map(e=>Ue.a.createElement("li",{key:e,className:fS.listItem,"data-test-id":"supported-imap-providers"},Ue.a.createElement("img",{alt:e,src:AS[e],className:fS.accountItem}),Ue.a.createElement(Hr.a,{style:TS,kind:Ur.a.PRIMARY,"data-test-id":`add-account-${e}-btn`,onClick:l.bind(null,e)},Ue.a.createElement(Sr.c,c?{id:"user_registration_sign_in_btn",defaultMessage:"Sign in to {name}",values:{name:Object(ec.h)(c)}}:{id:"user_registration_add_account",defaultMessage:"Add account"}))))))),Ue.a.createElement("div",{className:fS.footer},!c&&Ue.a.createElement(Sr.c,{id:"external_supported_providers",defaultMessage:"We only support these providers as of now"})))};OS.contextTypes={intl:Sr.i,region:Ve.a.string,mailBrandNameString:Ve.a.string};var RS=OS,NS=s(637),MS=s.n(NS);const DS=Wr()(MS.a);var yS=({provider:e})=>Ue.a.createElement("div",{className:DS.leftRailItemsContainer},Ue.a.createElement("button",{className:DS.link,disabled:!0},Ue.a.createElement(Sr.c,{id:"user_registration_compose_btn",defaultMessage:"Compose"})),e&&Ue.a.createElement("div",{className:DS.accountslist,"data-test-id":"known-imap-provider"},Ue.a.createElement("span",{className:DS.accountsListItem,"data-test-id":"imap-provider-name"},Object(ec.h)(e)),Ue.a.createElement("div",{className:DS.moreIcon},Ue.a.createElement("span",{className:DS.iconContainer},Ue.a.createElement(Tr.b,{kind:Cr.b.MORE,size:Cr.d.XXXS,colorState:Cr.a.SECOND_LEVEL_GRAY})))),Ue.a.createElement("ul",{className:DS.folderList},Object(ip.d)(9).map(e=>Ue.a.createElement("li",{key:e,className:DS.listItem},Ue.a.createElement("div",{className:DS.folderName,style:{width:`${e%3*10+28}px`}})))),Ue.a.createElement("div",{className:DS.header},Ue.a.createElement("div",{className:DS.folderName,style:{width:"41px"}}),Ue.a.createElement("div",{className:DS.folderName,style:{width:"25px"}})),Ue.a.createElement("ul",{className:DS.list},[Cr.b.TAB_IMAGES,Cr.b.DOCUMENTS_S,Cr.b.CAL_MAYBE].map((e,t)=>{const s=`${t%3*10+28}px`;return Ue.a.createElement("li",{key:e,className:DS.listItem},Ue.a.createElement(Tr.b,{kind:e,size:Cr.d.XS,colorState:Cr.a.SECOND_LEVEL_GRAY}),Ue.a.createElement("div",{className:DS.folderName,style:{width:s}}))}))),LS=s(82),vS=s(467),PS=s(468),FS=s(469);const xS=()=>{},wS=Wr()(hS.a),kS=Object(Sr.h)({back_button_title:{id:"external_users_back_btn_title",defaultMessage:"Back"},sign_in_button_title:{id:"external_users_sign_in_btn_title",defaultMessage:"Sign in"},cancel_button_title:{id:"external_users_cancel_btn_title",defaultMessage:"Cancel"},relaunch_button_title:{id:"external_users_oauth_relaunch_button_title",defaultMessage:"Relaunch window"}});class HS extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.state={email:"",selectedProvider:""},this.handleChange=((e,t)=>{this.state[e]!==t&&this.setState("provider"===e?{email:"",selectedProvider:t}:{[e]:t})}),this.handleCreateAccount=(e=>{const{email:t}=e,{onAddNewAccount:s}=this.props,n={interactionType:zr.d.nav,mKey:zr.e.USERNAME_PHONE_REG_ADD_ACCOUNT,sec:zr.g.USERNAME_PHONE_REG,actionData:{email:t}};s(babelHelpers.extends({},Object(ec.i)(e),{i13nModel:n,emailOrPhoneRegAccount:!0}))}),this._renderSignInComponentTitle=(()=>Ue.a.createElement("h5",{className:wS.titleLabel},Ue.a.createElement(Sr.c,{id:"external_users_add_mailbox_header",defaultMessage:"You are almost done!"}))),this._resetProvider=((e=xS)=>{this.setState({selectedProvider:""},e)}),this._renderSignInComponentNav=(({onPrevious:e,onNext:t,isStepValid:s})=>{const{formatMessage:n}=this.context.intl;return Ue.a.createElement("div",{className:wS.navWrapper},Ue.a.createElement(Hr.a,{kind:Ur.a.SECONDARY,title:n(kS.back_button_title),"data-test-id":"username-phone-reg-back-btn",onClick:this._resetProvider.bind(this,e)},Ue.a.createElement(Sr.c,kS.back_button_title)),Ue.a.createElement(Hr.a,{onClick:t,disabled:!s(),kind:Ur.a.PRIMARY,"data-test-id":"username-phone-reg-signin-btn",title:n(kS.sign_in_button_title)},Ue.a.createElement(Sr.c,kS.sign_in_button_title)))}),this._renderOAuthComponentNav=(({onPrevious:e,onNext:t})=>{const{formatMessage:s}=this.context.intl;return Ue.a.createElement("div",{className:wS.navWrapper},Ue.a.createElement(Hr.a,{kind:Ur.a.SECONDARY,title:s(kS.back_button_title),onClick:this._resetProvider.bind(this,e)},Ue.a.createElement(Sr.c,kS.back_button_title)),Ue.a.createElement(Hr.a,{onClick:t,kind:Ur.a.PRIMARY,"data-test-id":"username-phone-reg-relaunch-btn",title:s(kS.relaunch_button_title)},Ue.a.createElement(Sr.c,kS.relaunch_button_title)))}),this._renderOAuthComponentTitle=(()=>Ue.a.createElement("h5",{className:wS.titleLabel},Ue.a.createElement(Sr.c,{id:"oAuth_signIn_text",defaultMessage:"Sign in to your account"}))),t}_doesEmailAlreadyExist(e){return!!this.props.accounts.find(t=>t.email===e)}_getSteps(){const{email:e,selectedProvider:t}=this.state,{userName:s,accountType:n,appRootPath:a,accounts:r}=this.props,o=Object(ec.f)(s),i=[Ue.a.createElement(RS,{key:"upsell",userName:s,accountType:n,onProviderSelect:this.handleChange.bind(this,"provider")})];if(this._doesEmailAlreadyExist(s)&&o){return i.push(Ue.a.createElement(()=>this._getError(),{key:"external-accounts-error"})),i}return o||i.push(Ue.a.createElement(PS.a,{key:"address",email:e,accounts:r,onAuthorizeAccount:xS,provider:t,onChange:this.handleChange,renderNavComponent:this._renderSignInComponentNav,renderTitleComponent:this._renderSignInComponentTitle})),i.push(Ue.a.createElement(vS.a,{key:"signin",hideCancelButton:!0,handleAddSuccess:xS,onAuthorizeAccount:xS,appRootPath:a,onAuthorize:this.handleCreateAccount,email:o?s:e,provider:o||t,renderNavComponent:this._renderOAuthComponentNav,renderTitleComponent:this._renderOAuthComponentTitle})),i.push(Ue.a.createElement(FS.a,{key:"add-confirm",isSyncing:!0})),i}_getError(){const{userName:e}=this.props;return Ue.a.createElement("div",{className:wS.errorContainer,"data-test-id":"external-accounts-error"},this._renderOAuthComponentTitle(),Ue.a.createElement("div",{className:wS.errorWrapper},Ue.a.createElement("div",{className:wS.errorIcon},Ue.a.createElement(Tr.b,{size:Cr.d.XS,kind:Cr.b.EXCLAMATION_ALT,colorState:Cr.a.WARNING_GRAD_RED})),Ue.a.createElement(Sr.c,{id:"unr_error_account_add_failed",defaultMessage:"Your email {email} already exists.\n                        If you deleted the mailbox recently, please wait for a few minutes\n                        until the process is complete and try again",values:{email:Ue.a.createElement("strong",null,e)}})),Ue.a.createElement("div",{className:wS.navWrapper},Ue.a.createElement(Hr.a,{kind:Ur.a.SECONDARY,onClick:()=>window.location.reload(),title:this.context.intl.formatMessage(kS.back_button_title)},Ue.a.createElement(Sr.c,kS.back_button_title))))}componentDidMount(){this.props.onLoadComplete({i13nModel:{interactionType:zr.d.nav,mKey:zr.e.USERNAME_PHONE_REG_ONBOARDING,sec:zr.g.USERNAME_PHONE_REG}})}render(){const{userName:e}=this.props,{selectedProvider:t}=this.state,s=Object(ec.f)(e);return Ue.a.createElement("div",{id:"app",className:wS.wrapper},Ue.a.createElement("div",{className:wS.shadedContainer},Ue.a.createElement("div",{className:wS.container,"data-test-id":"username-phone-reg-upsell"},Ue.a.createElement("nav",{className:wS.leftRail},Ue.a.createElement(yS,{provider:s||t})),Ue.a.createElement("main",{className:wS.widthRestricter},Ue.a.createElement("section",{className:wS.mainContent},Ue.a.createElement(ES.a,null,this._getSteps())),Ue.a.createElement("aside",{className:wS.rightRail})))))}}HS.contextTypes={intl:Sr.i.isRequired};var US=Object(Ir.b)(function(e){const{getAccountSelectors:t,getFeaturesSelectors:s,getAllAccounts:n}=Object(ro.b)(e),a=s().getSetting("appRootPath"),{type:r}=t().getPrimaryAccount()||{};return{accountType:r,appRootPath:a,accounts:n()}},function(e){return{onLoadComplete:t=>e(babelHelpers.extends({type:To.Tj},t)),onAddNewAccount:t=>e(Object(LS.a)(t))}})(HS);let jS=Object(Ir.b)(function(e){const{getFeaturesSelectors:t,getAccountSelectors:s}=Object(ro.b)(e),n=s().userHasRegisteredAccount();return{multiTaskModeSetting:t().isEnabled(E.nd.MAIL_TABS),userHasRegisteredAccount:n}})(function({userHasRegisteredAccount:e,multiTaskModeSetting:t,context:s}){return e?Ue.a.createElement(mS,{multiTaskModeSetting:t,context:s}):Ue.a.createElement(US,{userName:s.userName})});var GS=jS=Object(pS.provideContext)(jS,{config:Ve.a.object,store:Ve.a.object,loader:Fo.c,timezone:Fo.e,region:Ve.a.string,locale:Fo.d,os:Ve.a.string,rapidParams:Ve.a.object,usmLogString:Ve.a.string,yqlClient:Fo.f,credstoreClient:Fo.a,cspToken:Ve.a.string,linkEnhancerClient:Fo.b,partner:Ve.a.string,mailBrandNameString:Ve.a.string,yahooBrandNameString:Ve.a.string,appId:Ve.a.string});const BS="__lazyBundles";function VS(e,{bundleMapURL:t}={}){return t?function(e){return new R.b("GET",e).setHeader("Accept","application/json").send().then(e=>JSON.parse(e.text))}(t).then(t=>(window[BS]=t,WS(e,t))):new Promise(t=>t(WS(e,window[BS])))}function WS(e,t){const s=t.urls[t.urlIndexForEntry[e]];if(!s)throw new Error(`Unknown bundle URL for module ${e}`);return s}class qS{constructor({disabled:e}={}){this._cache={},this._disabled=e}locate(e,{bundleMapURL:t}){return VS(e,{bundleMapURL:t})}fetch(e,{cache:t}){if(!t)return lt.a.loadScript(e);const s=this._cache;return s[e]||(s[e]=lt.a.loadScript(e)),s[e]}loadModule(e,{cache:t=!0,bundleMapURL:s}={}){if(this._disabled)return Promise.reject(new Error("Lazy loading disabled"));const n={cache:t,bundleMapURL:s};return this.locate(e,n).then(e=>this.fetch(e,n))}}var zS={name:"MailFluxibleContextPlugin",plugContext(e){let{config:t,loginHash:s,mailWssid:n,mailboxAttributes:a,crumb:r,signoutCrumb:o,userName:i,guid:c,csid:l,timezone:d,environment:u,region:m,os:p,farm:_,partner:h,usmLogString:E,locale:g,localeData:b,cspToken:I,__initializeFeatures__:S,queryStringOverrides:A,buildNumber:T,launchTime:C,loggerParams:O,encryptedQueryParams:R,mailBrandNameString:N,yahooBrandNameString:M,appId:D}=e;return{plugComponentContext(e,s){const{store:n,apiClients:a={}}=s;e.crumb=r,e.signoutCrumb=o,e.config=t,e.loader=new qS({disabled:t.disableLazy}),e.timezone=d,e.region=m,e.usmLogString=E,e.os=p,e.locale=Object.assign({name:g},b),e.cspToken=I,e.store=n,e.mailAPIClient=a.mailAPIClient,e.yqlClient=a.yqlClient,e.credstoreClient=a.credstoreClient,e.linkEnhancerClient=a.linkEnhancerClient,e.partner=h,e.mailBrandNameString=N,e.yahooBrandNameString=M,e.userName=i,e.appId=D},plugActionContext(e,s){const n=s.store;e.encryptedQueryParams=R,e.config=t,e.store=n,e.mailboxAttributes=a,e.timezone=d,e.dispatch=((e,t)=>n.dispatch(babelHelpers.extends({},t,{type:e}))),Object.assign(e,babelHelpers.extends({},s.apiClients,{csid:l}))},plugStoreContext(){},dehydrate:()=>({buildNumber:T,config:t,launchTime:C,loginHash:s,mailWssid:n,guid:c,crumb:r,signoutCrumb:o,userName:i,mailboxAttributes:a,csid:l,locale:g,localeData:b,timezone:d,region:m,usmLogString:E,cspToken:I,os:p,farm:_,partner:h,environment:u,__initializeFeatures__:S,queryStringOverrides:A,loggerParams:Object(f.b)()?{}:O,encryptedQueryParams:R,mailBrandNameString:N,yahooBrandNameString:M,appId:D}),rehydrate(e){T=e.buildNumber,t=e.config,s=e.loginHash,n=e.mailWssid,r=e.crumb,o=e.signoutCrumb,c=e.guid,l=e.csid,i=e.userName,C=e.launchTime,g=e.locale,b=e.localeData,d=e.timezone,m=e.region,E=e.usmLogString,p=e.os,_=e.farm,h=e.partner,u=e.environment,S=e.__initializeFeatures__,A=e.queryStringOverrides,O=e.loggerParams,I=e.cspToken,R=e.encryptedQueryParams,a=e.mailboxAttributes,N=e.mailBrandNameString,M=e.yahooBrandNameString,D=e.appId}}}};const ZS=Object(Sr.h)({hasUnsavedMessage:{id:"warning.has_unsaved_message",defaultMessage:"You are about to leave with unsaved data. Continue?"},confirmRouteChangeModalTitle:{id:"warning.confirm_route_change_modal_title",defaultMessage:"Do You Want to Leave This Page?"},confirmRouteChangeModalBody:{id:"warning.confirm_route_change_modal_body",defaultMessage:"Changes you made may not be saved."},confirmRouteChangeModalLeaveButton:{id:"warning.confirm_route_change_modal_leave_button_text",defaultMessage:"Leave"},confirmRouteChangeModalCancelButton:{id:"warning.confirm_route_change_modal_cancel_button_text",defaultMessage:"Cancel"},unloadPromptMessage:{id:"warning.unsaved_data_unload_prompt_message",defaultMessage:"Changes you made may not be saved."}});var KS=s(136),YS=s.n(KS);const XS=Object(S.c)(["mrdparam","search_keyword","to_list"]);Object(S.c)(["YM_MAIL_CONV","MOBILE_CONV","YM_MAIL_THM","YM_TZ","YM_LAST_OBSERVED_TZ","YM_MAIL_TABS","UDB_PREVIEW_PANE","YM_MAIL_SCOUT","YM_FE_PREVIOUS","YM_FE_HISTORY","YMV"]),Object(S.c)(["sky.mail.yahoo.com","rogers.mail.yahoo.com"]);function $S(e,t){if(!t)return[];const{getMaxTabCounts:s,isDraftGroup:n}=Object(ro.b)(e),a=[...e.pages,t],r=[],o=s();if(a.forEach(e=>{co(e)&&!n(e.params.groupId)&&r.push(e)}),r.length<=o)return[];const i=r.length-o;return r.sort((e,t)=>(e.timestamp||0)-(t.timestamp||0)).slice(0,i)}var QS=(e,t)=>{const{normalizeRoute:s,getRoute:n,getPreviousRoute:a,getSetting:r,getFeaturesSelectors:o,isSingleDraftGroup:i,findUnsyncedDataByCsid:c,getLastSaveTimeStampForDraft:l,getPages:d,doesRouteContainFailure:u,getSmartViewPageByType:m,getQueryParams:p,getStreamsSelectors:_,getSelectedAccountId:h,getDraftFolderIdByAccountId:g,getSmartViewTypeFromRoute:b,getSmartViewPosition:I,getSettingsPageRoute:f}=Object(ro.b)(e),{type:A,route:T,actionTimestamp:C}=t;switch(A){case To.Oe:{const e=n(),{folderId:a,launchError:r,encryptedQueryParams:o={}}=t,i=p(),c="1"===i.openGIFPicker,l="1"===i.openStationery;let d;if(e.timestamp=C,o[XS.mrdparam]&&Object(S.e)(o[XS.mrdparam]).some(Boolean)&&(d=o[XS.mrdparam]),c&&(d=babelHelpers.extends({},d||{},{showGIFPicker:c})),l&&(d=babelHelpers.extends({},d||{},{showStationeryPicker:l})),t=babelHelpers.extends({},t,{route:e,mrdParams:d}),!a)return t;const u=s(Object(ao.j)(a));return e.name===E.Uc.BASE&&(t=babelHelpers.extends({},t,{route:u,listId:Object(io.s)(a)})),r&&u&&u.name&&(t=babelHelpers.extends({},t,{listId:Object(io.s)(a),route:u})),t}case To.ij:case To.Cg:{const a=n();switch(T.name){case E.Uc.NEW_DRAFT:{const{params:e={}}=T,{params:n={}}=a,r=a.name===T.name&&(l(n.csid)||Boolean(c(n.csid)));return babelHelpers.extends({},t,{route:babelHelpers.extends({},s(T),{timestamp:C}),previousRoute:a,forceNewPage:r,csid:e.csid})}case E.Uc.SEARCH:{const e=Object(io.t)(T),n=Object(io.I)(T)?b(T):null,r=n?m(n):null,o=n?!!r:a&&a.name===E.Uc.SEARCH&&!Object(io.K)(Object(io.t)(a));return babelHelpers.extends({},t,{route:babelHelpers.extends({},s(T),{timestamp:C}),previousRoute:r||a,forceNewPage:!r&&Object(io.K)(e),replaceRoute:o})}case E.Uc.LIST:{const e=Object(io.I)(T)?b(T):null,n=e?m(e):null;return babelHelpers.extends({},t,{route:babelHelpers.extends({},s(T),{timestamp:C}),previousRoute:n||a,replaceRoute:!!n})}case E.Uc.SETTINGS:{const e=f()||null;return babelHelpers.extends({},t,{route:babelHelpers.extends({},s(T),{timestamp:C}),previousRoute:e||a,replaceRoute:!!e})}default:{const n=T&&{route:babelHelpers.extends({},s(T),{timestamp:C})};return babelHelpers.extends({},t,n,{previousRoute:a,tabsToRemove:$S(e,n.route)})}}}case To.kf:{const e=t.previousRoute||a(),n=Object(S.a)(t,"retailers.0.id",""),r=""===n?"":s(Object(ao.l)(n));return babelHelpers.extends({},t,{previousRoute:e,route:r})}case To.vb:{const e=d().filter(e=>{if(e.name===E.Uc.FOLDER)return!1;const t=Object(io.I)(e)?b(e):null;return!(t&&I(t)===E.yd.TAB_BAR)});return babelHelpers.extends({},t,{pagesToClose:e})}case To.Rf:{const e=t.previousRoute||a();return r(E.mb.CONVERSATIONS)?babelHelpers.extends({},t,{route:T&&babelHelpers.extends({},s(t.route),{timestamp:C})||n(),previousRoute:e}):babelHelpers.extends({},t,{previousRoute:e,route:babelHelpers.extends({},s(Object(ao.e)(t.csid)),{timestamp:C})})}case To.ci:{const e=n(),a=d(),r=()=>a.some(e=>e.name===E.Uc.SETTINGS);return e.timestamp=C,t.name===E.nd.MAIL_TABS&&t.value&&e.name!==E.Uc.SETTINGS&&!r()?babelHelpers.extends({},t,{previousRoute:e,route:e,pages:[...a,s(Object(ao.u)({settingsGroupId:E.qd.PERSONALIZE_INBOX}))]}):babelHelpers.extends({},t,{previousRoute:e,route:e})}case To.mj:{const e=t.previousRoute||a(),r=T&&s(t.route)||n();return r.timestamp=C,babelHelpers.extends({},t,{route:r,previousRoute:e,pages:d()})}case To.Zj:{let e;const r=d(),c=n(),{isEnabled:l}=o(),{csid:m,groupId:p,previousRoute:b,listId:I}=t,f=b||a();c.timestamp=C,r.length||r.push(c);const S=Object(io.t)(c),A=l(E.mb.CONVERSATIONS),T=Object(s_.a)([S]),{doesStreamExist:O,getCursorSelectors:R}=_(),{id:N,listId:M}=O(T)&&R(T).getCursorItem()||{};if(p)if(i(p)||!A){const t=g(h()),s=Object(io.s)(t);e=Object(ao.i)(s,m,c.query)}else e=Object(ao.o)(I,p,c.query);else e=Object(ao.e)(m,c.query);const[D,y]=rs()(r.slice(1),e=>e.params&&p&&e.params.groupId===p||u(e));return p&&p===N&&M===I?babelHelpers.extends({},t,{route:c,previousRoute:f,sendFailureRoute:e,pages:YS()([r[0],...D,...y],"url")}):babelHelpers.extends({},t,{route:c,previousRoute:f,pages:YS()([r[0],s(e),...D,...y],"url"),sendFailureRoute:e})}default:{const e=t.previousRoute||a(),s=T||n();return s.timestamp=C,babelHelpers.extends({},t,{route:s,previousRoute:e})}}};var JS=(e,t)=>{const{getMainStreamItems:s,getRoute:n,doesListExist:a,doesStreamExist:r,getExpansionStateForStreamItem:o,getListsSelectors:i}=Object(ro.b)(e),{type:c,streamItems:l}=t;let d=t.streamId;switch(c){case To.xb:{const{route:e}=t,s=Object(io.t)(e);return d||(d=Object(s_.b)(s,e.params.groupId)),babelHelpers.extends({},t,{streamId:d})}case To.Uc:{const{getTotalHits:e}=i(),{listIds:s}=t,n=Object.keys(s).reduce((t,n)=>{const i=Object(io.i)(n),c=s[n];return n!==E.Gb.TOP_CONTACTS&&r(i)&&o({csid:c,listId:i,streamId:i})&&a(c)&&e(c)===E.Jb+1&&t.push({listId:i,categoryListId:c}),t},[]);if(n.length)return babelHelpers.extends({},t,{streamIds:n});break}case To.Vi:case To.bj:case To.Xi:case To.aj:case To.Zi:case To.Yi:case To.Q:case To.Vj:case To.bk:case To.rb:case To.nb:case To.Oh:case To.Cj:case To.eg:case To.mg:case To.Mh:case To.De:case To.bg:case To.kg:case To.jh:case To.Ae:case To.tc:case To.Pd:case To.yj:case To.qc:case To.og:case To.Pe:case To.qg:case To.ed:case To.ab:case To.gh:case To.Ti:case To.Zg:return babelHelpers.extends({},t,{streamItems:l||s(n())});case To.Cg:if(t.streamItem)return babelHelpers.extends({},t,{streamItems:l||s(n())})}return t};const eA=(e,t,s,n,a,r,o,i,c,l)=>{const d=Object(io.q)(e);let u=void 0;if(void 0!==r&&(u=r),u||void 0===s||(u=Boolean(s)),u||void 0===n||(u=Boolean(n)),void 0!==c&&(c===To.Vj||c===To.bk))return{};switch(d){case E.Fb.MESSAGES:case E.Fb.TRAVEL_CARDS:case E.Fb.COUPON_CARDS:case E.Fb.REFUND_CARDS:case E.Fb.RECEIPT_CARDS:case E.Fb.RECOMMENDED_ITEMS:return{[e]:{itemIds:t.map(e=>e.id),nextItemsUrl:s,offset:n,totalHits:a,hasMoreItems:u,lmv3Query:o,suggestedWords:i}};case E.Fb.DOCUMENTS:case E.Fb.IMAGES:return{[e]:{itemIds:t.map(({attachment:e})=>e.id),nextItemsUrl:s,offset:n,totalHits:a,hasMoreItems:u,lmv3Query:o,suggestedWords:i}};case E.Fb.GIFS:return{[e]:{itemIds:t.map(e=>e.id),nextItemsUrl:s,offset:n,hasMoreItems:u,lmv3Query:o,suggestedWords:i}};case E.Fb.PEOPLE:return{[e]:{itemIds:t.map(({contactDetails:e})=>e.xobniId),nextItemsUrl:s,offset:n,hasMoreItems:u,lmv3Query:o,suggestedWords:i}};case E.Fb.CONTACTS:return{[e]:{itemIds:t.map(({id:e})=>e),nextItemsUrl:s,offset:n,totalHits:a,hasMoreItems:u,lmv3Query:o,suggestedWords:i}};case E.Fb.GROCERY_STORES:{let r=[];const c=Object(io.r)(e);return c===E.Gb.UNLINKED_GROCERY_STORES?r=t.reduce(function(e,t){return t.linked||e.push(t.id),e},[]):c===E.Gb.LINKED_GROCERY_STORES&&(r=t.reduce(function(e,t){return t.linked&&e.push(t.id),e},[])),{[e]:{itemIds:r,nextItemsUrl:s,offset:n,totalHits:a,hasMoreItems:u,lmv3Query:o,suggestedWords:i}}}case E.Fb.OFFER_CARDS:return Object(io.r)(e)===E.Gb.ACTIVATED_OFFER_CARDS?{[e]:{itemIds:t.map(({offerId:e})=>e),nextItemsUrl:s,offset:n,totalHits:a,hasMoreItems:u,lmv3Query:o,suggestedWords:i}}:{[e]:{itemIds:t.map(({offerId:e})=>e),nextItemsUrl:s,offset:n,totalHits:a,hasMoreItems:u,lmv3Query:o,suggestedWords:i,offerType:l}}}return{}},tA=(e,t)=>{switch(Object(io.q)(e)){case E.Fb.GIFS:return t.reduce((e,t)=>babelHelpers.extends({},e,{[t.id]:t}),{})}return{}},sA=(e,t)=>{switch(Object(io.q)(e)){case E.Fb.COUPON_CARDS:case E.Fb.TRAVEL_CARDS:case E.Fb.REFUND_CARDS:case E.Fb.RECEIPT_CARDS:case E.Fb.MESSAGES:case E.Fb.RECOMMENDED_ITEMS:return t.reduce((e,t)=>{return babelHelpers.extends({},e,{[t.id]:(e[t.id]||[]).concat(t.messages.map(e=>e.id))})},{})}return{}},nA=(e,t,s)=>{const n=Object(io.q)(t),{doesMessageIdExist:a,getMessageCsid:r}=e;switch(n){case E.Fb.MESSAGES:case E.Fb.TRAVEL_CARDS:case E.Fb.COUPON_CARDS:case E.Fb.REFUND_CARDS:case E.Fb.RECEIPT_CARDS:case E.Fb.RECOMMENDED_ITEMS:return s.reduce((e,t)=>babelHelpers.extends({},e,t.messages.reduce((e,t)=>{let s=null;return s=!s&&a(t.id)?r(t.id):t.csid?t.csid:Object(Ps.f)(),babelHelpers.extends({},e,{[t.id]:babelHelpers.extends({},u()(t,["snippet","attachments","headers","schemaCards"]),{headers:u()(t.headers,["subject"])},s?{csid:s}:{})})},{})),{})}return{}},aA=(e,t,s)=>{const n=Object(io.q)(t),{getContentIdByAttachmentId:a,doesAttachmentExistById:r}=e.getAttachmentsSelectors();switch(n){case E.Fb.MESSAGES:return s.reduce((e,t)=>babelHelpers.extends({},e,t.messages.reduce((e,t)=>babelHelpers.extends({},e,(t.attachments||[]).reduce((e,s)=>{const n=r(s.id)&&a(s.id)?a(s.id):Object(Gn.c)();return babelHelpers.extends({},e,{[s.id]:babelHelpers.extends({},s,{conversationId:s.conversationId||t.conversationId,contentId:n,dataId:n})})},{})),{})),{});case E.Fb.DOCUMENTS:case E.Fb.IMAGES:return s.reduce((e,{attachment:t})=>{const s=r(t.id)?a(t.id):Object(Gn.c)();return babelHelpers.extends({},e,{[t.id]:babelHelpers.extends({},t,{contentId:s,dataId:s})})},{})}return{}},rA=(e,t)=>{switch(Object(io.q)(e)){case E.Fb.MESSAGES:return t.reduce((e,t)=>babelHelpers.extends({},e,t.messages.reduce((e,t)=>babelHelpers.extends({},e,{[t.id]:(t.attachments||[]).map(e=>e.id)}),{})),{});case E.Fb.DOCUMENTS:case E.Fb.IMAGES:return t.reduce((e,{attachment:t,message:s})=>babelHelpers.extends({},e,{[s.id]:[...e[s.id]||[],t.id]}),{})}return{}},oA=(e,t)=>{switch(Object(io.q)(e)){case E.Fb.MESSAGES:case E.Fb.TRAVEL_CARDS:case E.Fb.COUPON_CARDS:case E.Fb.REFUND_CARDS:case E.Fb.RECEIPT_CARDS:case E.Fb.RECOMMENDED_ITEMS:return t.reduce((e,t)=>babelHelpers.extends({},e,t.messages.reduce((e,t)=>babelHelpers.extends({},e,{[t.id]:(t.schemaCards||[]).map(({id:e,type:t})=>({id:e,type:t}))}),{})),{})}return{}},iA=(e,t)=>{switch(Object(io.q)(e)){case E.Fb.MESSAGES:case E.Fb.TRAVEL_CARDS:case E.Fb.REFUND_CARDS:case E.Fb.RECEIPT_CARDS:return t.reduce((t,s)=>babelHelpers.extends({},t,s.messages.reduce((t,{id:s,headers:n={}})=>babelHelpers.extends({},t,{[s]:{[e]:n.subject}}),{})),{});case E.Fb.DOCUMENTS:case E.Fb.IMAGES:return t.reduce((t,s)=>babelHelpers.extends({},t,{[s.message.id]:{[e]:s.message.subject}}),{})}return{}},cA=(e,t)=>{switch(Object(io.q)(e)){case E.Fb.MESSAGES:case E.Fb.TRAVEL_CARDS:return t.reduce((t,s)=>babelHelpers.extends({},t,s.messages.reduce((t,s)=>babelHelpers.extends({},t,{[s.id]:{[e]:s.snippet}}),{})),{})}return{}},lA=(e,t)=>{switch(Object(io.q)(e)){case E.Fb.PEOPLE:return t.reduce((e,t)=>babelHelpers.extends({},e,{[t.contactDetails.xobniId]:t.contactDetails}),{})}return{}},dA=(e,t)=>{switch(Object(io.q)(e)){case E.Fb.MESSAGES:case E.Fb.TRAVEL_CARDS:case E.Fb.COUPON_CARDS:case E.Fb.REFUND_CARDS:case E.Fb.RECEIPT_CARDS:case E.Fb.RECOMMENDED_ITEMS:return t.reduce((e,t)=>babelHelpers.extends({},e,t.messages.reduce((e,t)=>babelHelpers.extends({},e,(t.schemaCards||[]).reduce((e,t={})=>babelHelpers.extends({},e,{[t.id]:babelHelpers.extends({},t)}),{})),{})),{})}return{}},uA=(e,t,s={})=>{switch(Object(io.q)(e)){case E.Fb.COUPON_CARDS:return[].concat(Object.keys(s).map(e=>({id:e,messages:[s[e]]})));default:return t.concat(Object.keys(s).map(e=>({id:e,messages:[s[e]]})))}},mA=(e,t,s,n,a,r,o,i={},c,l,d=[],u,m)=>{const{doesFolderIdExist:p}=e,_=Object(io.q)(t),h={};let g=s;return d.forEach(e=>{h[e.folder.id]=!0}),_===E.Fb.MESSAGES&&(g=s.filter(e=>{const t=e.messages.filter(e=>p(e.folder.id)||h[e.folder.id]);return e.messages=t,e.messages.length>0})),{lists:eA(t,g,n,a,r,o,c,l,u,m),groupIdToMessageIdsMap:sA(t,g),messages:nA(e,t,uA(t,g,i)),attachments:aA(e,t,g),attachmentIdToMessageIdMap:rA(t,g),subjects:iA(t,g),snippets:cA(t,g),gifItems:tA(t,g),schemaCards:dA(t,g),messageIdToSchemaIdsMap:oA(t,g),people:lA(t,g)}},pA=(e={},t,s="",n=[])=>{const a=[];return Object.keys(E.Fb).forEach(r=>{Object.keys(e[r]||{}).forEach(o=>{const i=Object(io.Q)(s,{listContentType:r,listFilter:o}),c=e[r][o];c&&a.push(mA(t,i,c.items,c.nextItemsUrl,c.offset,c.totalHits,c.hasMoreItems,void 0,c.lmv3Query,c.suggestedWords,n))})}),a},_A=(e,t)=>{const{getContentIdByAttachmentId:s,doesAttachmentExistById:n}=e,a=Object.keys(t.messageMetadataMap);return{attachments:a.reduce((e,a)=>{const{attachments:r=[]}=t.messageMetadataMap[a];return babelHelpers.extends({},e,r.reduce((e,t)=>{const a=n(t.id)?s(t.id):Object(Gn.c)();return babelHelpers.extends({},e,{[t.id]:babelHelpers.extends({},t,{contentId:a,dataId:a})})},{}))},{}),attachmentIdToMessageIdMap:a.reduce((e,s)=>{const{attachments:n=[]}=t.messageMetadataMap[s];return babelHelpers.extends({},e,{[s]:n.map(({id:e})=>e)})},{})}},hA=e=>Object.keys(e).reduce((t,s)=>babelHelpers.extends({},t,e[s].length?Object.assign.apply({},e[s].map(e=>({[e]:s}))):{}),{}),EA=(e,t,s)=>{const{getMessageCsid:n,getMessageIdsFromMessageGroupId:a,isFeatureEnabled:r}=s,o=e.reduce((e,t)=>Object.keys(t).reduce((e,s)=>"attachmentIdToMessageIdMap"===s?babelHelpers.extends({},e,{[s]:babelHelpers.extends({},e[s],hA(t[s]))}):babelHelpers.extends({},e,{[s]:babelHelpers.extends({},e[s],t[s])}),e),{});if(r(E.mb.CONVERSATIONS))switch(t.type){case To.Vj:case To.Yj:o.groupIdToMessageIdsMap=Object.keys(o.groupIdToMessageIdsMap||{}).reduce((e,s)=>{const r=(a(s)||[]).filter(e=>n(e)!==t.csid).concat(t.message.id);return babelHelpers.extends({},e,{[s]:r})},{})}if(t.type===To.rb&&o.lists){const e=t.listId,{doesListExist:n,getListItemIds:a}=s,r=n(e)?a(e):[];o.lists[e].itemIds=Object(io.T)(r,o,e)}return o};var gA=(e,t)=>{const s=Object(ro.b)(e),n=[];switch(t.type){case To.ij:case To.Cg:{const e=Object(io.t)(t.route),{attachments:n=[]}=t;if(n.length){const a=n[0],{getContentIdByAttachmentId:r}=s.getAttachmentsSelectors(),{contentId:o=r(a.id)||Object(Gn.c)()}=a;return babelHelpers.extends({},t,{listId:e,listData:{attachments:{[a.id]:babelHelpers.extends({},a,{contentId:o,dataId:o})}}})}return babelHelpers.extends({},t,{listId:e})}case To.yf:case To.Vf:{const{groupId:e,message:a,listId:r}=t;e&&a&&r&&n.push(mA(s,t.listId,[{id:e,messages:[a]}]));break}case To.Bf:case To.Af:if(!Object.keys(t.messageMetadataMap).length)return t;n.push(babelHelpers.extends({messageMetadataMap:t.messageMetadataMap},_A(s.getAttachmentsSelectors(),t))),n.push(...pA(t.response,s,t.listId));break;case To.Ae:{const{getCurrentListId:e}=s;t.categories.forEach(({gifs:t,queryString:a})=>{const r=Object(io.Q)(e(),{listContentType:E.Fb.GIFS,keyword:a.toLowerCase(),listFilter:E.Gb.GIFS});n.push(mA(s,r,t.items,t.nextItemsUrl,t.offset,t.totalHits,t.hasMoreItems))});break}case To.Ce:{const{getCurrentListId:e}=s,n=Object(io.Q)(e(),{listContentType:E.Fb.GIFS,keyword:t.query,listFilter:E.Gb.GIFS});return babelHelpers.extends({},t,{listId:n})}case To.Yj:case To.Vj:{const{getMessageIdsFromMessageGroupId:e,doesMessageGroupIdExist:a,getFoldersSelectors:r,getAttachmentIdsByMessageId:o,getAttachmentById:i,getMessageSubject:c,getMessageSnippet:l,__getMessageWithFlagsAndFolderId:d}=s,{__get__:u}=r(),{conversationsMode:m,message:p,listId:_}=t,h=m?p.conversationId:p.id,g={id:h};if(a(h)){const t=e(h),s=[];t.forEach(e=>{const t=d(e),n=o(e).map(i).filter(Boolean);s.push(babelHelpers.extends({},t,{id:e,attachments:n,attachmentCount:n.length,folder:u(t.folderId||t.folderOfDelivery),snippet:l(e,_),headers:babelHelpers.extends({},t.headers,{subject:c(e,_)})}))}),s.push(p),g.messages=s}else g.messages=[p];n.push(mA(s,Object(io.Q)(t.listId,{listContentType:E.Fb.MESSAGES}),[g],t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,void 0,void 0,void 0,t.type));break}case To.Oe:case To.Cj:case To.rb:case To.nb:case To.eg:case To.Kg:case To.Jf:if(t.messageGroupList&&n.push(mA(s,t.listId,t.messageGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.messageGroup&&n.push(mA(s,Object(io.Q)(t.listId,{listContentType:E.Fb.MESSAGES}),[t.messageGroup],t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.messageGroups&&n.push(mA(s,Object(io.Q)(t.listId,{listContentType:E.Fb.MESSAGES}),t.messageGroups,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.draftMessage&&n.push(mA(s,t.listId,t.draftMessage,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.response&&n.push(...pA(t.response,s,t.listId,t.folders)),t.message&&t.type===To.Oe){const{messageMetadataMap:e,message:a}=t,{csid:r}=a;if(!Object.keys(e).length)return t;n.push(babelHelpers.extends({},_A(s.getAttachmentsSelectors(),t),{messages:{[a.id]:babelHelpers.extends({},u()(a,["snippet","attachments","headers","schemaCards"]),{headers:u()(a.headers,["subject"])},r?{csid:r}:{})},subjects:{[a.id]:{[t.listId]:a.headers.subject}},snippets:{[a.id]:{[t.listId]:a.snippet}}})),t.draftMessageId||(t.draftMessageId=t.message.id)}break;case To.tc:case To.bg:n.push(mA(s,t.listId,t.cardGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems));break;case To.Pd:case To.jh:case To.kg:case To.yj:case To.og:n.push(mA(s,t.listId,t.cardGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,t.parentMessagesMap));break;case To.mg:{const{listId:e,listContentBlock:a={}}=t;e&&a&&n.push(mA(s,e,a.items,a.offset?a.nextItemsUrl:"",a.offset,a.totalHits,a.hasMoreItems&&!!a.offset));break}case To.Ne:{const{listId:e,contacts:s}=t,n=s.reduce((e,t)=>{const{id:s,xobniId:n}=t;return e.contactEmailToId[s]=n,void 0!==e.idToContact[t.xobniId]?(e.idToContact[t.xobniId].emails=ls()([...e.idToContact[t.xobniId].emails,...t.emails]),e):(e.contacts=[...e.contacts,t],e.idToContact[n]=t,e)},{contacts:[],idToContact:{},contactEmailToId:{}}),a=s.map(({id:e})=>e);return babelHelpers.extends({},t,{listData:{lists:{[e]:{itemIds:a}}},contacts:n.contacts,contactEmailToId:n.contactEmailToId})}case To.Jb:{const{listId:e,contacts:s,characters:n=[],groups:a}=t,r=n.length>0,o={},i=s.reduce((t,{category:s,contacts:n,remainingCount:a})=>{const r=Object(io.Q)(e,{name:s});return babelHelpers.extends({},t,eA(r,n,"",0,n.length+a,a>0))},{});return a&&a.length>0&&(o[Object(io.i)(E.Gb.GROUPS)]={itemIds:a,totalHits:a.length,nextItemsUrl:"",offset:0,hasMoreItems:!1,lmv3Query:void 0,suggestedWords:void 0}),r?babelHelpers.extends({},t,{listData:{lists:babelHelpers.extends({},i,o)}}):babelHelpers.extends({},t,{listData:{lists:babelHelpers.extends({},i,o,{[e]:{itemIds:Object.keys(i),nextItemsUrl:"",offset:0,totalHits:s.length,hasMoreItems:!1,lmv3Query:void 0,suggestedWords:void 0}})}})}case To.Mh:case To.Oh:case To.De:n.push(...pA(t.response,s,t.listId));break;case To.vc:case To.qc:{const{messageDecosPayloads:e,schemaCard:a,listId:r}=t,o=e.map(({messageId:e})=>({id:e,messages:[{id:e,schemaCards:[a]}]}));n.push(mA(s,r,o));break}case To.zh:{const{listIds:e,retailers:a,hasMoreItems:r}=t;e.forEach(e=>n.push(mA(s,e,a,void 0,void 0,void 0,r)));break}case To.kf:case To.Fj:{const{listIds:e,retailers:a}=t;e.forEach(e=>n.push(mA(s,e,a)));break}case To.Ag:case To.gg:{const{listId:e,offers:a,hasMoreItems:r,offset:o,offerType:i}=t;n.push(mA(s,e,a,void 0,o,void 0,r,void 0,void 0,void 0,void 0,void 0,i));break}case To.y:case To.Xf:{const{listId:e,offers:a,hasMoreItems:r,offset:o}=t;n.push(mA(s,e,a,void 0,o,void 0,r));break}case To.B:{const{listId:e,offers:a}=t;n.push(mA(s,e,a));break}case To.yh:{const{listIds:e}=t;e.forEach(e=>n.push(mA(s,e,[])));break}default:return t}return babelHelpers.extends({},t,{listData:EA(n,t,s)})};var bA=(e,t)=>{const{type:s,folders:n=[]}=t;switch(s){case To.th:{const{folderId:s,folderName:n}=t,{getFoldersSelectors:a,getAccountIdByFolderId:r}=Object(ro.b)(e),o=r(s),{getFolderIdsByAccountId:i,getFolderPath:c}=a(),l=i(o),d=c(s)+"/",u=n+"/",m=l.filter(e=>-1!==c(e).indexOf(d)&&e!==s).map(e=>({folderId:e,folderName:c(e).replace(d,u)}));return babelHelpers.extends({},t,{subfolders:m})}case To.Oe:case To.Cj:case To.rb:case To.nb:case To.Mh:case To.Oh:return n.length?babelHelpers.extends({},t,{folderMap:Object(bt.d)(n)}):t;case To.Lc:case To.uh:{const{folder:e,subfolders:s=[]}=t;return babelHelpers.extends({},t,{folderMap:babelHelpers.extends({[e.id]:e},s.reduce((e,t)=>babelHelpers.extends({},e,{[t.id]:t}),{}))})}default:return t}};var IA=(e,t)=>{const{streamId:s}=t,{doesStreamExist:n,getSelectedStreamItems:a,getCursor:r}=Object(ro.b)(e);if(!s)return t;switch(t.type){case To.aj:case To.Pe:return babelHelpers.extends({},t,{selectionPayload:{oldSelectedItems:n(s)?a(s):[]}});case To.Yj:case To.Vf:case To.yf:case To.Vi:case To.bj:case To.Xi:case To.Vj:case To.bk:case To.rb:case To.nb:case To.Oh:case To.Cj:case To.eg:case To.mg:case To.Mh:case To.De:case To.bg:case To.kg:case To.jh:case To.Ae:case To.tc:case To.Pd:case To.yj:case To.qc:case To.og:return babelHelpers.extends({},t,{selectionPayload:{oldCursor:n(s)?r(s):void 0,oldSelectedItems:n(s)?a(s):[]}});case To.ed:case To.qg:if(void 0!==t.route&&t.route.params.fid===E.Kd.SPAM&&(t.triageActionType===E.Vd.NOT_SPAM_SELECTED_ITEMS||t.triageActionType===E.Vd.DELETE_SELECTED_ITEMS))return babelHelpers.extends({},t,{streamItems:void 0})}return t},fA=s(263),SA=s.n(fA);const AA=({state:e,featureName:t,featureCueTimestamps:s})=>{const{isEnabled:n,getSetting:a}=Object(ro.b)(e).getFeaturesSelectors(),r=n(E.mb.PUSH_NOTIFICATIONS),o=!!a(E.nd.NOTIFICATION),i=n("browserNotifications"),c=a(E.nd.PUSH_NOTIFICATIONS_EXPERIMENT),l=s[E.mb.MOBILE_ONBOARDING_CUE]||0;return!!(Object(ro.b)(e).isMobileRoute()&&o&&r&&i&&l&&SA()(new Date,1e3*l)>=7&&((e,t)=>{return-1!=={[E.mb.PUSH_NOTIFICATIONS_CUE_LAUNCH]:[E.Jc.DEFAULT,E.Jc.LAUNCHV01],[E.mb.PUSH_NOTIFICATIONS_CUE_PTR]:[E.Jc.PTRV01,E.Jc.PTRV02],[E.mb.PUSH_NOTIFICATIONS_CUE_COMPOSE]:[E.Jc.COMPOSEV01]}[e].indexOf(t)})(t,c)&&Object(Uf.d)()===Uf.a.DEFAULT)},TA={[E.mb.PUSH_NOTIFICATIONS_CUE_LAUNCH]:AA,[E.mb.PUSH_NOTIFICATIONS_CUE_PTR]:AA,[E.mb.PUSH_NOTIFICATIONS_CUE_COMPOSE]:AA,[E.mb.DELAY_MOBILE_ONBOARDING_CUE]:({featureCueTimestamps:e})=>{return!(e[E.mb.MOBILE_ONBOARDING_CUE]||0)},[E.mb.MOBILE_ONBOARDING_CUE]:({state:e,featureCueTimestamps:t})=>{const s=Object(ro.b)(e).getFeaturesSelectors().isEnabled(E.mb.DELAY_MOBILE_ONBOARDING),n=t[E.mb.DELAY_MOBILE_ONBOARDING_CUE]||0;return!(s&&!(n&&SA()(new Date,1e3*n)>=1))},[E.mb.ADBLOCK_UPSELL_CUE]:({state:e,featureCueTimestamps:t})=>{const{isEnabled:s,getSetting:n}=Object(ro.b)(e).getFeaturesSelectors(),a=n(E.nd.ADBLOCK_UPSELL_CUE_INTERVAL),r=Date.now()-1e3*t[E.mb.ADBLOCK_UPSELL_CUE];return s(E.mb.MAIL_PRO)?!t[E.mb.ADBLOCK_UPSELL_CUE]:r>a},[E.mb.PHOTOS_CUE]:()=>!1,[E.mb.LINKEDIN_REAUTH_CUE]:({action:e})=>{if(!e.response||!e.response[E.Bd.LinkedIn])return!1;const{connectedTimestamp:t,spid:s}=e.response[E.Bd.LinkedIn];return!!(s&&t<1535673600)},[E.mb.BLOCK_SENDER_CUE]:({state:e,action:t})=>{const{canDisplayBlockSenderMenuItemForMessageId:s,getMessageGroupsSelectors:n}=Object(ro.b)(e),a=Object(S.a)(t,"route.params.groupId");if(!a)return!1;const{doesMessageGroupIdExist:r,getMessageIdsFromMessageGroupId:o}=n();if(!r(a))return!1;const i=o(a);return 1===i.length&&s(i[0])},[E.mb.RIGHT_RAIL_AD_FREE_UPSELL_CUE]:({state:e,featureCueTimestamps:t})=>{const{getSetting:s}=Object(ro.b)(e),n=s(E.nd.RIGHT_RAIL_UPSELL_CUE_INTERVAL);return Date.now()-1e3*t[E.mb.RIGHT_RAIL_AD_FREE_UPSELL_CUE]>n},[E.mb.CONVERSATIONS_CUE]:({state:e})=>!!Object(ro.b)(e).getFeaturesSelectors().isEnabled(E.mb.CONVERSATIONS)},CA=(e,t={})=>{const s=(e,s="value")=>{return null===s?t[e]:(t[e]||{})[s]},n=t[E.Yb.BLOCK_IMAGES]?!t[E.Yb.BLOCK_IMAGES].value:void 0;return Object.keys(t).length?{[E.nd.THEME]:s(e?E.Yb.MOBILE_THEME:E.Yb.THEME),[E.nd.THEME_MODE]:s(e?E.Yb.MOBILE_THEME_MODE:E.Yb.THEME_MODE),[E.nd.MSG_LIST_DENSITY]:s(E.Yb.MSG_LIST_DENSITY),[E.nd.PREVIEW_PANE]:s(E.Yb.PREVIEW_PANE),[E.nd.SNIPPETS]:s(e?E.Yb.MOBILE_SNIPPETS:E.Yb.SNIPPETS),[E.nd.COMPOSE_FONT_FAMILY]:s(E.Yb.COMPOSE_FONT_FAMILY),[E.nd.COMPOSE_FONT_SIZE]:s(E.Yb.COMPOSE_FONT_SIZE),[E.nd.DESKTOP_NOTIFICATION]:s(E.Yb.DESKTOP_NOTIFICATION),[E.nd.MOBILE_NOTIFICATION]:s(E.Yb.MOBILE_NOTIFICATION),[E.nd.MARK_AS_READ_INTERVAL]:s(E.Yb.MARK_AS_READ_INTERVAL),[E.nd.DELIVERY_BLOCKED_SENDERS]:s(E.Yb.DELIVERY_BLOCKED_SENDERS,"senders"),[E.nd.SHOW_IMAGES]:e?s(E.Yb.MOBILE_SHOW_IMAGES):n,[E.nd.LINK_ENHANCR]:s(E.Yb.LINK_ENHANCER),[E.nd.VACATION_PREFERENCES]:s(E.Yb.VACATION_PREFERENCES,null),[E.nd.DEA_BASE_NAME]:s(E.Yb.DEA_BASE_NAME,null),[E.nd.MAILBOX_SIZE]:s(E.Yb.MAILBOX_SIZE,null),[E.nd.MESSAGE_FILTERS]:s(E.Yb.MESSAGE_FILTERS,"filters"),[E.nd.ACTION_AFTER_MSG_MOVE]:s(E.Yb.ACTION_AFTER_MSG_MOVE),[E.nd.SHOW_CUSTOM_FOLDERS]:s(E.Yb.SHOW_CUSTOM_FOLDERS),[E.nd.MAIL_TABS]:s(E.Yb.MAIL_TABS),[E.nd.EMAIL_SUBSCRIPTIONS]:s(E.Yb.EMAIL_SUBSCRIPTIONS),[E.nd.HIDE_AD]:s(E.Yb.HIDE_AD),[E.nd.EXPANDED_FOLDERS]:s(E.Yb.EXPANDED_FOLDERS),[E.nd.STATIONERY_DEFAULT_THEME]:s(E.Yb.STATIONERY_DEFAULT_THEME),[E.nd.UNSUBSCRIBE_NOTIFICATION]:s(E.Yb.UNSUBSCRIBE_NOTIFICATION),[E.nd.UNSUBSCRIBE_TIMESTAMP]:s(E.Yb.UNSUBSCRIBE_TIMESTAMP),[E.nd.NUM_UNSUBSCRIBED_ITEMS]:s(E.Yb.NUM_UNSUBSCRIBED_ITEMS),[E.nd.RECENTLY_USED_EMOJIS]:s(E.Yb.RECENTLY_USED_EMOJIS),[E.nd.SYSTEM_TABS]:s(E.Yb.SYSTEM_TABS),[E.nd.SCOUT_ONBOARDING]:s(E.Yb.SCOUT_ONBOARDING),[E.nd.AD_BLOCK_FEATURE_CUE_ID]:s(E.Yb.AD_BLOCK_FEATURE_CUE_ID),[E.nd.PREFERRED_AD_FORMAT]:s(E.Yb.PREFERRED_AD_FORMAT),[E.nd.SUPPRESSED_UPSELLS]:s(E.Yb.SUPPRESSED_UPSELLS)}:{}};var OA=({__initializeFeatures__:e,featureSequence:t={},featureCueTimestamps:s={},config:n={},queryStringOverrides:a={}})=>(r,o)=>{const{type:i,name:c,fromFeature:l,mailboxAttributes:d}=o,u=babelHelpers.objectWithoutProperties(o,["type","name","fromFeature","mailboxAttributes"]),m=t[i]||[],p=(({state:e={},action:t={},initializedFeatures:s={},featureCueTimestamps:n={}})=>a=>{const r=s[a]||{},{isEnabled:o}=Object(ro.b)(e).getFeaturesSelectors(),i=o(E.mb.SCOUT_PREDICATE);if(o(E.mb.SCOUT_RECURRING)&&r.isFeatureCue&&r.recurringInterval&&n[a]){const e=Math.floor(Date.now()/1e3)-parseInt(n[a],10);if(e>0&&e<r.recurringInterval)return!1}return!i||"function"!=typeof TA[a]||TA[a]({state:e,action:t,featureName:a,featureCueTimestamps:n})})({state:r,action:o,initializedFeatures:e,featureCueTimestamps:s});switch(i){case To.Ue:return babelHelpers.extends({},o,{features:babelHelpers.extends({},n)});case To.Oe:{const[t]=m.filter(p),{responses:s}=d||{},i=Object(ro.b)(r).isMobileRoute(),c=CA(i,s);return a!=={}&&Object.assign(c,a),babelHelpers.extends({},o,{features:Object.assign({},Object.keys(e).reduce((s,n)=>babelHelpers.extends({},s,{[n]:(n===t||!!e[n].enabled)&&p(n)}),{}),Object.keys(n).filter(e=>"boolean"!=typeof n[e]&&!(e in c)).reduce((e,t)=>babelHelpers.extends({},e,{[t]:n[t]}),c)),nextFeature:t||"",featureCues:Object.keys(e).filter(t=>e[t].isFeatureCue).reduce((t,s)=>babelHelpers.extends({},t,{[s]:{isShown:!1,isKeySaved:!1,isPersistent:!!e[s].isPersistent,isUdbOnly:!!e[s].isUdbOnly,subkey:e[s].subkey}}),{})})}case To.Zh:case To.Ug:case To.Ab:case To.ii:{const{mailboxAttributes:e}=o,t=Object(ro.b)(r).isMobileRoute(),s=CA(t,e);return babelHelpers.extends({},o,{features:s})}case To.de:case To.be:case To.Sd:case To.ae:{if(!l&&!c)return o;const{nextFeatureCues:t={}}=e[l||c];return babelHelpers.extends({},u,{type:i,nextFeatureCues:[t[i]]},l?{fromFeature:l}:{name:c})}default:{const[e]=Object(ro.b)(r).getFeatureCueSelectors().shownFeatures().filter(Object(ro.b)(r).getFeaturesSelectors().isEnabled),[t]=e?[]:m.filter(e=>!Object(ro.b)(r).getFeatureCueSelectors().isShown(e)).filter(p);return t?babelHelpers.extends({},o,{nextFeature:t}):o}}};const RA={isReadMessage:e=>e.flags.read,isUnreadMessage:e=>!e.flags.read,isStarredMessage:e=>e.flags.flagged,isUnstarredMessage:e=>!e.flags.flagged,isRecentlySentMessage:e=>t=>e.isSendRequested(t.csid),isMoveableMessage:(e,t)=>s=>(function(e,t,s){const{isMessageRoute:n}=s,a=t.folder,r=t.destinationFolder,o=Object(bt.n)(r),i=Object(bt.n)(a);let c=function(e){const t={[E.ub.INBOX]:1,[E.ub.USER]:1,[E.ub.ARCHIVE]:1,[E.ub.BULK]:2,[E.ub.TRASH]:2,[E.ub.SENT]:3,[E.ub.DRAFT]:4};return e.reduce((e,s)=>{const n=t[e]||100,a=t[s]||100;return n<a?n:s},"")}(e);c||(c=NA);if(!function(e,t){return e.accountId===t.accountId}(a,r))return!1;if(a.id===r.id&&o!==E.ub.TRASH)return!1;switch(c){case E.ub.INBOX:case E.ub.USER:case E.ub.ARCHIVE:case E.ub.SENT:return n()&&!t.isExplicitlySelected?i!==E.ub.DRAFT:function(e){return e===E.ub.DRAFT}(i)?o===E.ub.TRASH:function(e){return e===E.ub.SENT}(i)?c===E.ub.SENT&&!MA(o):!MA(i)&&!MA(o);case E.ub.DRAFT:return n()&&!t.isExplicitlySelected?i!==E.ub.DRAFT:i===E.ub.DRAFT&&(o===E.ub.TRASH||o===E.ub.SENT);case E.ub.TRASH:case E.ub.BULK:return!MA(o);case NA:return MA(i)?o===E.ub.TRASH:!MA(o);default:return!1}})(e,s,t),isFromSenders:e=>t=>(function(e,t){if(t.fromAddresses&&t.fromAddresses.some(t=>-1!==e.indexOf(t.email)))return!0;return!1})(e,t),default:()=>!1},NA="KEYWORD";function MA(e){return e===E.ub.DRAFT||e===E.ub.SENT}var DA=RA;const{TRASH:yA,BULK:LA,DRAFT:vA,SENT:PA}=E.ub,FA=e=>-1!==[E.Vd.READ_CHANGE_FOLDER_ITEMS,E.Vd.ARCHIVE_FOLDER_ITEMS,E.Vd.DELETE_FOLDER_ITEMS,E.Vd.DELETE_ALL_FROM_SENDERS].indexOf(e),xA=({acctId:e,folderId:t,senderEmailIds:s,filterUnread:n=!1})=>{if(s.length>0)return t?`folderId:${t} count:10000`+s.reduce((e,t)=>e+` fromEmail:${t}`,""):`acctId:${e} count:10000`+s.reduce((e,t)=>e+` fromEmail:${t}`,"");let a=`folderId:${t} count:10000`;return n&&(a+=" is:unread"),a};function wA(e={},t,s){const{folder:n,destinationFolder:a}=e;if(!n)return!1;if(s===To.gh||s===To.Ti)return!1;const r=t(n.id),o=a?t(a.id):void 0;return!(Object(io.q)(e.listId)!==E.Fb.MESSAGES||!e.isAffected)&&((!o||r!==LA||o===yA)&&((s!==To.qg||-1===[yA,LA].indexOf(r))&&-1!==[yA,LA,vA].indexOf(r)))}const kA=e=>-1!==[E.Fb.MESSAGES,E.Fb.IMAGES,E.Fb.DOCUMENTS,E.Fb.COUPON_CARDS,E.Fb.TRAVEL_CARDS,E.Fb.REFUND_CARDS].indexOf(Object(io.q)(e)),HA=(e,t)=>s=>{const{destinationFolderType:n}=t,{getFoldersSelectors:a,getMessageGroupsSelectors:r,getMessagesSelectors:o,getFeaturesSelectors:i,getAttachmentIdsByMessageId:c,getMessageCsid:l,getMessageFlags:d,getMessageFolderId:u}=Object(ro.b)(e),{getAccountIdByFolderId:m,getFolderIdsFromFolderType:p,getPrimaryFolderTypeByFolderId:_}=a(),{doesMessageGroupIdExist:h,getMessageIdsFromMessageGroupId:g}=r(),{getConversationId:b,getFromAddresses:I}=o(),{isEnabled:f}=i(),S=((e,t)=>{if(t.type!==To.ed)return()=>!0;const{destinationFolderType:s}=t,{isFeatureEnabled:n,getPrimaryFolderTypeByFolderId:a,isSentMessage:r,getCurrentListId:o,getRoute:i}=Object(ro.b)(e),c=i();if(!n(E.mb.CONVERSATIONS)||s!==yA||t.csid||c.name===E.Uc.SEARCH||c.name===E.Uc.MESSAGE_FROM_SEARCH_LIST)return()=>!0;const l=Object(io.m)(o());return l&&a(l)===PA?e=>r(e):e=>!r(e)})(e,t);return s.filter(e=>kA(e.listId)&&h(e.id)).map(e=>{const s=g(e.id).filter(S);return s.map(a=>{const r=u(a),o=m(r),i=n?p(n,o)[0]:t.destinationFolderId,h=i?GA(i,_(i),m(i)):void 0,g=f(E.mb.CONVERSATIONS)?b(a):a,S=(e.messageIds||[]).indexOf(a)>=0||1===s.length,A=!e.messageIds&&s.indexOf(a)>=0,T=I(a);return babelHelpers.extends({},e,{messageId:a,csid:l(a),isExplicitlySelected:S,isImplicitlySelected:A,groupId:g,folder:GA(r,_(r),o),destinationFolder:h,flags:d(a)||{},attachmentIds:c(a),fromAddresses:T})})}).reduce((e,t)=>e.concat(t),[])},UA=(e,t)=>s=>{const n=HA(e,t);return[...s.filter(e=>-1===[E.Fb.MESSAGES,E.Fb.COUPON_CARDS].indexOf(Object(io.q)(e.listId))),...n(s)]},jA=(e,t)=>{const{streamId:s,streamItem:n}=t,{doesStreamExist:a,getSelectedStreamItems:r,getCursorItem:o}=Object(ro.b)(e),i=a(s)?o(s):void 0,c=a(s)?r(s):[];let l=[];return n?l=[n]:t.batchRemoveItems&&t.batchDelete?l=t.batchRemoveItems:t.allSelected?l=t.streamItems.map(({id:e,listId:t})=>({id:e,listId:t})):c.length?l=c:i&&(l=[i]),UA(e,t)(l)};function GA(e,t,s){return{id:e,types:[t],accountId:s}}const BA=(e,t)=>{const{getFoldersSelectors:s,getListsSelectors:n}=Object(ro.b)(e),{getFolderIdsByName:a,doesFolderIdExist:r}=s(),{getListIdsByContentType:o}=n();switch(t.type){case To.Pg:return o(E.Fb.IMAGES).map(e=>({listId:e}));case To.vc:return o(E.Fb.COUPON_CARDS).map(e=>({listId:e}))}return o(E.Fb.MESSAGES).map(e=>{const{folderIds:t=[],folderNames:s=[]}=Object(io.n)(e);return{listId:e,folderIds:s.reduce((e,t)=>e.concat(a(t)),[]).concat(t).filter(r)}}).concat(o(E.Fb.IMAGES).map(e=>({listId:e}))).concat(o(E.Fb.DOCUMENTS).map(e=>({listId:e})))};function VA(e,t){const{type:s,itemToUpdate:n}=t,a=Object(ro.b)(e),{getFoldersSelectors:r}=a,{doesFolderIdExist:o,getPrimaryFolderTypeByFolderId:i,getFolderIdsByName:c}=r();switch(s){case To.Vj:case To.bk:return DA.isRecentlySentMessage(a);case To.Bj:case To.qg:case To.ed:{const{folderIds:e=[],folderNames:t=[]}=Object(io.n)(n.listId),s=t.reduce((e,t)=>e.concat(c(t)),[]).concat(e).filter(o).map(i);return DA.isMoveableMessage(s,a)}case To.ab:{const{deleteItemsFromSenders:e=[]}=t;return DA.isFromSenders(e)}case To.gh:return Object(h.a)("boolean"==typeof t.isRead,`Action ${s} does not have isRead prop.`),t.isRead?DA.isReadMessage:DA.isUnreadMessage;case To.Ti:return Object(h.a)("boolean"==typeof t.isStarred,`Action ${s} does not have isStarred prop.`),t.isStarred?DA.isStarredMessage:DA.isUnstarredMessage;default:Object(h.a)(!1,`Action ${s} does not have an associated rule with it.`)}}var WA=(e,t)=>{const{type:s,streamId:n,streamItem:a,staleFolderIds:r=[],deleteDuplicates:o}=t;let i;if(s===To.rb&&r.length)return babelHelpers.extends({},t,{listsToUpdate:BA(e,t)});if(s===To.Qj&&FA(t.triageActionType))return babelHelpers.extends({},t,{listsToUpdate:BA(e,t),forceSync:!0});if(!n&&s!==To.Pg)return t;switch(s){case To.Bj:i=t.itemsToUpdate;break;case To.Yj:{const{doesStreamExist:s,getCursorItem:r}=Object(ro.b)(e),o=s(n)?r(n):void 0,c=UA(e,t);if(!(i=o?c([o]):void 0))break;i=i.map(e=>e.csid===t.csid?babelHelpers.extends({},e,{newId:a.id,isAffected:!0}):e);break}case To.Vj:case To.bk:case To.qg:case To.ed:case To.ab:case To.gh:case To.Ti:{const{getFoldersSelectors:n}=Object(ro.b)(e),{getPrimaryFolderTypeByFolderId:a}=n();if(FA(t.triageActionType)){const{folderId:n,flags:r={},destinationFolderType:o,listId:c,permanent:l=!1}=t,d=((e,t)=>(s,n,a={},r,o,i,c=[])=>{const{getFoldersSelectors:l}=Object(ro.b)(e),{getAccountIdByFolderId:d,getPrimaryFolderTypeByFolderId:u,getFolderIdsFromFolderType:m}=l(),p=n?d(n):s,_=r?m(r,p)[0]:void 0,h=_?GA(_,u(_),d(_)):void 0;return{folder:n?GA(n,u(n),p):void 0,listId:i,messageQuery:xA({acctId:s,folderId:n,senderEmailIds:c,filterUnread:t.triageActionType===E.Vd.READ_CHANGE_FOLDER_ITEMS}),isAffected:!0,permanentDelete:o,flags:a,destinationFolder:h}})(e,t),{getSelectedAccountId:m}=Object(ro.b)(e),p=!(!n||-1===[E.ub.BULK,E.ub.TRASH].indexOf(a(n)));if(s===To.ab){const{deleteItemsFromSenders:r=[]}=t;i=(i=[d(m(),p?n:void 0,{},o,l,c,r)]).concat(jA(e,t).filter(s=>VA(e,babelHelpers.extends({},t,{itemToUpdate:s}))(s)).map(e=>{let t=Object.assign({},e,{isAffected:!0});return wA(t,a,s)&&(t.permanentDelete=!0,t=u()(t,"destinationFolder")),t}))}else i=[d(void 0,n,r,o,l,c)];break}i=jA(e,t).map(n=>{const r=VA(e,babelHelpers.extends({},t,{itemToUpdate:n}));let i=babelHelpers.extends({},n,{isAffected:(n.isExplicitlySelected||n.isImplicitlySelected)&&kA(n.listId)&&r(n)});!i.destinationFolder&&(s===To.ed||s===To.qg)||wA(i,a,s)?(i.permanentDelete=!0,i=u()(i,"destinationFolder")):i.permanentDelete=!1;const c=Object(S.a)(n,"destinationFolder.types",[]),l=Object(S.a)(n,"folder.types",[]);return i.isSpamMove=!1,i.isHamMove=!1,s!==To.ed&&s!==To.qg||i.permanentDelete||(-1!==c.indexOf(E.ub.BULK)?i.isSpamMove=!0:-1!==l.indexOf(E.ub.BULK)&&(i.isHamMove=!0)),i.deleteDuplicates=o,i});break}case To.vc:{const{messageDecosPayloads:e}=t;i=e.map(e=>({id:e.messageId,isAffected:!0}));break}case To.Pg:{const{getCurrentListId:s}=Object(ro.b)(e),n=s();t.streamId=n,t.streamItems=[{id:t.attachment.id,listId:n}],i=t.streamItems.map(e=>babelHelpers.extends({},e,{isAffected:!0}));break}}return i?babelHelpers.extends({},t,{itemsToUpdate:i,listsToUpdate:BA(e,t)}):t};var qA=(e={},t)=>{const{type:s,simpleBody:n,messageIds:a=[],messageBodiesMap:r={},messageMetadataMap:o={},errorMessageIds:i=[]}=t;switch(s){case To.Oe:case To.Bf:case To.Jf:case To.Af:{const e=Object.keys(r);if(!e.length&&!i.length)return t;const s=e.reduce((e,t)=>{const{csid:s}=o[t]||{};return babelHelpers.extends({},e,{[t]:{body:r[t]}},s?{[s]:{body:r[t]}}:{})},{}),n=i.reduce((e,t)=>babelHelpers.extends({},e,{[t]:{}}),{});return babelHelpers.extends({},t,{v3MessageBodiesMap:babelHelpers.extends({},s,n)})}case To.yf:case To.Vf:case To.Li:case To.Yj:case To.Vj:return babelHelpers.extends({},t,{v3MessageBodiesMap:babelHelpers.extends({[t.message.id]:{body:n}},t.csid?{[t.csid]:{body:n}}:{})});case To.Hf:case To.zf:case To.Zg:return a.length?babelHelpers.extends({},t,{v3MessageBodiesMap:a.reduce((e,t)=>babelHelpers.extends({},e,{[t]:{}}),{})}):t;default:return t}};const zA=E.J.Modes;var ZA=(e,t)=>{switch(t.type){case To.ak:{const{getRoute:s}=Object(ro.b)(e),n=Object(io.t)(s());return babelHelpers.extends({},t,{listId:n})}case To.Rf:return babelHelpers.extends({},t,{inReplyToMessageId:t.composeMode===zA.REPLY?t.message.id:null,inReplyAllToMessageId:t.composeMode===zA.REPLY_ALL?t.message.id:null,inForwardToMessageId:t.composeMode===zA.FORWARD?t.message.id:null});default:return t}};var KA=({internal:e=!1})=>(t,s)=>{const{type:n}=s;switch(n){case To.Oe:return babelHelpers.extends({},s,{internal:e});default:return s}},YA=(e,t)=>{switch(t.type){case To.ed:case To.qg:if(t.fromMessageGroupView){const{getAdsSelectors:s}=Object(ro.b)(e),n=s(),a=n.getMessageReadAdRotationTimestamp(),r=n.getMessageReadAdRotationActive();return babelHelpers.extends({},t,{messageReadAdRotationTimestamp:a,messageReadAdRotationActive:r})}break;case To.Rf:case To.Ef:case To.Ff:case To.R:case To.Cg:{const{getAdsSelectors:s}=Object(ro.b)(e),n=s(),a=n.getMessageReadAdRotationTimestamp(),r=n.getMessageReadAdRotationActive();return babelHelpers.extends({},t,{messageReadAdRotationTimestamp:a,messageReadAdRotationActive:r})}}return t},XA=(e,t)=>{switch(t.type){case To.Cg:{if(t.route.name===E.Uc.SPONSORED_MESSAGE){const{getAdsSelectors:s}=Object(ro.b)(e),{getGeminiAdDataFromCreativeId:n,getSponsoredAd:a}=s(),{creativeId:r}=Object(S.a)(t,"route.params",{});return a(r)?t:babelHelpers.extends({},t,{sponsoredAd:n(r)})}if(t.route.name!==E.Uc.MESSAGE_FROM_FOLDER_LIST&&t.route.name!==E.Uc.MESSAGE_FROM_SEARCH_LIST)return t;const{getMessageGroupsSelectors:s,getMessageFromAddress:n,doesMessageIdExist:a,getFeaturesSelectors:r}=Object(ro.b)(e),{isEnabled:o}=r(),i=Object(S.a)(t,"route.params.groupId",null);if(i&&o(E.mb.GEMINI_CONTEXTUAL_ADS)){const e=s().getMessageIdsFromMessageGroupId(i),r=e&&e[0],o=a(r)&&n(r),c=o&&EI(o);return babelHelpers.extends({},t,{geminiCategories:c})}break}}return t};var $A=(e,t)=>{const{type:s}=t;switch(s){case To.Ti:case To.gh:{const{streamItem:s,streamId:n}=t,{doesStreamExist:a,getCursorItem:r,getSetting:o,isMessageRoute:i,getStreamsSelectors:c,getMessageGroupStreamItemsWithExpansionStates:l}=Object(ro.b)(e),{getSelectedItemsSelectors:d}=c(),{isItemSelected:u}=a(n)?d(n):{},m=a(n)?r(n):{},p=o(E.nd.PREVIEW_PANE);if(s&&(p&&F_()(s,m)&&!u(s)||i())){const e=l(s);return babelHelpers.extends({},t,{persistStreamItemExpansionStates:e})}return t}default:return t}};const QA="abcdefghijklmnopqrstuvwxyz0123456789.!#$%&'*+-/=?^_`{|}~".split("");var JA=(e,t)=>{switch(t.type){case To.ic:{const{getComposeSuggestionsFromImportantsByQuery:s}=Object(ro.b)(e),n=s({query:t.query,contextEmail:t.contextFrom});return babelHelpers.extends({},t,{contacts:n,nextContacts:n.length?QA.reduce((e,n)=>{const a=t.query+n;return e[a]=s({query:a,contextEmail:t.contextFrom}),e},{}):{}})}}return t},eT=(e,t)=>{const{getSetting:s}=Object(ro.b)(e),n=s(E.nd.PENCIL_AD_VERSION);if(["couponOnPencilAdPosition","coloredCouponOnPencilAdPosition","couponOnPencilAdRotation1","couponOnPencilAdRotation2","couponOnPencilAdRotation3"].indexOf(n)>-1&&Object(Qf.d)(t)){let e=null;return"couponOnPencilAdPosition"===n||"coloredCouponOnPencilAdPosition"===n?e=0:"couponOnPencilAdRotation1"===n?e=1:"couponOnPencilAdRotation2"===n?e=2:"couponOnPencilAdRotation3"===n&&(e=3),babelHelpers.extends({},t,{numberOfRotation:e})}return t};var tT=e=>[KA(e),QS,JS,gA,IA,bA,ZA,WA,OA(e),qA,YA,XA,$A,JA,eT],sT=s(291);var nT=Object(pS.provideContext)(md.a(Object(jc.a)(id)),{config:Ve.a.object,store:Ve.a.object,loader:Ve.a.object});const{paths:aT,container:rT,cssBundles:oT,jsBundles:iT}=br[E.r.MAIL_APP];var cT={name:E.r.MAIL_APP,component:GS,confirmMiddleware:(e,t)=>s=>{Object(f.b)()&&window.addEventListener("beforeunload",e=>{const{showUnsyncedDataWarning:n,isFeatureEnabled:a}=Object(ro.b)(s.getState()),r=window.AppIntl.messages[ZS.hasUnsavedMessage.id];if(a("promptToSync")&&(n()||t().some(e=>e.preventRouteChange)))return e.returnValue=r,r});let n=!1;return t=>a=>{const{getRoute:r,isFeatureEnabled:o}=Object(ro.b)(s.getState());if(r().name){if(n)return;if(a.route&&a.previousRoute!==a.route&&o("promptToSync")&&a.unsyncedData.some(e=>e.preventRouteChange))return Object(xh.a)(Ue.a.createElement(Ch.a,{primaryButtonLabel:ZS.confirmRouteChangeModalLeaveButton,secondaryButtonLabel:ZS.confirmRouteChangeModalCancelButton,customTitle:Ue.a.createElement(Sr.c,ZS.confirmRouteChangeModalTitle),showCustomTitle:!0,message:Ue.a.createElement(Sr.c,ZS.confirmRouteChangeModalBody),onPrimaryButtonClick:()=>{n=!1,t(a)},onSecondaryButtonClick:()=>{n=!1},onClose:()=>{n=!1}}),e.getComponentContext()),void(n=!0)}return t(a)}},routes:Object.keys(aT).reduce((e,t)=>babelHelpers.extends({},e,{[t]:{method:"GET",path:aT[t]}}),{}),stores:[],plugins:[zS],cssBundles:oT,jsBundles:iT,container:rT,apiClientConstructors:o()(hr.apiClientConstructors,{}),batchMethods:o()(hr.batchMethods,{}),rootReducer:ro.a,selectors:ro.b,enhancers:tT,actionSyncers:sT.a,searchComponent:nT},lT=(s(861),s(863),s(363)),dT=s(640),uT=s.n(dT),mT=function(e){const t=new uT.a;return e.plugins.forEach(e=>{t.plug(e)}),t},pT=s(106),_T=s(641),hT=s.n(_T),ET=s(642),gT=s.n(ET),bT=s(144);const IT="generic_error",fT=Object(S.c)(["INTERNAL","EXTERNAL"]),ST=Object(S.c)(["ERROR_IS_NULL","PLUGIN","ACCESS_DENIED","REMOTE_SERVER","MAIL_APP_CORS","MAIL_APP_VENDOR_CORS","MAIL_APP_LAZY_GROUP1_CORS","REDUX_DISPATCH","RENDER_APP","YAFT_CORS","DARLA_CORS"]),AT=1e3;let TT="",CT=0;const OT={};function RT(e){return-1===e.indexOf("yahoo.com")&&-1===e.indexOf("oath.com")&&-1===e.indexOf("Oath")&&-1===e.indexOf("yimg.com")&&-1===e.indexOf("CMP 2")&&-1===e.indexOf("window.ymailManifest")&&-1===e.indexOf("_mod_ybar")&&-1===e.indexOf("window.DARLA_CONFIG")&&-1===e.indexOf("root.AppBootstrapData")&&-1===e.indexOf("window.babelHelpers")&&0!==e.indexOf("{}")}function NT(e="",t="",s="",n="",a){const r=`${e=Object(xl.b)(e)} ${t}:${s}:${n}`,o=a?Object(xl.b)(a.message):"",i=a?`${a.name}:${o}`:"",c=new bT.a(a).toString(),l=function(e,t,s,n,a="",r=null){const o=r?r.message:"";if(0===e.indexOf("Access is denied"))return ST.ACCESS_DENIED;if(0===o.indexOf("The remote server machine does not exist"))return ST.REMOTE_SERVER;if("Permission denied"===o)return ST.PERMISSION_DENIED;if(0===e.indexOf("redux_browser_dispatch_error"))return ST.REDUX_DISPATCH;if(0===e.indexOf("Rendering App error"))return ST.RENDER_APP;if(0===e.indexOf("Script error")&&0===s&&0===n){if(-1!==t.indexOf("s.yimg.com/nq/nr/js/mail_app_"))return ST.MAIL_APP_CORS;if(-1!==t.indexOf("s.yimg.com/nq/nr/js/mail_app_vendor_"))return ST.MAIL_APP_VENDOR_CORS;if(-1!==t.indexOf("s.yimg.com/nq/nr/js/mail_app_lazy_group1_"))return ST.MAIL_APP_LAZY_GROUP1_CORS;if(-1!==t.indexOf("s.yimg.com/os/yaft/yaft-"))return ST.YAFT_CORS;if(-1!==t.indexOf("s.yimg.com/rq/darla"))return ST.DARLA_CORS}return-1!==t.indexOf(".kaspersky-labs.com")||-1!==e.indexOf("KasperskyLab is not defined")?ST.PLUGIN:-1!==a.indexOf("hostingcloud.science")?ST.PLUGIN:-1!==e.indexOf('Cannot set property "install" of undefined')||-1!==e.indexOf("chrome is not defined")?ST.PLUGIN:r?r.name||"":ST.ERROR_IS_NULL}(e,t,s,n,c,a),d=function(e,t="",s=""){return t===ST.PLUGIN?fT.EXTERNAL:-1!==e.indexOf("fc.yahoo.com")?fT.EXTERNAL:-1===e.indexOf(".yahoo.com")&&-1===e.indexOf(".yimg.com")?fT.EXTERNAL:-1!==s.indexOf("consent.cmp.oath.com")?fT.EXTERNAL:fT.INTERNAL}(t,l,c),u={error:r,errorMessage:i,stack:c,source:d,type:l,isFirstJSE:!OT[l],message:e,externalScripts:function(){let e=null;const t=[],s=document.getElementsByTagName("script");for(let n=0;n<s.length;n++)(e=s[n]).src&&RT(e.src)?t.push(e.src):e.innerHTML&&RT(e.innerHTML)&&t.push(e.innerHTML.substring(0,e.innerHTML.length>20?20:e.innerHTML.length));return t.join("|")}()},m=u.error;if(OT[l]=!0,d===fT.INTERNAL&&-1===e.indexOf("redux_browser_dispatch_error")){!function(e){try{const t=window.context.getActionContext(),{getFeaturesSelectors:s}=Object(ro.b)(window.context.store.getState());s().isEnabled(E.mb.EXCEPTION_NOTIFICATION)&&t.dispatch(To.Hd,{splunkUrl:e})}catch(e){}}(function(e){const t=[];for(const s in e)t.push(`${s}="'${e[s]}'"`);return E.Zc+"?q=search"+encodeURIComponent(" index=idx_norrin sourcetype=apache_error "+t.join(" "))}({platform:"browser",message:IT,data_errorMessage:i}))}TT!==m&&(CT=0),++CT<=AT?vm.a.error(IT,u):CT%AT==0&&(u.jseOverLimit=CT,vm.a.error(IT,u)),TT=m}var MT=s(643);const DT=pe.a.create("norrin/actions"),yT=pe.a.create("norrin/action_error");var LT=e=>()=>t=>s=>{const{error:n,type:a,route:r={},tabRecencyRank:o}=s;if(n)try{let e=null;e="string"==typeof n?{string:n}:Object.assign({},n.data||{},function(e=null){if(!e)return{};const t=new bT.a(e);return{name:e.name||"",message:Object(xl.b)(e.message||""),stack:t.toString()}}(n));const t=Object.assign({},s,{error:e});yT.fatal(`${a} failed`,t)}catch(e){yT.fatal(`${a} failed`,{message:"actionErrorLogger exception"})}const i={action:a,crumb:e};a===To.Cg&&(i.routeName=r.name,i.routeUrl=r.url,void 0!==o&&(i.tabRecencyRank=o)),[To.wf,To.xf,To.yf,To.Tf,To.Uf,To.Vf,To.Wh,To.Vh].indexOf(a)>-1&&(i.csid=s.csid),"undefined"!=typeof performance&&performance.now&&(i.elapsedTime=performance.now());const c=DT.feature("flux_action",i);"undefined"!=typeof window&&window.requestAnimationFrame(c.logLatency);const l=t(s);return c.data.sametickTime=Date.now()-c.startTime,"undefined"==typeof window&&c.logLatency(),l};var vT=(e,{unsyncedDataManager:t,performance:s={},selectors:n})=>{const a=(e=>(t,s)=>e.reduce((e,s)=>s(t,e),s))(e);return e=>r=>o=>{if(o.unsyncedData)throw new Error("RESERVED_ACTION_PAYLOAD_KEY",'"unsyncedData" is reserved key for handling flux work flows in mail. Please use "PreserveDataOnUnmount" component to save data during unmount');const i=Date.now(),c=s.now?s.now():0,l=e.getState(),{getReconciledUnsyncedData:d,getRequestHashForUnsyncedDataItem:u}=n(l);return r(a(l,babelHelpers.extends({},o,{actionTimestamp:i,elapsedTimeFromSessionStart:c,unsyncedData:[].concat(d()).concat(t.getUnsyncedData()).filter(e=>{if(!e||!e.type)return!1;if(e.isAutoGenerated){const s=u(e);return!t.isUnsyncedDataItemSyncedByRequestHash(s)}return!0}).map(e=>e.timestamp?e:babelHelpers.extends({},e,{timestamp:i}))})))}},PT=s(269),FT=s(83);const xT="https://sb.scorecardresearch.com/p?";function wT(e,t,s){const n=document.charset||document.defaultCharset||"",a=function(e){const{spaceId:t,pageUrl:s,charSet:n,comScore:a,csUcfr:r}=e,o={c1:2,c2:7241469,c5:t,ns__t:Date.now()};return s&&(o.c7=s),n&&(o.ns_c=n),a&&-1!==a.LTT&&(o.c14=a.LTT),a&&-1!==a.ageCode&&-1!==a.genderCode&&(o.c15=a.ageCode+"$"+a.genderCode),r&&(o.cs_ucfr=r),xT+p.a.stringify(o)}({spaceId:t,pageUrl:window.location.href,charSet:n,comScore:e,csUcfr:s});return Object(FT.a)(a,!1)}var kT=s(472);var HT=s(69);const UT=(e,t,{selectors:s},n={})=>{const{isFeatureEnabled:a,getRoute:r,getListItemIds:o,doesListExist:i}=s(e),c=r(),l=Object(io.t)(c),d=i(l)?o(l):[];a(E.mb.MKTG_BEACON)&&(HT.b.sendI13nModel({i13nModel:{mKey:zr.e.MARKETING_BEACON,sec:zr.g.LAUNCH}}),function(){const e={src:6589630,type:"nrn",cat:"nrnfsttm",u1:window.AppBootstrapData.guidHash,u2:"",dc_lat:"",dc_rdid:"",tag_for_child_directed_treatment:"",ord:1};Object(FT.b)("https://6589630.fls.doubleclick.net/activityi;"+p.a.stringify(e,";")+"?")}()),(a(E.mb.NEWUSER_MKTG_BEACON)||n.isFirstTimeNobleUser)&&(HT.b.sendI13nModel({i13nModel:{mKey:zr.e.NEWUSER_MARKETING_BEACON,sec:zr.g.LAUNCH}}),function(){const e={src:6518610,type:"mbrship",cat:"mshipcfm",u1:window.AppBootstrapData.guidHash,u2:"new",dc_lat:"",dc_rdid:"",tag_for_child_directed_treatment:"",ord:1};Object(FT.b)("https://6518610.fls.doubleclick.net/activityi;"+p.a.stringify(e,";")+"?")}()),HT.b.sendI13nModel({i13nModel:{mKey:zr.e.LAUNCH,sec:zr.g.LAUNCH,mKeyGroup:zr.f.launch,actionData:{mid:d?d.slice(0,20):[],commercialAnalysisOptedIn:a(E.mb.COMMERCIAL_ANALYSIS_OF_CONTENT)}}})},jT=Object(PT.a)();var GT=(e,t,{AppBootstrapData:s,selectors:n})=>{if(!Object(f.b)())return;const{spaceId:a,pageParams:r}=jT(e,{browserLoggerParams:window.BrowserLoggerParams});if(!a)return;(e=>{Object(f.b)()&&Object(S.a)(window,"YAHOO.i13n")&&(window.YAHOO.i13n.SPACEID=e)})(a);const{isFeatureEnabled:o}=n(e),i=HT.b.getRapidInstance(),c={spaceid:a,test_id:s.usmLogString,keys:r,dwell_on:!0,extendbcookie:!0};o(E.mb.RAPID_K8S)&&(c.yql_host="udc-k8s.yahoo.com");const l={};s.ymvMobile&&(l.isFirstTimeNobleUser=2===s.ymvMobile),i?i.reInit(c):(HT.b.init({rapid:c}),UT(e,0,{selectors:n},l)),((e,t)=>{pe.a.set(t),e&&e.beaconPageview()})(HT.b.getRapidInstance(),r),o(E.mb.COM_SCORE_BEACONING)&&(window&&window.__cmp?window.__cmp("getVendorConsents",null,function(e={},t){const{gdprApplies:n,vendorConsents:r}=e;t&&n&&r&&"boolean"==typeof r[77]?wT(s.comScore,a,r[77]?"1":"0"):wT(s.comScore,a)}):wT(s.comScore,a));const d=function(e,t){let s={};const{getRoute:n,isFeatureEnabled:a,getSetting:r,couldShowEmptyFolderVideo:o,getFoldersSelectors:i,getParticipantInFocus:c,getSmartViewTypeFromListId:l,isListUpdatedAndEmpty:d,shouldShowAdBlockCoupons:u,shouldShowEbayWarrantyUpsell:m,getReceiptFromMessageId:p,getPlaAdsSelectors:_}=Object(ro.b)(e),{doesFolderIdExist:h,getFolderName:g}=i(),b=a(E.mb.EMPTY_FOLDER_VIDEO),I=n(),{fid:f}=I.params||{},S=Object(io.t)(I),A=a(E.mb.RELATED_SEARCHES_CARD),T=a(E.mb.RELATED_RETAILERS),{email:C=""}=c()||{},O=Object(io.q)(S),R=a(E.mb.PLA_ADS_AVAILABLE),{plaAdsData:N,currentGptItem:M}=_().getPlaAdsData();if(!R||t.type!==To.Cg&&t.type!==To.Zg||(s=babelHelpers.extends({},s,{plaAdsDisplay:R,currentGptItem:M,plaAdCount:N.length,route:I})),!A&&!T||t.type!==To.Cg&&t.type!==To.Zg||(s=babelHelpers.extends({},s,{relatedSearchesCard:A,relatedRetailers:T,emailAddress:C,route:I})),a(E.mb.SHOPLIFT_AD)&&(s=babelHelpers.extends({},s,{shopliftAd:!0})),o()){const e=Object(io.K)(S);let t=h(f)?g(f):"";t=!t&&e?l(S).toLowerCase():"string"==typeof t?t.split("/").pop():t,s=babelHelpers.extends({},s,{emptyFolderVideo:b,folderName:t,route:I})}if(O===E.Fb.TRAVEL_CARDS&&d(S)){const e=Object(io.r)(S);s=babelHelpers.extends({},s,{eventName:zr.a.SEARCH_ZERO_RESULTS,etrg:"change",outcome:e===E.Gb.TRAVEL_VIEW_UPCOMING?zr.b.TRAVEL_UPCOMING:zr.b.TRAVEL_PAST})}if(!u()||t.type!==To.Cg&&t.type!==To.xb||(s=babelHelpers.extends({},s,{adBlockCoupons:!0})),m()){const e=r(E.nd.EBAY_WARRANTY_UPSELL_POSITION),{orderedItems:t}=p(),n=Object(kT.a)(t);s=babelHelpers.extends({},s,{ebayWarrantyUpsell:!0,warrantyPosition:e,warrantyType:n})}return O===E.Fb.YAHOO_DEAL_CARDS&&(s=babelHelpers.extends({},s,{yahooShoppingDealsView:!0})),a(E.mb.RETAILER_FILTER)&&(s=babelHelpers.extends({},s,{retailerFilter:!0})),Object.keys(s).length?s:null}(e,t);d&&HT.b.sendI13nModel({i13nModel:{mKey:zr.e.FEATURE_VIEWED,sec:zr.g.FEATURE_VIEWABILITY,interactionType:zr.d.nav,actionData:d}})},BT=s(114),VT=s(207);const WT=Object(f.b)()&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:()=>e=>e,qT=()=>({hash:E.Zd.POST_LUNCH_TO_SYNC,timestamp:0,type:E.Zd.POST_LUNCH_TO_SYNC,userInputtedValues:{}});const zT="WAITING",ZT="ISSUED",KT="COMPLETED";function YT(){this.queue=[]}YT.prototype.sync=function(e,t,s=!1,n=!1){if("function"!=typeof e)throw new Error("Mutex.prototype.sync requires a callback function");return new Promise((a,r)=>{this.queue.push({id:t,issueInParallel:s,isSafeToRejectEarly:n,timer:void 0,status:zT,callback:e,resolve:a,reject:r}),vm.a.debug(`Mutex: ${t} was just added to the queue.`),function(e){const t=`[${e.slice(0,10).map(({id:e})=>e).join(", ")}]`;vm.a.debug(`Mutex: The first ten elements of the queue are ${t}`)}(this.queue),this.next()})},YT.prototype.next=function(){if(!this.queue.length)return;let e=!1;this.queue=this.queue.filter(e=>e.status!==KT);for(let t=0;t<this.queue.length;t++){const s=this.queue[t];switch(s.status){case zT:if(!s.issueInParallel&&e)return;s.status=ZT,e=!0;try{this.execute(s)}catch(e){this.reject(s,e)}if(!s.issueInParallel)return;break;case ZT:if(e=!0,!s.issueInParallel)return}}},YT.prototype.execute=function(e){const t=this.resolve.bind(this,e),s=this.reject.bind(this,e);e.isSafeToRejectEarly&&(e.timer=setTimeout(()=>{vm.a.debug(`Mutex: clearing ${e.id} from queue because it timed out.`),vm.a.error(`Mutex: clearing ${e.id} from queue because it timed out.`);const t=this.queue.reduce((e,t)=>e.concat(`${t.id}:${t.status}`),[]).join(","),n=new g.a("RequestQueue.Timeout",{errorCode:"REQUEST_QUEUE_TIMEOUT",statusCode:0,qStatus:t});s(n)},12e4));const n=e.callback(t,s);(function(e){return void 0!==e&&(e instanceof Promise||!(!e.then||!e.catch))})(n)&&n.then(t,s)},YT.prototype.resolve=function(e,t){e.resolve(t),e.status=KT,vm.a.debug(`Mutex: ${e.id} was RESOLVED.`),e.timer&&clearTimeout(e.timer),this.next()},YT.prototype.reject=function(e,t){e.reject(t),e.status=KT,vm.a.debug(`Mutex: ${e.id} was REJECTED.`),e.timer&&clearTimeout(e.timer),this.next()};var XT=YT;const $T=Object(S.c)(["launch.skeleton","launch.folder","launch.message","launch.compose","launch.messageGroup","postLaunch.getComposeAttributes","postLaunch.postSync","folderChange.getList","folders.get","folders.delete","folders.create","folders.rename","folderList.delete","folderList.update","mailSearch","messages.saveV3","messages.autoSaveV3","sponsoredMessages.save","messages.saveWithAttachment","messages.send","messages.update","messages.updateDecos","messages.updateV3","messages.UnifiedUpdate","messages.delete","messages.getBodies","messages.getCompose","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messages.prefetchGetBodies","messages.prefetchGetBodiesFull","messages.prefetchGetExtractedBodies","messages.prefetchGetExtractedBodiesFull","messages.getBodiesFallback","messages.getBodiesFullFallback","messages.getExtractedBodiesFallback","messages.getExtractedBodiesFullFallback","messages.prefetchGetBodiesFallback","messages.prefetchGetBodiesFullFallback","messages.prefetchGetExtractedBodiesFallback","messages.prefetchGetExtractedBodiesFullFallback","messages.saveAndSend","messages.saveAndSendWithAttachment","messages.saveRawMessage","messages.trashAndDelete","messages.getExtractions","messageGroups.get","messageGroups.getFallback","messageGroups.getList","messageCards.getList","couponCards.getParentMessage","consolidatedCoupons.getList","refundCards.getList","undo.list","checkMail","getReceipts","getMoreReceipts","document.fetch","task.status","task.abort","settings.get","settings.getFeatureAttributes","settings.setBaseName","settings.setBaseNameJWS","settings.saveMessageFilters","settings.saveBlockedSenders","saveArrayAttributes","settings.saveVacationPreferences","settings.saveWebMailboxAttributes","settings.saveWebMailboxMultiAttributes","settings.addAccount","settings.updateAccount","settings.deleteAccount","settings.getAttributesToMigrate","settings.migrateSettings","settings.resendConfirmEmail","settings.createAlias","searchSuggestions","searchSuggestionsStream","recentSearches","searchItems","searchGifs","searchTenorGifs","getContentProviders","linkContentProvider","search","deletePensieveImages","unseenCount.reset","udb.read","udb.write","account.getAlerts","account.updateAlerts","savedSearches.get","savedSearches.delete","savedSearches.create","cards.create","accounts.get"]),QT=Object(S.c)(["mailSearch","messages.saveV3","messages.autoSaveV3","messages.saveAndSend","messages.send","messages.getBodies","messages.getCompose","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messages.prefetchGetBodies","messages.prefetchGetBodiesFull","messages.prefetchGetExtractedBodies","messages.prefetchGetExtractedBodiesFull","messages.getBodiesFallback","messages.getBodiesFullFallback","messages.getExtractedBodiesFallback","messages.getExtractedBodiesFullFallback","messages.prefetchGetBodiesFallback","messages.prefetchGetBodiesFullFallback","messages.prefetchGetExtractedBodiesFallback","messages.prefetchGetExtractedBodiesFullFallback","messageGroups.get","document.fetch","searchGifs","searchTenorGifs","localStores","getRetailers","getSRRetailers","linkRetailer","unlinkRetailer","activateOffer","getOffers","getActivatedOffers","getSavings","searchSuggestions","searchSuggestionsStream","recentSearches","settings.get","settings.getFeatureAttributes","settings.saveBlockedSenders","settings.saveVacationPreferences","settings.setBaseName","settings.setBaseNameJWS","settings.addAccount","settings.updateAccount","settings.deleteAccount","settings.getAttributesToMigrate","settings.migrateSettings","settings.resendConfirmEmail","settings.createAlias","task.status","unseenCount.reset","account.getAlerts","account.updateAlerts","deletePensieveImages","postLaunch.postSync"]);function JT(){this.checkMailRequestWrappers=[],this.mutex=new XT}JT.prototype.add=function(e,t){return this._isSafeToRejectEarly(t)||this._rejectAndRemoveCheckMailsFromQueue(),this._canGoInParallel(t)?e():this._addToRequestQueue(e,t)},JT.prototype.addStream=function(e,t){return this._canGoInParallel(t)?e():this._addStreamToRequestQueue(e,t)},JT.prototype._canGoInParallel=function(e){if(!$T[e])throw new Error(["Unknown API call name: `"+JSON.stringify(e)+"`","Make sure that all the request of the API client are added to","ALL_REQUESTS list. This is done to make sure all new API requests","are aware of the serialization logic and nothing goes out of sync and","potentially breaks application data integrity. @see","https://docs.google.com/document/d/1yOwsTIcXla6CeIn42W9VKfd9JjJ1ajAtfE6CH6PfjeM","for more info."].join("\n"));return!!QT[e]},JT.prototype._addToRequestQueue=function(e,t){return this._isCheckMail(t)||this._rejectAndRemoveCheckMailsFromQueue(),new Promise((s,n)=>(this._isCheckMail(t)&&this.checkMailRequestWrappers.push({reject:n}),this._sync(e,t,this._isWriteToBackend(t),this._isSafeToRejectEarly(t)).then(s,n)))},JT.prototype._addStreamToRequestQueue=function(e,t){this._isCheckMail(t)||this._rejectAndRemoveCheckMailsFromQueue();const s=O()();return this.mutex.sync((t,n)=>{const a=e();a.pipe(s),a.on("end",t),a.on("error",e=>{s.emit("error",e),n()})},t,this._isWriteToBackend(t),this._isSafeToRejectEarly(t)),s},JT.prototype._sync=function(e,t,s,n){return this.mutex.sync(function(){return e()},t,!s,n)},JT.prototype._rejectAndRemoveCheckMailsFromQueue=function(){this.checkMailRequestWrappers.forEach(e=>{e.reject(new g.a("RequestQueue.Rejected",{errorCode:"REQUEST_QUEUE_REJECTED",statusCode:0}))}),this.checkMailRequestWrappers=[]},JT.prototype._isCheckMail=function(e){return"checkMail"===e},JT.prototype._isSafeToRejectEarly=function(e){return"messages.saveV3"!==e&&"messages.autoSaveV3"!==e&&"messages.saveWithAttachment"!==e&&"messages.saveAndSend"!==e&&"messages.send"!==e&&"messages.saveAndSendWithAttachment"!==e},JT.prototype._isWriteToBackend=function(e){return"messages.update"===e||"settings.saveWebMailboxAttributes"===e||"messages.updateDecos"===e||"messages.updateV3"===e||"messages.UnifiedUpdate"===e||"messages.delete"===e||"messages.trashAndDelete"===e||"cards.create"===e||"settings.saveBlockedSenders"===e||"saveArrayAttributes"===e};var eC=JT;class tC{constructor(e,{apiClientConstructors:t,batchMethods:s,isOnline:n}){const a=new eC;Object.keys(t).forEach(r=>{this[r]=new(0,t[r])(babelHelpers.extends({},e,{wssid:e.mailWssid,bootcampHost:e.config.bootcampHostURL,isOnline:n,batchMethods:s,requestQueue:a}))})}setMailBoxParams(e,t){const s=()=>{const{getAccountSelectors:s,getSelectedMailboxId:n,getSelectedAccountId:a}=t(e.getState()),r=n();if(!r)return{};const{getAccountEmailByAccountId:o,getAccountTypeByAccountId:i}=s(),c=a();return{mailboxid:r,mailboxId:r,mailboxemail:o(c),mailboxtype:i(c)}};Object.keys(this).filter(e=>this[e].setMailboxParams).forEach(e=>{this[e].setMailboxParams(s)})}}const sC=(e,t)=>{setTimeout(()=>{e(),sC(e,t)},t)};class nC{constructor(){this.listeners=[],this.syncAttempts={}}_getUnsyncedData(){return this.listeners.map(e=>e())}_registerHandler(e){return this.listeners.push(e),{remove:()=>{this.listeners=this.listeners.filter(t=>t!==e)}}}_isUnsyncedDataItemSyncedByRequestHash(e){return(this.syncAttempts[e]||{}).synced||!1}}function aC({store:e,apiClients:t,selectors:s,actionSyncers:n,logger:a,unsyncedDataManager:r}){const o=(o=!0)=>{const{isOnline:i,getAction:c,getUnsyncedDataToSync:l,getRequestHashForUnsyncedDataItem:d,isFeatureEnabled:u}=s(e.getState());if(!i()||Object(f.b)()&&navigator&&void 0!==navigator.onLine&&!1===navigator.onLine)return;const m=c();o&&u(E.mb.DEBUG_UNSYNCED_DATA)&&a.error("unsyncedData_syncAttempt",{actionName:m.type,unsyncedDataLog:JSON.stringify(Object.keys(r.syncAttempts).reduce((e,t)=>babelHelpers.extends({},e,{[t]:r.syncAttempts[t]}),{}))});const p=Date.now();r.syncAttempts=Object.keys(r.syncAttempts).reduce((e,t)=>{const s=r.syncAttempts[t]||{};return o&&s.synced&&p-s.timestamp>s.syncDefer&&p-s.timestamp>s.syncThrottle?e:babelHelpers.extends({},e,{[t]:s})},{}),[...l()].sort((e,t)=>e.timestamp-t.timestamp).map(e=>{const t=d(e),s=r.syncAttempts[t]||{};return babelHelpers.extends({},e,{timestamp:s.synced?s.timestamp:e.timestamp,syncDefer:e.syncDefer||0,syncThrottle:void 0!==e.syncThrottle?e.syncThrottle:E.Xd,requestHash:t})}).filter(e=>{const t=r.syncAttempts[e.requestHash];return!(e.isAutoGenerated&&!o)&&(t?!t.syncing&&(t.synced&&p-t.timestamp>e.syncDefer&&p-t.timestamp>e.syncThrottle):!r.syncAttempts[e.requestHash]&&p-e.timestamp>=e.syncDefer)}).map(i=>{const c=()=>{const{getUnsyncedDataToSyncByRequestHash:t,getRoute:n}=s(e.getState()),o=Date.now();r.syncAttempts[i.requestHash].synced=!0,r.syncAttempts[i.requestHash].syncing=!1,r.syncAttempts[i.requestHash].timestamp=o;const c=t(i.requestHash,o);i.isAutoGenerated||!c||c.repeat||(r.syncAttempts[i.requestHash].syncing=!0,a.error("unsyncedData_manager_error",{unsyncedDataType:i.type,requestHash:i.requestHash,actionType:m.type,routeName:n().name,errorMessage:"UnsyncedDataItem is already synced. Probably it is not removed in the reconciler step"}))};r.syncAttempts[i.requestHash]={synced:!1,syncing:!0,timestamp:m.actionTimestamp,syncDefer:i.syncDefer,syncThrottle:i.syncThrottle},u(E.mb.DEBUG_UNSYNCED_DATA)&&a.error("unsyncedData_scheduling",babelHelpers.extends({actionName:o?m.type:"TIMER",requestHash:i.requestHash},r.syncAttempts[i.requestHash]));const l=m.type!==To.mj&&n[i.type]?[].concat(n[i.type]):n[To.mj],d=m.type===To.mj||!n[i.type];((s,n,a=!0)=>Promise.all((s||[]).map(s=>{const r=s(e,n,t);if(a&&(!r||"function"!=typeof r.then))throw new Error(`${s.name} Syncer function should return promise`);return r})).catch(e=>{throw e}))(l,babelHelpers.extends({},i.userInputtedValues,{unsyncedDataItemRequestHash:i.requestHash,unsyncedDataType:i.type,syncAttempts:r.syncAttempts[i.requestHash]}),d).then(c,c)})};if(e.subscribe(o),Object(f.b)()){const e=!1;sC(()=>o(e),100)}}var rC=(e,{apiClientConstructors:t,batchMethods:s,confirmMiddleware:n,routes:a,rootReducer:r,storeSubscribers:o,selectors:i,enhancers:c,actionSyncers:d},m,{isOnline:_}={},h)=>{const g=new tC(e,{apiClientConstructors:t||{},batchMethods:s||{},isOnline:_}),b=function(){const e=new nC;return e.getUnsyncedData=e._getUnsyncedData.bind(e),e.registerHandler=e._registerHandler.bind(e),e.isUnsyncedDataItemSyncedByRequestHash=e._isUnsyncedDataItemSyncedByRequestHash.bind(e),e}(),I=Object(f.b)()&&window.performance?window.performance:void 0,S=[LT(e.crumb),MT.a.withExtraArgument(g),vT(c(e),{unsyncedDataManager:b,performance:I,selectors:i})];n&&l()(n)&&S.push(n(h,b.getUnsyncedData));const A=function(e,t,s){const n=Object(fr.e)(e,Object(f.b)()?babelHelpers.extends({},t,{unsyncedData:t&&t.unsyncedData?[...t.unsyncedData,qT()]:[qT()]}):t,Object(fr.d)(Object(fr.a)(...s),WT())),a=n.dispatch.bind(n);return n.currentActionType=null,n.dispatch=(e=>{try{n.currentActionType&&pT.a.error("redux_overlapping_dispatch",{curAction:n.currentActionType,action:e.type}),n.currentActionType=e.type;const t=a(e);return n.currentActionType=null,t}catch(t){if(n.currentActionType=null,Object(f.b)()){if(NT(`redux_browser_dispatch_error: ${e.type}`,location.href||t.fileName,t.lineNumber||"",t.columnNumber||"",t),e.type===To.Xj){const{type:t="",csid:s="",uiState:n=null}=e;pT.a.error("redux_browser_dispatch_error",{type:t,csid:s,uiState:n})}}else pT.a.error("redux_server_dispatch_error",{action:e.type,errorMessage:Object(xl.b)(t.message||"")});throw t}}),n}(r,m,S);A.registerUnsyncedDataHandler=b.registerHandler,g.setMailBoxParams(A,i);const{appRootPath:T}=br[e.app]||{},C=T||E.V,O=Object.keys(a).map(e=>({name:e,path:C+a[e].path})),R=Object(ao.z)(O),N={AppBootstrapData:e,store:A,selectors:i,apiClients:g,unsyncedDataManager:b,actionSyncers:d,i13n:GT,logger:vm.a,routesConfig:O,routesInfo:R,getRouteInfo:e=>{const{pathname:t,query:s}=Object(VT.parse)(e),n=R.find(e=>e.pattern.match(t));return n?{name:n.name,params:n.pattern.match(t),query:p.a.parse(s),url:e}:{}},navigateToRoute:Dr.i,launchRoute:BT.c};Object(f.b)()&&((({store:e,selectors:t,AppBootstrapData:s,apiClients:n,i13n:a})=>{e.subscribe(()=>{const r=e.getState(),{isOnline:o,getAction:i,isOriginSearchRoute:c}=t(r);if(!o()||Object(f.b)()&&navigator&&!1===navigator.onLine)return;const l=i();l.i13nModel&&(l.i13nModel.isBeaconEvent?HT.b.sendBeaconEvent(l,e):HT.b.sendI13nModel(l,e,c())),a(r,l,{AppBootstrapData:s,apiClients:n,selectors:t})})})(N),(({store:e,selectors:t,navigateToRoute:s,routesInfo:n,getRouteInfo:a})=>{const{getRoute:r,getRouteUrl:o,getSelectedMailboxId:i,getAccountSelectors:c}=t(e.getState()),l=r(),d=Object(ao.A)(n,a(location.href));i()&&!Object(ao.D)(l,d)&&c().userHasRegisteredAccount()&&history.replaceState(null,null,o()),e.subscribe(()=>{const{getAction:s,getRoute:r,getRouteUrl:o,getAccountSelectors:i}=t(e.getState()),c=s(),l=r(),d=Object(ao.A)(n,a(location.href));switch(c.type){case To.Oe:case To.Re:return void(!Object(ao.D)(l,d)&&i().userHasRegisteredAccount()&&history.replaceState(null,null,o()));default:return void(Object(ao.D)(l,d)||c.popstate||!i().userHasRegisteredAccount()||(c.replaceState?history.replaceState(null,null,o()):history.pushState(null,null,o())))}}),window.addEventListener("popstate",()=>{const{reconcileRoute:r,getRouteUrl:o}=t(e.getState()),i=Object(ao.A)(n,a(location.href));Object(ao.D)(i,r(i,!0))?e.dispatch(s({route:i,popstate:!0})):history.replaceState(null,null,o())})})(N)),o&&o.forEach(e=>{e(N)}),aC(N);const M=(({store:e,selectors:t,getRouteInfo:s,routesInfo:n,AppBootstrapData:a,launchRoute:r,routesConfig:o})=>i=>new Promise((c,l)=>{try{e.subscribe(()=>{const{getAction:s}=t(e.getState()),{type:n,error:a}=s();switch(n){case To.Oe:c();break;case To.Se:l(a)}});let d=Object(ao.A)(n,s(i));d.name===E.Uc.NEW_DRAFT&&!d.params.csid&&a.params&&a.params.csid&&(d=Object(ao.A)(n,Object(ao.e)(a.params.csid),d.query));const m=u()(a,"cookie");e.dispatch(r(babelHelpers.extends({},m,{route:d,routesConfig:o})))}catch(e){l(e)}}))(N);return{store:A,prepareDataForUrl:M,apiClients:g}},oC=s(292),iC=s(644);function cC(e,t,s){const n=function(e,t){return Object(iC.parse)(e)[t]||""}(e,t);if(n){const e=function(e,t){let s="";return e.split("&").forEach(e=>{const[n,a]=e.split("=");n===t&&(s=a)}),s}(n,s);if(e)return e}return""}function lC(){return cC(document.cookie,"Y","l").trim()}var dC=e=>(t,{selectors:s})=>{class n extends Ue.a.Component{constructor(...e){var t;return t=super(...e),this.lastVisited={},t}getChildContext(){return{navigateTo:t=>{let{i13nModel:n,route:a,hashParams:r={}}=t,o=babelHelpers.objectWithoutProperties(t,["i13nModel","route","hashParams"]);const i=Date.now(),{normalizeRoute:c}=s(e.store.getState()),l=c(a),d=babelHelpers.extends({},o,{perfHeader:{requestStart:i},cacheControl:{lastVisited:this.lastVisited[l.url]},route:l,hashParams:r});this.lastVisited[l.url]=i,this.props.navigateToRoute(babelHelpers.extends({i13nModel:n},d))},getUrlFromRoute:t=>{const{normalizeRoute:n}=s(e.store.getState());return n(t).url||""}}}render(){return Ue.a.createElement(t,u()(this.props,"store"))}}n.displayName="RouterProvider",n.childContextTypes={navigateTo:Ve.a.func,getUrlFromRoute:Ve.a.func};return Object(Ir.b)(e=>{const{getRoute:t}=s(e);return{route:t()}},e=>({navigateToRoute:t=>e(Object(Dr.i)(t))}),void 0,{areStatePropsEqual:e=>Boolean(e.route)})(n)},uC=s(645),mC=s.n(uC),pC=pe.a.create("norrin/rum");let _C=!1,hC={},EC={};function gC(e,t={}){const s=HT.b.getRapidInstance();s&&s.beaconPerformanceData(e);let n={};if(e.perf_commontime&&e.perf_commontime.initialPageLoad){let t={};if(window.performance&&window.performance.timing){const{timing:e}=window.performance,{appServerTimings:s}=window;if(t={firstByte:e.responseStart-e.connectEnd,onLoad:e.loadEventStart-e.navigationStart,serverResp:e.responseEnd-e.requestStart,domInt:e.domInteractive-e.navigationStart},Array.isArray(s))for(let e=0;e<s.length;e++){const[n,a]=s[e];t[n]=a}}n=Object.assign(t,e.perf_commontime.initialPageLoad)}e.perf_usertime&&e.perf_usertime.utm&&Object.assign(n,e.perf_usertime.utm),t.additionalLogData&&"object"==typeof t.additionalLogData&&Object.assign(n,t.additionalLogData),Object(S.b)(n)||pC.feature("rum_beacon",n).logSuccess()}function bC(){fC()}function IC(e,t,s){return"common"===e?(hC.perf_commontime||(hC.perf_commontime={}),hC.perf_commontime.initialPageLoad||(hC.perf_commontime.initialPageLoad={}),hC.perf_commontime.initialPageLoad[t]=s,!0):"user"===e&&(hC.perf_usertime||(hC.perf_usertime={}),hC.perf_usertime.utm||(hC.perf_usertime.utm={}),hC.perf_usertime.utm[t]=s,!0)}function fC(){gC({perf_navigationtime:2},{additionalLogData:EC}),hC={},EC={}}function SC(){gC(hC,{additionalLogData:EC}),hC={},EC={}}function AC(e,t,s=!0){const n=window.YAFT,a=window.performance;if(!a||_C)return!1;if(_C=!0,s&&(a&&a.timing&&a.timing.loadEventEnd?fC():window.addEventListener("load",bC,!1)),n){const s={modules:e.modules,modulesExclude:[],canShowVisualReport:e.yaftCanShowVisualReport,maxWaitTime:4e3,generateHAR:!0,useNativeStartRender:!0};let r=0;a.getEntriesByName&&a.getEntriesByName("norrinStartRender").length&&(r=a.getEntriesByName("norrinStartRender")[0].startTime,s.customStartRender=function(){return r}),n.init(s,function(e,s){const n=function(e,t){if(t)return!1;const s=Math.round(e.aft),n=Math.round(e.visuallyComplete),a=Math.round(e.startRender);return s&&(IC("common","AFT",s),IC("common","AFT1",s)),n&&IC("common","VIC",n),a&&IC("common","STR",a),!0}(e,s);t?t():n&&SC()}),r&&n.triggerCustomTiming("norrin_main",r,r)}return!0}const TC=["norrin_"],CC={MESSAGE_LIST:"message_list",COMPOSE_READY:"MTTC",TIME_TO_INTERACTIVE:"MTTI",CLIENT_RENDER_TIME:"app_client_render",CLIENT_HEAD_TO_END:"app_head_end",MESSAGE_SEND:"message_send",MAIL_SEARCH:"search_latency",COMPOSE_SHOW:"compose_show",MESSAGE_READ:"message_read",FOLDER_SWITCH:"folder_switch",[E.Uc.FOLDER]:"folder_switch",[E.Uc.LIST]:"search_latency",[E.Uc.SEARCH]:"search_latency",[E.Uc.EDIT_DRAFT]:"compose_show",[E.Uc.NEW_DRAFT]:"compose_show",[E.Uc.MESSAGE_FROM_FOLDER_LIST]:"message_read",[E.Uc.MESSAGE_FROM_SEARCH_LIST]:"message_read",[E.Uc.MESSAGE_FROM_LIST]:"message_read",[E.Uc.SETTINGS]:"settings",[E.Uc.SPONSORED_MESSAGE]:"message_read",[E.Uc.TUTORIAL]:"tutorial"};let OC=!1;const RC=e=>{if(!e)return;let t=0;const{additionalLogData:s={}}=e;"undefined"!=typeof performance&&performance.now&&(t=s.elapsedTime=Math.floor(performance.now())),s&&function(e){EC=Object.assign({},e)}(babelHelpers.extends({},s,{elapsedTime:t}));const n=Math.round(e.latency?e.latency:Date.now()-e.requestedTime);pC.debug(`UserPerf: ${e.rumMetricKey}:  ${n} : ${JSON.stringify(s)}`),IC("user",e.rumMetricKey,n),SC()},NC=e=>{let t=[];const s=(()=>{let e,t={};return(s,n)=>{const a=[],{getAction:r,getRoute:o,getCursorItem:i,doesStreamExist:c,getSetting:l}=s,d=r()||{},{type:u,csid:m}=d,p=o()||{};if(!e&&p.name&&(e=p),u!==To.Re||OC){if(u===To.ak)a.push({hash:m,rumMetricKey:CC.MESSAGE_SEND,requestedTime:d.actionTimestamp,csid:m});else if(!Object(ao.D)(p,e)&&CC[p.name])e=p,a.push({hash:p.url,rumMetricKey:CC[p.name],requestedTime:d.actionTimestamp,route:p});else if(d.streamId&&c(d.streamId)&&l(E.nd.PREVIEW_PANE)!==E.Gc.NO&&(p.name===E.Uc.FOLDER||p.name===E.Uc.SEARCH||p.name===E.Uc.LIST)){const e=i(d.streamId);!e||e.id===t.id&&e.listId===t.listId||Object(io.q)(e.listId)!==E.Fb.MESSAGES||(a.push({hash:`${e.listId}-${e.id}`,rumMetricKey:CC.MESSAGE_READ,requestedTime:d.actionTimestamp,cursorItem:e}),t=e)}}else{const e=window.performance,t=Date.now(),s=e.now(),r=e.timing.responseStart-e.timing.navigationStart;let o=s;OC=!0,e.getEntriesByName&&e.getEntriesByName("norrinStartRender").length&&(o=e.getEntriesByName("norrinStartRender")[0].startTime),a.push({hash:CC.MESSAGE_LIST,rumMetricKey:CC.MESSAGE_LIST,latency:o},{hash:CC.COMPOSE_READY,rumMetricKey:CC.COMPOSE_READY,latency:s},{hash:CC.TIME_TO_INTERACTIVE,rumMetricKey:CC.TIME_TO_INTERACTIVE,latency:s},{hash:CC.CLIENT_RENDER_TIME,rumMetricKey:CC.CLIENT_RENDER_TIME,latency:t-n},{hash:CC.CLIENT_HEAD_TO_END,rumMetricKey:CC.CLIENT_HEAD_TO_END,latency:s-r})}return a.map(e=>babelHelpers.extends({},e,{requestedActionType:e.requestedActionType||u}))}})();return n=>{const a=Object(ro.b)(n),{getRouteName:r}=a;t=t.concat(s(a,e)),YS()(mC()(t,"requestedTime","desc"),"hash").map(e=>((e,t)=>{const{getAction:s,doesListExist:n,doesMessageGroupIdExist:a,getMessageIdsFromMessageGroupId:r,doesMessageFullBodyExist:o,doesMessageBodyExist:i,getDraftMessageId:c,getListsSelectors:l,doesComposeSessionExist:d,isSent:u,isMessageRoute:m,getSetting:p,getAttachmentCountByMessageId:_,doesMessageIdExist:h,getMessagesSelectors:g,getMessageBodiesSelectors:b,getPages:I}=t,f=s()||{},{type:S}=f,{getListStatus:A}=l(),{getMessageBodiesCount:T}=b(),{getMessagesCount:C}=g(),{params:O={}}=e.route||{};switch(e.rumMetricKey){case CC.COMPOSE_SHOW:{const{csid:t}=O;if(!t)return e;const s=c(t);return s?o(s)?babelHelpers.extends({},e,{additionalLogData:{isCached:e.requestedActionType===S},requestCompleted:!0}):e:babelHelpers.extends({},e,{additionalLogData:{isCached:e.requestedActionType===S},requestCompleted:!0})}case CC.FOLDER_SWITCH:case CC.MAIL_SEARCH:{const t=Object(io.t)(e.route);return n(t)&&A(t)===E.Rc.LOADED?babelHelpers.extends({},e,{additionalLogData:{metaDataCount:C(),GSBCount:T(),pageCount:I().length,isCached:e.requestedActionType===S},requestCompleted:!0}):e}case CC.MESSAGE_READ:{let{groupId:t}=O;const{cursorItem:s}=e,n=!m()&&p(E.nd.PREVIEW_PANE)!==E.Gc.NO;if(!t&&s&&(t=s.id),!a(t))return e;const o=r(t)||[];return o.some(e=>i(e))?babelHelpers.extends({},e,{additionalLogData:{metaDataCount:C(),GSBCount:T(),pageCount:I().length,numberOfMessages:o.length,previewPane:n,isCached:e.requestedActionType===S},requestCompleted:!0}):e}case CC.MESSAGE_SEND:if(!d(e.csid)||u(e.csid)){const{id:t}=f.message||{},s=h(t)&&_(t)||0;return babelHelpers.extends({},e,{additionalLogData:{isCached:e.requestedActionType===S,sendMethod:S,attachmentCount:s},requestCompleted:!0})}return e;case CC[E.Uc.SETTINGS]:case CC[E.Uc.TUTORIAL]:return babelHelpers.extends({},e,{additionalLogData:{isCached:e.requestedActionType===S},requestCompleted:!0})}return e})(e,a)).filter(e=>e.requestCompleted||e.latency).map(e=>{t=t.filter(t=>t.rumMetricKey!==e.rumMetricKey);const s=Date.now();window.requestAnimationFrame(()=>{e.additionalLogData=Object.assign({},e.additionalLogData||{},{renderFrameTime:Math.round(Date.now()-s),actionType:e.requestedActionType,routeName:r()}),RC(e)})})}};var MC=(e,t={})=>window.performance?(AC({yaftCanShowVisualReport:t.isInternalIP,modules:TC}),{recordRUM:NC(e)}):{recordRUM:()=>{}};const DC={TEST:"/sw_test.js",PROD:"/sw.js"};let yC=null;function LC(e,t){if(!e)return;return e.postMessage({type:"cache-config",data:t||[]})}function vC(e){"sw-caching-active"===e.data.type&&yC&&PC(yC)}function PC(e){if(window.navigator.serviceWorker)if(navigator.serviceWorker.addEventListener("message",vC.bind(this)),navigator.serviceWorker.controller)LC(navigator.serviceWorker.controller,e);else if(function(e){return Array.isArray(e)&&e.length>0}(e)){const t=window.AppBootstrapData&&("alpha"===window.AppBootstrapData.environment||"beta"===window.AppBootstrapData.environment);navigator.serviceWorker.register(t?DC.TEST:DC.PROD).then(t=>{LC(t.active,e)}).catch(e=>(console.log("SW register error",e),Promise.reject(e)))}}function FC(e){window.navigator.serviceWorker&&(yC=function(e){const t=Object(ro.b)(e.getState());return t.getSetting(E.mb.SERVICE_WORKER_CACHING)?t.getSetting(E.nd.SERVICE_WORKER_CACHE_CONFIG):null}(e),"complete"===document.readyState?PC(yC):window.addEventListener("load",()=>PC(yC)))}t.default=function(e){window.onerror=NT,window.YAHOO.i13n.WEBWORKER_FILE=E.Nc,window.initialScrambledLogin=lC(),function(){window.navigator&&window.navigator.sendBeacon?(window.navigator._sendBeacon=window.navigator.sendBeacon,window.navigator.sendBeacon=function(){try{return window.navigator._sendBeacon.apply(this,arguments)}catch(e){const t=new bT.a(e);return pT.a.error("navigator.sendBeacon_exception",{url:arguments[0]||"",name:e.name||"",message:Object(xl.b)(e.message||""),stack:t.toString()}),!1}}):pT.a.error("navigator.sendBeacon_exception",{message:"navigator.sendBeacon is not supported"})}();const{AppState:t={},AppBootstrapData:s,ReactIntlLocaleData:n,BrowserLoggerParams:a,LaunchErrorObj:r={}}=window,{fluxibleState:o,reduxState:i}=t,c=s&&s.config||o.context.plugins.MailFluxibleContextPlugin.config;let l=location.pathname;const d=location.search,u=new RegExp(`^(${E.Wd})/test`),m=u.test(l);m||function(e){const{timeout:t,interval:s,limit:n}=e.loggerSettings;pe.a.set(a),"debug"===e.logLevel&&pe.a.read(gT()()),pe.a.read(hT()({endpoint:e.endpoint,interval:s,timeout:t,limit:n})),pe.a.level(e.logLevel||"error")}(babelHelpers.extends({},c,{endpoint:s.appId===E.le?E.Tb:E.U})),"object"==typeof n&&Object.keys(n).forEach(e=>Object(Sr.g)(n[e]));const p=mT(e),_=s.route?"launch_"+s.route.toLowerCase():"unknown",h=vm.a.feature(_,{ssr:!!o}),I=()=>{if(!window.context)return()=>!0;const{getOnlineSelectors:t}=e.selectors(window.context.store.getState()),{isOnline:s}=t();return s()},A=Object(Ps.g)(e);function T(t,n){const{recordRUM:a}=MC(Date.now(),{isInternalIP:s.internal});if(!n.store){const t=rC(s,e,i,{isOnline:I},n);n.store=t.store,n.apiClients=t.apiClients}if(t)return void C(n,t);window.context=n,FC(n.store);const r=dC(n.getComponentContext());e.render=(t=>{const o=r((t||e).component,e);n.store.subscribe(()=>{const t=n.store.getState(),{getAction:s}=e.selectors(t),r=s();!function(){if(!Object(f.b)())return;const e=window.initialScrambledLogin,t=lC();if(e&&t&&e!==t){const s={reason:b.f.DIFFERENT_USER,statusCode:401,errorCode:"AUTH",refresh:!0,originalLogin:e,currentLogin:t},n=vm.a.feature("error_handler",s),a=new g.a(b.b,s);n.logFailure(a)}}();const o=r.error||r.err||null;if(o)switch(o.name){case b.d:return Object(f.e)({partner:n.partner||"",reason:"missing_crumb"});case b.c:return Object(f.e)({partner:n.partner||"",reason:"invalid_crumb"});case b.b:if(o.getDataByName("refresh",!1))return Object(f.e)({partner:n.partner||"",reason:"invalid_cred"})}a(t)});try{Ge.a.render(Ue.a.createElement(lT.AppContainer,null,Ue.a.createElement(Sr.f,window.AppIntl,Ue.a.createElement(pS.FluxibleComponent,{context:n.getComponentContext()},Ue.a.createElement(o,{store:n.store})))),document.getElementById(A));const t=document.getElementById("mail-search");if(c.ybar&&t){const s=e.searchComponent?r(e.searchComponent,e):null;Ge.a.render(Ue.a.createElement(lT.AppContainer,null,Ue.a.createElement(Sr.f,window.AppIntl,Ue.a.createElement(pS.FluxibleComponent,{context:n.getComponentContext()},s?Ue.a.createElement(s,{store:n.store}):null))),t)}h.logSuccessAndLatency()}catch(e){pT.a.error("rendering_app_error",{timezone:s.timezone.name,locale:s.locale}),NT("Rendering App error",e.fileName||location.href,e.lineNumber||"",e.column||"",e)}}),window.setTimeout(e.render,10)}function C(e,t=null){const n=!!t;t=t||r,window.context=e,Ge.a.render(Ue.a.createElement(Sr.f,window.AppIntl,Ue.a.createElement(pS.FluxibleComponent,{context:e.getComponentContext()},Ue.a.createElement(oC.a,{appName:s.appName,error:t,hideLogo:n,crumb:s.crumb,isRTL:s.config.rtl}))),document.getElementById(A))}if(o)p.rehydrate(o,T);else if(s){m&&(pe.a.disable(),l=l.replace(u,(e,t)=>t),history.replaceState(null,null,l+d));const t=p.createContext(function(){return{loginHash:s.loginHash,mailWssid:s.mailWssid,crumb:s.crumb,signoutCrumb:s.signoutCrumb,guid:s.guid,timezone:s.timezone,region:s.region,config:c,os:s.os,userName:s.userName,queryStringOverrides:s.queryStringOverrides,__initializeFeatures__:s.__initializeFeatures__,csid:Object(Ps.f)(),localeData:s.localeData,cspToken:s.cspToken,encryptedQueryParams:s.encryptedQueryParams,mailboxAttributes:s.mailboxAttributes,mailBrandNameString:s.mailBrandNameString,yahooBrandNameString:s.yahooBrandNameString}}()),{prepareDataForUrl:n,store:a,apiClients:o}=rC(s,e,i,{isOnline:I},t);t.store=a,t.apiClients=o,Object(S.b)(r)?n(l+d).then(()=>T(void 0,t)).catch(e=>C(t,e)):C(t)}}(cT)}]);